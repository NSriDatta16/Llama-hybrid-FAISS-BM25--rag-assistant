[site]: crossvalidated
[post_id]: 526364
[parent_id]: 
[tags]: 
AB test with interaction between observations in the two groups

Suppose I am the owner of an e-commerce store. I'd like to design an AB test to measure the average effect of discounts on sales. I am not able split user traffic so that two users see different discounts for the same product. But I can randomly split the products into two groups and apply different discounts to the two groups. The problem with the latter approach, I believe, is that I am likely overestimating the effect of discount on sales. By splitting the products into discount groups A and B (say, A with 10% and B with 20%), it's not possible to say that the average effect of a 1% discount increase is $\frac{Sales_B - Sales_A}{Discount_B - Discount_A}$ because there are people who would have bought from group A instead of B had both groups had the same discount. Put differently, some people would have preferred group A products if they were as cheap as group B. Is there a way to control for this bias? What's the actual name of it? I understand that the observations are not IID, since some products can interfere with the sales of other products. Could you point me to some other areas where such a problem might appear?
