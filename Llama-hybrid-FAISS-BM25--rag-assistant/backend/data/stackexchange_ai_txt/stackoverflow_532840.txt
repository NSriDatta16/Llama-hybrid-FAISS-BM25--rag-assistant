[site]: stackoverflow
[post_id]: 532840
[parent_id]: 532702
[tags]: 
You might try using a simple cast to get your RGB data, and just recompute the grayscale data: #pragma pack(1) typedef unsigned char bw_t; typedef struct { unsigned char blue; unsigned char green; unsigned char red; } rgb_t; #pragma pack(pop) rgb_t *imageRGB = (rgb_t*)pImage; bw_t *imageBW = (bw_t*)calloc(640*480, sizeof(bw_t)); // RGB(X,Y) = imageRGB[Y*480 + X] // BW(X,Y) = imageBW[Y*480 + X] for (int y = 0; y
