[site]: crossvalidated
[post_id]: 415575
[parent_id]: 415571
[tags]: 
It's important to answer the question "why are we using matching in this study?" There are lots of good reasons to use matching, but wanting to estimate the ATE isn't one of them. Most matching methods create a cohort that is excellent for estimating the effect of exposure but whose covariate distribution is no longer identical to the source population. That is, the matching methods drop or down-weight regions of poor common support in the covariate space. If you really want to estimate the ATE in this setting, consider just fitting a regression model on the source population (possibly using a relaxed lasso to help with the numerous sparse binary variables) and then use the model to estimate your ATE. You can use the model to calculate the predicted the outcomes for everyone in the source population (once under treatment and once under control). You now have predicted (Y0, Y1) pairs for everyone, and calculating the ATE is straightforward. The estimate will only be as good as the model. For example, you may have to assume additive effects for the binary variables that are being estimated largely from one of the exposures alone. You may be doing extensive extrapolation into regions where there is little common support. That depends on your particular dataset. One question to ask is "how important is it to estimate the ATE for this study?" Are you really interested in the average effect over the source population or are you more interested in a persuasive study design that yields a robust estimate of the treatment effect over a well defined study population? If it's the latter, the matching methods can be helpful.
