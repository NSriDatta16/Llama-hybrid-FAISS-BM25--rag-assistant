[site]: stackoverflow
[post_id]: 576509
[parent_id]: 
[tags]: 
TypeConverter/InstanceDescriptor failing when ASP.NET project with my user control is compiled/run

I am having problem with TypeConverter/InstanceDescriptor. I have a class called MyClass public class MyClass { private ICollection _colors; public MyClass(ICollection colors) { _colors = colors; } public MyClass(string colors) { if("MyColors".equals(colors)) { . . . } } . . . } MyUserControl has property MyProperty of type MyClass. Now, when i drag and drop this property, and change its value so that xml code is generated. Now, i compile and end up with this error "Object reference not set to an instance of an object" public static ColorGenerator FromString(object value) { TypeConverter tc = TypeDescriptor.GetConverter(typeof(MyClass)); if (tc.CanConvertFrom(typeof(string))) return tc.ConvertFrom(null, null, value) as MyClass; else return null; } . . . if(destinationType == typeof(InstanceDescriptor)) { MethodInfo mi = typeof(MyTypeConverter).GetMethod("FromString", BindingFlags.Public | BindingFlags.Static, null, new Type[] { typeof(string) }, null); return new InstanceDescriptor(mi, new object[] { "MyColors" }, true); } . . . If my logic is as follows, then i end up with "Unable to generate code for a value of type 'MyNamespace.MyClass'. This error occurred while trying to generate the property value for MyClass." error when compiled. . . . if(destinationType == typeof(InstanceDescriptor)) { ConstructorInfo ci = typeof(MyClass).GetConstructor(new Type[] { typeof(string) }); InstanceDescriptor descriptor = new InstanceDescriptor(ci, new object[] { "LightColors" }); return descriptor; } . . . Can anyone please explain to me what these errors mean, and why they are happening? Thanks a million in advance, Anony.
