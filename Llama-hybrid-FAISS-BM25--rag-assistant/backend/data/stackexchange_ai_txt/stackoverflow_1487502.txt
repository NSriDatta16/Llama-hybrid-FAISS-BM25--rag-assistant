[site]: stackoverflow
[post_id]: 1487502
[parent_id]: 1487446
[tags]: 
To start with, you can (and should) use JOIN instead of doing it in the WHERE clause, e.g., select Agents.aid from Agents join Orders on Agents.aid = Orders.aid join Customers on Customers.cid = Orders.cid where Customers.city = 'Duluth' group by Agents.aid having count(Agents.aid) > 1 After that, I'm afraid I might be a little lost. Using the table names in your example query, what (in English, not pseudocode) are you trying to retrieve? For example, I think your sample query is retrieving the PK for all Agents that have been involved in at least 2 Orders involving Customers in Duluth. Also, some table definitions for Agents , Orders , and Customers might help (then again, they might be irrelevant).
