[site]: crossvalidated
[post_id]: 613790
[parent_id]: 
[tags]: 
bootstrap best practice in AB testing

I want to compare a percentile metric for control vs treatment. Using bootstrap, I see two ways of doing so and wonder which one makes more sense. Approach 1 : Every time: Bootstrap the control group and get the percentile, Bootstrap the treatment group and get the percentile Compute the difference. Repeat B times to get the differences and get the CI. Approach 2 : Bootstrap the control B times, get the average and variance of the metric Bootstrap the treatment B times, get the average and variance of the metric Compute the difference and its variance, assuming they are independent. Below is a simulation code in R. The 2nd approach has narrower CI, but requires normal assumption. A ```
