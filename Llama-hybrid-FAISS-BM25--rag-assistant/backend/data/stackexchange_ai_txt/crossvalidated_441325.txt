[site]: crossvalidated
[post_id]: 441325
[parent_id]: 439450
[tags]: 
I know nothing of SAS, but if you are using Minitab to try and analyze this dataset, the first thing to note is that Batch is not a covariate according to Minitab's definition (a covariate is a continuous variable). Batch is a factor. In addition, Batch will be nested within Whole Plots. I've given some code below that should generate the design with some simulated (fake) data, along with the analysis using Minitab 18's General Linear Model tool, which I assume you're using. See if that helps you to understand how to structure things. If you're not used to using session commands, let me know and I'll put more description around using the GUI. I disagree with kjetil regarding whether the 5 cookies should be considered pseudoreplicates. I think they are pseudoreplicates. Before going any further I do want to acknowledge that this gets complicated real quick because of the 5-cookies-to-5-different-people, so it's certainly an easy mistake to make. I'm pretty sure I'm correct, as I'll explain below, but I'm certainly open to arguments the other way. Now, on to the issue of pseudoreplication. Because the five cookies were produced by the same process at the same time, any variations in the process steps will be common to those five cookies (actually to all 15 cookies that are baked together). Let's say that the oven lost power for a short period of time while it was baking batch #4. The variation would be common to all 5 cookies, and so they are not independent of each other. Those cookies baked together do not capture the batch-to-batch variation, which would be required to consider the cookies independent. The only way to make them independent would be to bake each individual cookie by itself. That's why I see them as pseudoreplicates. What about the fact that each cookie is given to a different person? To me the only thing that makes sense is to consider that as simply part of the measurement noise, and it's just rolled into the uncertainty around your estimates (e.g. the confidence interval widths). For anyone reading this that doesn't have access to Minitab, the table of factors and response should look like this, except that I can't get the headers to line up with the columns: WP SugarHTC Day AvgResponse 1 0.5 1 3.71173 1 0.5 2 6.25209 1 0.5 3 3.81954 2 1.0 1 4.58830 2 1.0 2 5.13217 2 1.0 3 5.15029 3 2.0 1 4.78808 3 2.0 2 6.75095 3 2.0 3 4.19827 4 0.5 1 5.76470 4 0.5 2 4.94079 4 0.5 3 5.97733 5 1.0 1 7.28974 5 1.0 2 3.73834 5 1.0 3 4.80945 6 2.0 1 5.29424 6 2.0 2 6.84974 6 2.0 3 4.09316 7 0.5 1 6.11799 7 0.5 2 3.77689 7 0.5 3 4.33160 8 1.0 1 4.17665 8 1.0 2 3.73358 8 1.0 3 6.10543 9 2.0 1 4.61165 9 2.0 2 5.01459 9 2.0 3 6.66854 Also, you could analyze the raw data, assuming you get the multilevel structure correct, but as long as the number of cookies in that lowest level (the groups of five) is identical for each treatment condition, then you can use the averages and the results of the analysis will be the same. Stephen Senn recently covered this tangentially in this article: Now consider a second equivalent analysis of this. This just uses the average at baseline and outcome per hall. In other words, it is based on 20 pairs of values (baseline and outcome) not 200. This analysis produces the table in Figure 2. Note that the result is exactly as before, showing the irrelevance of the variances and covariances within halls. That is to say, that although the mean squares change, because now based on averages of 10 students per hall, the ratio of the term for treatment to its residual is the same and so are all inferences. The equivalence of summary measure approaches to more complex models for certain balanced cases is well known (Senn, S. J. et al., 2000). https://errorstatistics.com/2018/11/22/stephen-senn-on-the-level-why-block-structure-matters-and-its-relevance-to-lords-paradox-guest-post/ Here is the code for running Minitab's session commands: name c1 "WP" c2 "SugarHTC" c3 "Day" c4 "AvgResponse" Set 'WP' 1( 1 : 9 / 1 )3 End. Set 'SugarHTC' 3( 0.5 1 2 )3 End. Set 'Day' 9( 1 2 3 )1 End. Random 27 'AvgResponse'; Normal 5 1.0. GLM; Response 'AvgResponse'; Nodefault; Categorical 'WP' 'SugarHTC' 'Day'; Nest 'WP'('SugarHTC'); Random 'WP'; Terms 'WP' 'SugarHTC' 'Day' 'SugarHTC'*'Day'; TMethod; TAnova; TSummary; TCoefficients; TEquation; TFactor; TEMS; TVariance; TDiagnostics 0; GFOURPACK. One final thing to consider is the distribution of the response (at each treatment condition). Both the raw data and the averages will be bounded between the upper and lower limits of the scale used for the ratings, and that could introduce problems with assuming Normality for the analysis. For cookies made at the normal sugar level, on Day 1, are they almost all at the highest rating, or at least very close to it? Or for 2x sugar and 3 days later, are they all near the bottom of the ratings? If so, you might have issues with floor and ceiling effects. If that's the case, I'd recommend opening a new Question to elicit responses from others who are more familiar with how to deal with that and give advice specific to your situation.
