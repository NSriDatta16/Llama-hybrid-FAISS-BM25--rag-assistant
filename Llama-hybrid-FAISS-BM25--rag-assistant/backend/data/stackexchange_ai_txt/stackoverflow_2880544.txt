[site]: stackoverflow
[post_id]: 2880544
[parent_id]: 2879874
[tags]: 
Could be done but not in easy way (according to my poor knowledge). Solution I would analyze further: Detect Gateway - 2 possibilities (all off them related with data sniffing): capture DHCP offer packets and retrieve gateway look for packet which is addressed to outer network (e.g. do arp request on each target IP address - if no answer you have probable mac address of the default gateway - you need to find IP address of this gateway (analyze arp packets, all packets, etc..) one you have ip address do a arp requests and find you free ip. sniffing library I think is libpcap or winpcap. Never done even something similiar but If I wouldn't find any references on google I would go this way I think.
