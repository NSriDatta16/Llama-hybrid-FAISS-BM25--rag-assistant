[site]: crossvalidated
[post_id]: 79575
[parent_id]: 79216
[tags]: 
While your approach is not problematic per se, the problem of (non-)positive definite matrices of (linear) functions of autocorrelated time series has been recognized as a small sample problem, and a solution was offered by econometricians Newey and West (1987) : the contributions of the distant lags should be downweighted. They proposed the weights (kernel function) $$ w_l = 1 - \frac{l}{L+1} $$ for the $l$-th, out of $L$, lags. Other forms of the kernels were proposed later, as well.
