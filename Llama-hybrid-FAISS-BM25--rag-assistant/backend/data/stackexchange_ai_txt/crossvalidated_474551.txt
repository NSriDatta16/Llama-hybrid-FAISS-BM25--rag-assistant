[site]: crossvalidated
[post_id]: 474551
[parent_id]: 474391
[tags]: 
Ordinarily, this would be an addendum to my previous answer. However, it is as much about my discussion in Comments with @Glen_b as it is about OP's Question. A discussion about the robustness of t tests against some kinds of non-normal data often begins by looking at normal probability plots and investigating loss of power for various non-normal distributional shapes. (See, recent editions of Ott & Longnecker: Intro. to Stat. Methods and Data Analysis, Ch 5, for one such approach.) Other accounts say that the CLT may make sample means nearly normal and normality of the data overall may not be so important. Some of these include bogus statements about 20 or 30 observations being some sort of magic guarantee that a t test will be robust. Seldom mentioned is @Glen-b's point that $\bar X$ and $S$ need to be independent in order for the t statistic to have a Student's t distribution. If one is to complain about careless promises of robustness, it seems a good idea to have at least one specific problematic case in mind. An exponential sample of size above 30 seemed a likely candidate, so that is were I begin. Perhaps the first concrete warning sign is that, for such samples, t tests at the intended 5% level do not actually have significance level 5%. More like 7%. set.seed(1234) pv=replicate(10^5, t.test(rexp(35),mu=1)$p.val) mean(pv Consider, specifically, this sample y of size $n=35$ with $\bar Y = 0.968$ from $\mathsf{Exp}(1).$ set.seed(1235) y = rexp(35) mean(y) [1] 0.9675814 Multiple t statistics, intended to test $H_0: \mu=1$ vs. $H_1:\mu\ne 1,$ can be simulated by re-sampling from y as follows: set.seed(1236) m = 10^5; t = numeric(m) for(i in 1:m) { y.re = sample(y,35,rep=T) t[i] = (mean(y.re)-mean(y))*sqrt(35)/sd(y.re) } summary(t) Min. 1st Qu. Median Mean 3rd Qu. Max. -10.02747 -0.89537 -0.07087 -0.27109 0.57515 3.10906 The distribution of these values t is not distributed as $\mathsf{T}(\nu=35).$ The histogram does match the appropriate t density, and the ECDF of the first 5000 values does not match the appropriate CDF. And a Kolmogorov-Smirnov test on the first 5000 t s strongly rejects $\mathsf{T}(\nu=35)$ as the correct distribution of the purported t statistics. ks.test(tt, "pt", 34) One-sample Kolmogorov-Smirnov test data: tt D = 0.071059, p-value The averages $\bar Y$ of samples of size 35 from $\mathsf{Exp}(1)$ are distributed as $\mathsf{Gamma}(35,35)$ (blue density), not exactly normal (red dots). More seriously, the sample means and standard deviations are not independent, so 't statistics' cannot have a t distribution. (In particular for $X_i > 0,$ one has $\bar Y \ge S/\sqrt{n},$ so no point can lie above the line $S = \sqrt{n}\,\bar Y.)$ set.seed(1237); m = 50000; n = 35 v = rexp(m*n); DAT = matrix(v, nrow=m) a = rowMeans(DAT); s = apply(DAT, 1, sd) par(mfrow=c(1,2)) hdr="Averages of Exponential Sample Not Normal" hist(a, prob=T, col="skyblue2", main=hdr) curve(dgamma(x,35,35), add=T, col="blue", lwd=2) curve(dnorm(x,mean(a),sd(a)), add=T, col="red", lty="dotted", lwd=2) hdr="Averages and SDs of Exp Samples Not Indep" plot(a,s, pch=".",main=hdr) par(mfrow=c(1,1)) Note: An exact test for means of exponential samples, based on $\mathsf{Gamma}(\mathrm{shape}=35, \mathrm{rate}=35),$ is available.
