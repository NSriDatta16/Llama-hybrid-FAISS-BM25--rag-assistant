[site]: stackoverflow
[post_id]: 4710989
[parent_id]: 4710822
[tags]: 
struct { size_t length; size_t stride; double *data; } upper = { { sizeof(layer1) / sizeof(layer1[0]), sizeof(layer1[0]) / sizeof(layer1[0][0]), (double *)layer1, }, { sizeof(layer2) / sizeof(layer2[0]), sizeof(layer2[0]) / sizeof(layer2[0][0]), (double *)layer2, }, }; int i, j, k; for (i = 0; i You have to realize that multi-dimensional arrays in C are just row-major packed into linear piece of storage. The actual dimensions are only known by the types at compile-time: they're not anywhere to be found in data at runtime.
