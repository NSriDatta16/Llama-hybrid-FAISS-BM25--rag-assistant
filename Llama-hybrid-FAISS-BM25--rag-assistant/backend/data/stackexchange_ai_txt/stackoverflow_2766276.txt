[site]: stackoverflow
[post_id]: 2766276
[parent_id]: 2765486
[tags]: 
Embedding a number in PDF is not exactly kosher, but there are some things that you can do that will honor the spec. The current PDF spec says that "The last line of the file shall contain only the end-of-file marker %%EOF but there is some wiggle room - the implementation details say that it doesn't technically have to be the last line of the file, but only has to appear in the last 1K and, generally speaking, if you don't muck with things too much, most compliant readers won't even blink. If I had to do this, I would be inclined to add a newline (if there isn't one), then a % (which is a PDF comment), a marker to let me know it's mine, and finally the number. So something like: // assume we already know it ends with %%EOF void AppendNumberToPdf(Stream stm, int number, bool addNewline) { stm.Seek(0, SeekOrigin.End); // go to EOF StreamWriter writer = new StreamWriter(stm, new ASCIIEncoding(), 1024); writer.WriteLine(string.Format("{0}% {1} {2}", (addNewLine ? "\n" : ""), kMyMarkerString, number)); writer.Flush(); } kMyMarkerString should be something like "MyApplicationDocumentIdentifier:" or some such thing that will make it easy to identify your tracks.
