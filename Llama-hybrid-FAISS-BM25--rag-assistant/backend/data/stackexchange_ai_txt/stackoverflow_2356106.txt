[site]: stackoverflow
[post_id]: 2356106
[parent_id]: 2341500
[tags]: 
To do this you need get the HTML of each paragraph ( node.html() ) and then replace all of the HTML tags with the same number of spaces. This should be fairly straightfoward and as you can just look for opening angled brackets and the first closing bracket. You need to do this firstly to prevent any full stops and words inside the tag from confusing the rest of the algorithm, but also to prevent a tag itself being counted as a word. Split the text based on a full stop followed by nothing or any amount of whitespace to get your sentences. You need to perform this split manually using a matching regular expression so you can keep track of the start and end positions of the sentence in the original string. Next split each sentence on whitespace and remove any 'words' from the array which just consist of whitespace. This gives you the length of the sentence. If it's over your limit then insert the appropriate HTML at the start and end positions of the sentence in your original HTML string. You'll need to keep track of how much extra HTML you've added so you can find find the right start and end positions of subsequent long sentences.
