[site]: stackoverflow
[post_id]: 5040178
[parent_id]: 
[tags]: 
Mixing NSThreads and NSTimer to update a view

I want to make an app to make appear and disappear circles on screen. Circles are enlarged on TouchesBegan and smaller on touchesEnd. I'm able to do it on ONE circle but i want to do that everywhere the user touch the screen. I know i have to work with NSThreads, but my example don't work. This is a piece of my code: - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event { UITouch *touch = [touches anyObject]; lastPoint = [touch locationInView:self.view]; zoomIn = TRUE; rayonCercle = 25; //Creation d'un thread timerThread = [[NSThread alloc] initWithTarget:self selector:@selector(cycle) object:nil]; [timerThread start]; if ([touch tapCount] == 1) { NSLog(@"une touche"); } if ([touch tapCount] == 2) { drawImage.image = nil; return; } } - (void) cycle { NSLog(@"cycle"); NSAutoreleasePool* pool = [[NSAutoreleasePool alloc] init]; NSRunLoop* runLoop = [NSRunLoop currentRunLoop]; time = [NSTimer scheduledTimerWithTimeInterval: 0.1 target: self selector: @selector(drawCircle:) userInfo: nil repeats: YES]; [runLoop run]; [pool release]; } - (void) drawCircle:(NSTimer *)timer { NSLog(@"drawCircle"); UIGraphicsBeginImageContext(self.view.frame.size); [drawImage.image drawInRect:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)]; CGGradientRef myGradient; CGColorSpaceRef myColorSpace; size_t locationCount = 3; CGFloat locationList[] = {0.0, 0.5, 1.0}; CGFloat colorList[] = { 1.0, 0.0, 0.5, 1.0, //red, green, blue, alpha 1.0, 0.0, 1.0, 1.0, 0.3, 0.5, 1.0, 1.0 }; myColorSpace = CGColorSpaceCreateDeviceRGB(); myGradient = CGGradientCreateWithColorComponents(myColorSpace, colorList, locationList, locationCount); CGContextDrawRadialGradient(UIGraphicsGetCurrentContext(), myGradient, lastPoint, 0, lastPoint,rayonCercle, 0); drawImage.image = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); if (rayonCercle
