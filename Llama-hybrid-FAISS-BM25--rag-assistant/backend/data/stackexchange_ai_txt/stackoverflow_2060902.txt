[site]: stackoverflow
[post_id]: 2060902
[parent_id]: 2060861
[tags]: 
I also experienced a lot of problems while trying to follow TDD in a legacy code. This is one reason why it is often better to write the test before you write the code that you are testing. If you write your code and then afterwards try to test it, you may find that you need to redesign or completely rewrite your class to make it easier to test. If you write your test first, you encourage yourself to write a clean, testable interface to your classes.
