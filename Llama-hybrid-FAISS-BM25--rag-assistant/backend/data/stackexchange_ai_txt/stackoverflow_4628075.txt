[site]: stackoverflow
[post_id]: 4628075
[parent_id]: 4627945
[tags]: 
There are 2 bugs: First: RewriteCond %{HTTP_USER_AGENT} ^Test Agent/(.*)$ You need to escape the space and forward slash in your regular expression pattern. RewriteCond %{HTTP_USER_AGENT} ^Test\ Agent\/(.*)$ Second: RewriteRule ^(.*)$ https://test.domain.com/$1 [L,302] 302 is a redirect HTTP status code, but you didn't specify that you are redirecting. RewriteRule ^(.*)$ https://test.domain.com/$1 [L,R=302]
