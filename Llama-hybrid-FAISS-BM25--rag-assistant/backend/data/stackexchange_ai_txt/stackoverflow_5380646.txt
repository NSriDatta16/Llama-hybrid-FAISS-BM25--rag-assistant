[site]: stackoverflow
[post_id]: 5380646
[parent_id]: 
[tags]: 
Set DataMapper :order parameters from querystring params

As I'm not yet fluent in Ruby, I'm having struggling to construct an elegant solution for sorting in my Rails3/DataMapper project. The DataMapper examples show how to use symbols with asc or desc parameters to order restuls. For example: Document.all(:order => [:created_at.desc]) What would be the best way to convert params[:sort] and params[:direction] to an acceptable format for DataMapper? For lack of a better idea, this is what I have so far: sort_order = (params[:sort] || 'created_at').to_sym sort_obj = params[:sort_dir] == 'desc' ? sort_order.desc : sort_order.asc Document.all(:order => [sort_obj]) It works, but feels clunky. I'm certainly doing something wrong.
