[site]: stackoverflow
[post_id]: 5576135
[parent_id]: 5575900
[tags]: 
You need to initialize the class variable. class MyObject @@internal_hash = {} def self.[]=(key, value) @@internal_hash[key] = value end end This is for two reasons. Instance variables can be used without initialization, but class variables cannot. Programming Ruby :Class Variables and Class Methods:Class Variables:1st paragraph Even if a class variable was able to be used without initialization, it would be implicitly initialized to nil , and you cannot suddenly use the Hash#[] method.
