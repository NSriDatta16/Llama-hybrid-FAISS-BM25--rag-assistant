[site]: stackoverflow
[post_id]: 733352
[parent_id]: 692614
[tags]: 
Try this: SELECT jokedata.id as joke_id, jokedata.datesubmitted as datesubmitted, jokedata.joketitle as joke_title, COALESCE( ( SELECT AVG(rating) FROM ratings WHERE ratings.relative_id = jokedata.id AND ratings.content_type = 'joke' ), 0) AS average FROM jokedata ORDER BY average DESC LIMIE $offset, $jokes_per_page
