[site]: stackoverflow
[post_id]: 970669
[parent_id]: 
[tags]: 
How to swap Mercurial Queues in and out of a repository

I have a platform neutral mercurial code repo called "Simulator" and want to apply patches that target specific platform's optimizations before a build. According to the guide we can accomplish this by the use of patches with guards. Windows Experimental.patch +windows Unix Experimental.patch +unix Mac Experimental.patch +mac However its starting to get cumbersome because our patch queue contains 100+ patches named like windows-memory-optimization.patch +windows, unix-memory-optimization.patch +unix, windows-io-experimental-bug-fix.patch +windows, etc etc. We organized it as groups in the series file, but the file is getting huge and using qseries / qapplied is getting unmanageable Instead we would like to have a queue for windows, unix and mac. So that patches can be organized as: Windows Patch Stack: memory-opt.patch, io-opt.patch, etc Unix Patch Stack: disk.patch, graphics.patch, etc Mac Patch Stack: io-fix.patch, io-opt.patch, experimental.patch, etc Then swap the patch stacks for each platform in and out of the simulator repo. So that I can work on the windows patch stack and pop/push various subsystem optimization patches and work on them independently of the unix or mac patch stacks. It does not look like I can do that, other than making 3 different repos specific to the each platform and maintaining the patch stacks that way. Is there a way to, other than manually copying the .hg/patches directory in and out of the repo, to accomplish "swapping" patch stacks?
