[site]: stackoverflow
[post_id]: 4725245
[parent_id]: 
[tags]: 
Optimizing a troublesome query

I'm generating a PDF, via php from 2 mysql tables, that contains a table. On larger tables the script is eating up a lot of memory and is starting to become a problem. My first table contains "inspections." There are many rows per day. This has a many to one relationship with the user table. Table "inspections" id area inpsection_date inpsection_agent_1 inpsection_agent_2 inpsection_agent_3 id (int) area (varchar) - is one of 8 "areas" ie: Concrete, Soils, Earthwork inspection_date (int) - unix timestamp inspection_agent_1 (int) - a user id inspection_agent_2 (int) - a user id inspection_agent_3 (int) - a user id Second table is the user's info. All I need is to join the name to the "inspection_agents_x" id name The final table, that is going to be in the PDF, needs to organize the data by: by day by user, find every "area" that the user "inspected" on that day Concrete Soils Earthwork 1/18/2011 Jon Doe X Jane Doe X X And so on for each day. Right now I'm just doing a simple join on the names and then organizing everything on the code end. I know I'm leaving a lot on the table as far as the queries go, I just can't think of way to do it. Thanks for any and all help.
