[site]: stackoverflow
[post_id]: 4799225
[parent_id]: 
[tags]: 
Rotating the Canvas impacts TouchEvents

I have a map application using an in-house map engine on Android. I'm working on a rotating Map view that rotates the map based on the phone's orientation using the Sensor Service. All works fine with the exception of dragging the map when the phone is pointing other than North. For example, if the phone is facing West, dragging the Map up still moves the Map to the South versus East as would be expected. I'm assuming translating the canvas is one possible solution but I'm honestly not sure the correct way to do this. Here is the code I'm using to rotate the Canvas: public void dispatchDraw(Canvas canvas) { canvas.save(Canvas.MATRIX_SAVE_FLAG); // mHeading is the orientation from the Sensor canvas.rotate(-mHeading, origin[X],origin[Y]); mCanvas.delegate = canvas; super.dispatchDraw(mCanvas); canvas.restore(); } What is the best approach to make dragging the map consistent regardless of the phones orientation? The sensormanager has a "remapcoordinates()" method but it's not clear that this will resolve my problem.
