[site]: stackoverflow
[post_id]: 3589813
[parent_id]: 
[tags]: 
Explicit template instantiation with member template function

I have a template class with a template member function. I want to explicitly instantiate the class to avoid a drastic compilation slowdown. I am using g++ 4.1.2. I get ambiguous template specialization errors from the compiler. This the shortest code which will reproduce the problem: template class Test { public: template void* get( const T1& ); void* get(const int& ); //Specialization of the above }; typedef Test foo; //instantiate inline template class Test ; template void* foo::get(int const&); I don't want to use a catch-all: template class Test because the overload get(const int&) will not be defined for all possible explicit instantiations and hence the compiler will throw a fit for types which dont support it. This code compiles in visual studio (without the inline preceeding template, which is a gcc specific extenstion). Can somebody please throw some light into how I get this code fragment to compile? UPDATE: This is the error I get: g++ -c -o template.o template.cpp template.cpp:14: error: ambiguous template specialization ‘get<>’ for ‘void* Test ::get(const int&)’ template.cpp:7: error: candidates are: void* Test ::get(const int&) [with T = int, S = double] template.cpp:6: error: template void* Test::get(const T1&) [with T1 = T1, T = int, S = double] UPDATE2: Thanks for the solution, it does not compile though. Specializations are not allowed inside a class. The error is: g++ -c -o template.o template.cpp template.cpp:7: error: explicit specialization in non-namespace scope ‘class Test ’ template.cpp:7: error: enclosing class templates are not explicitly specialized template.cpp:8: error: ‘get’ is not a template function template.cpp: In instantiation of ‘void* Test ::get(const T1&) [with T1 = int, T = int, S = double]’: template.cpp:15: instantiated from here template.cpp:15: error: explicit instantiation of ‘void* Test ::get(const T1&) [with T1 = int, T = int, S = double]’ but no definition available make: *** [template.o] Error 1
