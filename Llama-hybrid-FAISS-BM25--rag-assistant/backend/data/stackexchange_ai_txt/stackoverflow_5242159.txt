[site]: stackoverflow
[post_id]: 5242159
[parent_id]: 5242098
[tags]: 
One option is to use PDO. Example: $db = new PDO($dsn,$user,$password); $db->beginTransaction(); $db->exec("delete from mytable"); $allGood = doSomethingElse(); if ($allGood) { $db->commit(); } else { $db->rollBack(); } or a more elegant method: $db = new PDO($dsn,$user,$password); $db->beginTransaction(); try{ //first execution $db->exec("delete from mytable"); //second execution $db->exec("insert into anothertable"); //if all went well $db->commit(); } catch (Exception $e) { //something broke, hit undo $db->rollBack(); }
