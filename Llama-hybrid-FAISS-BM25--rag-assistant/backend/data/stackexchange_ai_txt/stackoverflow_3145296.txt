[site]: stackoverflow
[post_id]: 3145296
[parent_id]: 3145178
[tags]: 
SGMLParser has been deprecated in Python 2.6, and will go away in 3.0. You probably want to use the HTMLParser module instead. I've never used it before (I always just use BeutifulSoup for these kind of things), so I figured I'd learn how it works. Here's a sample script I put together that should get you what you want. #!/usr/bin/env python from HTMLParser import HTMLParser class URLParser(HTMLParser): def __init__(self): self.in_link = False self.links = [] self.current_link = '' HTMLParser.__init__(self) def handle_starttag(self, tag, attrs): if tag == 'a': self.current_link = self.get_href_from_attrs(attrs) self.in_link = True def handle_endtag(self, tag): if tag == 'a': self.links.append(self.current_link) self.in_link = False def handle_data(self, data): if self.in_link: self.current_link = '%s - %s' % (self.current_link, data) def get_href_from_attrs(self, attrs): # The attrs dict is a list of tuples like: # [('href', 'www.google.com'), ('class', 'some-class')] for prop, val in attrs: if prop == 'href': return val return '' if __name__ == '__main__': the_html = ''' F/T &amp; P/T Sales Associate - Caliente Fashions - (North Vancouver) IMMEDIATE EMPLOYMENT WANTED! - TRAVEL AGENT - (NORTH VANCOUVER) Optical Sales Position - (New Westminster) Sales Clerk - (Kits) MARINE SALES - (VANCOUVER ( KITS )) Retail Sales Associate - (Vancouver) Retail with small parts appliance background - Manager *Enjoyable work atmosphere - (Langley Centre) Team Member - Retail Store - FT - (Burnaby South) STORE MANAGER-SHOE WAREHOUSE - (South Surrey-Semiahmoo) Retail Sales - (Coquitlam) ''' url_parser = URLParser() url_parser.feed(the_html) print '\n'.join(url_parser.links) Output http://vancouver.en.craigslist.ca/nvn/ret/1817849271.html - F/T - P/T Sales Associate - Caliente Fashions http://vancouver.en.craigslist.ca/van/ret/1817804151.html - IMMEDIATE EMPLOYMENT WANTED! http://vancouver.en.craigslist.ca/nvn/ret/1817796152.html - TRAVEL AGENT http://vancouver.en.craigslist.ca/bnc/ret/1817775400.html - Optical Sales Position http://vancouver.en.craigslist.ca/van/ret/1817709780.html - Sales Clerk http://vancouver.en.craigslist.ca/van/ret/1817676850.html - MARINE SALES http://vancouver.en.craigslist.ca/van/ret/1817608506.html - Retail Sales Associate http://vancouver.en.craigslist.ca/van/ret/1817573985.html - Retail with small parts appliance background http://vancouver.en.craigslist.ca/rds/ret/1817540938.html - Manager *Enjoyable work atmosphere http://vancouver.en.craigslist.ca/bnc/ret/1817403652.html - Team Member - Retail Store - FT http://vancouver.en.craigslist.ca/rds/ret/1817459155.html - STORE MANAGER-SHOE WAREHOUSE http://vancouver.en.craigslist.ca/pml/ret/1817448777.html - Retail Sales Update : After going through that little exercise the interface to this just feels gross, so I'm just going to stick with the much cleaner BeutifulSoup library. See Alex's sample to see how it's done.
