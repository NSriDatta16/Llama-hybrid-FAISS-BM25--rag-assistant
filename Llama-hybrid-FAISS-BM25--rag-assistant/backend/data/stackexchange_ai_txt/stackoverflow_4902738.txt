[site]: stackoverflow
[post_id]: 4902738
[parent_id]: 
[tags]: 
Enforcing initial containment of a JQuery draggable

For a photography webpage I am implementing an image viewer that allows for selecting an area of interest in a scaled-down reference image by dragging a semi-transparent rectangle over the reference image. The selected area is continuously "mirrored" to a second image viewer, which shows the area with at 100% magnification ratio. My solution uses XHTML/CSS and jQuery and I have a basic version that is working already â€“ but suffers from a problem at initialization, which I cannot solve. I have set up the area of interest as a div that is made draggable using jQuery UI draggable. To constrain the area of interest to the image, I have used the containment property. Initially the div is however shown outside of the image. As soon as I start dragging the area of interest div , the div snaps to the interior of the image and containment is properly enforced henceforth. All sample code I found, demonstrates containment with nested div s, which does not apply to my case since to my knowledge an image (XHML img ) cannot contain other elements. Is there a way how I can enforce that the draggable area of interest div is already contained when the webpage is initially rendered? I have extracted to minimal code to illustrate the problem from my code, see below. I will be glad for any hint. Cheers, Christian $(document).ready(function() { $("#zoom_area").draggable( { containment: '#the_image' }); }); #the_image { width: 640px; height: 427px; } #zoom_area { width: 50px; height: 50px; background-color: #bbb; border: 1px dashed black; opacity: 0.6; }
