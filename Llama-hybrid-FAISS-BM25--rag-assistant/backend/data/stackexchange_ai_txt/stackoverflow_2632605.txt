[site]: stackoverflow
[post_id]: 2632605
[parent_id]: 2630234
[tags]: 
I'm getting that error code too, although complaining about a different element: error MSB4067: The element beneath element is unrecognized. I did notice that Teamcity is invoking the 2.0 version of MSBuild, which could explain why msbuild is struggling with the xml. 'C:\Windows\Microsoft.NET\Framework\v2.0.50727\MSBuild.exe' '@"D:\BuildAgent\work\2f016459feee51ce\Build\BuildSolution.msbuild.teamcity.msbuild.tcargs" "D:\BuildAgent\work\2f016459feee51ce\Build\BuildSolution.msbuild.teamcity.patch.tcprojx"' working dir = 'D:\BuildAgent\work\2f016459feee51ce' Microsoft (R) Build Engine Version 2.0.50727.4016 [Microsoft .NET Framework, Version 2.0.50727.4200] I fixed the 2.0 msbuild problem by adding to the .\conf\buildagent.properties file on the team city build agent machine, the following: env.MSBuild=%system.DotNetFramework4.0_x86_Path% Restart the service after that and problem solved.
