[site]: crossvalidated
[post_id]: 385089
[parent_id]: 
[tags]: 
Can Random Forest predict/assign obs. to each class with the same weight as the weight in training sample?

Assume that I have 5 classes and they are imbalanced. Those classes have weights like 10%, 20%, 40%, 20%, 10% I have more than 100 predictors to do the prediction. Can I somehow ask random forest to predict a new sample based on those predictors in the new sample but produce also 10% of class 1, 20% of class 2, 40% of class 3, 20% of class 4, and 10% of class 5? It means that I hope the prediction of class 1 account for 10% in my sample, etc. Usually there will only be 5% or less of the predictions to be for class 1. Also, if I try to separate my original sample into training sample and prediction sample so that I can see the accuracy rate of my out-of-sample prediction. The out-of-sample accuracy rate is only about 80%. The in-sample accuracy rate is about 99% or 100%. At first, I thought it has some unbalanced data problem so I tried to use class weight and stratified sampling. None of them seem to work. Does this mean that my predictors are not good enough? Or is there any other way to solve it? Thanks a lot
