[site]: stackoverflow
[post_id]: 846600
[parent_id]: 
[tags]: 
Splitting Probabilities

I've the following code in PHP which works fine (returns more or less 10 results each time it runs): function GetAboutTenRandomNumbers() { $result = array(); for ($i = 0; $i '; print_r($result); echo ' '; return $result; } And the Chance() function goes as follows: function Chance($chance, $universe = 100) { $chance = abs(intval($chance)); $universe = abs(intval($universe)); if (mt_rand(1, $universe) Now, I want to randomly split those 10 (on average) results in the 4 following segments: the first one having a probability of 10% * 10 = 1 the second one having a probability of 20% * 10 = 2 the third one having a probability of 30% * 10 = 3 the fourth one having a probability of 40% * 10 = 4 As you can see the sum of all segments (1 + 2 + 3 + 4) equals 10, so I've coded the following function to do this. function GetAboutTenWeightedRandomNumbers() { $result = array(); // Chance * 10% for ($i = 0; $i '; print_r($result); echo ' '; return $result; } The problem is I've run the GetAboutTenWeightedRandomNumbers function dozens of times and the result is much more lower than the result returned by the GetAboutTenRandomNumbers function. I'm sure that I'm making a fundamental math mistake, I suspect where but I don't know how to solve it.
