[site]: crossvalidated
[post_id]: 283403
[parent_id]: 
[tags]: 
Odd handling of NA in glm

When importing a CSV file that was exported from SAS, I forgot to put the na.strings = "." option in the read.table function. It took me a while to find the error, but what struck me was the radical change in the logistic regression results when I got it right. This was further complicated by the fact that only two values of the outcome were actually missing. What is disturbing is the radical change in the estimates with only two faulty outcome values with 568 observations. I've tried coding the missing values as 1 or 0, without being able to recreate the result with just two dots in the data. Any ideas as to what it's doing? I'd like to teach this as a cautionary tale of improper data reading, but would like something beyond "shit happens". Thanks. The wrong way: HTNdataX names(HTNdataX) summary(HTNdataX) hypertension age .: 2 Min. :13 0:510 1st Qu.:28 1: 56 Median :35 Mean :36 3rd Qu.:44 Max. :62 > logregHx summary(logregHx) Call: glm(formula = hypertension ~ age, family = binomial(link = "logit"), data = HTNdataX) Deviance Residuals: Min 1Q Median 3Q Max -3.14237 0.01467 0.02957 0.07280 0.43184 Coefficients: Estimate Std. Error z value Pr(>|z|) (Intercept) 14.7469 5.5922 2.637 0.00836 ** age -0.2003 0.1059 -1.891 0.05860 . --- Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 (Dispersion parameter for binomial family taken to be 1) Null deviance: 26.589 on 567 degrees of freedom Residual deviance: 20.970 on 566 degrees of freedom AIC: 24.97 Number of Fisher Scoring iterations: 10 The right way: HTNdata names(HTNdata) head(HTNdata,10) hypertension age 1 0 32 2 0 40 3 0 34 4 1 29 5 0 37 6 0 20 7 0 30 8 0 22 9 0 36 10 0 27 > > summary(HTNdata) hypertension age Min. :0.00000 Min. :13 1st Qu.:0.00000 1st Qu.:28 Median :0.00000 Median :35 Mean :0.09894 Mean :36 3rd Qu.:0.00000 3rd Qu.:44 Max. :1.00000 Max. :62 NA's :2 > > > logregH summary(logregH) Call: glm(formula = hypertension ~ age, family = binomial(link = "logit"), data = HTNdata) Deviance Residuals: Min 1Q Median 3Q Max -0.8458 -0.5004 -0.3933 -0.3142 2.5073 Coefficients: Estimate Std. Error z value Pr(>|z|) (Intercept) -4.42920 0.59612 -7.430 1.09e-13 *** age 0.05783 0.01421 4.071 4.68e-05 *** --- Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 (Dispersion parameter for binomial family taken to be 1) Null deviance: 365.35 on 565 degrees of freedom Residual deviance: 347.83 on 564 degrees of freedom (2 observations deleted due to missingness) AIC: 351.83 Number of Fisher Scoring iterations: 5
