[site]: stackoverflow
[post_id]: 513798
[parent_id]: 
[tags]: 
Visual Studio WinForms designer does not instantiate object

I created a class derived from System.Windows.Forms.ContextMenuStrip class, not as a user control, just a plain .cs class with a constructor and one event handler. When I drag this class from the Toolbox onto the designer, it creates a private member for it and a couple of properties, but does not instantiate an object. Thus, at runtime I get "Object reference not set to an instance of an object.", because the designer never generates the line: this.searchGridContextMenu1 = new SearchGridContextMenu(); inside InitializeComponent. It used to generate this line, as a matter of fact, I keep putting it back in from my Vault repository, but the designer just "eats it" again. Update: I now tried creating a User Control using the same class and it has the same problem just doing that.
