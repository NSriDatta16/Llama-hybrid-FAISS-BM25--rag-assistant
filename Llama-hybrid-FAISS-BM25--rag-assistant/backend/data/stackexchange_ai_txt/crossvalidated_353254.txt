[site]: crossvalidated
[post_id]: 353254
[parent_id]: 352995
[tags]: 
A Bayesian answer to the question of what k to specify (or what bs to specify or what predictors to include in the spline or how to specify the model more generally) are Which specification is expected to predict future data best? Or what vector of weights on the predictions produced by the various models is expected to predict future data best? Which specification is true, conditional on one of the specifications tried being true? The first is what is implemented in the loo R package for estimated leave-one-out cross-validation with Pareto Smoothed Importance Sampling, which is what the loo method for an object produced by stan_gamm4 calls. Or you can call the loo_model_weights function. The second is what is implemented in the bridgesampling R package for posterior probabilities over models, which also has a method for an object produced by stan_gamm4 (although you have to specify the diagnostic_file argument to stan_gamm4 in order to write the necessary information to the disk). However, the answer is often that " k does not matter very much" (due to the hyperpriors), which is the same as the frequentist answer (due to the penalization).
