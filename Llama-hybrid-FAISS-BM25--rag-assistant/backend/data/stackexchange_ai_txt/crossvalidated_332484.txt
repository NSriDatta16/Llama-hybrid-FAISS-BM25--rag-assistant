[site]: crossvalidated
[post_id]: 332484
[parent_id]: 
[tags]: 
How to reason about causal effect in time series when the treatment group reacts even before treatment?

Context: I'm running into a strange phenomenon about treatment effect and causality that I'll try to recreate here. Let's say I'm doing an observational study: Do people spend more time online as a result of blocking ads? Maybe by removing ads, people have an increased enjoyment of being on the internet, so they spend more time browsing each day. Therefore, I'd like to measure the causal effect of ad-blocking programs on internet usage. Since it's an observational study and people download ad-blocking programs on different days, I split the treatment group into subgroups by which day they downloaded them (so in a month I'll have 30 subgroups). I also take a control group (people who never block ads) on the same day. Let's also assume this control group is a reasonable approximation for the treatment group's counterfactual (i.e. how the treated group would have responded had they not blocked ads) I plot the average daily internet usage of both groups for an arbitrary day: The vertical line is when the treated group started to block ads. I see that after the line, there is an increase in the treated time series as compared to the control time series, which is expected. However, there is a slight increase happening even before that line! In fact, this is happening for all 30 pairs of treatment/control subgroups. It looks as if people are reacting to the treatment even before it is applied, which can't be possible. In this context, I might explain as follows: A few days before installing the program, some person happens to be spending an increased amount of time online, and as a result he is getting more and more annoyed by ads. After a few days, the person is so annoyed he finally decides to just install the ad-blocking program. Afterwards, he's more satisfied, so he spends even more time online than he did before. In this case, the treatment (ad-blocking) did not directly affect the pre-treatment response, yet it is correlated with it. Question: How would I go about estimating the causal effect of the treatment on the time series when there looks like a change in response occurs even before the treatment is actually applied? Also, is there a name for this phenomenon? I think that pre-treatment rise is not attributable to the treatment effect---however, isn't it a form of selection bias between the two groups that should be accounted for? If this rise didn't exist, I could do a simple approximation of the causal effect by doing a difference between treatment and control, but I don't know how to handle that region. I also tried using CausalImpact, but the predicted counterfactual actually follows that pre-treatment lift, which seems inappropriate.
