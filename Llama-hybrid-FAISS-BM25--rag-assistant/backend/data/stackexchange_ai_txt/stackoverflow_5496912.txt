[site]: stackoverflow
[post_id]: 5496912
[parent_id]: 
[tags]: 
Unit testing non-exported classes in a DLL

We develop a C++ application using Visual Studio 2008 and unit test using Boost.Test. At the moment, we have a separate solution which contains our unit tests. Many of our projects in the core solution produce DLL's. We're limited in test coverage because we cannot test non-exported classes. I have two ideas on how these could be tested: Export everything Put the tests inside the DLL (same project and solution) and use Boost.Test's external runner I'm not entirely sure what the drawbacks would be. Number 1 above breaks module level encapsulation, and number 2 could result in a much larger DLL, unless it's possible to only include the test code in certain configurations. So, are there any severe drawbacks to the above methods, or can you think of other solutions?
