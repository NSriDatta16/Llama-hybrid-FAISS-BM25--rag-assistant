[site]: stackoverflow
[post_id]: 2837821
[parent_id]: 2835416
[tags]: 
Very nice, indeed. Your canaries could actually reveal some real cases of overflow/underflow (though not all of them as Matthieu pointed out). What more. You might run into some problems with a multi-threaded application. Perhaps protect the hashtable from concurrent access? Now that you log every allocation and deallocation, you can (if you like) provide more information about the program being tested. It might be interesting to know the total and average number of allocations at any given time? The total, max, min and average bytes allocated, and the average lifespan of allocations. If you want to compare different threads, at least with Pthreads you can identify them with pthread_self(). This heap debugger could become a quite useful analysis tool.
