[site]: stackoverflow
[post_id]: 2179497
[parent_id]: 
[tags]: 
Adding date boosting to complex SOLR queries

I currently have a SOLR query which uses the query (q), query fields (qf) and phrase fields (pf) to retrieve the results I want. An example is: /solr/select ?q=superbowl &qf=title^3+headline^2+intro+fulltext &pf=title^3+headline^2+intro+fulltext &fl=id,title,ts_modified,score &debugQuery=true The idea is that the title and headline of the "main item" give the best indication of what the result is "about", but the intro and fulltext provides some input too. Ie, imagine a collection of links, where the collection itself has metadata (what it's a collection of), but each link has it's own data (title of the link, synopsis, etc). If we search for "superbowl", the most relevant results are the ones with "superbowl" in the collection metadata, the least relevant results are those with "superbowl" in just the synopsis of one of the links... but they're all valid results. What I'm trying to do is add a boost to the relevancy score so that the most recent results float towards the top, but retaining title,headline,intro,fulltext as part of the formula. A recent result with the search string in the collection metadata would be more relevant than one with it only in the links metadata... but that "links only" recent result might be more relevant than a very old result with the search string in the collection metadata. (I hope that's somewhat clear). The problem is that I can't figure out how to combine the boost function documented on the SOLR site with the use of the qf/pf fields. Specifically... From the SOLR site, something like the following works to boost the results by date: /solr/select ?q={!boost%20b=$dateboost%20v=$qq} &dateboost=ord(ts_modified) &qq=superbowl &fl=ts_modified,score &debugQuery=true However, I can't figure out how to combine that query with the use of qf and pf. Any suggestions would be more than welcome. Thanks to danben's response, I was able to come up with the following: /solr/select ?q={!boost%20b=$dateboost%20v=$qq%20defType=dismax} &dateboost=ord(ts_modified) &qq=superbowl &qf=title^3+headline^2+intro^2+fulltext &pf=title^3+headline^2+intro^2+fulltext &fl=ts_modifieds,score &debugQuery=true It looks like the actual problems I was having were: I left spaces in the q param instead of escaping them (%20) when copy/pasting I didn't include the defType=dismax in my q param, so that it would pay attention to the qf/pf parameters
