[site]: stackoverflow
[post_id]: 4679379
[parent_id]: 
[tags]: 
Android Download Zip to SD card, zip not getting read

tried following code to download zip to sd card, i get NullpointerException. when tried some interrogations i come to know that the zip file is not getting downloaded actually. So would you please help whether code needs some changes or anything wrong with zip? M stuck on that point only. Please help... my code as follows... { super.onCreate(savedInstanceState); setContentView(R.layout.main); String from = "http://192.168.1.63/ZipFile/Text.zip" ; String to = Environment.getExternalStorageDirectory() + "/newunzip/"; try { ((TextView) findViewById(R.id.display)).append("\n in try after function :"); downloadFile(from, to); } catch (Exception e) { // TODO Auto-generated catch block e.printStackTrace(); ((TextView) findViewById(R.id.display)).append("\n \n Exception occured :"); ((TextView) findViewById(R.id.display)).append("\n \n Exception message is :"+e.getMessage()); ((TextView) findViewById(R.id.display)).append("\n \n Exception is :"+e.toString()); } } private void downloadFile(String from, String to) throws Exception { ((TextView) findViewById(R.id.display)).append("\n \n in function call :"); HttpURLConnection conn = (HttpURLConnection)new URL(from).openConnection(); conn.setDoInput(true); conn.setConnectTimeout(100000); // timeout 100 secs conn.connect(); ((TextView) findViewById(R.id.display)).append("\n \n Connecting to url :"+ conn); InputStream input = conn.getInputStream(); byte[] b = null; input.read(b); ((TextView) findViewById(R.id.display)).append("\n \n input method :"+ b); FileOutputStream fOut = new FileOutputStream(to); byte[] b1 = null; input.read(b1); ((TextView) findViewById(R.id.display)).append("\n \n output method :"+ b1); int byteCount = 0; byte[] buffer = new byte[4096]; int bytesRead = -1; while ((bytesRead = input.read(buffer)) != -1) { ((TextView) findViewById(R.id.display)).append("\n \n reading/writing files :"); fOut.write(buffer, 0, bytesRead); byteCount += bytesRead; } fOut.flush(); ((TextView) findViewById(R.id.display)).append("\n \n flush & close :"); fOut.close(); } }
