[site]: stackoverflow
[post_id]: 4649118
[parent_id]: 4648765
[tags]: 
Do 2, then 1. During your "small window of warning" make it clear to your clients that bar is all the rage, and ensure that all (or, at your discretion, most) no longer depend on foo before removing the dead weight from your library. This way, your clients can go to the trouble at their own convenience, rather than being forced to by a binary break. Of course, as David mentioned, you'll need to use your own judgment based on the size of your userbase. If this is a small library only used by a couple of close contacts, it may well be more effective to just make the change, but it's good form to mark as deprecated.
