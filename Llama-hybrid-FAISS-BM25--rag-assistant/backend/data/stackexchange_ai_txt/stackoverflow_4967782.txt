[site]: stackoverflow
[post_id]: 4967782
[parent_id]: 2527829
[tags]: 
Here is a complete solution of implementing horizontal compass in iPhone 4 if ([CLLocationManager locationServicesEnabled] && [CLLocationManager headingAvailable]) { m_locationManager=[[CLLocationManager alloc]init]; m_locationManager.desiredAccuracy=kCLLocationAccuracyBest; m_locationManager.headingOrientation=CLDeviceOrientationPortrait;; m_locationManager.delegate=self; [m_locationManager startUpdatingHeading]; } pragma mark CLLocationManagerDelegate Methods - (void)locationManager:(CLLocationManager *)manager didUpdateHeading:(CLHeading *)newHeading { CLLocationDirection direction= newHeading.magneticHeading; [m_readingsLabel setText:[NSString stringWithFormat:@"Degrees:%f",direction]]; float radians=direction*M_PI/180; m_compassImageView.transform=CGAffineTransformMakeRotation(radians); }
