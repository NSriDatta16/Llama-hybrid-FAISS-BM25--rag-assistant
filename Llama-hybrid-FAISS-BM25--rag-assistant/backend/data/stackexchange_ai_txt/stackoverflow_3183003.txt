[site]: stackoverflow
[post_id]: 3183003
[parent_id]: 3177038
[tags]: 
Is your query essentially the following (this is hard to ask as a comment): select c.company_rec_id, c.the_company_code, c.company from company c where exists ( select * from parameter p join mlist_detail_parameter mdp on mdp.parameter_rec_id = p.parameter_rec_id join mlist_detail md on md.mlist_detail_rec_id = mdp.mlist_detail_rec_id join mlist m on m.mlist_rec_id = md.mlist_rec_id join parcel_application ord_app on ord_app.parcel_application_rec_id = m.parcel_application_rec_id join parcel ord on ord.parcel_rec_id = ord_app.parcel_rec_id join tlist t on t.mlist_rec_id = m.mlist_rec_id where ord.client_rec_id = c.company_rec_id and to_tsvector(extract_words(p.parameter)) @@ plainto_tsquery(extract_words('cadmium')) ) [EDIT: 2010-07-06, added by Michael Buen] "Hash Join (cost=2152.94..2172.52 rows=232 width=71) (actual time=71.106..71.207 rows=84 loops=1)" " Hash Cond: ((c.company_rec_id)::text = (ord.client_rec_id)::text)" " -> Seq Scan on company c (cost=0.00..11.95 rows=295 width=71) (actual time=0.004..0.030 rows=295 loops=1)" " -> Hash (cost=2150.04..2150.04 rows=232 width=37) (actual time=71.077..71.077 rows=84 loops=1)" " -> HashAggregate (cost=2147.72..2150.04 rows=232 width=37) (actual time=71.033..71.040 rows=84 loops=1)" " -> Nested Loop (cost=1783.22..2146.09 rows=652 width=37) (actual time=51.029..70.187 rows=1918 loops=1)" " -> Hash Join (cost=1783.22..1938.61 rows=652 width=111) (actual time=51.014..55.913 rows=1918 loops=1)" " Hash Cond: ((ord_app.parcel_rec_id)::text = (ord.parcel_rec_id)::text)" " -> Hash Join (cost=1665.76..1810.55 rows=652 width=111) (actual time=48.360..52.004 rows=1918 loops=1)" " Hash Cond: ((ord_app.parcel_application_rec_id)::text = (m.parcel_application_rec_id)::text)" " -> Seq Scan on parcel_application ord_app (cost=0.00..122.18 rows=3218 width=74) (actual time=0.003..1.485 rows=3218 loops=1)" " -> Hash (cost=1657.61..1657.61 rows=652 width=111) (actual time=48.331..48.331 rows=1918 loops=1)" " -> Hash Join (cost=164.19..1657.61 rows=652 width=111) (actual time=4.755..46.122 rows=1918 loops=1)" " Hash Cond: ((md.mlist_rec_id)::text = (m.mlist_rec_id)::text)" " -> Nested Loop (cost=3.49..1485.51 rows=652 width=37) (actual time=1.638..40.974 rows=1918 loops=1)" " -> Hash Join (cost=3.49..1163.33 rows=652 width=37) (actual time=1.590..18.090 rows=1918 loops=1)" " Hash Cond: ((mdp.parameter_rec_id)::text = (p.parameter_rec_id)::text)" " -> Seq Scan on mlist_detail_parameter mdp (cost=0.00..1013.87 rows=37187 width=74) (actual time=0.003..5.499 rows=37187 loops=1)" " -> Hash (cost=3.48..3.48 rows=1 width=37) (actual time=1.568..1.568 rows=1 loops=1)" " -> Seq Scan on parameter p (cost=0.00..3.48 rows=1 width=37) (actual time=1.324..1.564 rows=1 loops=1)" " Filter: (to_tsvector(regexp_replace((parameter)::text, '[\\(\\)\\!\\.\\/,\\-\\?]+'::text, ' '::text, 'g'::text)) @@ plainto_tsquery('cadmium'::text))" " -> Index Scan using pk_mlist_detail on mlist_detail md (cost=0.00..0.48 rows=1 width=74) (actual time=0.011..0.011 rows=1 loops=1918)" " Index Cond: ((md.mlist_detail_rec_id)::text = (mdp.mlist_detail_rec_id)::text)" " -> Hash (cost=115.31..115.31 rows=3631 width=74) (actual time=3.096..3.096 rows=3631 loops=1)" " -> Seq Scan on mlist m (cost=0.00..115.31 rows=3631 width=74) (actual time=0.003..0.994 rows=3631 loops=1)" " -> Hash (cost=78.87..78.87 rows=3087 width=74) (actual time=2.640..2.640 rows=3087 loops=1)" " -> Seq Scan on parcel ord (cost=0.00..78.87 rows=3087 width=74) (actual time=0.004..0.876 rows=3087 loops=1)" " -> Index Scan using fki_tlist__mlist on tlist t (cost=0.00..0.31 rows=1 width=37) (actual time=0.006..0.006 rows=1 loops=1918)" " Index Cond: ((t.mlist_rec_id)::text = (m.mlist_rec_id)::text)" "Total runtime: 71.373 ms"
