[site]: stackoverflow
[post_id]: 1721380
[parent_id]: 1717291
[tags]: 
You can't do that with SimpleXML alone. There is a nice way to do this with the DOM extension and the DOMDocumentFragment class. (Please note that I didn't try to understand your logic in the example provided, but you should be able to implement the simple sample below into your code). $xml = simplexml_load_string(' '); // get the parent node under which you want to insert your XML fragement $parent = dom_import_simplexml($xml->parent); // create the XML fragment $fragment = $parent->ownerDocument->createDocumentFragment(); // append the XML literal to your fragment $fragment->appendXML(' '); // append the fragment to the parent node $parent->appendChild($fragment); echo $xml->asXML(); /* * * */ Links: dom_import_simplexml() DOMDocument::createDocumentFragment() DOMDocumentFragment::appendXML() DOMNode::appendChild() SimpleXMLElement::asXML()
