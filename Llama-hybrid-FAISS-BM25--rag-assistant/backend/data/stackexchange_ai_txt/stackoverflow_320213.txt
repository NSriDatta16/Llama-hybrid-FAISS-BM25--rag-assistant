[site]: stackoverflow
[post_id]: 320213
[parent_id]: 319524
[tags]: 
I've actually previously written an article about this . It takes the same approach as Robert Gould's answer, but additionally shows how to shorten a block cipher to a suitable length using xor folding, and then how to generate the permutations over a range that isn't a power of 2, while still preserving the uniqueness property.
