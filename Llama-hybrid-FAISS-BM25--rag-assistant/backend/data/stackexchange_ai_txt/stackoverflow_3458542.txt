[site]: stackoverflow
[post_id]: 3458542
[parent_id]: 
[tags]: 
Multiple drag and drop in PyQt4

i can't find an example on dragging (and dropping) multiple elements with Qt/PyQt; In my case i need to drag elements from this QTableView: class DragTable(QTableView): def __init__(self, parent = None): super(DragTable, self).__init__(parent) self.setDragEnabled(True) def dragEnterEvent(self, event): if event.mimeData().hasFormat("application/pubmedrecord"): event.setDropAction(Qt.MoveAction) event.accept() else: event.ignore() def startDrag(self, event): print type(event) index = self.indexAt(event.pos()) if not index.isValid(): return selected = index.row() bstream = cPickle.dumps(selected) mimeData = QMimeData() mimeData.setData("application/pubmedrecord", bstream) drag = QDrag(self) drag.setMimeData(mimeData) pixmap = QPixmap(":/drag.png") drag.setHotSpot(QPoint(pixmap.width()/3, pixmap.height()/3)) drag.setPixmap(pixmap) result = drag.start(Qt.MoveAction) def mouseMoveEvent(self, event): self.startDrag(event) To this QLabel (My dropzone): class TagLabel(QLabel): def __init__(self, text, color, parent = None): super(TagLabel, self).__init__(parent) self.tagColor = color self.setText(text) self.setStyleSheet("QLabel { background-color: %s; font-size: 14pt; }" % self.tagColor) self.defaultStyle = self.styleSheet() self.setAlignment(Qt.AlignHCenter|Qt.AlignVCenter) self.setAcceptDrops(True) def dragEnterEvent(self, event): if event.mimeData().hasFormat("application/pubmedrecord"): self.set_bg(True) event.accept() else: event.reject() def dragLeaveEvent(self, event): self.set_bg(False) event.accept() def dropEvent(self, event): self.set_bg(False) data = event.mimeData() bstream = data.retrieveData("application/pubmedrecord", QVariant.ByteArray) selected = pickle.loads(bstream.toByteArray()) event.accept() self.emit(SIGNAL("dropAccepted(PyQt_PyObject)"), (selected, str(self.text()), str(self.tagColor))) def set_bg(self, active = False): if active: style = "QLabel {background: yellow; font-size: 14pt;}" self.setStyleSheet(style) else: self.setStyleSheet(self.defaultStyle) Any tips? Thank you!
