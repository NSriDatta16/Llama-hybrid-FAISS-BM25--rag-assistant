[site]: stackoverflow
[post_id]: 1083056
[parent_id]: 
[tags]: 
External Data File for Unit Tests

I'm a newbie to Unit Testing and I'm after some best practice advice. I'm coding in Cocoa using Xcode. I've got a method that's validating a URL that a user enters. I want it to only accept http:// protocol and only accept URLs that have valid characters. Is it acceptable to have one test for this and use a test data file? The data file provides example valid/invalid URLs and whether or not the URL should validate. I'm also using this to check the description and domain of the error message. Why I'm doing this I've read Pragmatic Unit Testing in Java with JUnit and this gives an example with an external data file, which makes me think this is OK. Plus it means I don't need to write lots of unit tests with very similar code just to test different data. But on the other hand... If I'm testing for: invalid characters and an invalid protocol and valid URLs all in the same test data file (and therefore in the same test) will this cause me problems later on? I read that one test should only fail for one reason. Is what I'm doing OK? How do other people use test data in their unit tests, if at all?
