[site]: crossvalidated
[post_id]: 157050
[parent_id]: 82050
[tags]: 
Here's SVD in Python and NumPy only (years later). (This doesn't address your questions about SSA / sklearn / pandas at all, but may help a pythonist someday.) #!/usr/bin/env python2 """ SVD straight up """ # geometry: see http://www.ams.org/samplings/feature-column/fcarc-svd from __future__ import division import sys import numpy as np __version__ = "2015-06-15 jun denis-bz-py t-online de" # from bz.etc import numpyutil as nu def ints( x ): return np.round(x).astype(int) # NaN Inf -> - maxint def quantiles( x ): return "quantiles %s" % ints( np.percentile( x, [0, 25, 50, 75, 100] )) #........................................................................... csvin = "ccheaton-multicollinearity.csv" # https://gist.github.com/ccheaton/8393329 plot = 0 # to change these vars in sh or ipython, run this.py csvin=\"...\" plot=1 ... for arg in sys.argv[1:]: exec( arg ) np.set_printoptions( threshold=10, edgeitems=10, linewidth=120, formatter = dict( float = lambda x: "%.2g" % x )) # float arrays %.2g #........................................................................... yX = np.loadtxt( csvin, delimiter="," ) y = yX[:,0] X = yX[:,1:] print "read %s" % csvin print "y %d %s" % (len(y), quantiles(y)) print "X %s %s" % (X.shape, quantiles(X)) print "" #........................................................................... U, sing, Vt = np.linalg.svd( X, full_matrices=False ) #........................................................................... print "SVD: %s -> U %s . sing diagonal . Vt %s" % ( X.shape, U.shape, Vt.shape ) print "singular values:", ints( sing ) # % variance (sigma^2) explained != % sigma explained, e.g. 10 1 1 1 1 var = sing**2 var *= 100 / var.sum() print "% variance ~ sing^2:", var print "Vt, the right singular vectors * 100:\n", ints( Vt * 100 ) # multicollinear: near +- 100 in each row / col yU = y.dot( U ) yU *= 100 / yU.sum() print "y ~ these percentages of U, the left singular vectors:", yU --> log # from: test-pca.py # run: 15 Jun 2015 16:45 in ~bz/py/etc/data/etc Denis-iMac 10.8.3 # versions: numpy 1.9.2 scipy 0.15.1 python 2.7.6 mac 10.8.3 read ccheaton-multicollinearity.csv y 373 quantiles [ 2823 60336 96392 147324 928560] X (373, 5) quantiles [ 7 47 247 573 512055] SVD: (373, 5) -> U (373, 5) . sing diagonal . Vt (5, 5) singular values: [2537297 4132 2462 592 87] % variance ~ sing^2: [1e+02 0.00027 9.4e-05 5.4e-06 1.2e-07] Vt, the right singular vectors * 100: [[ 0 0 100 0 0] [ 1 98 0 -12 17] [-10 -11 0 -99 -6] [ 1 -17 0 -4 98] [-99 2 0 10 2]] y ~ these percentages of U, the left singular vectors: [1e+02 15 -18 0.88 -0.57]
