[site]: stackoverflow
[post_id]: 620242
[parent_id]: 473462
[tags]: 
To make the objects draggable you need to set up some event listeners and handle the movement in the callback function. I presume the objects you wish to drag are place-marks (KmlPlacemark) if so you need something like this...(NB: This is untested and written here so there could be some typos.) var dragging = false; // the object being dragged var url = "http://.../moveTo?"; // path to your cgi script function init() { // Rest of your method body... google.earth.addEventListener(ge.getGlobe(), "mousedown", function(e) { // if it is a place mark if(e.getTarget().getType() == 'KmlPlacemark') { // set it as the dragging target dragging = e.getTarget(); } }); google.earth.addEventListener(ge.getGlobe(), "mouseup", function(e) { // drop on mouse up (if we have a target) if(dragging) { // build the query string // ...you could use getName or getSnippet rather than getId var query = "lat=" + dragging.getGeometry().getLatitude() + "&long=" + dragging.getGeometry().getLongitude() + "&id=" + dragging.getId(); // send the query to the url httpPost(url, query); // clear the dragging target dragging = false; } }); google.earth.addEventListener(ge.getGlobe(), "mousemove", function(e) { // when the mouse moves (if we have a dragging target) if(dragging) { // stop any balloon opening e.preventDefault(); // drag the object // i.e. set the placemark location to cursor the location dragging.getGeometry().setLatLng(e.getLatitude(), e.getLongitude()); } }); } // send a HTTP POST request // could use jQuery, etc.... function httpPost(url, query) { var httpReq = false; var self = this; // Mozilla/Safari if (window.XMLHttpRequest) { self.httpReq = new XMLHttpRequest(); } // IE else if (window.ActiveXObject) { self.httpReq = new ActiveXObject("Microsoft.XMLHTTP"); } self.httpReq .open('POST', url, true); self.httpReq .setRequestHeader('Content-Type', 'application/x-www-form-urlencoded'); self.httpReq .onreadystatechange = function() { if (self.httpReq .readyState == 4) { // do something... alert(self.httpReq.responseText); } } self.httpReq.send(query); }
