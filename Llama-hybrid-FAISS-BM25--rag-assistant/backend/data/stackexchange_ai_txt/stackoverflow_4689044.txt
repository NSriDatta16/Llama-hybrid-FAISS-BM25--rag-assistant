[site]: stackoverflow
[post_id]: 4689044
[parent_id]: 
[tags]: 
grep: comparing a list of one ore more words in each line with a text file

I am working on a Debian/GNU Linux OS and like to use a short shell command (terminal or extern script). My aim: I have a list of words in foo.txt like ---- foo.txt ---- dog cat mouse with hat ---- /foo.txt ---- and want to compare this list with bar.txt (implying normal text with some paragraphs). I would like to have two kind of matches: all words of each line should match (e.g. 'mouse with hat' as well as just 'hat') only the the first appearance of each whole line should match Related to the first problem: My first code (so far for the command line) and my problems: for i in foo.txt; do fgrep -f foo.txt bar.txt just matches the first word of the list. Now I think I have to use something like for i in foo.txt; do fgrep -e -f foo.txt bar.txt but I am bogged down with the regexp :( Related to the second problem For stopping grep I only know the -m option. for i in foo.txt; do fgrep -m 1 -f foo.txt bar.txt stops after the first with any matches. But I like to have something like 'search for any first match and stop after browsing the whole list'.
