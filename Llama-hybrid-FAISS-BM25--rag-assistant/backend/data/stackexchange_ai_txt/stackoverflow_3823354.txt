[site]: stackoverflow
[post_id]: 3823354
[parent_id]: 3823234
[tags]: 
You can use preg_replace_callback() here: function upcaseLetters(string $line): string { return preg_replace_callback('#^[\w]|[\W][\w]#', function ($match) { return strtoupper($match[0]); }, strtolower($line)); } Usage Example: $lines = [ "o'sulLivAn", "doUble-baRrel", ]; foreach ($lines as $line) { echo upcaseLetters($line), "\n"; } Demo: https://3v4l.org/l8BKF Outputs: O'Sullivan Double-Barrel Reference: https://php.net/preg_replace_callback
