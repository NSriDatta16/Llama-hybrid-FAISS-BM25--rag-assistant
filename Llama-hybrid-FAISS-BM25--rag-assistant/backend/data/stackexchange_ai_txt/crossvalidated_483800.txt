[site]: crossvalidated
[post_id]: 483800
[parent_id]: 
[tags]: 
How to prove this propensity score weighting leads to averaged treatment effect among the treated?

Let $Y(1)$ and $Y(0)$ be the potential outcomes under the treatment and the control. $T$ represents the treatment status. We let $ATT=E\big[Y(1)-Y(0)|T=1\big]$ Next, we let $e(x)$ denote the propensity score. One type of propensity score weighting scheme is: if treated, they get a weight of 1; if not treated, they get a weight of $\frac{e(x)}{1-e(x)}$ . We then let $\Delta=\frac{TY}{1}-\frac{(1-T)Y}{1/\frac{e(x)}{1-e(x)}}$ Now how can we we show that $E(\Delta)=E\big[\frac{TY}{1}-\frac{(1-T)Y}{1/\frac{e(x)}{1-e(x)}}\big]=E\big[Y(1)-Y(0)|T=1\big]$ . So that we know $E[\Delta]$ is unbiased for ATT and weights $(1,\frac{e(x)}{1-e(x)})$ is for ATT.? I can show that \begin{align} E\big[I(T=1)Y\big] &=E\big[I(T=1)Y(1)\big] \, \hspace{1cm} Y(1)=Y \, \text{because of consistency}\\ \end{align} Now I have a hard time to understand how can we get \begin{align} E\big[I(T=1)Y(1)\big]=E\big[Y(1)|T=1\big] \end{align} If so, it follows that \begin{align} E\big[I(T=1)Y(0)\big]=E\big[Y(0)|T=1\big] \end{align} Any suggestion will be appreciated.
