[site]: crossvalidated
[post_id]: 299973
[parent_id]: 
[tags]: 
How to sample $N$ Bernoulli random variables given a fixed number of successes ahead of time without collisions?

Suppose that I have $N$ units and that each unit has a probability of being treated, $p_i$ for $i = 1, \ldots, N$. Treatment is indicated as $1$ and non-treatment is $0$. Suppose that $p_i$ turns out to be very small for most $i$, so that on average I do not get a whole lot of treated samples if I sample each unit with probability $p_i$, then report if I got $1$ or $0$. Suppose that I want to ensure that a certain amount of units gets treated, say $m$. This looks like a multinomial sampling scheme, I am wondering if the correct way to do this is to renormalize all the probabilities $p_1, \ldots, p_N$ and then use a multinomial sampler? Will I run into an issue of collisions where the same unit gets treated again and again?
