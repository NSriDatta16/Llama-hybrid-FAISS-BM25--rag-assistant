[site]: crossvalidated
[post_id]: 430977
[parent_id]: 
[tags]: 
Relative Time Model with missing time periods

I'm trying to replicate a relative time model to evaluate pre-treatment trends in a staggered diff-in-diff model. I've found the following description in literature (Rietveld, J., Schilling, M. A., & Bellavitis, C. (2019). Platform strategy: Managing ecosystem value through selective promotion of complements. Organization Science.): As noted previously, identification of the treatment effect is only valid to the extent that there exist no differences in the pretreatment trends between endorsed and nonendorsed video games. One concern is that sales for a certain video game on one platform are leveling off at a somewhat slower rate compared than the same game on a competing platform. A platform sponsor may see a greater potential for boosting a game’s unit sales precisely because of this slower decay, which would then violate the parallel trends assumption. To rule out this concern, we implement a relative time model of which the main benefit is that it allows for different lags and leads of the treatment effect (Autor 2003). An additional advantage of this model is that it provides insight into the dynamics of the treatment effect: whether the effect of endorsement is constant or perhaps first picks up and then mean reverts after an endorsed video game has been on the market for a longer period of time. The relative time model replaces the vector of treatments with a series of time dummies that indicate the relative distance between week t and the launch of an endorsed video game. The omitted category against which the coefficients are estimated is the week preceding the endorsement, in which we also group all observations for games that never received the endorsement (Seamans and Zhu 2013, Greenwood and Wattal 2017). Results from this time-trend analysis are depicted graphically in Figure B.2. The graph shows that none of the pretreatment dummies are significantly different from zero. This finding provides compelling evidence that there is homogeneity in the pretreatment sales trends for games that eventually receive the endorsement and those that never receive an endorsement, validating the key identifying assumption of the DiD design (Angrist and Pischke 2008). Furthermore, we note that the effect of endorsed on unit sales manifests from the moment an endorsed game hits the shelves; the effect then increases in magnitude in the following two weeks a game is on the market, after which it levels off. The positive effect ofendorsed on video games’ weekly unit sales loses statistical significance after five weeks, equivalent to a cumulative sales increase of 2,742 units. I do understand what the authors do here. From my understanding they build a dataframe looking like this: Firm Month Unit_Sales Treatment After Relative_Treatment ABC Jan 93 1 0 -4 ABC Feb 4 1 0 -3 ABC Mar 68 1 0 -2 ABC Apr 62 1 0 NA ABC May 48 1 1 0 ABC Jun 65 1 1 1 ABC Jul 68 1 1 2 ABC Aug 62 1 1 3 ABC Sep 23 1 1 4 ABC Oct 43 1 1 5 XYZ Feb 51 1 0 -6 XYZ Mar 4 1 0 -5 XYZ Apr 20 1 0 -4 XYZ May 61 1 0 -3 XYZ Jun 31 1 0 -2 XYZ Jul 25 1 0 NA XYZ Aug 39 1 1 0 XYZ Sep 16 1 1 1 DEF May 68 0 0 NA DEF Jun 44 0 0 NA DEF Jul 27 0 0 NA DEF Aug 5 0 0 NA DEF Sep 92 0 0 NA DEF Oct 42 0 0 NA DEF Nov 11 0 0 NA DEF Dec 83 0 0 NA And then dummy code Relative_Treatment, Firm and Month, and calculate: Unit_Sales = Relative_Treatment + Firm + Month This is the "simple" case where there are no missing consecutive months for each firm. But what happens if a firm misses a month in between? In comparison (missing Observation from February): Firm Month Unit_Sales Treatment After Relative_Treatment ABC Jan 93 1 0 -4 ABC Mar 68 1 0 -2 ABC Apr 62 1 0 NA ABC May 48 1 1 0 ABC Jun 65 1 1 1 ABC Jul 68 1 1 2 Or: Firm Month Unit_Sales Treatment After Relative_Treatment ABC Jan 93 1 0 -3 ABC Mar 68 1 0 -2 ABC Apr 62 1 0 NA ABC May 48 1 1 0 ABC Jun 65 1 1 1 ABC Jul 68 1 1 2 Thanks in advance!
