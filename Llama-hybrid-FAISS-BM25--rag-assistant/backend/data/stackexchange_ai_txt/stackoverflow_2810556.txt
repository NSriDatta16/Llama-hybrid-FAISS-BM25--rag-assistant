[site]: stackoverflow
[post_id]: 2810556
[parent_id]: 2810534
[tags]: 
Read the error message with attention, it points to the source of problem. Did you mean CustomerList.query.filter_by(CustomerList.customers.contains(customer)).all() ? Update : When using declarative definition you can use just defined relation in class scope, but these properties are not visible outside class: class MyClass(object): prop1 = 'somevalue' prop2 = prop1.upper() # prop1 is visible here val2 = MyClass.prop1 # This is OK val1 = prop1.lower() # And this will raise NameError, since there is no # variable `prop1` is global scope
