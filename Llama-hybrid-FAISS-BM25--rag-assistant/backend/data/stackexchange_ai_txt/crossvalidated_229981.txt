[site]: crossvalidated
[post_id]: 229981
[parent_id]: 133132
[tags]: 
Good question; I see that you are planning an implementation, and are concerned about the storage requirements. I suspect there is no flat $O(N^\alpha K^\beta)$ answer possible, as it would depend on the distribution of weights. If all weights are the same, approximately all items are competitive. If there are $K$ large weights (say 100) and $N-K$ small weights (say 1), then whenever a high-weight item enters the pool, its key is nearly always competitive, overshadowing a small-weight item. Thus the first $~\sim N/K$ items would be small, and keep fighting each other; but as soon as large items begin entering the sample, the competition for the lowest key whittles down. So my conjecture is, the number of competitive items can be anywhere from $N/K$ to $N$.
