[site]: stackoverflow
[post_id]: 5679312
[parent_id]: 5677573
[tags]: 
Ok, here is my short answer: this is not a language question and the answers and comments on here thus far are hilariously off-base. All languages, no matter how reprobate, include types. This is a question about how to detect those types and then act invoke appropriate corresponding actions. The answer is a couple of the patterns from the gang of four book. First, for the parsing part, I would recommend that you look at that as a Mediator. The actions should know nothing about the patterns or the file, and likewise, the knowledge of the actions should not be infused into the triggering context. You could call this thing a parser, detector, whatever, but the heart of that class is going to be a mapping of the pattern to an appropriate action. On the action side, the pattern to use, is of course, the Command pattern. There are a lot of possibilities when using command. If you don't need context, then the command is pretty simple, it just has an execute method. If you need to impart some context that is going to change, you can either templatize the commands or create new ones on the fly then invoke them.
