[site]: stackoverflow
[post_id]: 1518068
[parent_id]: 
[tags]: 
How to keep query parameters during pagination with webhelpers.paginate

I look an example of paginating from http://rapidprototype.ch/bg2docs/tg2pagination.html for my Turbogears 2 project and it works great but, I have a problem regarding my query parameters when I change the page I'm looking. This is what I have in my controller when listing. def list(self, page=1, **kw): q = "" if kw.has_key('q'): log.debug("searching %s" % kw) q = kw['q'] if kw.has_key('all'): q = "" products = DBSession.query(model.Product).filter( or_(model.Product.name.like('%%%s%%' % q), model.Product.description.like('%%%s%%' % q), model.Product.model.like('%%%s%%' % q), model.Product.code.like('%%%s%%' % q))).all() def get_link(product): return Markup(""" %s """ % (product.id, product.id)) product_fields = [ (Markup(""" Id """), get_link), (u'Name', 'name'), (u'Model', 'model'), (u'Code', 'code'), (u'Description', 'description')] product_grid = MyDataGrid(fields = product_fields) currentPage = paginate.Page(products, page, items_per_page=50) return dict(currentPage=currentPage, title=u'Products List', item=u'product', items=u'products', data=currentPage.items, grid=product_grid, page=u'Search %s results' % q, q=q, hits=len(products)) This is the html template fragment List of ${items} ${hits} ${items} found ${currentPage.pager(format='$link_first ~3~ $link_last')} ${grid(data)} Add a ${item} The searches works fine resulting in links like this ' /list?q=cable ' but when I click some of the paginating pages "1,2...8,9" turns to ' /list?page=2 ' How do I add my previous query parameter or any other parameters to the link?
