[site]: stackoverflow
[post_id]: 1766764
[parent_id]: 1766711
[tags]: 
It sounds like you are pushing the preprocessor beyond where it's willing to go. While it's not as elegant, how about breaking your macro in two (one pre- and one post-) and rather then passing a "scope" as parameter, you surround your scope with you pre- and post- macros. So, if your macro looks something like: SOMACRO({ ... }); You would instead do something like: PRESOMACRO(); { ... }; POSTSOMACRO();
