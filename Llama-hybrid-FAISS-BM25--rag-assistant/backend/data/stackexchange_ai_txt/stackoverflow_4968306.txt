[site]: stackoverflow
[post_id]: 4968306
[parent_id]: 
[tags]: 
Jquery image load function

// Called when image is dropped in canvas function dropResource() { var imgIndex = getImageIndexByID(currentDragImageID); var newImgID = resourceData.length; var newImage; newImage = $(' '); $('#thePage').append(newImage); $('imgA' + newImgID).load(function() { // Get properties var imgW = $('#imgA' + newImgID).width(); // Native width store this var imgH = $('#imgA' + newImgID).height(); // Native var imgX = $('#imgA' + newImgID).position().left; // Relative, scale back var imgY = $('#imgA' + newImgID).position().top; var zindex = getBiggestZindex() + 1; // Resize native dimensions to fit current scale $('#imgA' + newImgID).width(Math.round(imgW * currentScale)); $('#imgA' + newImgID).height(Math.round(imgH * currentScale)); $('#imgA' + newImgID).css("z-index", zindex); // Add to array (dbID, imgarrIndex, width, height, x, y) resourceData[newImgID] = new Array(0, imgIndex, imgW, imgH, imgX, imgY, zindex); // Make img wrapper draggable makeResourceDrag(newImgID); // Save this as a resource $.ajax({ url: 'artworkAjaxHandler.ashx?type=addResource&uploadID=' + currentDragImageID + '&page=' + currentPage + '&w=' + imgW + '&h=' + imgH + '&x=' + imgX + '&y=' + imgY + '&z=' + zindex, success: function(data) { var splitData = data.toString().split("|"); // Success if (splitData[0] == "1") { } else { $.fancybox.close(); $.jGrowl(" Error during image drop! Try reloading page. " + splitData[1], { sticky: true }); } }, error: function() { $.jGrowl(" Error There was an error when processing the Ajax request", { sticky: true }); } }); }); The load function is never calling... I know i'm probably executing this improperly, but once the image has finished loading it resizes it's wrapper automatically then I need to grab the dimensions. Can anyone help?
