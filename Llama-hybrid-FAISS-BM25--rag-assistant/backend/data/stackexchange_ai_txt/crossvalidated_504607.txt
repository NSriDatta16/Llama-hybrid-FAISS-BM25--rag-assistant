[site]: crossvalidated
[post_id]: 504607
[parent_id]: 504590
[tags]: 
I am not sure about $\mathbb{E}_{\theta|D}[X|\theta]$ , since the subscript $\theta|D$ implies that the expectation is averaging over all $\theta$ , but the $|\theta$ part in the expectation itself implies that $\theta$ has already been observed. Therefore, I will assume that $\mathbb{E}_{\theta|D}[X|\theta] \equiv \mathbb{E}_{\theta|D}[X]$ . Using the definition of a conditional expectation: $$ \mathbb{E}_{X|D}[\mathbb{E}_{\theta|D}[X]] = \mathbb{E}_{X|D}\left[\int_{\theta} x \ p(\theta|D) \ d\theta \right] $$ Using the definition of conditional expectation again: $$ \begin{align} \mathbb{E}_{X|D}\left[\int_{\theta} x \ p(\theta|D) \ d\theta \right] &= \int_x p(x|D) \cdot \left[\int_{\theta} x \ p(\theta|D) \ d\theta \right] dx \\ &= \int_x x \ p(x|D) \cdot \left[\int_{\theta} \ p(\theta|D) \ d\theta \right] dx \\ &= \int_x x \ p(x|D) \ dx \\ &= \mathbb{E}_{X|D}[X] \end{align} $$
