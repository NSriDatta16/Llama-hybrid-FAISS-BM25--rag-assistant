[site]: crossvalidated
[post_id]: 550825
[parent_id]: 550822
[tags]: 
You are correct. In the linear regression $\mathbb{E}[X\varepsilon] = 0$ by construction. I talked about this in another post here https://stats.stackexchange.com/a/550305/261146 Defining endogeneity requires additional structure. You need an "externally defined" quantity of interest. Based on this external definition you decide whether OLS satisfies exogeneity. 1. An illustrative example I think the best example is easily selection into treatment, the "causal case". Suppose that an individual is assigned to a treatment $D \in \{0,1\}$ . If the individual is part of the control she will have an outcome $Y_0$ . If she is treated, her outcome is $Y_1$ . The outcome observed by the researcher is: \begin{align*} Y &= DY_1 + (1-D)Y_0 \\ &= Y_0 + D(Y_1 - Y_0) \end{align*} The variables $(Y_1,Y_0)$ are known as "potential outcomes". An individual cannot belong to both groups at the same time, which means that one of the outcomes is never observed. The best the researcher can do is find two groups with similar characteristics and different treatment status to compare their outcomes. The average treatment effect is defined as $$ \tau = \mathbb{E}[Y_1 - Y_0] $$ This quantity is important in medical trials and many situations because it indicates the population-level treatment effect. Can we identify $\tau$ from an OLS regression of $Y$ on $D$ ? 2. Running an OLS estimator: The OLS regression takes the form: $$ Y = \mu_{OLS} + \tau_{OLS} D + \varepsilon$$ The coefficient $(\mu_{OLS},\tau_{OLS})$ are constructed to minimize MSE, and will satisfy the exogeneity condition. The OLS coefficient of $\tau$ is equal to \begin{align*} \tau_{OLS} &= \frac{\mathbb{E}[DY]}{\mathbb{E}[D]} - \frac{\mathbb{E}[(1-D)Y]}{\mathbb{E}[1-D]} \end{align*} 3. Does OLS work, i.e. $\tau_{OLS} = \tau$ ? By substituting the definition of $Y$ with potential outcomes, this is equal to $$ \tau_{OLS} = \frac{\mathbb{E}[DY_1]}{\mathbb{E}[D]} - \frac{\mathbb{E}[(1-D)Y_0]}{\mathbb{E}[1-D]} $$ Case 1: (Random assignment) When $D$ is randomly assigned, $D$ is independent of $(Y_1,Y_0)$ . This means that $\mathbb{E}[DY_1] = \mathbb{E}[D]\mathbb{E}[Y_1]$ and $\mathbb{E}[DY_0] = \mathbb{E}[D]\mathbb{E}[Y_0]$ . We can then readily verify that $\tau_{OLS} = \mathbb{E}[Y_1] - \mathbb{E}[Y_0] = \tau$ . Case 2: (Self-selection) Suppose that $D = 1$ if and only if $Y_1 > Y_0$ . This is situation where individuals only participate if they (correctly) assess that they will receive some benefit. In this case the terms may not cancel out and $\tau_{OLS} \ne \tau$ . 3. Insights We can always define the potential outcomes as linear model: $$ Y = \mu + \tau D + U $$ where $U = (Y_0 - \mu) + D(Y_1 - Y_0 - \tau)$ and $\mu = \mathbb{E}[Y_0]$ . The endogeneity condition in this case requires that \begin{align*} \mathbb{E}[ D U ] &= \mathbb{E}[D(Y_1 - Y_0 - \tau)] = 0 \\ \mathbb{E}[ U ] &= \mathbb{E}[Y_0 - \mu + D(Y_1 - Y_0 - \tau)] = 0 \\ \end{align*} This may fail if $D$ is correlated with $(Y_1,Y_0)$ . The OLS minimizes the MSE criterion. It is not guaranteed to produce anything else. We sometimes call the parameters $(\mu_{OLS},\tau_{OLS})$ "pseudo-parameters" because they solve the equation $\mathbb{E}[X(Y - \mu_{OLS} - D \tau_{OLS})] = 0$ , where $X = (1,D)$ . However, depending on the "external" model, these may or may not have a "useful" interpretation.
