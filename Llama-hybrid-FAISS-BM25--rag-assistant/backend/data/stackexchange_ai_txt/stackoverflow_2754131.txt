[site]: stackoverflow
[post_id]: 2754131
[parent_id]: 
[tags]: 
Accepting drag operations in an NSCollectionView subclass

I've subclassed NSCollectionView and I'm trying to receive dragged files from the Finder. I'm receiving draggingEntered: and returning an appropriate value, but I'm never receiving prepareForDragOperation: (nor any of the methods after that in the process). Is there something obvious I'm missing here? Code: - (void)awakeFromNib { [self registerForDraggedTypes:[NSArray arrayWithObjects:NSFilenamesPboardType, nil]]; } - (NSDragOperation)draggingEntered:(id )sender { NSLog(@"entered"); //Happens NSPasteboard *pboard; NSDragOperation sourceDragMask; sourceDragMask = [sender draggingSourceOperationMask]; pboard = [sender draggingPasteboard]; if ([[pboard types] containsObject:NSFilenamesPboardType]) { NSLog(@"copy"); //Happens return NSDragOperationCopy; } return NSDragOperationNone; } - (BOOL)prepareForDragOperation:(id )sender { NSLog(@"prepare"); //Never happens return YES; }
