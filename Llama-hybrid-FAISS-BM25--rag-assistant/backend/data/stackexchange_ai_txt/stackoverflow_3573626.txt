[site]: stackoverflow
[post_id]: 3573626
[parent_id]: 3573489
[tags]: 
You have shown two ways of calling a resultset. I hope that is fine. foreach($query1->result() as $row1) foreach($query2 as $row2) I believe, your DB library resultset method (examples above) could be returning reference to same array whenever you iterate it. So, when you called it within an existing iteration, it lost original $row1 reference. which means, $row1 == $row2 - which caused the undefined error. Try print_r or as @RobertPitt suggested. place it at the first line after the second foreach.
