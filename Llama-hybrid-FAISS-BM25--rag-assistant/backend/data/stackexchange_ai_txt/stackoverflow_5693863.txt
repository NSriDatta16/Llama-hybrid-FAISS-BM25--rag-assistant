[site]: stackoverflow
[post_id]: 5693863
[parent_id]: 
[tags]: 
Inject views into ItemsControl depending on object type

I have a service returning an array of type Party. Party has two subtypes, Person and Organization. Iâ€™m consuming this service in my WPF application (Prism, MVVM) from a view model. In the constructor of this view model I populate an observable collection of type Party: public PhoneBookViewModel(IPhoneBookService phoneBookProxy) { _phoneBookProxy = phoneBookProxy; var parties = _phoneBookProxy.GetAllParties(); _parties = new ObservableCollection (parties.ToList()); } So far so good. In my PhoneBookView I have an ItemsControl that binds to this collection. In this control I want to render each Party by using another View (and its view model). So when Party is of type Person, inject PersonView and pass the Party object to the constructor of the PersonViewModel, and when Party is of type Organization, render OrganizationView, and so on... You get the picture (or?). But I can't figure out how to do this in XAML. Any ideas? This is probaly not the best way of doing it, so if you can recommend a better approach, please enlighten me :-) Thanks!
