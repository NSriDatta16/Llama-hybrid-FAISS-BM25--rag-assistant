[site]: crossvalidated
[post_id]: 629102
[parent_id]: 
[tags]: 
How to use a random forest on a continuous dependent variable (sales) to determine absolute contribution of each variable to performance?

The ultimate question I'm trying to answer is as follows: Given year-on-year sales change (i.e. 2023 sales minus 2022 sales), split out by a number of variables, how can I calculate the absolute contribution of each variable, so that it sums to the total change? So for example, if total growth is £100k, then customer_type could be responsible for £10k of growth, of which £5k, £10k, and -£5k could be from customer types A, B, and C, respectively. The way I have gone about doing this is using a random forest using conditional inference trees (as apparently CITs have an advantage over CARTs for variables that could be correlated) in R using randomForest(). The data provided is split by 6 different variables, with the continuous dependent variable of yoy_sales_change. The random forest produced has an RMSE equal to 73% of the standard deviation of the yoy_sales_change, so seems to be at least a somewhat decent fit. I now have the "%IncMSE" and "IncNodePurity" importance metrics for each of the six variables, as well as "partial dependence" results for each of the variable possibilities (e.g. customer_type_a, customer_type_b, etc). How can I use these to determine/estimate the contributions of each variable? Would it be as simple as something like %IncMSE / sum(%IncMSE) for each of the variables and then applying it to total yoy_sales_change? And how can I determine when the contribution has been negative rather than positive? That calculation obviously doesn't account for negative contributions. Any advice / suggestions welcome. Let me know if you need to see any of the code itself.
