[site]: crossvalidated
[post_id]: 565126
[parent_id]: 
[tags]: 
Combining quantile regression with binning

I'm trying to employ a framework where I uncover the marginal effects of the quantiles of one continuous variable on another continuous variable - something analogous to the Quantile-on-quantile (QQR) approach used in Sims and Zhou (2015) and others. Unfortunately, I fear my coding skills are insufficient to code up this approach myself, and packages to implement the QQR approach don't seem to exist yet on many of the major statistical programs. Instead, to overcome this limitation, I'm thinking of an alternative technique where I: Take "bins" of my independent variable around certain quantiles of that variable. Create interaction terms which take the value = X(i) if X(i) is within the corresponding bin, and 0 otherwise. Regress the interaction terms on the dependent variable in standard quantile regressions. Repeat steps 1-3 with alternative plausible bin specifications. Average over the results. The intuition of what's seemingly achieved here seems to be fairly similar to the intuition of the original QQR approach, and I'm hopeful that steps 4-5 would remove some of the dependence of the results on binning assumptions. Is the above technique likely to yield results that are useful, or should I give this up and start reading about splines? Thanks in advance. References: Sim, N. and Zhou, H., 2015. Oil prices, US stock return, and the dependence between their quantiles. Journal of Banking & Finance, 55, pp.1-8.
