[site]: stackoverflow
[post_id]: 4856080
[parent_id]: 
[tags]: 
WP7 - drag/drop of objects created from a DataTemplate within Canvas

At a glance: My app displays an ItemsControl containing a Canvas as its ItemsPanel. The ItemsControl is bound to a collection of objects, each having Left/Top/Width/Height properties. A DataTemplate is used to generate rectangles that are rendered in the Canvas and positioned correctly (binding on the Left and Top properties). How can I implement drag/drop to move these rectangles around the Canvas? Background for my question: My WP7 app displays a "CanvasItemsControl" defined as follows: public class CanvasItemsControl : ItemsControl { public string XBindingPath { get; set; } public string YBindingPath { get; set; } protected override void PrepareContainerForItemOverride(DependencyObject element, object item) { FrameworkElement contentitem = element as FrameworkElement; if (XBindingPath != null && YBindingPath != null) { Binding xBinding = new Binding(XBindingPath); Binding yBinding = new Binding(YBindingPath); if (contentitem != null) { contentitem.SetBinding(Canvas.LeftProperty, xBinding); contentitem.SetBinding(Canvas.TopProperty, yBinding); } } base.PrepareContainerForItemOverride(element, item); } } and used in XAML as follows: This is the style for the CanvasItemsControl: And this is the DataTemplate I use to render my class: The source of the CanvasItemsControl is a collection of objects that have the properties Left, Top, Width, Height, Brush, etc. My question As you can see, the end result is, as you add items to the AllObjects collection, each object gets rendered and positioned correctly in the canvas. Now I need to drag/drop/move these objects around the canvas. What approach would you advise me to use to implement drag/drop? Can you please guide me through the process? Thank you
