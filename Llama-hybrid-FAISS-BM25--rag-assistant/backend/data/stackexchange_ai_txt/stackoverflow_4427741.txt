[site]: stackoverflow
[post_id]: 4427741
[parent_id]: 4427542
[tags]: 
Not sure about elegant, but this ought to be pretty readable at least. For a sources.list it's fine to read all the lines before hand, for something larger you might want to change "in place" while looping through it. #!/usr/bin/env python # Open file for reading and writing with open("sources.list", "r+") as sources_file: # Read all the lines lines = sources_file.readlines() # Rewind and truncate sources_file.seek(0) sources_file.truncate() # Loop through the lines, adding them back to the file. for line in lines: if line.startswith("# deb"): sources_file.write(line[2:]) else: sources_file.write(line) EDIT : Use with -statement for better file-handling. Also forgot to rewind before truncate before.
