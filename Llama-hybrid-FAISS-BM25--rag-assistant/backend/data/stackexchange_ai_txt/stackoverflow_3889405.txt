[site]: stackoverflow
[post_id]: 3889405
[parent_id]: 
[tags]: 
Can't specify Cobertura datafile location for server running under Ant?

I have an Ant build script that instruments some jar files, starts some servers using those jars files and then runs an integration test suite of junit tests against them. I want to capture the cobertura.ser file from each server in a separate file. The servers need to have their working directory set so they can pick up config files. It's a requirement of the system that the classpath must not be used to pick up these files. Setting the net.sourceforge.cobertura.datafile system property allows the datafile to be set, and this works ok, until the "dir" property is set on the ant java task. Once dir is set, the server starts correctly, the test suite runs OK, but when the server shuts down no data file is written. Here's a fragment of the build.xml: ... ...more servers... ...run junit tests...
