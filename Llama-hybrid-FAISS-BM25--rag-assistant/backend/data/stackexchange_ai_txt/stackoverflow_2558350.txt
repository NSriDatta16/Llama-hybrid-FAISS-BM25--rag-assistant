[site]: stackoverflow
[post_id]: 2558350
[parent_id]: 
[tags]: 
How to embed html table into the body of email

I am sending info to target email via PHP native mail() method right now. Everything else works fine but the table part troubles me the most. See sample output : Dear Michael Mao : Thank you for purchasing flight tickets with us, here is your receipt : Your tickets will be delivered by mail to the following address : Street Address 1 : sdfsdafsadf sdf Street Address 2 : N/A City : Sydney State : nsw Postcode : 2 Country : Australia Credit Card Number : *************1234 Your purchase details are recorded as : del? from to qty unit price total price Sydney Lima 1 1030.00 1030 Sydney Perth 3 340.00 1020 Grand Total Price 2050 The source of table is directly taken from a webpage, exactly as the same. However, Gmail, Hotmail and most of other emails will ignore to render this as a table. So I am wondering, without using Outlook or other email sending agent software, how could I craft a embedded table for the PHP mail() method to send? Current code snippet corresponds to table generation : $purchaseinfo = $_POST["purchaseinfo"]; //if html tags are not to be filtered in the body of email $stringBuilder .= " " .stripslashes($purchaseinfo) ." "; //must send json response back to caller ajax request if(mail($email, 'Your purchase information on www.hardlyworldtravel.com', $emailbody, $headers)) echo json_encode(array("feedback"=>"successful")); else echo json_encode(array("feedback"=>"error")); Any hints and suggestions are welcomed, thanks a lot in advance. Edited : $headers = 'From: fake@hardlyworldtravel.com' . "\r\n" . 'Reply-To: fake@hardlyworldtravel.com' . "\r\n" . 'X-Mailer: PHP/' . phpversion(); //carft body of email to a human readable format function buildEmailBody() { global $firstname, $lastname, $address1, $address2, $city, $state, $postcode, $country, $cardnum, $email, $purchaseinfo; $stringBuilder = ""; // * there is not such a thing as string builder in PHP $stringBuilder .= "Dear " .$firstname ." " .$lastname ." :\n"; $stringBuilder .= "Thank you for purchasing flight tickets with us, here is your receipt :\n\n"; $stringBuilder .= "Your tickets will be deliverd by mail to the following address : \n"; $stringBuilder .= "Street Address 1 : " .$address1 ."\n"; $stringBuilder .= ($address2!="") ? "Street Address 2 : " .$address2 ."\n" : "Street Address 2 : N/A\n"; $stringBuilder .= "City : " .$city; $stringBuilder .= ($state!="") ? "State : " .$state : "State : N/A "; $stringBuilder .= "Postcode : " .$postcode ."\n"; $stringBuilder .= "Country : " .$country ."\n"; $stringBuilder .= "Credit Card Number : " .$cardnum ."\n\n"; $stringBuilder .= "Your purchase details are recorded as : \n\n"; //if html tags are not to be filtered in the body of email $stringBuilder .= " " .stripslashes($purchaseinfo) ." "; //otherwise this will be painful to retrieve info out of the html table. return $stringBuilder; }
