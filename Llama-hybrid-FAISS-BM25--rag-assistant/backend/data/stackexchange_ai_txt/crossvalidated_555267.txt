[site]: crossvalidated
[post_id]: 555267
[parent_id]: 555182
[tags]: 
Approach (1) is more suited to your problem since you are interested in the average improvement/deterioration across a sample of queries. You can either use a paired t-test on the two query times columns or simply a one-sample t-test on the difference between two times. These two are equivalent. You could also do the second on the percent change if that is more meaningful. Another alternative is the exact Fisher-Pitman permutation test for paired replicates. I think I prefer the second since it is exact and the data is interval-valued, so the assumptions are satisfied. The t-test is described in virtually any statistics textbook. The FPPT is detailed in Kaiser, Johannes. "An exact and a Monte Carlo proposal to the Fisherâ€“Pitman permutation tests for paired replicates and for independent samples." The Stata Journal 7.3 (2007): 402-412. https://www.stata-journal.com/article.html?article=st0134 Here is an example in Stata where there are we have data for 12 cars. Each car was run once with a fuel additive and once without. The variables mpg1 and mpg2 represent mileage without and with the treatment, respectively. Each row corresponds to a single car. . use "https://www.stata-press.com/data/r17/fuel", clear . list, clean noobs mpg1 mpg2 20 24 23 25 21 21 25 22 18 23 17 18 18 17 24 28 20 24 24 27 23 21 19 23 . ttest mpg2==mpg1 Paired t test ------------------------------------------------------------------------------ Variable | Obs Mean Std. err. Std. dev. [95% conf. interval] ---------+-------------------------------------------------------------------- mpg2 | 12 22.75 .9384465 3.250874 20.68449 24.81551 mpg1 | 12 21 .7881701 2.730301 19.26525 22.73475 ---------+-------------------------------------------------------------------- diff | 12 1.75 .7797144 2.70101 .0338602 3.46614 ------------------------------------------------------------------------------ mean(diff) = mean(mpg2 - mpg1) t = 2.2444 H0: mean(diff) = 0 Degrees of freedom = 11 Ha: mean(diff) 0 Pr(T |t|) = 0.0463 Pr(T > t) = 0.0232 . gen change = mpg2 - mpg1 . ttest change = 0 One-sample t test ------------------------------------------------------------------------------ Variable | Obs Mean Std. err. Std. dev. [95% conf. interval] ---------+-------------------------------------------------------------------- change | 12 1.75 .7797144 2.70101 .0338602 3.46614 ------------------------------------------------------------------------------ mean = mean(change) t = 2.2444 H0: mean = 0 Degrees of freedom = 11 Ha: mean 0 Pr(T |t|) = 0.0463 Pr(T > t) = 0.0232 We find that the means are statistically different from each other at any level greater than 4.6%. Doing it in percent instead of the raw differences, you get something similar: . gen pct_diff = 100*(mpg2 - mpg1)/mpg1 . ttest pct_diff = 0 One-sample t test ------------------------------------------------------------------------------ Variable | Obs Mean Std. err. Std. dev. [95% conf. interval] ---------+-------------------------------------------------------------------- pct_diff | 12 8.860323 3.761323 13.02961 .5817056 17.13894 ------------------------------------------------------------------------------ mean = mean(pct_diff) t = 2.3556 H0: mean = 0 Degrees of freedom = 11 Ha: mean 0 Pr(T |t|) = 0.0381 Pr(T > t) = 0.0191 Here the p-value is 3.8%. Now for the FPPT: . permtest1 mpg1=mpg2, exact Fisher-Pitman permutation test for paired replicates difference vector | mpg1-mpg2 -------------------+--------------------------------- observations | 12 - positive | 3 - negative | 8 - zero | 1 -------------------+--------------------------------- critical value | -21 mode of operation: exact (complete permutation) Test of hypothesis Ho: mpg1>=mpg2 : p = .03125 Test of hypothesis Ho: mpg1 Here the two-sided p-value is 6.25%, which is a bit bigger than what we saw above. I am not a fan of using 5% as a rigid threshold for statistical significance, so I would not make much of the fact that the t-test p-values are below while the FPPT is above. I would reject the null here for both. A one-sided may also make some sense for your problem.
