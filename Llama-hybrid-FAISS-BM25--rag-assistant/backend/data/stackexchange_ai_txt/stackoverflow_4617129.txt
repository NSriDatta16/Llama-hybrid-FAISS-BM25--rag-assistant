[site]: stackoverflow
[post_id]: 4617129
[parent_id]: 
[tags]: 
calculating percentage of average in tsql

I have a set of records associated with IDs. there may be any number of records in this association, with currency values. one of these values is flagged as selected. I need to calculate an average of all the associated currency values, then take a percentage between this average and the lowest value, grouped by ID. all the data needed is in one table: input: table x: ID, Selected, DollarAmt output: view y: ID, Average, Percentage I'm having problems creating this query(view) and it's driving me nuts. can anyone at least point me in the right direction? Thanks all.
