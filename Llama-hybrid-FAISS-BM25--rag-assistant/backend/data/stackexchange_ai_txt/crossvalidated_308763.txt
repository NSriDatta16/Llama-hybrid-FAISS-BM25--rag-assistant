[site]: crossvalidated
[post_id]: 308763
[parent_id]: 308720
[tags]: 
You can estimate the propensity score in any number of ways. You can use a logit, probit, or any other model that can predict a probability of treatment, such as nonparametric regression (see the binary example here , requires Stata 15). The built-in PSM command teffects psmatch can only use logit or probits to estimate the PS and then do the matching, but there is a user written command called psmatch2 that can also re-use a predicted PS score from another estimation command like npregress using the pscore() option. To make things a bit more confusing, there are two other uses of kernel densities. First, there is also a type of PSM called kernel matching, where you use the local averages of the comparison group observations near each treated observation to construct the counterfactual for that observation. Kernel matching is just non-parametric regression of the untreated outcomes on PS using a kernel smoother. Second, folks will often show overlap in the two PS distributions using kernel density plots. You need some overlap in the T and C distributions for PSM to work well. It is not clear to me from your question what you tutor had in mind, so you may want to clarify if he wants one or more of these. You might also consider spending some time with the PSM book by Guo and Fraser to understand what you are doing. Nonparametric PSM is pretty advanced stuff!
