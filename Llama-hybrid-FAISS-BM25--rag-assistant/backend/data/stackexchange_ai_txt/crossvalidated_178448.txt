[site]: crossvalidated
[post_id]: 178448
[parent_id]: 
[tags]: 
How to implement the calculation of macro-average statistics

I wonder what is the correct way to implement calculation of macro-average statistics (Precision, Recall, F1). I have multi-label problem with highly unbalanced classes. For some classes there is no enough statistics so it's impossible to calculate Precision Recall and F1. For example let's consider two scenario of calculating macro-F1. The first one, I can just ignore all classes where F1 is undefined, and as result I divide by the number of classes with well defined F1. The second one, I still sum up F1's of all classes just replace undefined with 0 and divide by total number of classes. Which one is the correct scenario?
