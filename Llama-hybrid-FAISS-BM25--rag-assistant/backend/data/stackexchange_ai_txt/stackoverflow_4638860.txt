[site]: stackoverflow
[post_id]: 4638860
[parent_id]: 4638790
[tags]: 
It would probably be best not to do this with regexes but with PHP's native XML/HTML parsing capabilities. Something like the following code may well do what you want: Phasellus condimentum facilisis ipsum , quis elementum urna ornare non. Cras nisi libero, dapibus sed euismod id, pharetra eu libero. Maecenas mi nulla, ultrices in congue in, viverra ac massa. Quisque at turpis nulla. Suspendisse semper urna eu augue aliquet dictum. Mauris at purus in lectus varius bibendum. Fusce hendrerit posuere ante , at pellentesque odio lobortis at. Integer quis urna eget ipsum dictum volutpat quis et leo. Etiam hendrerit eleifend ornare. Phasellus eget justo elit."; $dom = new DOMDocument; $root = $dom->createDocumentFragment(); $root->appendXML($str); $bits = array(); foreach ($root->childNodes as $node) { if ($node->nodeType == XML_TEXT_NODE) { $bits = array_merge($bits, explode(' ', $node->nodeValue)); } elseif ($node->nodeType == XML_ELEMENT_NODE) { $dom->appendChild($newnode = $node->cloneNode(true)); $bits[] = $dom->saveHTML(); $dom->removeChild($newnode); } } var_dump($bits);
