[site]: stackoverflow
[post_id]: 673899
[parent_id]: 673751
[tags]: 
Imho, it's an Observer pattern (cfr the update call to every subscriber), in which the Subject happens to be a Singleton. The 'caveat' of unregistering while updating the observers is a hard one. I found myself struggling with it many times. An elegant solution to that problem was hinted in this answer on my question about it: for every observer, add an intermediate 'proxy' containing a pointer to the 'real' observer. Unregistering is then equivalent to swapping (atomically) the proxy's pointer. After updating, all proxies with null pointers can be removed safely.
