[site]: stackoverflow
[post_id]: 1784641
[parent_id]: 1784470
[tags]: 
It seems like you are doing joins in the your code, that is performing a query and for each record returned, performing a query on some of that data. And then in fact nesting more such queries. Usually it's possible to do more of the join work in the database, but I don't think we can help more without seeing the database schemas and understanding the meaning of the code. I suggest that you take just one level of the problem, and consider whether it can be expressed as a single query, or UNION of some related queries. And then build from there. As an aside, the Java you have could be reorganised and refactored to make it much easier to understand, pull out the sub queries to their own functions - but it is to be hoped that you will not need nested code like this.
