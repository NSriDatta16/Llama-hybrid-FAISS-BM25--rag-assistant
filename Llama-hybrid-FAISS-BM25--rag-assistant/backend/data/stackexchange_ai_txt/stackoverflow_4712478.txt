[site]: stackoverflow
[post_id]: 4712478
[parent_id]: 
[tags]: 
Why is the retain count so high? Memory Management

I have been going back through my app trying to handle all the memory problems and reading up on memory management. I began using [object retainCount] to trace my memory allocation. Is this to be trusted because I keep finding the counts really strange? Could someone explain the following: Bear in mind this the app delegate and an empty mainViewController makes no difference. The initWithRootViewController is causing the count to go up, but I don't see another way of adding one.... - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions { /* Create the View Controllers */ UIViewController *mainViewControl = [[[MainViewController alloc] init] autorelease]; /* Create the Navigation Controller */ UINavigationController *navigationController = [[[UINavigationController alloc] initWithRootViewController:mainViewControl] autorelease]; NSLog(@"retain count: %i",[mainViewControl retainCount]); /* Set the toolbar to purple */ navigationController.navigationBar.barStyle = UIBarStyleBlackTranslucent; navigationController.navigationBar.tintColor = [UIColor colorWithRed:.6 green:.1 blue:.4 alpha:0.4]; navigationController.navigationBar.translucent = YES; NSLog(@"retain count: %i",[mainViewControl retainCount]); navigationController.toolbar.barStyle = UIBarStyleBlackTranslucent; navigationController.toolbar.tintColor = [UIColor colorWithRed:.6 green:.1 blue:.4 alpha:0.4]; navigationController.toolbar.translucent = YES; [navigationController setNavigationBarHidden:YES animated:NO]; [navigationController setToolbarHidden:YES animated:NO]; NSLog(@"retain count: %i",[mainViewControl retainCount]); [window addSubview:[navigationController view]]; NSLog(@"retain count: %i",[mainViewControl retainCount]); And this is the log ~ 2011-01-17 19:47:21.278 ANA[5653:207] 3 2011-01-17 19:47:21.282 ANA[5653:207] 4 2011-01-17 19:47:21.286 ANA[5653:207] 7 2011-01-17 19:47:21.287 ANA[5653:207] 12 2011-01-17 19:47:21.301 ANA[5653:207] Load View I don't understand why changing those properties or referencing the navigationController is causing the retain count to shoot up. I have done it without the autoreleases and manually released too but the result is the same. Basically I don't get it, and wonder if the retainCount command is reliable, because if I can't understand this, I don't think I can debug any memory issues elsewhere...
