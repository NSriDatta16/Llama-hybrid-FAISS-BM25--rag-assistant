[site]: stackoverflow
[post_id]: 4348272
[parent_id]: 4348011
[tags]: 
OK, I will answer without testing it, and using prototypejs, but I'm sure you can workout the functions for yourself if you don't want to use a JS framework. First, you will want to create your div using document.createElement instead of injecting HTML, something like this: var d = document.createElement("div"); // Set your div properly. Then you will have to use document.appendChild to put your new div (variable d) in your page. Now the "difficult" part: listen for mousedown events and act accordingly. You can do this by using Event.observe (prototypejs) AND bind (prototypejs) to bind your object to the listener, so you can use its variables (this.variable1, variable2, etc). This will give a code somewhat like this: function ganttChart(gContainerID) { this.variable1 = "lol"; this.variable2 = "hai dere"; this.variable3 = "cometishian"; // Create Element part (createElement, appendChild, etc). var d = document.createElement("div"); // continue from here. this.gInitBarDrag = function() { alert(this.variable2); }; $(d).observe("mousedown", this.gInitBarDrag.bind(this)); } Some notes: bind and observe can be implemented somewhat easily without a JS framework. This code is untested.
