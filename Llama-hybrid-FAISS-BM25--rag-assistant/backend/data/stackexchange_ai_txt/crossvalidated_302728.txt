[site]: crossvalidated
[post_id]: 302728
[parent_id]: 302725
[tags]: 
Pooled variance is used to combine together variances from different samples by taking their weighted average, to get the "overall" variance. The problem with your example is that it is a pathological case, since each of the sub-samples has variance equal to zero. Such pathological case has very little in common with the data we usually encounter, since there is always some variability and if there is no variability, we don't care about such variables since they carry no information. You need to notice that this is a very simple method and there are more complicated ways of estimating variance in hierarchical data structures that are not prone to such problems. As about your example in the edit, it shows that it is important to clearly state your assumptions before starting the analysis. Let's say that you have $n$ data points in $k$ groups, we would denote it as $x_{1,1},x_{2,1},\dots,x_{n-1,k},x_{n,k}$, where the $i$-th index in $x_{i,j}$ stands for cases and $j$-th index stands for group indexes. There are several scenarios possible, you can assume that all the points come from the same distribution (for simplicity, let's assume normal distribution), $$ x_{i,j} \sim \mathcal{N}(\mu, \sigma^2) \tag{1} $$ you can assume that each of the sub-samples has its own mean $$ x_{i,j} \sim \mathcal{N}(\mu_j, \sigma^2) \tag{2} $$ or, its own variance $$ x_{i,j} \sim \mathcal{N}(\mu, \sigma^2_j) \tag{3} $$ or, each of them have their own, distinct parameters $$ x_{i,j} \sim \mathcal{N}(\mu_j, \sigma^2_j) \tag{4} $$ Depending on your assumptions, particular method may, or may not be adequate for analyzing the data. In the first case, you wouldn't be interested in estimating the within-group variances, since you would assume that they all are the same. Nonetheless, if you aggregated the global variance from the group variances, you would get the same result as by using pooled variance since the definition of variance is $$ \mathrm{Var}(X) = \frac{1}{n-1} \sum_i (x_i - \mu)^2 $$ and in pooled estimator you first multiply it by $n-1$, then add together, and finally divide by $n_1 + n_2 - 1$. In the second case, means differ, but you have a common variance. This example is closest to your example in the edit. In this scenario, the pooled variance would correctly estimate the global variance, while if estimated variance on the whole dataset, you would obtain incorrect results, since you were not accounting for the fact that the groups have different means. In the third case it doesn't make sense to estimate the "global" variance since you assume that each of the groups have its own variance. You may be still interested in obtaining the estimate for the whole population, but in such case both (a) calculating the individual variances per group, and (b) calculating the global variance from the whole dataset, can give you misleading results . If you are dealing with this kind of data, you should think of using more complicated model that accounts for the hierarchical nature of the data. The fourth case is the most extreme and quite similar to the previous one. In this scenario, if you wanted to estimate the global mean and variance, you would need a different model and different set of assumptions. In such case, you would assume that your data is of hierarchical structure, and besides the within-group means and variances, there is a higher-level common variance, for example assuming the following model $$ \begin{align} x_{i,j} &\sim \mathcal{N}(\mu_j, \sigma^2_j) \\ \mu_j &\sim \mathcal{N}(\mu_0, \sigma^2_0) \\ \sigma^2_j &\sim \mathcal{IG}(\alpha, \beta) \end{align} \tag{5} $$ where each sample has its own means and variances $\mu_j,\sigma^2_j$ that are themselves draws from common distributions. In such case, you would use a hierarchical model that takes into consideration both the lower-level and upper-level variability. To read more about this kind of models, you can check the Bayesian Data Analysis book by Gelman et al. and their eight schools example . This is however much more complicated model then the simple pooled variance estimator.
