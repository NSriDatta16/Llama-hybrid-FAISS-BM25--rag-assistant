[site]: stackoverflow
[post_id]: 5706264
[parent_id]: 5706214
[tags]: 
You are defining updateLocalStorage as a local inner function that is only accessible from that ready handler. Also the case with the local variable localDb. It'll work fine if you define the function and the variable outside of the $(document).ready() call;
