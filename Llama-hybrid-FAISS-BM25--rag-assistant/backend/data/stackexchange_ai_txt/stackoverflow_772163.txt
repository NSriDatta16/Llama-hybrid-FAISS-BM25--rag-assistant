[site]: stackoverflow
[post_id]: 772163
[parent_id]: 772146
[tags]: 
You'll need something along the lines of: ~App::App() { if (in != out) { delete out; } delete in; } As when the channels are different the pointers will be different. However, as danatel has pointed out in the comments in and out are not comparable. A safe (but inelegant) solution would be to use a dummy flag. Set if in and out are set to the dummy channel, the destructor would become: ~App::App() { if (!dummy) { delete out; } delete in; } Though I wouldn't be happy with this. The only other solution I can see at the moment is to change the definitions of IChannelIn and IChannelOut so that they can be compared safely.
