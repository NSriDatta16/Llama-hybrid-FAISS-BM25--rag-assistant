[site]: stackoverflow
[post_id]: 4332702
[parent_id]: 
[tags]: 
How can two ASP.NET_SessionId cookies suddenly appear in the Cookie list?

I am having a (very) intermittent issue in a production system whereby a user will sometimes get a session timeout message while navigating from one page to another (the timeout is set to 20 minutes in the web.config file, but this happens between requests within 30 seconds). I managed to get a Fiddler session of one of these timeouts and discovered that the request that triggered the timeout has two ASP.NET session Cookies in the header. I suspect ASP.NET is picking up the new Session ID and thinks that it is a new session. Here is the last request that was okay: POST https://************/****/****/GetBenefits HTTP/1.1 x-requested-with: XMLHttpRequest Accept-Language: en-au Referer: https://********/****/****/****/eabacef3-3fc1-4c7a-a2f9-6b13294cae0d Accept: application/json, text/javascript, */* Content-Type: application/x-www-form-urlencoded Accept-Encoding: gzip, deflate User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; .NET CLR 1.1.4322; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729) Host: ******** Content-Length: 272 Connection: Keep-Alive Cache-Control: no-cache Cookie: __utma=234635549.1047786296.1290759252.1290759252.1291100928.2; __utmz=234635549.1291100928.2.2.utmcsr=localhost:1600|utmccn=(referral)|utmcmd=referral|utmcct=/X/****/****/****/a4ae2246-5b3c-42a9-8c43-b6f24f1838d5; SIVISITOR=MC4xMTAuMjA0ODY3NjQ1NDAwODIuMTI5MDc1OTI1MTgxMw__*; ASP.NET_SessionId=l0tsk4jwbp1v51mu3f3e4o55; __RequestVerificationToken_Lw__=JqfrynFIDnS1wc6aFWqP5WVsahQDipJzgrD/iFFfAZBUjbJX/EDrXokuyBzvNkArAjD1UBU6cKFitP1T0gI9RLUU8MIIemT2wkf0PNJhiA5dNZMNRf7PhlRpDf0zN8QCHGbd3w== This contains one session entry: ASP.NET_SessionId=l0tsk4jwbp1v51mu3f3e4o55; The message that returns a Session Timeout is this one: POST https://********/****/****/UpdateProductCosts HTTP/1.1 x-requested-with: XMLHttpRequest Accept-Language: en-au Referer: https://********/****/****/****/eabacef3-3fc1-4c7a-a2f9-6b13294cae0d Accept: text/html, */* Content-Type: application/x-www-form-urlencoded Accept-Encoding: gzip, deflate User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; .NET CLR 1.1.4322; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729) Host: ******** Content-Length: 351 Connection: Keep-Alive Cache-Control: no-cache Cookie: __utma=234635549.1047786296.1290759252.1291100928.1291267008.3; __utmz=234635549.1291100928.2.2.utmcsr=localhost:1600|utmccn=(referral)|utmcmd=referral|utmcct=/X/****/****/****/a4ae2246-5b3c-42a9-8c43-b6f24f1838d5; SIVISITOR=MC4xMTAuMjA0ODY3NjQ1NDAwODIuMTI5MDc1OTI1MTgxMw__*; ASP.NET_SessionId=0tluyjvt4dgroov05xqalg55; __utmb=234635549.1.10.1291267008; __utmc=234635549; ASP.NET_SessionId=l0tsk4jwbp1v51mu3f3e4o55; __RequestVerificationToken_Lw__=JqfrynFIDnS1wc6aFWqP5WVsahQDipJzgrD/iFFfAZBUjbJX/EDrXokuyBzvNkArAjD1UBU6cKFitP1T0gI9RLUU8MIIemT2wkf0PNJhiA5dNZMNRf7PhlRpDf0zN8QCHGbd3w== This contains two session entries: ASP.NET_SessionId=0tluyjvt4dgroov05xqalg55; ASP.NET_SessionId=l0tsk4jwbp1v51mu3f3e4o55; This, in itself, is strange to me. What I would like to know is why the second session id is appearing. How does this happen and how can I fix it? The application is an ASP.NET MVC 1.0 based web site. Any ideas or answers would be very welcome! Cheers, Adrian.
