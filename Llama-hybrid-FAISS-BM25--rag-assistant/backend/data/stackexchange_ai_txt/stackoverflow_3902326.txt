[site]: stackoverflow
[post_id]: 3902326
[parent_id]: 3902302
[tags]: 
Using a global before_filter in your ApplicationController should be thread-safe (if you are using thread local storage). This is from the excellent declarative_authorization gem's documentation : If youâ€™d like to use model security, add a before_filter that sets the user globally to your ApplicationController. This is thread-safe. before_filter :set_current_user protected def set_current_user Authorization.current_user = current_user end Update: The actual implementation of Authorization.current_user looks like this . It uses thread-local storage, which is what makes it thread-safe.
