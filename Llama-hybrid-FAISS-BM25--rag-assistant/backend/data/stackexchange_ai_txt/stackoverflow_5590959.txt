[site]: stackoverflow
[post_id]: 5590959
[parent_id]: 
[tags]: 
Whats the best way to do character animations with Box2D?

I am developing a 2D, underwater, action-RPG for Android, using Box2D as the physics engine, mainly for collision detection, collision response and movement of in-game characters within an environment comprised of walls, rocks, and other creatures. I have tried two different approaches for implementing character animations using Box2D, and have found issues with both. As I'm new to Box2D and physics engines, I would appreciate a recommendation on how these things should best be done. An example of an animation I am trying to do is as follows: A fish wants to attack another fish, so does the following: 1) Move towards target at speed 2) Take a bite out of target creature 3) Turn and flee, back to where the attack began 4) Turn back to face the target, ready for another attack The two approaches I've tried are: A) Apply a force to the attacker (using body.applyForce() ) to move it towards the target, then another force to move it back again, after the collision Problems: * Frequently the attacker hits the target and bounces off and goes hurtling back at great speed, and bounces off walls, everywhere. The speed is pretty random, depending on where it impacts the target, the mass of the target, etc. It breaks the animation and looks terrible. * It's very hard to figure out what forces should be applied to the attacker and when, to simulate a particular animation in a physics world so it looks realistic B) Directly set the position of the attacker (using body.setTransform() ) to move the attacker to the correct position, as it moves forwards each step, then moves back again. Problems: * Directly setting the position allows the attacker to ignore collisions with walls and other creatures, so getting stuck in a wall is common * If the player is attacking, I update the world origin as the player moves, to keep the player mid-screen. This works well, except when I start an animation, as I don't want the screen to follow the animation, but only the movement component of the existing velocity, which I don't know, as I'm overriding the Box2D forces/velocities when I set the position. It's possible to do this I'm sure, but difficult - maybe I'm missing something obvious. Should I be monitoring the collisions? Overriding the collision response?? Something else? So, how would you recommend I approach this problem?
