[site]: stackoverflow
[post_id]: 4778457
[parent_id]: 
[tags]: 
PHP RSS based schedule

I've been stuck on this for awhile here. I'm trying to build a function that retrieves schedule information based on what day it is (the RSS feed has the next 10 days in advanced) The problem is sifting through the RSS feed to remove the data I don't want - for example 24th Jan 2011 : Day 7 needs to be 7. So when I use It calls this: //Finds the day by stripping data from the myDragonnet RSS feed. function schedule($given_date) { $url = "http://mydragonnet.hkis.edu.hk/schedule/day_schedule_rss.php?schedule_id=1"; $rss = simplexml_load_file($url); $date = date("~jS M Y~", strtotime($given_date)); if($rss) { foreach($rss->channel->item as $item) { foreach ($item->title as $story) { if (strpos($date, $story) !== false) { preg_match("/Day (\d+)/", $story, $m); break; // stop searching } } } } return $m[1]; } But the problem is I'm continuously getting - Notice: Undefined variable: m in ***/class.schedule.php on line 38
