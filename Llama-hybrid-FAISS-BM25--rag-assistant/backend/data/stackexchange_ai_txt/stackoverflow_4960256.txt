[site]: stackoverflow
[post_id]: 4960256
[parent_id]: 
[tags]: 
Uploadify - Paperclip - Rails 3.0.3

Im trying to get http://www.uploadify.com/ to work with Ruby on Rails 3.0.3, the files are uploading however im trying to fix the following error message. Any help much appreciated. Started POST "/videos/" for 10.170.163.142 at 2011-02-10 16:57:16 +0000 Processing by VideosController#create as HTML Parameters: {"Filename"=>"tvshow.avi", "folder"=>"/", "_website_session"=>"BAh7CEkiD3Nlc3Npb25faWQGOgZFRiIlOTA1OTIwODE1NDNkZDhkYzU2Yjc0MWJhMTdiNWFlZTlJIhBfY3NyZl90b2tlbgY7AEZJIjEvd3dnSjQ3NE83cDQ3SkF0ZXU4alN3dHdkaHl5Wm9vV29XRllBOWc1ajRBPQY7AEZJIgx1c2VyX2lkBjsARmkG--f618cf0d51fe1beebcc03eb200d1b3d023c98757", "/wwgJ474O7p47JAteu8jSwtwdhyyZooWoWFYA9g5j4A"=>"=authenticity_token", "Filedata"=>#>, "Upload"=>"Submit Query"} Completed in 0ms ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken): app/middleware/flash_session_cookie_middleware.rb:17:in `call' Rendered /Volumes/Storage/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms) Rendered /Volumes/Storage/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.2ms) Rendered /Volumes/Storage/.rvm/gems/ruby-1.9.2-p136/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (20.4ms) I dont understand whats going on here, why does the file not upload? require 'rack/utils' class FlashSessionCookieMiddleware include Rack::Utils def initialize(app, session_key = '_session_id') @app = app @session_key = session_key end def call(env) if env['HTTP_USER_AGENT'] =~ /^(Adobe|Shockwave) Flash/ params = ::Rack::Request.new(env).params env['HTTP_COOKIE'] = [ @session_key, params[@session_key] ].join('=').freeze unless params[@session_key].nil? end @app.call(env) end end
