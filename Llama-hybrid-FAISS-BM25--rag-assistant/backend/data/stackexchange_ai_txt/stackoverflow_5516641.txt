[site]: stackoverflow
[post_id]: 5516641
[parent_id]: 
[tags]: 
Smoothing function for battery voltage display to reduce spikes in embedded system

Reading a battery voltage in an embedded device. However, the actual voltage varies greatly depending upon system load. We need a method to reduce the fluctuation of the voltage to display the best value. Currently, we're using a rolling/moving average. However, over the last 15 readings, the result still fluctuates too much. In reading about smoothing algorithms, it appears that b-splines, kernel filters, or some other smoothing algorithms would be ideal. However, I can't find a simple example that doesn't use numpy or intrinsic functions within mathcad or some such. Anybody know of a simple-to-implement function that could help with this? This is a C++ project (using Qt 4.5) with just the bar minimum of libraries. I'd prefer to stay in the integer domain (showing the voltage in millivolts from 3300-4200). TIA Mike
