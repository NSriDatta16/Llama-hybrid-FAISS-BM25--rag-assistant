[site]: crossvalidated
[post_id]: 315981
[parent_id]: 
[tags]: 
Regression for sum of a high-variance discrete variable and a low-variance continuous variable

I am trying to estimate a variable and I have prior knowledge that it is a sum of a discrete component and a continuous component, where the differences between values of the discrete component are larger than the interval of the possible values of the continuous component. The histogram looks like some narrow distribution replicated around several different integers (and the copies are non-overlapping), which presumably expresses an underlying probability density function that is a convolution between some narrow distribution and a comb of (Dirac delta) impulses shifted to integer values. I have feature vectors and ground truth labels for a dataset which contain many values of the continuous component but only a few values of the discrete component. For example, it might include the labels: 1.001, 1.003, 1.004, 0.999, ... and 5.002, 5.003, 5.004, 4.995. That is, many values around 1 and many values around 5, but only around those two discrete values. I am trying to train a regression model in order to predict the labels of feature vectors that are not included in the training set, with possible outputs such as 3.005 or 4.001. When I try linear regression, it is only able to fit the discrete component, so if I test a feature vector that should output 3.005, it outputs some other value close to 3, but it does not learn the correct mapping to the different continuous values around 3. When I try a neural network, it creates separate regressions for each discrete value separately and never learns to generalize and to predict values around discrete values that it has not trained on. It outputs the correct decimal value, but with an offset of an integer value. So instead of predicting 3.005, it might predict 5.005. How can I use my prior knowledge about the distribution being a sum of a discrete variable and continuous variable and get good predictions in terms of mean squared error?
