[site]: stackoverflow
[post_id]: 4927555
[parent_id]: 
[tags]: 
Howto redirect users based on their roles in rails 3?

I am trying to figure out how to redirect users on certain URL based on their role, after they log to the Ruby/Rails3 application. So far, I have used authlogic gem for authentification and cancan gem for role setting. Roles are just like this (defined in app/models/user.rb): class User Now there is app/controllers/user_session_controller.rb which is taking care of logins. I would like to make something like this: for r in User.role if r == "admin" redirect_to admins_url else redirect_to users_url end end This is not working because of the following error: "undefined method `role' for # " Is there a simple or elegant way how to redirect users to the certain URLs according to their roles? (Roles are defined in mysql column 'role' in the users table.)
