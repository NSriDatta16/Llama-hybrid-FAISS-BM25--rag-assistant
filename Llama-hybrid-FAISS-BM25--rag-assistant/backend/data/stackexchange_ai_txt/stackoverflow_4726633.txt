[site]: stackoverflow
[post_id]: 4726633
[parent_id]: 
[tags]: 
Connecting to imap.google with SSL

I`m trying to make an email client but it doesn't work :/ Im trying to connect to google imap with SSL (without SSL i can make it) Code: #include "StdAfx.h" #include "openssl/ssl.h" #include "iostream" #include #include #include #include #include #include using namespace std; #pragma comment(lib, "Ws2_32.lib") #define BUFSIZE 1024 char buf[BUFSIZE]; char *msg; WSADATA wsda; int sock; struct hostent *host; struct sockaddr_in server_addr; short int s_port = 993; const char *s_ipaddr = "74.125.77.109"; int SSL_library_init(); SSL_METHOD *meth; int main () { SSL_load_error_strings(); SSL_library_init(); //RAND_seed(buf, BUFSIZE); SSL_CTX *sslContext = SSL_CTX_new(SSLv23_client_method()); if (sslContext == NULL) { cout h_addr_list[0], host->h_length); } connect(sock, (struct sockaddr *) &server_addr, sizeof(server_addr)); SSL_set_fd(sslConnection, sock); SSL_connect(sslConnection); cout And thats what i receive: Connecting: * OK Gimap ready for requests from 195.150.156.162 y48if37710eei.45 Logging-in: * CAPABILITY IMAP4rev1 UNSELECT LITERAL+ IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE a1 OK emailapp123@gmail.com authenticated (Success) INBOX What should I do to make the connection right? Thanks for every advice :-) Chris
