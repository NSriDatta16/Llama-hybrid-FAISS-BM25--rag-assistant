[site]: crossvalidated
[post_id]: 285291
[parent_id]: 
[tags]: 
Performing ANOVA on repeated measure in R with random effect

I organized an experiment wherein participants need to do a task, and they got score for each time they do this task. Each participant needs to do the task 4 times in 4 conditions: (1) no additional stuff (2) participants do task while listening to music (3) participants do task while watching a movie (no sound). (4) participants do task while listening to the same music and watching the same movie The lab is small, so I organized participants in group, i.e. 6 people will perform the task in the same time. In total there are 5 groups (30 people). So I have a dataframe like that subject group music movie score 1 1 0 0 0.5 1 1 1 0 0.3 ... 7 2 1 1 0.4 My hypothesis is that, either allow watching movie or listening to music will increase score of participants. I want to test against the group effect. I want to set the subject as random effect not fixed effect, so my idea is the result can be applied for any people, not only recruited people. I tried with df.aov but I am not sure is it the right one, and I am confused by the result of summary (df.aov) . So how should I do the test in R? Thank you very much Update: Here is the result of summary (df.aov) Error: subject Df Sum Sq Mean Sq F value Pr(>F) group 4 2.004 0.5010 6.189 0.00132 ** Residuals 25 2.024 0.0809 --- Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 Error: movie Df Sum Sq Mean Sq movie 1 0.4132 0.4132 Error: subject:music Df Sum Sq Mean Sq F value Pr(>F) music 1 0.4955 0.4955 13.50 0.00114 ** group:music 4 0.3832 0.0958 2.61 0.05974 . Residuals 25 0.9177 0.0367 --- Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 Error: Within Df Sum Sq Mean Sq F value Pr(>F) group:movie 4 0.0982 0.0246 1.399 0.2477 music:movie 1 0.3741 0.3741 21.326 2.74e-05 *** group:music:movie 4 0.1689 0.0422 2.407 0.0617 . Residuals 50 0.8772 0.0175 --- Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
