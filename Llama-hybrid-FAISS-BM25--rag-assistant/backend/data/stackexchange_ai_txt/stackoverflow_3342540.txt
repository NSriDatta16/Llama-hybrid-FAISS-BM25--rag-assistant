[site]: stackoverflow
[post_id]: 3342540
[parent_id]: 
[tags]: 
How to count in coredata (aggregation)?

I am learning core data and particularly working on aggregation. Current what I want to do : count the number of records from the table which is in to-many relationship with inverse relationship on some criteria . Currently I am doing this : NSExpression *ex = [NSExpression expressionForFunction:@"count:" arguments:[NSArray arrayWithObject:[NSExpression expressionForKeyPath:@"ddname"]]]; NSPredicate *pred = [NSPredicate predicateWithFormat:@"ddtype == 'Home'"]; NSExpressionDescription *ed = [[NSExpressionDescription alloc] init]; [ed setName:@"countDDEvents"]; [ed setExpression:ex]; [ed setExpressionResultType:NSInteger16AttributeType]; NSArray *properties = [NSArray arrayWithObject:ed]; NSFetchRequest *request = [[NSFetchRequest alloc] init]; [request setPredicate:pred]; [request setPropertiesToFetch:properties]; [request setResultType:NSDictionaryResultType]; NSEntityDescription *entity = [NSEntityDescription entityForName:@"DDEvent" inManagedObjectContext:[self.currentAccount managedObjectContext]]; [request setEntity:entity]; NSArray *results = [[self.currentAccount managedObjectContext] executeFetchRequest:request error:nil]; NSDictionary *dict = [results objectAtIndex:0]; NSLog(@"Average birthdate for female heroes: %@", [dict objectForKey:@"countDDEvents"]); Its from jeff lemarche. EDIT : and I have found my solution as NSFetchRequest *request = [[NSFetchRequest alloc] init]; NSPredicate *pred = [NSPredicate predicateWithFormat:@"ddtype == 'Home'"]; [request setPredicate:pred]; NSEntityDescription *entity = [NSEntityDescription entityForName:@"DDEvent" inManagedObjectContext:[self.currentAccount managedObjectContext]]; [request setEntity:entity]; NSError *error = nil; NSUInteger count = [[self.currentAccount managedObjectContext] countForFetchRequest:request error:&error]; It is working nicely .But I want to do more request of such type at a time . So i think this can't be a preferred way of getting the count . EDIT : So I think the approach would be the appropriate one ???? So can anyone tell me more efficient an preferred way of doing this . Thanks .
