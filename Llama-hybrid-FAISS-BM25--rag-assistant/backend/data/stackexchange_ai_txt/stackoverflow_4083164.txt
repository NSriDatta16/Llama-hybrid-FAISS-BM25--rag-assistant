[site]: stackoverflow
[post_id]: 4083164
[parent_id]: 
[tags]: 
Django: Remove message before they are displayed

I know this question sounds weird, but please, let me explain myself. I'm using a decorator to make a message persist until the user actually dismisses it (like the behavior of stack overflow's messages). The problem is, as a result of this, the message gets added before the user signs out, and so the message gets displayed right after the user logs out. I'm wondering what the best way to remove the message in the logout view is. I've thought of two ways to do this, and am wondering if anyone can think of a better one. I'm currently favoring this: storage = messages.get_messages(request) storage.used = True Over this: storage = messages.get_messages(request) del storage._loaded_messages[0] To me the second way seems more explicit, even though it is uglier: my intention is to remove the currently loaded messages and this makes that clear. The first way employs a means by which the messages will be cleared as a side effect ... but at least it doesn't rely upon a dunder variable ... what do you guys think?
