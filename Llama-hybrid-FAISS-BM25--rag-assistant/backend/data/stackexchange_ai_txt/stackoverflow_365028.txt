[site]: stackoverflow
[post_id]: 365028
[parent_id]: 
[tags]: 
A little help with DOM manip and GreaseMonkey

I'm not a JS guy so I'm kinda stumbling around in the dark. Basically, I wanted something that would add a link to a twitter search for @replies to a particular user while on that person's page. Two things I am trying to figure out: how to extract the user name from the page so that I can construct the right URL. ie. if I am on http://twitter.com/ev , I should get "ev" back. how to manipulate the DOM to insert things at the right place Here's the HTML fragment I'm targetting: Updates Favorites And here is the script (so far): // ==UserScript== // @name Twitter Replies Search // @namespace http://jauderho.com/ // @description Find all the replies for a particular user // @include http://twitter.com/* // @include https://twitter.com/* // @exclude http://twitter.com/home // @exclude https://twitter.com/home // @author Jauder Ho // ==/UserScript== var menuNode = document.getElementById('tabMenu'); if (typeof(menuNode) != "undefined" && menuNode != null) { var html = []; html[html.length] = ' '; html[html.length] = ' @Replies Search '; html[html.length] = ' '; // this is obviously wrong var div = document.createElement('div'); div.className = 'section last'; div.innerHTML = html.join(''); followingNode = menuNode.parentNode; followingNode.parentNode.insertBefore(div, followingNode); }
