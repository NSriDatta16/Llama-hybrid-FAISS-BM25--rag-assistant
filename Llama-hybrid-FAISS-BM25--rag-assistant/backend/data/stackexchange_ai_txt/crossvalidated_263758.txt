[site]: crossvalidated
[post_id]: 263758
[parent_id]: 260430
[tags]: 
This is the way how PASCOL-VOC 2012 and MS-COCO calculate mAP, pseudo code as followed: For each single class of object, iterate through entire list of predictions for all images TP = [0] * number of predictions NP = [0] * number of predictions for i, prediction in enumerate(predictions): # sorted by prediction confidence, descended try to find the ground truth with same class and largest IoU: if IoU > threshold(0.5 in PASCOL VOC 2012) if ground truth has not been assigned yet: assign this ground truth to the prediction TP[i] = 1 else: # corresponding ground truth has been assigned or IoU To get AP, first to smooth the P-R curve, then calculate the area under the curve. To get mAP, repeat above steps for all classes and average them. Reference: Python version of PASCOL VOC 2012 Evaluation Metric: https://github.com/Cartucho/mAP Original PASCOL VOC 2012 Toolkit(in MATLAB): https://github.com/Cartucho/mAP Original MSCOCO: http://cocodataset.org/#detection-eval
