[site]: stackoverflow
[post_id]: 2209021
[parent_id]: 
[tags]: 
Generating density/heat maps like SpatialKey

SpatialKey generates some really nice looking heatmaps, and we're looking into what's involved in doing this for an internal project to visualize large amounts of points. I'm looking for feedback on some ideas on where to get started (and it's just a really interesting problem). SpatialKey heatmap http://img697.imageshack.us/img697/7964/resolutiondays508x17550.jpg We know that they're using Flash, and from what we can tell, the heatmaps are interactive rather than being rendered from a tile server. Our first guess at how this is implemented is that the server provides their Flash client with a grid - each cell having a count computed by the server. The Flash client then does some interpolation based on the cell values in the grid to make the pretty output you see above. At this stage, I'm just interested in how they could possibly generate the grid efficiently server-side (if our assumption on their implementation is even correct). It seems that it would involve: Performing a query for what's currently in map bounds Performing an aggregation subquery for each cell within those bounds (doing a count, sum, or average as in the example above). Throw doing this at multiple zoom levels at a sane grid resolution and it seems like you'd need a custom spatial index to make this efficient. Any takers on explaining an alternative route? If it matters, we're accustomed here to storing our data in PostgreSQL with PostGIS for the spatial index, but I'm open to trying anything.
