[site]: stackoverflow
[post_id]: 4279222
[parent_id]: 4279108
[tags]: 
Try my Rangy library and its Serializer module . I'm not convinced it's exactly what you want because you mentioned the server remembering the selection, whereas my suggestion uses cookies, and the serialized selection will vary between browsers. However, it does do as you described in the first paragraph. On the other hand, it's pretty much impossible to write something that will work for all browsers and all pages, since browsers interpret HTML differently and build different DOMs.
