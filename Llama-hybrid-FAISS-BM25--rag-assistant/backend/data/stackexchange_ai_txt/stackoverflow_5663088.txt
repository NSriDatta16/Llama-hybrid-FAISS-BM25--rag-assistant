[site]: stackoverflow
[post_id]: 5663088
[parent_id]: 
[tags]: 
sending mail in magento

How to send email in magento writing an action in index controller? my index controller; public function postAction() { $post = $this->getRequest()->getPost(); if(!$post) exit; $translate = Mage::getSingleton('core/translate'); $translate->setTranslateInline(false); try { $postObject = new Varien_Object(); $postObject->setData($post); if (!Zend_Validate::is(trim($post['email']), 'EmailAddress')) { echo ' '.Mage::helper('contacts')->__('Please enter a valid email address. For example johndoe@domain.com.').' '; exit; } $storeId = Mage::app()->getStore()->getStoreId(); $emailId = Mage::getStoreConfig(self::XML_PATH_SAMPLE_EMAIL_TEMPLATE); $mailTemplate = Mage::getModel('core/email_template'); $mailTemplate->setDesignConfig(array('area'=>'frontend', 'store'=>$storeId)) ->setReplyTo($post['email']) ->sendTransactional($templateId, $sender, $email, $name, $vars=array(), $storeId=null) if (!$mailTemplate->getSentSuccess()) { echo ' '.Mage::helper('contacts')->__('Unable to submit your request. Please, try again later.').' '; exit; } $translate->setTranslateInline(true); echo ' '.Mage::helper('contacts')->__('Your inquiry was submitted and will be responded to as soon as possible. Thank you for contacting us.').' '; } catch (Exception $e) { $translate->setTranslateInline(true); echo ' '.Mage::helper('contacts')->__('Unable to submit your request. Please, try again later.').$e.' '; exit; } } is there any wrong.. please help me to out of this.. Thanks in advance..
