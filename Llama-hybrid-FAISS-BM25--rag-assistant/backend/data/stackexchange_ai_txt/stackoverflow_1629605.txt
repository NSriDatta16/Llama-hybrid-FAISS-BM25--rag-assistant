[site]: stackoverflow
[post_id]: 1629605
[parent_id]: 
[tags]: 
Getting $USER inside shell script when running with sudo?

How do I get the correct $USER if I run a shell script with sudo ? I run them as postinstall scripts in a Mac install package, where they are being sudo-ed automatically, but I need to do stuff with the username. $HOME is correct, though. The inelegant method would be to extract the name from the home path, but I wonder if there is a natural way to do this. I can't influence the way the scripts are being called, as it's an automatic call inside the installer.
