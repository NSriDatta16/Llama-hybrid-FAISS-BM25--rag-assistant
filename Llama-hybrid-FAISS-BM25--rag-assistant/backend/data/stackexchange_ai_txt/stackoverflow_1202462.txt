[site]: stackoverflow
[post_id]: 1202462
[parent_id]: 1082541
[tags]: 
Windows Batch File This is obviously not the smallest solution, but I decided to post it anyway, just for fun. :) NB: the batch file uses a temporary file named $ for storing temporary results. Original uncompressed version with comments: @echo off setlocal enableextensions enabledelayedexpansion set infile=%1 set cnt=%2 set tmpfile=$ set knownwords= rem Calculate word count for /f "tokens=*" %%i in (%infile%) do ( for %%w in (%%i) do ( rem If the word hasn't already been processed, ... echo !knownwords! | findstr "\ " > nul if errorlevel 1 ( rem Count the number of the word's occurrences and save it to a temp file for /f %%n in ('findstr "\ " %infile% ^| find /v "" /c') do ( echo %%n^|%%w >> %tmpfile% ) rem Then add the word to the known words list set knownwords=!knownwords! %%w ) ) ) rem Print top 10 word count for /f %%i in ('sort /r %tmpfile%') do ( echo %%i set /a cnt-=1 if !cnt!==0 goto end ) :end del %tmpfile% Compressed & obfuscated version, 317 characters: @echo off&setlocal enableextensions enabledelayedexpansion&set n=%2&set l= for /f "tokens=*" %%i in (%1)do for %%w in (%%i)do echo !l!|findstr "\ ">nul||for /f %%n in ('findstr "\ " %1^|find /v "" /c')do echo %%n^|%%w>>$&set l=!l! %%w for /f %%i in ('sort /r $')do echo %%i&set /a n-=1&if !n!==0 del $&exit /b This can be shortened to 258 characters if echo is already off and command extensions and delayed variable expansion are on: set n=%2&set l= for /f "tokens=*" %%i in (%1)do for %%w in (%%i)do echo !l!|findstr "\ ">nul||for /f %%n in ('findstr "\ " %1^|find /v "" /c')do echo %%n^|%%w>>$&set l=!l! %%w for /f %%i in ('sort /r $')do echo %%i&set /a n-=1&if !n!==0 del $&exit /b Usage: > filename.bat input.txt 10 & pause Output: 6|DIES 4|FDR 3|Johnson 3|Bush 2|Wilson 2|Washington 2|Truman 2|Roosevelt 2|Reagan 2|Nixon
