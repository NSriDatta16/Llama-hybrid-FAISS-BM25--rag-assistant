[site]: stackoverflow
[post_id]: 5643999
[parent_id]: 5643977
[tags]: 
Generally speaking, this is bad code. You are messing business logic with views. I would definitely use a very simple template system like : Simple and Fast Template Engine This code cannot be maintained and if it gets bigger, it would be a hell to even read. Please do yourself a favor and separate logic from views. Take a look at this nice example from the url above, to see how code should be organized : set('title', 'User Profile'); $profile = array( 'name' => 'Frank', 'email' => 'frank@bob.com', 'password' => 'ultra_secret' ); $tpl->set_vars($profile); echo $tpl->fetch('profile.tpl.php'); ?> The associated template looks like this: Name Email Password And the parsed output is as follows: Name Frank Email frank@bob.com Password ultra_secret
