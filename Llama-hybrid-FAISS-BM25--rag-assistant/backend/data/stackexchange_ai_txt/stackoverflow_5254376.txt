[site]: stackoverflow
[post_id]: 5254376
[parent_id]: 5254325
[tags]: 
Using PHP's GD extension can truly be a pain. Personally, I would recommend adopting a abstraction library like WideImage . This would simplify your code greatly: $picture = $_FILES['picture']['name']; /*original file location*/ $file = 'picture/'.$picture; move_uploaded_file($_FILES["userfile"]["tmp_name"], $picture); /*save thumbnail location*/ $save = 'thumb/tn-'.$picture; // Magic Begins Here ...... require "path-to/WideImage.php"; $image = WideImage::load($picture); $thumb = $image->resizeDown(300, 200, 'inside'); $thumb->saveToFile($save); Yes, all that code above reduced to four lanes. A few pointers: Never rely on $_FILES[]['mime'] . That's sent by the user-agent and it cannot be trusted. For the same reason, I wouldn't base my file names on $_FILES[]['name'] . Also, your original code doesn't work because you never move_uploaded_file() .
