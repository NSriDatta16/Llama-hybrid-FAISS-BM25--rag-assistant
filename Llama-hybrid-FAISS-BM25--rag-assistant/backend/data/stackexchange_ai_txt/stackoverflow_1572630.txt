[site]: stackoverflow
[post_id]: 1572630
[parent_id]: 
[tags]: 
Using web services in different environments

We have a series of web services that live in different environments (dev/qa/staging/production) that are accessed from a web application, a web site, and other services. There are a few different service areas as well. So for production, we have services on four different boxes. We conquered the db connection string issue by checking the hostname in global.asax and setting some application wide settings based on that hostname. There is a config.xml that is in source control that list the various hostnames and what settings they should get. However, we haven't found an elegant solution for web services. What we have done so far is add references to all the environments to the projects and add several using statements to the files that use the services. When we checkout the project, we uncomment the appropriate using statement for the environment we're in. It looks something like this: // Development // using com.tracking-services.dev // using com.upload-services.dev // QA // using com.tracking-services.qa // using com.upload-services.qa // Production // using com.tracking-services.www // using com.upload-services.www Obviously as we use web services more and more this technique will get more and more burdensome. I have considered putting the namespaces into web.config.dev, web.config.qa, etc and swapping them out on application start in global.asax. I don't think that will work because by the time global.asax is run the compilation is already done and the web.config changes won't have much effect. Since the "best practices" include using web services for data access, I'm hoping this is not a unique problem and someone has already come up with a solution. Or are we going about this whole thing wrong? Edit: These are asmx web services. There is no url referenced in the web.config that I can find.
