[site]: stackoverflow
[post_id]: 5660877
[parent_id]: 
[tags]: 
Selective critical section - conditional

I got a thread which takes a db table as a paramater, I got an issue where I can't write to that db table at the same time. 1 instance of TMyThread can have a db table of 'Member' while another could have 'Staff' however there can be cases of two threads open with the same table. Thus, I need to wrap the code in a critical section (or similar) but I don't want some dirty thing like several crical sections like (fMemberTable, fStaffTable)... begin if fDBTable = 'Member' then fMemberTable.Enter else if fDbTable = 'Staff' then .... We have 8 tables so that would get messy Is there some way to do TCricalSection(fMemberTable).Enter; Or some way to do this which is easy to 'scale' and use? One critical section around the function doesn't make sense, as I don't want to hold back other tables....
