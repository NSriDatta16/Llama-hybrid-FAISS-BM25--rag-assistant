[site]: crossvalidated
[post_id]: 608102
[parent_id]: 606625
[tags]: 
It would be better to use the second model rather than OLS since that will have the more correct degrees of freedom. The panel model adjusts for the fact that you calculated the mean in each state before transforming your data. If you add state dummies to your OLS model, you should get something very close to the panel version. I think you should also use result = model.fit(cov_type='clustered', cluster_entity=True) This clusters the standard errors by state to allow correlation in shocks within each state. For these two reasons, the second model with clustered SEs should be used with time-varying covariates. You are estimating the post-pre change in cigarette consumption in CA less the corresponding change in the other ~38 states, possibly adjusted for covariates. This gives you the average treatment effect of the tax for CA (assuming DID assumptions hold). The reason your effect changes so much when you add the control is that retprice is the average retail price per pack of cigarettes (in cents) in that year in each state, and it includes state sale taxes (see Appendix A in the linked paper). The treatment in Proposition 99 increased Californiaâ€™s cigarette excise tax by 25 cents per pack, earmarked the tax revenues to health and anti-smoking education budgets, funded anti-smoking media campaigns, and spurred local clean indoor-air ordinances throughout the state. So with this control, you are effectively removing the part of the effect that has to do with higher taxes. Not surprisingly, the effect of the policy now gets cut in half.
