[site]: stackoverflow
[post_id]: 5689602
[parent_id]: 
[tags]: 
php striping with exceptions or reorganizing htmlspecialchar

I'm trying to build a web site basicly for sharing sample codes and comments. My problem is avoiding any tags/scripts except a img and some very common ones like i b... I tried different solutions but at one point all of them stacks: If user uses First started my code with spliting the tags, split_tag the other places and htmlspecialchars to the code part then remerge them. But still if user uses . (Also tried to avoid strip_tags to erase, by putting a whitespace after Then i tried it backward. Used htmlspecialchars for all post and change the specific ones back to tag appearance. This time i got trouble with all replace functions because some of them didnt worked correctly or overlap with eachother. I feel like there is a simple solution but i couldnt looked at the right angle. Any suggestions ? $yazi = htmlspecialchars($_POST["yazi"]); $yazi = str_replace('&lt;a href=&quot;', ' $yazi = str_replace('&lt;&#47a&gt;', ' ', $yazi); $yazi = str_replace('&lt;code&gt;',' ', $yazi); $yazi = str_replace('&lt;&#47codea&gt;', ' ', $yazi); $yazi = str_replace('&lt;br&gt;', ' ', $yazi); $yazi = str_replace('&lt;i&gt;', ' ', $yazi); $yazi = str_replace('&lt;&#47i&gt;', ' ', $yazi); $yazi = str_replace('&lt;b&gt;',' ',$yazi); $yazi = str_replace('&lt;&#47b&gt;',' ',$yazi); $yazi = str_replace('&lt;p&gt;',' ',$yazi); $yazi = str_replace('&lt;&#47p&gt;',' ',$yazi); $yazi = str_replace('&lt;img src=&quot;', ' $yazi = str_replace('&quot;/&gt;', '"/>', $yazi); $yazi = str_replace('&quot; /&gt;', '" />', $yazi); $yazi = str_replace('&quot;&gt;', '">', $yazi); $yazi = str_replace('&quot; &gt;', '" >', $yazi);
