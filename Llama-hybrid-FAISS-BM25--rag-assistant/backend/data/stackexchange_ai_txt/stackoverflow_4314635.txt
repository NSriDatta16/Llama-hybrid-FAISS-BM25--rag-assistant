[site]: stackoverflow
[post_id]: 4314635
[parent_id]: 
[tags]: 
How do vimeo / youtube etc. get referrer URL in their iframes?

Baffled by the huge quantity of answers and problems on this subject. Now, I accept the security JS situation disallowing cross-domain access from iFrame to container window/pages but the ideal resolutions cited in numerous articles of Fragment Identifers or postMessage API is truly baffling. What I want to do is replicate what vimeo seem to have pulled off; their new iframe embed code Uses http://a.vimeocdn.com/js/player_combined.opt.js?8ba54 and seems to be able to fill out a referrer url in the iframe's source from the parent loading page. I.e. www.donkey.com/myvideo.html gets inserted in the http://player.vimeo.com/video/17263117 page. Normally, with security blocks on JS this is not possible with simple parent.location.href. So, I looked into it and have been going on a truly wild chase of the goose to find how this can be done. I've tried to understand their JS and played with postMessage API but haven't got anything to show. Any guidance is very much welcome.
