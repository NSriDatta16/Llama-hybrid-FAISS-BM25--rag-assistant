[site]: crossvalidated
[post_id]: 588243
[parent_id]: 
[tags]: 
algorithm to either fit data as linear or stepwise constant

Given data $(y_i, x_i)_{i=1}^n$ , I wish to fit either: a linear regression, $y = \beta_0 + \beta_1 x$ ; or a stepwise constant function, $y = \left\{ \begin{align} y_1 & \text{ if } x . Is there a single algorithm that can determine whether the linear regression (fitting $\beta_0, \beta_1$ ) or the stepwise constant function (fitting $\xi_1, \ldots, \xi_{n-1}$ ) is a better fit (for a given computational budget)? Note: the stepwise constant function is a linear regression with zero slope but structural breaks; the stepwise constant function can be produced by e.g.\ XGBoost with max_depth = 1 .
