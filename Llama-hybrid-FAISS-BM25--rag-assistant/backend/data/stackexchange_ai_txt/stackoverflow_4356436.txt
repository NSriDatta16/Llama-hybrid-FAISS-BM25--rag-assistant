[site]: stackoverflow
[post_id]: 4356436
[parent_id]: 
[tags]: 
Generating a PDF using the new printing stuff in iOS 4.2

Historically, my app has generated confirmations as plain HTML and passed that HTML to the normal MFMailComposeViewController for emailing to the customer. I wanted to try to leverage the new printing classes in iOS 4.2 to render the HTML to a PDF instead and send that as an attachment. I tried the following: NSString *html = /* generate my HTML here */ NSMutableData *pdfData = [NSMutableData data]; UIMarkupTextPrintFormatter *fmt = [[UIMarkupTextPrintFormatter alloc] initWithMarkupText:html]; // Render the html into a PDF UIGraphicsBeginPDFContextToData( pdfData, CGRectZero, nil ); for (NSInteger i=0; i The problem is that [fmt pageCount] always returns zero, so no actual page content is ever rendered into the PDF NSData. Has anyone had any luck using UIMarkupTextPrintFormatter outside of an actual print job to convert HTML to PDF? Any help much appreciated.
