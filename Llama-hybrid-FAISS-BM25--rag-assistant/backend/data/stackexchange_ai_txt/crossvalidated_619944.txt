[site]: crossvalidated
[post_id]: 619944
[parent_id]: 619926
[tags]: 
You describe a two stage experiment: first draw the $n$ success probabilities $p_1,\dots, p_n$ from $\{a,b\}$ with equal probability, then draw $X$ as a Poisson binomial given the probabilities. To get mean and variance for this doubly stochastic variable, you can condition on the outcome of the first part of your experiment and then average, use the law of total expectation and law of total variance . Let $N_a$ be the number of probabilities $p_i=a$ in the first stage. Then $N_a\sim \mathrm{Bin}(n, \frac{1}{2})$ . This gives \begin{aligned} \mathrm{E}X &= \mathrm{E}[\mathrm{E}(X|N_a)] \\&=\mathrm{E}[N_a a + (n-N_a)b] \\&=\frac{n}{2}(a+b), \end{aligned} and \begin{aligned} \mathrm{Var}X &= \mathrm{E}[\mathrm{Var}(X|N_a)] + \mathrm{Var}[\mathrm{E}(X|N_a)] \\&=\mathrm{E}[N_a a(1-a) + (n-N_a)b(1-b)] + \mathrm{Var}[a\cdot N_a + b(n-N_a)] \\&=\frac{n}{2}[a(1-a)+b(1-b)] + \frac{n}{4}(a-b)^2 \\& = n\cdot \frac{a+b}{2}\cdot \left(1-\frac{a+b}{2}\right). \end{aligned} This result could have been derived in a much more simple way, by looking at the probability that you get a success for the $i$ -th outcome after sampling the probability and then the actual Bernoulli trial, as suggested in the comment by @Henry. Then you have a probability $(a+b)/2$ for success on each of the $n$ trials :-).
