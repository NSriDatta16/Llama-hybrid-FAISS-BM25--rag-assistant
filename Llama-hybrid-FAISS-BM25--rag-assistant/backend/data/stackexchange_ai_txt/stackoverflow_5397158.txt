[site]: stackoverflow
[post_id]: 5397158
[parent_id]: 
[tags]: 
Delphi - Drag & Drop with ListView

Good evening :-)! I have this code to use Drag & Drop method for files : TForm1 = class(TForm) ... public procedure DropFiles(var msg: TMessage ); message WM_DROPFILES; end; procedure TForm1.FormCreate(Sender: TObject) begin DragAcceptFiles(ListView1.Handle, True); end; procedure TForm1.DropFiles(var msg: TMessage ); var i, count : integer; dropFileName : array [0..511] of Char; MAXFILENAME: integer; begin MAXFILENAME := 511; count := DragQueryFile(msg.WParam, $FFFFFFFF, dropFileName, MAXFILENAME); for i := 0 to count - 1 do begin DragQueryFile(msg.WParam, i, dropFileName, MAXFILENAME); Memo1.Lines.Add(dropFileName); end; DragFinish(msg.WParam); end; In area of ListView is DragCursor , but in Memo1 aren't any records. When I use for example ListBox and method DragAcceptFiles(ListBox1.Handle, True) ever is fine. ListView property DragMode I set to dmAutomatic . Thanks :-)
