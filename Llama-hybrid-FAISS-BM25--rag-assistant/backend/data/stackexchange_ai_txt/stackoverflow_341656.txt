[site]: stackoverflow
[post_id]: 341656
[parent_id]: 341592
[tags]: 
In case of upload you will have to create temporary storage for not committed upload. So that once upload started you save all new files in a separate table. Once user ready to submit ticket you save ticket and append files from temp table. Also you can create fake record if it possible with some fixed id in master table. You then have to make sure that fake record does not appear in queries in other places. Third, you can create stored procedure which would generate id for primary table and increment identity counter. If user aborts operation reserved id will not affect anything. It is just like if you create master record and then delete it. You can create temporary records in master table as well.
