[site]: stackoverflow
[post_id]: 3688079
[parent_id]: 
[tags]: 
How to extract attachments from a Soap Message in Spring

The soap message successfully comes across, and I can print out the envelope just fine, but the attachments are always zero. Even though I put the exact request through SoapUI, and the attachments show up fine in that. Maybe this isn't a valid way to extract the attachments. I'm adding this to the sendandreceive method. private class AttachmentWebServiceMessageExtractorImpl implements WebServiceMessageExtractor { public Object extractData(WebServiceMessage webServiceMessage) throws IOException, TransformerException { Set attachmentZipFiles = new HashSet (); Iterator attachmentIterator = ((SaajSoapMessage)webServiceMessage).getAttachments(); if(attachmentIterator != null) { while(attachmentIterator.hasNext()){ attachmentZipFiles.add((ZipFile) attachmentIterator.next()); } } return attachmentZipFiles; } }
