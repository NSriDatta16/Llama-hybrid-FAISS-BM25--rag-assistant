[site]: stackoverflow
[post_id]: 3586854
[parent_id]: 2932010
[tags]: 
You can create a custom http handler by implementing System.Web.IHttpHandler. The ProcessRequest(HttpContext context) method is where you will write your file retrieval code from the database. Since BITS operates with range requests you will need to parse the value of context.Request.Headers["Range"] to get the start and end bytes requested. In the ProcessRequest you can read the binary from the database using the SqlCommand.ExecuteReader(CommandBehavior.SequentialAccess) method and set the resulting binary in context.Response.OutputStream. Remember to call context.Response.Flush() at the end. The custom HttpHandler will serve a particular file extension (e.g. '.file'). This is what needs to be done in IIS: Both IIS Versions Add to section in in web.config: IIS 6.0 Add .file (application/x-zip-compressed) extension as MIME type for the website. Add Application Extension (Website Properties  Virtual Directory  Configuration  Mappings) Extension: .file Executable Path(s): %windir%\microsoft.net\framework\v2.0.50727\aspnet_isapi.dll %windir%\Microsoft.NET\Framework64\v2.0.50727\aspnet_isapi.dll IIS 7.0 Add to section in in web.config: Add to section in in web.config: Hope that's enough to get you started.
