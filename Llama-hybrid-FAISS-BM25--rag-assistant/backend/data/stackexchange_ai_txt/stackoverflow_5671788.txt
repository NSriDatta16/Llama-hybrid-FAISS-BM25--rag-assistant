[site]: stackoverflow
[post_id]: 5671788
[parent_id]: 5575047
[tags]: 
Are you using Table Storage? The tricky thing to keep in mind with Azure Storage is the lack of functions such as Count. To prevent someone from voting or favoring something twice you'll need to make the primary key include the content's ID and the user's ID. Lets say a User can vote on a Comment. We'll create a table called CommentVotes with a PartitionKey of "UserID" and RowKey of "CommentID". Now any duplicates will throw an exception and prevent it from happening. The problem is calculating the Count on things without grabbing all the rows. You'll need to create another table which stores aggregated results which gets incremented when an insert is successful. That table might look like PK "Comments", RK "CommentID", TotalVotes "5".
