[site]: stackoverflow
[post_id]: 1539083
[parent_id]: 1538717
[tags]: 
If you only need to replace the good rating with 4 then try this. It will replace the good rating with 4 for the purpose of the sort and leave all ratings that are not good as they are. The extra spaces are to make it easier to read/understand. If you need to replace multiple ratings but some are already numeric you can do the following: concat( substring( '4', 1, boolean(rating = 'good') ), substring( '3', 1, boolean(rating = 'average') ), substring( '2', 1, boolean(rating = 'bad') ), substring( rating, 1, not(boolean(rating = 'bad') or boolean(rating = 'average') or boolean(rating = 'good')) ) ) The boolean either gets converted to 1 for true or 0 for false. This is then used in the substring so only the one that is true will substring with length 1, the others will substring with a length of 0. Concatenating these all together leaves you with the replacement value.
