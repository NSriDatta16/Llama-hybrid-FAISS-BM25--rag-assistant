[site]: stackoverflow
[post_id]: 5195501
[parent_id]: 5195446
[tags]: 
For the 1d case: compute the cumulative sums of the array, i. e. given array a , define b by b[0] = a[0]; for (int i = 1; i To compute any average of a subarray, compute the difference of the cumultaive sum corrseponding to the end index and the one corresponding to the start index, and divide by the number of entries in the subarray. For example for the range from i+1 to j , do average = (b[j] - b[i]) / (double)(j - i); The same thing works in two dimensions by computing cumulative sums along the two axes.
