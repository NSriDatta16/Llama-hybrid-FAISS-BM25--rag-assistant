[site]: stackoverflow
[post_id]: 4631382
[parent_id]: 
[tags]: 
Google Maps: Limit Panning

I'm trying to recreate the pan limit behavior as demonstrated here: http://econym.org.uk/gmap/example_range.htm Unfortunately, it's using the API version 2, instead of the current version 3. I'm updating the commands so that they are current, but I think I might have missed something because it's not working: $(document).ready(function() { // Generate map var latlng = new google.maps.LatLng(37.76201, -122.4375); var myOptions = { zoom: 12, center: latlng, panControl: false, zoomControl: true, mapTypeControl: false, streetViewControl: false, scrollwheel: true, draggable: true, mapTypeId: google.maps.MapTypeId.TERRAIN }; var map = new google.maps.Map(document.getElementById("gmap"), myOptions); // Limit panning // The allowed region which the whole map must be within var southWest = new google.maps.LatLng(37.684, -122.591); var northEast = new google.maps.LatLng(37.836, -122.333); var allowedBounds = new google.maps.LatLngBounds(southWest, northEast); // Double check boundaries, plot points just in case var sW = new google.maps.Marker({ position: southWest, map: map, title: "southWest" }); var nE = new google.maps.Marker({ position: northEast, map: map, title: "northEast" }); // Add a move listener to restrict the bounds range google.maps.event.addListener(map, "dragend", function() { checkBounds(); }); // If the map position is out of range, move it back function checkBounds() { // Perform the check and return if OK if (allowedBounds.contains(map.getCenter())) { return; } // It's not OK, so find the nearest allowed point and move there var C = map.getCenter(); var X = C.lng(); var Y = C.lat(); var AmaxX = allowedBounds.getNorthEast().lng(); var AmaxY = allowedBounds.getNorthEast().lat(); var AminX = allowedBounds.getSouthWest().lng(); var AminY = allowedBounds.getSouthWest().lat(); if (X AmaxX) {X = AmaxX; alert('hi') } if (Y AmaxY) {Y = AmaxY; alert('hi') } alert ("Restricting "+Y+" "+X); map.setCenter(new LatLng(Y,X)); } }); Would someone mind lending another set of eyes to see if I missed something? :D (There is another up-to-date version 3 code here on StackOverflow called 'How do I limit panning in Google maps API V3?' However that behavior visually "snaps" back rather than simply limiting the movement beyond the boundaries.)
