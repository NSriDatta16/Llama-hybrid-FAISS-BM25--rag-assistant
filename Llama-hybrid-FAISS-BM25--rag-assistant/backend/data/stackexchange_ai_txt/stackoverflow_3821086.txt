[site]: stackoverflow
[post_id]: 3821086
[parent_id]: 
[tags]: 
PHP/Mysql - Dynamically selecting data?

I'm a bit new to OOP, but i've been playing with it for about a month now. Usually, i create a class called Mysql which has a __construct function that connects to a database directly. And after that i have lots of different functions that gets or inserts data into different tables. On the bus home today, i began thinking and i came up with a brilliant idea that would make it less cluttered. My idea is to use one single function that selects data (and one for inserting), and depending on how the query that's passed in looks, it will select different data from different tables. Nice, right? But i'm kind of stuck here. I'm not sure at all how to achieve this. I've got a small clue how it could work, but i don't know how i would bind the results, or fetch them into an array. The query will be created in another method, and then be passed into the select/insert function within the Mysql class. I drew a "sketch" on how i think it may work. Here it is: Of course, the function below will be placed in the Mysql class, and will already have connection to a database. // This is an example query that could be passed in. $query = "SELECT * FROM table WHERE id=150"; function select_data($query) { if ( $smtp = $this->conn->prepare($query) ) { $smtp->execute(); $smtp->bind_results(What happens here?); if ( $smtp->fetch() ) { foreach ( fetched_row? as $key => $value ) { $return[] = $key => $value; } return $return; } else return NULL; } else return $this->conn->error; } Thanks a lot to anyone who can show me how this can be achieved.
