[site]: stackoverflow
[post_id]: 1867217
[parent_id]: 
[tags]: 
Parsing amount strings into numbers

I am working on a system that is recognizing paper documents using OCR engines. These documents are invoices containing amounts such as total, vat and net amounts. I need to parse these amount strings into numbers, but they are coming in many formats and flavors using different symbols for decimal and thousands separation in the number in each invoice. If I am trying to use the normal double.tryparse and double.parse methods in .NET then they normally fail for some of the amounts These are some of the examples I receive as amount "3.533,65" => 3533.65 "-133.696" => -133696 "-33.017" => -33017 "-166.713" => -166713 "-5088,8" => -5088.8 "0.423" => 0.423 "9,215,200" => 9215200 "1,443,840.00" => 1443840 I need some way to guess what the decimal separator and the thousand separator is in the number and then present the value to the user to decide if this is correct or not. I am wondering how to solve this problem in an elegant way.
