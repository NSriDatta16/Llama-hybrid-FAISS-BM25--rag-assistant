[site]: crossvalidated
[post_id]: 306044
[parent_id]: 
[tags]: 
A time series logit model with lagged dependent variable

I have a panel dataset for stocks. My goal is to model and predict if the stock will close positive (1) tomorrow based on today's close (1/0) and other macroeconomic and firm-specific variables.So I guess the model will be a time series logit model with lagged dependent and independent variable. Am I correct? Please suggest software implementation of this method in R or Stata.
