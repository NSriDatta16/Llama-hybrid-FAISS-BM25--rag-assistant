[site]: stackoverflow
[post_id]: 1358975
[parent_id]: 1358411
[tags]: 
I would rather get data from database, and then do average function in memory. Altough I'm not sure what could be impact on perfomances... List visits = myentitys.Visits.ToList();//Get the Visits entities you need in memory, //of course,you can filter it here var uQuery = from visit in visits group visit by visit.ArrivalTime.Value.Day into g select new { Day = g.Key, Hours = g.Average(visit => (visit.LeaveTime.Value - visit.ArrivalTime.Value).TotalMinutes) }; This kind of arithmetic operation is not possible to translate in sql query (like exception says: DbArithmeticExpression arguments must have a numeric common type), but it is possible with objects in memory. Hope this helps.
