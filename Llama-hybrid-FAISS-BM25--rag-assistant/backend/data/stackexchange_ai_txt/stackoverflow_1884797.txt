[site]: stackoverflow
[post_id]: 1884797
[parent_id]: 
[tags]: 
Need Help with Magento Mini-Search

I have the below code courtesy to Edmond's Ecommerce that converts Magento's standard mini-search form to a more detailed mini-search like the ones seen in Amazon and eBay. At this juncture, I'm able to get to the sub-categories of the root directory, but instead, I would like to pull out the array from the sub-sub-categories. Root Directory > Sub-Category > Sub-Sub-Category. Tried to implement many permutations of getSubCategories including the following but kept getting errors. $category->load(Mage::app()->getStore()->getRootCategoryId()->getSubCategories()); A hint that was shared hasn't been any help. Maybe I'm not able to peruse it. if($this->getSubCategories($c)){ foreach($this->getSubCategories($c) as $sc){ foreach($this->getSubCategories($sc) as $ssc){ ... } } } You may notice the $exclude_array option. The array of sub-sub-categories must be accurate for me to be able to exclude categories that are irrelevant to the mini-search. Any suggestions would be appreciated. getPathIds(); }else{ $current_category_path = array(); } $category->load(Mage::app()->getStore()->getRootCategoryId()); $children_string = $category->getChildren(); $children = explode(',',$children_string); $extra_options=''; $exclude_array=array(1,2,3); foreach($children as $c){ if(in_array($c, $exclude_array)){continue;} $selected = (in_array($c, $current_category_path))?'SELECTED':''; $extra_options.= ' ' . $category->load($c)->getName() . ' ' . "\n"; } ?> helper('catalogSearch')->getResultUrl() ?>" method="get"> __('Search Site') ?> __('I am celebrating my') ?> Any Occassion helper('catalogSearch')->getQueryParamName() ?>" value=" helper('catalogSearch')->getEscapedQueryText() ?>" /> __('Search') ?>" /> // __('and looking for...') ?>'); searchForm.initAutocomplete(' helper('catalogSearch')->getSuggestUrl() ?>', 'search_autocomplete'); //]]>
