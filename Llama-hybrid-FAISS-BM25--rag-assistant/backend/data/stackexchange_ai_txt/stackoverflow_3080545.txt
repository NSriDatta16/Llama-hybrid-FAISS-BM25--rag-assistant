[site]: stackoverflow
[post_id]: 3080545
[parent_id]: 
[tags]: 
ActionScript 3 - Tweening rotateAroundExternalPoint

i'm unsuccessfully trying to rotate a rectangle around an external point while tweening. i'm trying to lock the top of the red rectangle to the line while it tweens from left to right and rotates from 0º to 90º. alt text http://www.freeimagehosting.net/uploads/0b937c92e6.png the image above shows 3 states of the tween. state 1 shows the red rectangle at the start of the line with no angle. state 2 shows the red rectangle has tweened half way along the line with an angle of 45º that is also half the total angle of 90º. state 3 shows the final position of the tween where the red rectangle has an angle of 90º and is placed at the edge of the line. it seems the problem i'm experiencing is that while tweening, the rotation causes the top of the red rectangle to lose sync with the black line. here is my code that doesn't work, but hopefully will give you a clearer picture of what i'm attempting. var angle:Number = 90; var previousAngle:Number = 0; var distanceObject:Object = new Object(); distanceObject.distance = line.width; distanceTween = new Tween(distanceObject, "distance", None.easeNone, 0, distanceObject.distance, 5, true); distanceTween.addEventListener(TweenEvent.MOTION_CHANGE, tweenHandler); function tweenHandler(evt:TweenEvent):void { var angleShift:Number = (angle / distance) * distanceObject.distance; //1:tween RedBox position redBox.x = line.x + line.width * distanceObject.distance; //2:tween RedBox angle var externalPointMatrix:Matrix = redBox.transform.matrix; MatrixTransformer.rotateAroundExternalPoint(externalPointMatrix, 0 + redBox.width * distanceObject.distance, 0, angleShift - previousAngle); redBox.transform.matrix = externalPointMatrix; previousAngle = angleShift; }
