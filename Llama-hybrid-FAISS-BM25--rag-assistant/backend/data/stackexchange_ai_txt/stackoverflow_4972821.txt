[site]: stackoverflow
[post_id]: 4972821
[parent_id]: 
[tags]: 
Connect to weblogin, how to set cookies?

I want to log in onto my works' webpage with WinINet. int main() { HINTERNET hInet = InternetOpenA("UserAgent/1.0", INTERNET_OPEN_TYPE_PRECONFIG,0, 0, 0 ); if(!hInet) { printf("hInet Failed!\n"); return -1; } HINTERNET hConnection = InternetConnectA( hInet,"app.tamigo.com",INTERNET_DEFAULT_HTTPS_PORT,"","", INTERNET_SERVICE_HTTP,0,0); if (!hConnection) { InternetCloseHandle(hInet); printf("InternetConnectA failed!\n"); return -1; } HINTERNET hRequest = HttpOpenRequestA( hConnection, "Accept","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",NULL,"https://app.tamigo.com/Home/Pages/Login.aspx", NULL, INTERNET_FLAG_KEEP_CONNECTION, 0 ); if (!hRequest) { printf("BuildRequestHeader failed %d!\n",GetLastError()); InternetCloseHandle(hConnection); InternetCloseHandle(hInet); return -1; } HttpSendRequestA(hRequest, NULL, 0, NULL, 0); DWORD dwInfoLevel = HTTP_QUERY_RAW_HEADERS_CRLF; DWORD dwInfoBufferLength = 10; BYTE *pInfoBuffer = (BYTE *)malloc(dwInfoBufferLength+1); while (!HttpQueryInfo(hRequest, dwInfoLevel, pInfoBuffer, &dwInfoBufferLength, NULL)) { DWORD dwError = GetLastError(); if (dwError == ERROR_INSUFFICIENT_BUFFER) { free(pInfoBuffer); pInfoBuffer = (BYTE *)malloc(dwInfoBufferLength+1); } else { fprintf(stderr, "HttpQueryInfo failed, error = %d (0x%x)\n", GetLastError(), GetLastError()); break; } } pInfoBuffer[dwInfoBufferLength] = '\0'; printf("%s", pInfoBuffer); free(pInfoBuffer); cin.get(); return 1; } If this code is right, I have to log in with my username and password, I got a cookie using "Firefox plugin Tamper Data". How can I set this cookie with WinINet?
