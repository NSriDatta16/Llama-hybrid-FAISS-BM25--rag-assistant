[site]: stackoverflow
[post_id]: 2057055
[parent_id]: 
[tags]: 
Slow Update When Using Oracle PL/SQL Table

We're using a PL/SQL table (named pTable) to collect a number of ids to be updated. However, the statement UPDATE aTable SET aColumn = 1 WHERE id IN (SELECT COLUMN_VALUE FROM TABLE (pTable)); takes a long time to execute. It seems that the optimizer comes up with a very bad execution plan, instead of using the index that is defined on id (as the primary key) it decides to use a full table scan on the aTable. pTable usually contains very few values (in most cases just one). What can we do to make this faster? The best we've come up with is to handle low pTable.Count (1 and 2) as special cases, but that is certainly not very elegant. Thanks for all the great suggestions. I wrote about this issue in my blog at http://smartercoding.blogspot.com/2010/01/performance-issues-using-plsql-tables.html .
