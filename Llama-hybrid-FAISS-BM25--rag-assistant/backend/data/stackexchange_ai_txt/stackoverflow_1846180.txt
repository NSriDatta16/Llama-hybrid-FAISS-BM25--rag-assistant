[site]: stackoverflow
[post_id]: 1846180
[parent_id]: 1846070
[tags]: 
something like this t = [....] - array of measurings result = {} (1..24).each do|hour| # measurings of given hour measurings = t.select{|measuring| measuring[:recorded_at][0, 2].to_i == hour} # average temperature of hour sum = measurings.inject(0){|sum, measuring| sum + measuring[:temperature].to_i} average_temperature = (measurings.length == 0)? nil: sum/measurings.length.to_f result[hour] = average_temperature end
