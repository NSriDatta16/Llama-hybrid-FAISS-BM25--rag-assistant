[site]: stackoverflow
[post_id]: 3982783
[parent_id]: 3982633
[tags]: 
The design is apparently horrible. But given that an optional externally provided storage is what you want, JaredPar (his answer) has a good idea. Cleaning that further up: struct Container { vector storage; }; double foo( vector & workingStorage ) { workingStorage.reserve( 1000000 ); //....use workingStorage to calculate something...... return calculated_result; } double foo( Container& storageProvider ) { return foo( storageProvider.storage ); } double foo() { vector storage; return foo( storage ); } Cheers & hth.,
