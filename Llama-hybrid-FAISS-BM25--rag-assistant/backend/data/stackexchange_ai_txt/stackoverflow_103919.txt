[site]: stackoverflow
[post_id]: 103919
[parent_id]: 
[tags]: 
How do you implement a function which returns the URL of last visited page

I want to store the current URL in a session variable to reference the previous visited page. If I store every URL (via a before_filter on ApplicationController), also actions which end in a redirect (create, update, etc) are considered as last visited page. Is there a way to tell Rails only to execute a function if a template is rendered?? Update Thanks for the after_filter tip... having written so many before_filters I didn't see the obvious. But the Trick with @performed_redirect doesn't work- This is what I got so far class ApplicationController I need to implement a "Go Back" Link, without the use of Javascript, the HTTP Referer. Sorry If I should have mentioned that, I appreciate your help! Update 2 I found a solution, which is not very elegant and only works if your app follows the standard naming scheme def after_filter if File.exists?(File.join(Rails.root,"app","views", controller_path, action_name+".html.erb")) flash[:previous_page] = request.request_uri else flash[:previous_page] = flash[:previous_page] end end
