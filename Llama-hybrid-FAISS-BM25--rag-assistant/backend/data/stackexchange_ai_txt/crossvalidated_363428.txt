[site]: crossvalidated
[post_id]: 363428
[parent_id]: 
[tags]: 
How is instrumental variables with many exogenous predictors related to propensity scoring?

In a large (many exogenous predictors) instrumental variables regression, with covariate matrix $X$, outcome $Y$ and binary treatment indicator $T$, a two-stage least-squares approach might be like this: $ logit(P(T = 1)) = X\beta + error$ (logistic regression of receiving treatment) $ P(T = 1)^{fit} = invlogit \{ X\beta^{fit} \}$ $Y = \gamma_{effect}P(T = 1)^{fit} + error$ where the instrument(s) are included in $X$ in the first stage regression, along with all other covariates, assuming that non-instrument covariates are exogenous. (Note that even if the instruments are retained in $X$ for the second stage, by the assumptions that the instrument only affects the outcome through the treatment, it should have no impact on parameter estimation in the second regression stage.) My question is this: won't $P(T = 1)^{fit}$ be equivalent to a propensity score? The second-stage regression will be different than weighting $X$ by the propensity score and including regular $T$, but I am trying to understand exactly how they will differ, and whether there is a connection between the IV case when you need to basically include the whole design matrix in the first stage regression because it contains so many exogenous variables, vs. when you estimate propensity scores and weight by them.
