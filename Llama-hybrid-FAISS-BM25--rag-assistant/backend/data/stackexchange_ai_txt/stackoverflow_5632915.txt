[site]: stackoverflow
[post_id]: 5632915
[parent_id]: 
[tags]: 
How can I serialize handling of a .net web service?

I'm planning on using a .net web service to batch process database records. The web service requests are coming in from a SQL Server stored procedure that's called by SQL Server Agent every minute. I only want one batch to be running at a time because the whole point here is to avoid over loading the server. Is there a good way of serializing the requests or maybe rejecting requests if there's already one in progress? I was thinking of having a web service instance write a flag into the database that subsequent web service instances can read when they start up. If its already set then a web service will return without doing anything. A safe guard could be that if its been ten minutes, say, since the flag was set then the web service instance that set the flag would be considered to have failed. Any thoughts? Cheers, Ian.
