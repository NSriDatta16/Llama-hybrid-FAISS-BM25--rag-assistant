[site]: stackoverflow
[post_id]: 1317165
[parent_id]: 1317135
[tags]: 
You might want to take a look at a PHP tool called HTMLPurifier -- there is a demo page available, if you want to quickly check what it can do. It takes "sort of" HTML as input, and gives well-formed HTML as ouput ; this way, you are not forcing your users to input well-formed HTML, but you can "correct" what they typed. Another nice thing is, you can specify which tags and attributes are allowed ; which is good for security too : for instance, you can allow and tags, but not . you can also allow + href ; but not + onclick For instance, here is some not-well-formed HTML you can give to it : this is a test alert('glop'); And this is another te st And here is the well-formed / secured HTML given as output : this is a test And this is another te st What has changed ? the tag in the first paragraph has been automatically closed the tag and its content have been removed the order of the closing and tags in the second paragraph has been corrected. This was just a quick example, of course -- I hope it helped.
