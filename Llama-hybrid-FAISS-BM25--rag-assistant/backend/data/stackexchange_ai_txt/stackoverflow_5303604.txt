[site]: stackoverflow
[post_id]: 5303604
[parent_id]: 5303059
[tags]: 
Use fsync. http://pubs.opengroup.org/onlinepubs/007908799/xsh/fsync.html From http://www.delorie.com/gnu/docs/glibc/libc_239.html : Once write returns, the data is enqueued to be written and can be read back right away, but it is not necessarily written out to permanent storage immediately. You can use fsync when you need to be sure your data has been permanently stored before continuing. (It is more efficient for the system to batch up consecutive writes and do them all at once when convenient. Normally they will always be written to disk within a minute or less.) Modern systems provide another function fdatasync which guarantees integrity only for the file data and is therefore faster. You can use the O_FSYNC open mode to make write always store the data to disk before returning.
