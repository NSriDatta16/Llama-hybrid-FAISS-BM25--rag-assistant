[site]: stackoverflow
[post_id]: 2292926
[parent_id]: 
[tags]: 
IIS Hosted SSL WCF Service - Certificate or permissions problem

Before anyone flags this as duplicate from the other barrel full of questions about WCF, I don't want MSDN links and blog article references. I can Google for myself, and have been at this for 3 days, so if all you have are Google links, please abstain. I'm having a heck of a time with an IIS hosted WCF service using wsHttpBinding and a custom password authenticator. IIS is working fine for my standard ASPX and WCF non-secure services (using wsHttpBinding with security mode="None", but trying security mode="Message" or "Transport" requires an SSL certificate in the mix. I am to the point that I'm getting this error: "The certificate 'CN=SignedByCA' must have a private key that is capable of key exchange. The process must have access rights for the private key." By my research, either the service hosting my WCF service cannot access the private key file of my certificate, or I didn't generate the certificate correctly. I generated the keys using: makecert -n "CN=TempCA" -r -sv TempCA.pvk TempCA.cer makecert -sk SignedByCA -iv TempCA.pvk -n "CN=SignedByCA" -ic TempCA.cer SignedByCA.cer -sr currentuser -ss My I then imported the TempCA cert into my Trusted Root Certification Authority store, and I imported the SignedByCA.cer into my "Personal" store of the Local Computer. WCF can now see the certificate, but the above error indicates something either permissions problem or a key problem. I tried importing the cert into IIS Admin Service's Personal store as well, no luck. By the way, I've added this to my web.config for the service: I get the error from my client project when I add / update the service reference. From my research, on Windows 7 I should be able to use the Certificate Manager and right click on the certificate in the MMC snapin and choose All Tasks -> Manage Private Key.. or some such. When I right click the certificate, I do not see that option, I only have these options under All Tasks: [Open, Request Certificate With New Key, Renew Certificate With New Key, Export...] This leads me to believe it is a cert problem and not a priv problem. Thanks in advance.
