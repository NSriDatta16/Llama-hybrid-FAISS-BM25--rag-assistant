[site]: stackoverflow
[post_id]: 5334227
[parent_id]: 5334053
[tags]: 
All the other solutions so far assume there actually IS a path. They work only if there is at least one forward slash. This tested functions works in all cases including an empty path: function rename_img_file(text, newname) { // Rename file in a IMG src (no query or fragment) var re = /^(.*\/)?[^\/]+\.(png|gif|jpe?g)$/i; var rep_str = '$1' + newname + '.$2'; text = text.replace(re, rep_str); return text; }
