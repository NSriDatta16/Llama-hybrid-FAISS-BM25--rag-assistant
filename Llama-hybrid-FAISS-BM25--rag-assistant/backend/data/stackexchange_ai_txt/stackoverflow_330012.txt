[site]: stackoverflow
[post_id]: 330012
[parent_id]: 330008
[tags]: 
Capture the args before the first call, put them back when you're done. Sounds like you're doing something kind of weird, though. Edit : (expanded) There's a lot of copying and pasting in here. I consider that helping with clarity: require 'getoptlong' storage = ARGV.clone opts = GetoptLong.new( ['--help', '-h', GetoptLong::NO_ARGUMENT ], [ '--repeat', '-n', GetoptLong::REQUIRED_ARGUMENT ], [ '--name', GetoptLong::OPTIONAL_ARGUMENT ] ) puts "Before: #{ARGV.inspect}" opts.each { |opt, arg| puts "Parsed #{opt} = #{arg}" } puts "After: #{ARGV.inspect}" # Copy storage.each {|x| ARGV
