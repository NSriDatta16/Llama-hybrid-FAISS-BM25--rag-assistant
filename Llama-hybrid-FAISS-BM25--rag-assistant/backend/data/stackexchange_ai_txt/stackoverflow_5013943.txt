[site]: stackoverflow
[post_id]: 5013943
[parent_id]: 
[tags]: 
How do i implement registration Class (with OOPS concepts ) in PHP?

I am creating a register/signup page in PHP, so I create a class class.register.php as I'm implementing first time complete class basis way in PHP and also using PDO . Please suggest me how to make worthy class with optimized way. Below is is my class: class.register.php class registration { private $_confirm = 0; public $post_data = array(); private $db; protected $db_name ='db_movies'; protected $db_user = 'root'; protected $db_pass ='keshav'; function __construct($post_data) { $this->post_data = array_map('trim',$post_data); $this->db_connect(); return $this->post_data; } protected function db_connect() { try { $this->db = new PDO("mysql:host=localhost;dbname=$this->db_name", $this->db_user, $this->db_pass); return $this->db; } catch (PDOException $e) { print "Error!: " . $e->getMessage() . " "; die(); } } public function setPostIntoSession() { return $_SESSION['post_data']=$this->post_data; } public function checkEmailInDB() { $stmt = $this->db->prepare("SELECT COUNT(*) FROM tbl_user WHERE email_address = :email"); $stmt->bindParam(':email',$this->post_data['email_address'],PDO::PARAM_STR); $stmt->execute(); $result = $stmt->fetchColumn(); return $result; } public function insertIntoDB() { $qry = "INSERT INTO tbl_user SET email_address = :email, first_name = :first_name, middle_initial = :middle_name, last_name = :last_name, title =:title, organization = : organization, primary_phone =:primary_phone, secondary_phone =:secondary_phone, website =:website, how_found =:found "; $stmt = $this->db->prepare($qry); $stmt->bindParam(':email',$this->post_data['email_address'],PDO::PARAM_STR); $stmt->bindParam(':first_name',$this->post_data['first_name'],PDO::PARAM_STR); $stmt->bindParam(':middle_name',$this->post_data['middle_initial'],PDO::PARAM_STR); $stmt->bindParam(':last_name',$this->post_data['last_name'],PDO::PARAM_STR); $stmt->bindParam(':title',$this->post_data['title'],PDO::PARAM_STR); $stmt->bindParam(':organization',$this->post_data['organization'],PDO::PARAM_STR); $stmt->bindParam(':primary_phone',$this->post_data['primary_phone'],PDO::PARAM_STR); $stmt->bindParam(':secondary_phone',$this->post_data['secondary_phone'],PDO::PARAM_STR); $stmt->bindParam(':website',$this->post_data['website'],PDO::PARAM_STR); $stmt->bindParam(':found',$this->post_data['how_found'],PDO::PARAM_STR); return $stmt->execute(); } } here i m using above class signup.php setPostIntoSession(); //echo " "; //print_r($register); if(count($_POST)>0){ if($register->checkEmailInDB()) { echo $_SESSION['error'] ='Sorry,given e-mail address already exists.'; $fine = false; } if ($register->post_data['pswd'] !== $register->post_data['confirm_pswd']) { echo $_SESSION['error'] ='Sorry,both password are not matching'; $fine = false; } else { $register->insertIntoDB(); } } if($fine == false ) { //header("location:signup.php"); //exit(); } else { echo "All izz Well"; } //$register->watch($register); ?> I think I'm doing this in very length way, please suggest me which function I should implement in class.
