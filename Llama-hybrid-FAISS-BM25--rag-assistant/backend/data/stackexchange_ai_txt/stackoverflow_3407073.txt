[site]: stackoverflow
[post_id]: 3407073
[parent_id]: 
[tags]: 
Program causes OSX (Snow Leopard 10.6.4) window server to spontaneously crash

I have a program that uses OpenGL combined with Cocoa and Python using PyObjC. I've recently expanded on my menu making code to show menu selections for maps including map information. When using the new code, the window server will spontaneously crash at some random point (Not random but it appears that way). The new code uses nothing radical. It's using the same graphics code as everything else. I don't know where to look. Can anyone make sense of this crash report from the console application? Process: WindowServer [775] Path: /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/WindowServer Identifier: WindowServer Version: ??? (???) Code Type: X86-64 (Native) Parent Process: launchd [1] Date/Time: 2010-08-04 16:02:03.861 +0100 OS Version: Mac OS X 10.6.4 (10F569) Report Version: 6 Exception Type: EXC_BAD_ACCESS (SIGSEGV) Exception Codes: KERN_INVALID_ADDRESS at 0x0000000000000000 Crashed Thread: 0 Dispatch queue: com.apple.main-thread Thread 0 Crashed: Dispatch queue: com.apple.main-thread 0 com.apple.GeForceGLDriver 0x00000002000119a4 gldAttachDrawable + 2388 1 com.apple.GeForceGLDriver 0x00000002000ce0c5 gldUpdateDispatch + 14581 2 com.apple.GeForceGLDriver 0x00000002000ce1b6 gldUpdateDispatch + 14822 3 GLEngine 0x000000011221f146 glFlush_Exec + 133 4 com.apple.CoreGraphics 0x00007fff802bc177 CGXGLAccelFinish + 154 5 com.apple.CoreGraphics 0x00007fff802bb2e0 CGXReleaseDisplayDeviceSurface + 232 6 com.apple.CoreGraphics 0x00007fff80469c02 CGXRedrawSpecifiedWindowsToDisplayAndRegion + 3663 7 com.apple.CoreGraphics 0x00007fff802afb42 CGXUpdateMagicMirror + 641 8 com.apple.CoreGraphics 0x00007fff8029092e CGXUpdateDisplay + 1308 9 com.apple.CoreGraphics 0x00007fff8045cbc2 CGXFlushSurface + 732 10 com.apple.CoreGraphics 0x00007fff8048440d _CGXFlushSurfaceInline + 231 11 com.apple.CoreGraphics 0x00007fff803f366c _XFlushSurfaceInline + 205 12 com.apple.CoreGraphics 0x00007fff802c31cd CGXServices_server + 108 13 com.apple.CoreGraphics 0x00007fff802c2e8a connectionHandler + 220 14 com.apple.CoreGraphics 0x00007fff802a4f2d CGXPostPortData + 175 15 com.apple.CoreGraphics 0x00007fff802a4d37 CGXRunOneServerPass + 451 16 com.apple.CoreGraphics 0x00007fff802a1e4d CGXRunOneServicesPass + 672 17 com.apple.CoreGraphics 0x00007fff802aad4a CGXServerLoop + 139 18 com.apple.CoreGraphics 0x00007fff80275856 CGXGetRootAdminCredentials + 0 19 WindowServer 0x0000000100000f29 main + 9 20 WindowServer 0x0000000100000f18 start + 52 Thread 1: Dispatch queue: com.apple.libdispatch-manager 0 libSystem.B.dylib 0x00007fff88c7408a kevent + 10 1 libSystem.B.dylib 0x00007fff88c75f5d _dispatch_mgr_invoke + 154 2 libSystem.B.dylib 0x00007fff88c75c34 _dispatch_queue_invoke + 185 3 libSystem.B.dylib 0x00007fff88c7575e _dispatch_worker_thread2 + 252 4 libSystem.B.dylib 0x00007fff88c75088 _pthread_wqthread + 353 5 libSystem.B.dylib 0x00007fff88c74f25 start_wqthread + 13 Thread 2: 0 libSystem.B.dylib 0x00007fff88c5b2fa mach_msg_trap + 10 1 libSystem.B.dylib 0x00007fff88c5b96d mach_msg + 59 2 com.apple.CoreFoundation 0x00007fff846173c2 __CFRunLoopRun + 1698 3 com.apple.CoreFoundation 0x00007fff8461684f CFRunLoopRunSpecific + 575 4 com.apple.CoreFoundation 0x00007fff846165d6 CFRunLoopRun + 70 5 com.apple.CoreGraphics 0x00007fff8028773e eventThread + 470 6 libSystem.B.dylib 0x00007fff88c94456 _pthread_start + 331 7 libSystem.B.dylib 0x00007fff88c94309 thread_start + 13 Thread 3: 0 libSystem.B.dylib 0x00007fff88c5b2fa mach_msg_trap + 10 1 libSystem.B.dylib 0x00007fff88c5b96d mach_msg + 59 2 com.apple.QuartzCore 0x00007fff8317abe2 CA::Render::Server::server_thread(void*) + 177 3 com.apple.QuartzCore 0x00007fff8317ab22 thread_fun + 34 4 libSystem.B.dylib 0x00007fff88c94456 _pthread_start + 331 5 libSystem.B.dylib 0x00007fff88c94309 thread_start + 13 Thread 4: 0 libSystem.B.dylib 0x00007fff88c95eb6 __semwait_signal + 10 1 libSystem.B.dylib 0x00007fff88c99cd1 _pthread_cond_wait + 1286 2 com.apple.CoreGraphics 0x00007fff8036082a layer_blit_work_queue_thread + 714 3 com.apple.CoreGraphics 0x00007fff80360a9c layer_blit_work_queue_server + 156 4 libSystem.B.dylib 0x00007fff88c94456 _pthread_start + 331 5 libSystem.B.dylib 0x00007fff88c94309 thread_start + 13 Thread 0 crashed with X86 Thread State (64-bit): rax: 0x00000000e00002c2 rbx: 0x0000000112414000 rcx: 0x00007fff88c5b2fa rdx: 0x0000000012457000 rdi: 0x00007fff5fbed310 rsi: 0x00007fff711475c0 rbp: 0x00007fff5fbee4a0 rsp: 0x00007fff5fbee4a0 r8: 0x0000000000000e03 r9: 0x0000000000000000 r10: 0x00000000000010bc r11: 0x0000000000000206 r12: 0x0000000112457000 r13: 0x0000000000000003 r14: 0x00007fff5fbee4d0 r15: 0x00000001001c6430 rip: 0x00000002000119a4 rfl: 0x0000000000010246 cr2: 0x0000000000000000 Binary Images: 0x100000000 - 0x100000fff WindowServer ??? (???) /System/Library/Frameworks/ApplicationServices.framework/Frameworks/CoreGraphics.framework/Resources/WindowServer 0x100583000 - 0x100597fff com.apple.GeForceGA 1.6.16 (6.1.6) /System/Library/Extensions/GeForceGA.plugin/Contents/MacOS/GeForceGA 0x112200000 - 0x11238dfe7 GLEngine ??? (???) /System/Library/Frameworks/OpenGL.framework/Resources/GLEngine.bundle/GLEngine 0x113000000 - 0x113423fef libclh.dylib 3.1.1 C (3.1.1) /System/Library/Extensions/GeForceGLDriver.bundle/Contents/MacOS/libclh.dylib 0x200000000 - 0x2006fbff7 com.apple.GeForceGLDriver 1.6.16 (6.1.6) /System/Library/Extensions/GeForceGLDriver.bundle/Contents/MacOS/GeForceGLDriver 0x7fff5fc00000 - 0x7fff5fc3bdef dyld 132.1 (???) /usr/lib/dyld 0x7fff80003000 - 0x7fff80005fff libRadiance.dylib ??? (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib 0x7fff80006000 - 0x7fff80096fff com.apple.SearchKit 1.3.0 (1.3.0) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit 0x7fff800d6000 - 0x7fff8011eff7 libvDSP.dylib 268.0.1 (compatibility 1.0.0) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib 0x7fff801ba000 - 0x7fff808b7067 com.apple.CoreGraphics 1.543.50 (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics 0x7fff80c60000 - 0x7fff80d30ff7 com.apple.CFNetwork 454.9.7 (454.9.7) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork 0x7fff80d31000 - 0x7fff80d45ff7 com.apple.speech.synthesis.framework 3.10.35 (3.10.35) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis 0x7fff80d46000 - 0x7fff80d4cff7 com.apple.DiskArbitration 2.3 (2.3) /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration 0x7fff81307000 - 0x7fff81356fef libTIFF.dylib ??? (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib 0x7fff81412000 - 0x7fff8143dff7 libxslt.1.dylib 3.24.0 (compatibility 3.0.0) /usr/lib/libxslt.1.dylib 0x7fff816ea000 - 0x7fff816fbff7 libz.1.dylib 1.2.3 (compatibility 1.0.0) /usr/lib/libz.1.dylib 0x7fff816fc000 - 0x7fff816fcff7 com.apple.CoreServices 44 (44) /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices 0x7fff8189e000 - 0x7fff8189fff7 com.apple.TrustEvaluationAgent 1.1 (1) /System/Library/PrivateFrameworks/TrustEvaluationAgent.framework/Versions/A/TrustEvaluationAgent 0x7fff818a3000 - 0x7fff818b7fff libGL.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib 0x7fff818b8000 - 0x7fff81a6efef com.apple.ImageIO.framework 3.0.3 (3.0.3) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO 0x7fff81c95000 - 0x7fff81c9bff7 IOSurface ??? (???) /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface 0x7fff81ce0000 - 0x7fff82013fe7 com.apple.CoreServices.CarbonCore 861.13 (861.13) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore 0x7fff82014000 - 0x7fff82091fef libstdc++.6.dylib 7.9.0 (compatibility 7.0.0) /usr/lib/libstdc++.6.dylib 0x7fff82092000 - 0x7fff82097fff libGFXShared.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib 0x7fff82a87000 - 0x7fff82a9dfef libbsm.0.dylib ??? (???) /usr/lib/libbsm.0.dylib 0x7fff82ac5000 - 0x7fff82c83fff libicucore.A.dylib 40.0.0 (compatibility 1.0.0) /usr/lib/libicucore.A.dylib 0x7fff82ea3000 - 0x7fff82ea3ff7 com.apple.Accelerate 1.6 (Accelerate 1.6) /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate 0x7fff82ec5000 - 0x7fff82ec5ff7 com.apple.ApplicationServices 38 (38) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices 0x7fff83060000 - 0x7fff83120fff libFontParser.dylib ??? (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontParser.dylib 0x7fff83121000 - 0x7fff83125ff7 libmathCommon.A.dylib 315.0.0 (compatibility 1.0.0) /usr/lib/system/libmathCommon.A.dylib 0x7fff83128000 - 0x7fff834c1ff7 com.apple.QuartzCore 1.6.2 (227.22) /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore 0x7fff83612000 - 0x7fff8361ffe7 libCSync.A.dylib 543.50.0 (compatibility 64.0.0) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib 0x7fff836a4000 - 0x7fff836cafe7 libJPEG.dylib ??? (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib 0x7fff836cb000 - 0x7fff837e2fef libxml2.2.dylib 10.3.0 (compatibility 10.0.0) /usr/lib/libxml2.2.dylib 0x7fff83851000 - 0x7fff83860fff com.apple.NetFS 3.2.1 (3.2.1) /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS 0x7fff83ae2000 - 0x7fff83b40ff7 com.apple.framework.IOKit 2.0 (???) /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit 0x7fff83bb5000 - 0x7fff83c8fff7 com.apple.vImage 4.0 (4.0) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage 0x7fff83e01000 - 0x7fff83e52fe7 com.apple.HIServices 1.8.0 (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices 0x7fff83e53000 - 0x7fff83e61ff7 libkxld.dylib ??? (???) /usr/lib/system/libkxld.dylib 0x7fff83e6f000 - 0x7fff83eb9ff7 com.apple.Metadata 10.6.3 (507.10) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata 0x7fff8403a000 - 0x7fff840bffff com.apple.print.framework.PrintCore 6.2 (312.5) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore 0x7fff840dc000 - 0x7fff84195fff libsqlite3.dylib 9.6.0 (compatibility 9.0.0) /usr/lib/libsqlite3.dylib 0x7fff841d9000 - 0x7fff84273fff com.apple.ApplicationServices.ATS 4.3 (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS 0x7fff84274000 - 0x7fff84289ff7 com.apple.LangAnalysis 1.6.6 (1.6.6) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis 0x7fff845cb000 - 0x7fff84740ff7 com.apple.CoreFoundation 6.6.3 (550.29) /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation 0x7fff84741000 - 0x7fff84762fff libresolv.9.dylib 41.0.0 (compatibility 1.0.0) /usr/lib/libresolv.9.dylib 0x7fff84763000 - 0x7fff84818fe7 com.apple.ColorSync 4.6.3 (4.6.3) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync 0x7fff84819000 - 0x7fff848d6ff7 com.apple.CoreServices.OSServices 357 (357) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices 0x7fff848d7000 - 0x7fff84977fff com.apple.LaunchServices 362.1 (362.1) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices 0x7fff84978000 - 0x7fff849b0fef libcups.2.dylib 2.8.0 (compatibility 2.0.0) /usr/lib/libcups.2.dylib 0x7fff84a39000 - 0x7fff84a3efff libGIF.dylib ??? (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib 0x7fff84b1b000 - 0x7fff84f5efef libLAPACK.dylib 219.0.0 (compatibility 1.0.0) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib 0x7fff84f5f000 - 0x7fff84f82fff com.apple.opencl 12.1 (12.1) /System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL 0x7fff84f83000 - 0x7fff84fa8fe7 com.apple.CoreVideo 1.6.1 (45.4) /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo 0x7fff8532f000 - 0x7fff8533eff7 com.apple.opengl 1.6.8 (1.6.8) /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL 0x7fff85364000 - 0x7fff85382fff libPng.dylib ??? (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib 0x7fff855a6000 - 0x7fff85827fef com.apple.Foundation 6.6.3 (751.29) /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation 0x7fff8587b000 - 0x7fff858a3fff com.apple.DictionaryServices 1.1.1 (1.1.1) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices 0x7fff8594d000 - 0x7fff85a5cfe7 libcrypto.0.9.8.dylib 0.9.8 (compatibility 0.9.8) /usr/lib/libcrypto.0.9.8.dylib 0x7fff86770000 - 0x7fff869f6ff7 com.apple.security 6.1.1 (37594) /System/Library/Frameworks/Security.framework/Versions/A/Security 0x7fff87514000 - 0x7fff8754ffff com.apple.AE 496.4 (496.4) /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE 0x7fff87558000 - 0x7fff8755bff7 libCoreVMClient.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib 0x7fff87774000 - 0x7fff877bdfef libGLU.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib 0x7fff87d7f000 - 0x7fff87e2efff edu.mit.Kerberos 6.5.10 (6.5.10) /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos 0x7fff87e2f000 - 0x7fff87e70fff com.apple.SystemConfiguration 1.10.2 (1.10.2) /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration 0x7fff87fef000 - 0x7fff87ff5fff libCGXCoreImage.A.dylib 543.50.0 (compatibility 64.0.0) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib 0x7fff88208000 - 0x7fff88a12fe7 libBLAS.dylib 219.0.0 (compatibility 1.0.0) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib 0x7fff88a13000 - 0x7fff88b2cfef libGLProgrammability.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLProgrammability.dylib 0x7fff88b68000 - 0x7fff88c1efff libobjc.A.dylib 227.0.0 (compatibility 1.0.0) /usr/lib/libobjc.A.dylib 0x7fff88c59000 - 0x7fff88c59ff7 com.apple.Accelerate.vecLib 3.6 (vecLib 3.6) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib 0x7fff88c5a000 - 0x7fff88e1afef libSystem.B.dylib 125.2.0 (compatibility 1.0.0) /usr/lib/libSystem.B.dylib 0x7fff88e1b000 - 0x7fff88e85fe7 libvMisc.dylib 268.0.1 (compatibility 1.0.0) /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib 0x7fff88eaa000 - 0x7fff88ef6fff libauto.dylib ??? (???) /usr/lib/libauto.dylib 0x7fff88ef7000 - 0x7fff88f38fef com.apple.QD 3.35 (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD 0x7fff88fb6000 - 0x7fff88fe7fff libGLImage.dylib ??? (???) /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib 0x7fff88fe8000 - 0x7fff89066fff com.apple.CoreText 3.1.0 (???) /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText 0x7fffffe00000 - 0x7fffffe01fff libSystem.B.dylib ??? (???) /usr/lib/libSystem.B.dylib Thank you.
