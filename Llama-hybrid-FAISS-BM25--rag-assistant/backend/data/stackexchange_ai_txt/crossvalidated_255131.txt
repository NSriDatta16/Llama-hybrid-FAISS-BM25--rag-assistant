[site]: crossvalidated
[post_id]: 255131
[parent_id]: 56895
[tags]: 
I realize this is an old post but I have been running some simulations on this and thought I will share my findings. @GregSnow made a very detailed post about this but I believe when calculating the interval using predictions from individual trees he was looking at $[ \mu + \sigma, \mu - \sigma]$ which is only a 70% prediction interval. We need to look at $[\mu+1.96*\sigma,\mu-1.96*\sigma]$ to get the 95% prediction interval. Making this change to @GregSnow code, we get the following results set.seed(1) x1 Now, comparing these with the intervals generated by adding normal deviation to predictions with standard deviation as MSE like @GregSnow suggested we get, pred.rf.int2 The interval by both these approaches are now looking very close. Plotting the prediction interval for the three approaches against the error distribution in this case looks as below Black lines = prediction intervals from linear regression, Red lines = Random forest intervals calculated on Individual Predictions, Blue lines = Random forest intervals calculated by adding normal deviation to predictions Now, let us re-run the simulation but this time increasing the variance of the error term. If our prediction interval calculations are good, we should end up with wider intervals than what we got above. set.seed(1) x1 Now, this makes it clear that calculating the prediction intervals by the second approach is far more accurate and is yielding results quite close to the prediction interval from linear regression. Taking the assumption of normality, there is another easier way to compute the prediction intervals from random forest. From each of the individual trees we have the predicted value ($\mu_i$) as well as the mean squared error ($MSE_i$). So prediction from each individual tree can be thought of as $ N(\mu_i,RMSE_i)$. Using the normal distribution properties our prediction from the random forest would have the distribution $N(\sum \mu_i/n, \sum RMSE_i/n)$. Applying this to the example we discussed above, we get the below results mean.rf These tally very well with the linear model intervals and also the approach @GregSnow suggested. But note that the underlying assumption in all the methods we discussed is that the errors follow a Normal distribution.
