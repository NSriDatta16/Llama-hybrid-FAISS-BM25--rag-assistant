[site]: stackoverflow
[post_id]: 5548371
[parent_id]: 5529760
[tags]: 
Okay, so here's what I did to find out whether the problem is in Whoosh or Haystack. I opened the django shell and performed a search for the term that was not showing up in haystack SearchQuery API search: ./manage.py shell $>> import whoosh $>> from whoosh.query import * $>> from whoosh.index import open_dir $>> ix.schema 'name', 'organisation', 'overview','text', 'title']> $>> ix = open_dir('/home/somedir/my_project/haystack/whoosh/') $>> searcher = ix.searcher() $>> res = ix.search(Term('text',u'pink')) $>> print res $>> print res['0']['name'] u'Pink Floyd' So you see, Whoosh is correctly indexing all data. So, now I try the SearchQuery API ./manage.py shell $>> from haystack.query import SearchQuerySet $>> sqs = SearchQuerySet().filter(content='pink') $>> sqs $>> [] So, I realize that I must check out the whoosh_backend.py file of the haystack library to see what's happening. Open - haystack.backends.whoosh_backend around line number 345 '''Comment these two lines because the raw_results set becomes empty after the filter call for some queries''' if narrowed_results: raw_results.filter(narrowed_results) to #if narrowed_results: #raw_results.filter(narrowed_results) And then it works. SearchQueryAPI returning exactly one result for the test query as expected. Web search working. Time for sweet sleep, though I would like to know what's the issue with haystack here.
