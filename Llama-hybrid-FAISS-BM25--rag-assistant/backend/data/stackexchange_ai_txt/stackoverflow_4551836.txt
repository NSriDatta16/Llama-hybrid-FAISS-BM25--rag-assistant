[site]: stackoverflow
[post_id]: 4551836
[parent_id]: 4550862
[tags]: 
You can use their data that you pull into your database to check the user's IP address. http://www.ipligence.com/geolocation/ (you still have to worry about proxying) I would also check where your shipping it to (checking addresses like suggested above), also check the card address with the card backer like VISA, etc.. And suggested above, your money processing agent shouldn't allow any transactions from outside the U.S. on particular items (if possible) But I did read your statement SOME products may not be allowed to be sold outside the U.S. So you'll need a way to mark those products in your system and then let the user know they are unable to purchase those items, but continue on with others in the cart.
