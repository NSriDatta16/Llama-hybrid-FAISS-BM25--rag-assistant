[site]: stackoverflow
[post_id]: 4362072
[parent_id]: 4361926
[tags]: 
It's not const because the streambuf interface doesn't know how you're populating the buffer. For example the underflow and uflow methods may pull n bytes from a file or similar and populate the extant buffer of the streambuf. You may also be using the same storage for the buffers for a read/write stream stream. The streambuf is a buffer, a cache if you will. It sits between the formatting functionality of the [io]stream and the actual underlying character stream (usually a file). It's a window on to that underlying stream, and it makes sense to reuse the storage for that window (which means it's probably not const). Is it safe to cast away the const-ness? Maybe. It will depend on the actual streambuf implementation and how it is used.
