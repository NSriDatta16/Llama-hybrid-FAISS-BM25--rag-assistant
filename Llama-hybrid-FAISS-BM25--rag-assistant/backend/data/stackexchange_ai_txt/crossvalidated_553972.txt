[site]: crossvalidated
[post_id]: 553972
[parent_id]: 553969
[tags]: 
This is an issue of effect modification , or treatment heterogeneity across your subgroups of interest. In my opinion, a paper that fully describes the nuances in interpretation and estimation has not been written yet, but there are some papers that do a good job of describing the relevant issues and how to proceed. I particularly recommend Green and Stuart (2014) . You are correct in having some doubt about comparing ATEs between subgroups when the composition of those subgroups differs and thus they refer to different populations. For example, even if you remove confounding due to all background covariates (e.g., by matching or weighting or even in a randomized study), the distributions of patient characteristics across the surgery groups will differ. The challenge with this is that one cannot immediately disentangle the effect modification by the subgroup from the effect modification by patient characteristics that covary with subgroup. An alternative approach is to consider surgery type its own kind of treatment, and treat the scenario as one of interaction . If it would make sense for any patient to receive any kind of surgery, then this type of analysis would be more appropriate than a simple subgroup analysis. In this way, you consider that you actually have 6 treatment groups (2 heart disease x 3 surgery type). You can use standard techniques for effect estimation with multi-category treatments and perform whatever contrasts are relevant for your analysis. This requires eliminating confounding to a larger degree, though, since you need to adjust not only for common causes of heart disease and the outcome, but also common causes of surgery type and the outcome. if you know the factors that lead to patients receiving different surgery types, this may not be much of an additional burden. See VanderWeele (2009) for a nice discussion of the difference between effect modification and interaction. Regarding whether it makes sense to report ATEs (i.e., risk differences) for binary outcomes, this depends on your purposes. If you want to estimate a marginal effect (i.e., the average effect of heart disease across the entire population), the risk difference is a nice, interpretable effect measure; risk ratios can be good too. Marginal odds ratios do not have a useful interpretation, so I would only recommend them if you had a specific reason to. If you want to estimate something more like the effect of heart disease for an individual, odds ratios have the nice property of there being the possibility that the conditional effects are equal across subgroups of other patient characteristics, whereas this is impossible with risk differences and risk ratios (i.e., because the effect will be smaller for people with a low baseline risk since there is only so low the risk can go). Marginal effects do not really help inform practice except when performed in narrow subgroups, whereas conditional effects are often estimated with bias and require unlikely assumptions.
