[site]: stackoverflow
[post_id]: 3163046
[parent_id]: 
[tags]: 
Parsing annoying Youtube API XML feeds with jQuery

I am learning how to utilise external XML feeds within our Intranet, to better serve our staff and reduce their need to go outside the network for content. I can render the basic information from the feed without a problem. Where I come unstuck is trying to display one of the video thumbnails to use as part of the my chosen layout. Problem I am trying to grab the value of URL property from the first media:thumbnail element for use in an img tag, but whatever I try I can't seem to render the contents of it. Eg; The piece of text I'd want to extract & use from the above example is http://i.ytimg.com/vi/CQP_AuT4zXQ/default.jpg I suspect why I'm not able to parse the value of this element has something to do with the element name having a period (:) separator in it, and/or my developing knowledge of jQuery suspects I'm not calling or attempting to parse this element or part thereof correctly. I'd also like to render the value of media:keywords as well, which would be solved by understanding the same issue. Code used to render the XML /* learned from http://www.switchonthecode.com/tutorials/xml-parsing-with-jquery */ /* this can be used to parse any file in an XML format */ $(document).ready(function() { /* perform an asynchronous ajax request using the relevant variables Documentation: http://api.jquery.com/jQuery.ajax/ */ $.ajax({ type: "GET", /* define url of xml file to parse */ url: "/pr/rss_repository/youtube.xml", /* assign it a data type */ dataType: "xml", /* state name of function to run if file is successfully parsed */ success: parseXml }); }); function parseXml(xml) /* this is where the xml file is parsed and converted into a HTML output */ { //for each item node in the xml file $(xml).find("item").each(function() { //print the following html, inserting the relevant data within the nodes of item //this is the heading $("#output").append(" " + $(this).find("title").text() + " \n"); //this is a new paragraph with the publication date $("#output").append(" " + $(this).find("pubDate").text() + " \n"); //this is the description text of the item $("#output").append(" " + $(this).find("description").text() + " \n"); $("#output").append(" \n"); }); //end for each //end function } Resultant HTML IFA World Forestry Day 2010 forum - Bob Pearce, FIFWA (Part 1) Thu, 01 Apr 2010 06:44:19 +0000 Bob Pearce, Executive Director - Forest Industries Federation of Western Australia delivers a presentation on the impact of timber harvesting in healthy forests at the Institute of Foresters of Australia 2010 World Forestry Day forum. ... Sample of XML from Youtube being parsed The file is grabbed and brought into our servers here, to save the file being downloaded each time it is called. We pull it into the network using VBScript which dumps the contents returned from the URL queried. Example of data, from http://gdata.youtube.com/feeds/api/videos?alt=rss&author=fpcwa : ... standard channel description tag:youtube.com,2008:video:CQP_AuT4zXQ Thu, 01 Apr 2010 06:44:19 +0000 2010-04-29T00:03:31.000Z http://gdata.youtube.com/schemas/2007#video News ifa ... remaining categories IFA World Forestry Day 2010 forum - Bob Pearce, FIFWA (Part 1) http://www.youtube.com/watch?v=CQP_AuT4zXQ&feature=youtube_gdata fpcwa ... News fpcwa Bob Pearce, Executive Director - Forest Industries Federation of Western Australia delivers a presentation on the impact of timber harvesting in healthy forests at the Institute of Foresters of Australia 2010 World Forestry Day forum. ifa, institute of foresters, australia, forestry, world forestry day, 2010, forum, healthy forests, forest, forests, bob pearce, fifwa IFA World Forestry Day 2010 forum - Bob Pearce, FIFWA (Part 1) widescreen 2010-04-01T06:44:19.000Z CQP_AuT4zXQ
