[site]: stackoverflow
[post_id]: 4365062
[parent_id]: 
[tags]: 
How to unload a javascript from an html?

How can I unload a JavaScript resource with all its defined objects from the DOM? Im developing a simple framework that enables to load html fragments into a "main" html. Each fragment is self contained and may include references to additional JS and CSS files. The JS and CSS resources are parsed and dynamically added to the html. When the fragment is removed/replaced from the DOM I want to remove its JS and CSS. If I remove the script element in the example below, the functions defined in page1.js are still available. ... Is there a way to unload page1.js objects from the DOM? ========= The test code I use ======= I tried the advice i got in the comments below; to delete the added objects using a cleanup function - but even this fails. The sources i used for testing: function loadJSFile(){ var scriptTag = document.createElement("script"); scriptTag.setAttribute("type", "text/javascript"); scriptTag.setAttribute("src", "simple.js"); var head = document.getElementsByTagName("head")[0]; head.appendChild(scriptTag); } function unloadJSFile(){ delete window.foo; delete window.cleanup; alert("cleanedup. typeof window.foo is " + (typeof window.foo)); } Hello JavaScript Delete Click to load JS call foo() Click to unload JS simple.js source: var foo = function(){ alert("hello from foo"); }
