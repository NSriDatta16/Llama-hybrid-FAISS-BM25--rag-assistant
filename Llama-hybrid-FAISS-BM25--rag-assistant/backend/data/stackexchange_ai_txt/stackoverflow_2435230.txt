[site]: stackoverflow
[post_id]: 2435230
[parent_id]: 2435186
[tags]: 
Another factor you need to consider is memory fragmentation. The maximum single allocation you can perform is equal to the largest contiguous block of memory available to the process. This is almost always less than the total amount of memory available in the process because of fragmentation. That is allocated blocks of memory sitting in between 2 free blocks of memory "fragments" the space. The more fragmentation you have in the process the smaller the largest contiguous block of memory that will be available. I've seen situations where there was close to 1GB of memory free but the largest contiguous block was around 10MB. Have you checked for memory fragmentation in this process?
