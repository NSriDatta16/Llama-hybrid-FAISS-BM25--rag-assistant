[site]: stackoverflow
[post_id]: 4508475
[parent_id]: 
[tags]: 
When I try insert picture from database to control - I get save picture in disk

I have this code to insert picture from database to image control: string strQuery = "select Pic from MEN where id='1'"; SqlCommand cmd = new SqlCommand(strQuery); Convert.ToInt32(Request.QueryString["ImageID"]); cmd.Parameters.Add("1", SqlDbType.Int).Value = Convert.ToInt32(Request.QueryString["ImageID"]); DataTable dt = GetData(cmd); if (dt != null) { Byte[] bytes = (Byte[])dt.Rows[0]["Pic"]; Response.Buffer = true; Response.Charset = ""; Response.Cache.SetCacheability(HttpCacheability.NoCache); //Response.ContentType = dt.Rows[0]["ContentType"].ToString(); Response.ContentType = dt.Rows[0]["PIC"].ToString(); Response.AddHeader("content-disposition", "attachment;filename=" + dt.Rows[0]["PIC"].ToString()); Response.BinaryWrite(bytes); Response.Flush(); Response.End(); } and this: private DataTable GetData(SqlCommand cmd) { DataTable dt = new DataTable(); String strConnString = "server=" + Server + ";database=" + DataBase + ";UID=" + UID + ";password=" + PASS + ";"; SqlConnection con = new SqlConnection(strConnString); SqlDataAdapter sda = new SqlDataAdapter(); cmd.CommandType = CommandType.Text; cmd.Connection = con; try { con.Open(); sda.SelectCommand = cmd; sda.Fill(dt); return dt; } catch { return null; } finally { con.Close(); sda.Dispose(); con.Dispose(); } } and this image: but when I run this code I get "save picture on disk" and not insert to the image control How to fix it ? thanks
