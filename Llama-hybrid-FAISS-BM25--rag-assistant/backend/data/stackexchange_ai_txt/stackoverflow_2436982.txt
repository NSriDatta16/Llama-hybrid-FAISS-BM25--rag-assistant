[site]: stackoverflow
[post_id]: 2436982
[parent_id]: 2436896
[tags]: 
You have to define your functions before you use them There is no function named error exit, fscanf, and strlen are defined in libraries that are not included. fscanf has a few more parameters the test on EOF is wrong, look into fscanf for this one you might want to add -Wall to your compilation instruction to find all defects yourself in the future. Also good reference material can be easily found on the internet, for instance cplusplus.com . And because I'm feeling generous today: A switch combined with recursion is a far more elegant solution for your state machine...
