[site]: datascience
[post_id]: 38468
[parent_id]: 
[tags]: 
Transposing a dataframe (time-series)

I'm working on event-forecasting problem for a supermarket, and the data frame I have looks like (sorry for formatting): Start date End date product Y event_params 0 21.07.18 30.07.18 A 100 value_1 1 22.07.18 25.07.18 B 200 value_2 2 13.07.18 20.07.18 C 140 value_3` Before training the model I calculate Y column using daily information about each product. The issue is that it appears, that on the events with crossing dates I calculate the same amount twice. My final goal is to get a weekly information on Y column, so I my prediction will have a big error, just because there is no clarity in the training data frame. My idea was to transpose it somehow, so that during the training I have clarity for the events with intersection. Smth like this: product week1 week2 ...? A value_1 value_1 1 B value_2 value_2 2 C value_3 value_3 3` The question is what will be the best way to process each event params? I can't add them as columns, since there might be up to 20 intersecting events (so that df will have lot's of NaN values). Is there any other way of solving the problem with preserving original event parameters (no averaging etc.)? Maybe you can give me any other clue of how to process the data like this.
