[site]: crossvalidated
[post_id]: 642281
[parent_id]: 
[tags]: 
How to cope with pre-trend violations in a stacked DiD?

I want to analyze several events using a difference-in-difference approach. Since the events occurred at different times, a staggered or stacked DiD approach would be suitable. In my case, I have many observations and would also like to look at interactions, which seems easier with stacked DiD. However, I am now faced with the problem that I have to control for a violation of pre-treatment trends. I have already tried a matching approach for each experiment separately and merged the data afterward, but I lost a lot of observations. Alternatively, inverse probability weighting seems like a viable alternative. However, how to incorporate this into a stacked DiD approach is not apparent. Without normalization, the different events would be weighted differently. Is it possible to combine IPW or another form of weighting with a stacked DiD? I would be very grateful for tips, snippets, and references! I would now use Weightit to weigh each experiment individually, estimate with fixest separate DiDs, and then aggregate the results. Could this all be done in a single Stacked DiD, i.e., more elegantly?
