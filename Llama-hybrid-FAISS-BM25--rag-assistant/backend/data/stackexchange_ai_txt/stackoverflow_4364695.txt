[site]: stackoverflow
[post_id]: 4364695
[parent_id]: 
[tags]: 
Regexp even number of backslashes (PHP)

I have rather hard time getting my head around regular expression, especially more complex formulas. Currently I am writing my own markup language and am stumped by escaping. I want each special character to be "escapable", that is if *bold* would give me bold , then \*bold\* should leave it as-is, so I can do the stripping of backslashes later, but I can't think of a regular expression to convey this idea. How can I select three groups: Left asterisk if the number or BSes preceding it is even; Content between asterisks; Right asterisk if the number of BSes preceding it is even; with one regular expression? I need it to be compliant with PHP's preg_replace . This \\*(\*)\S(.)+?\S\\*(\*) would select both asterisks and content as three groups, but that doesn't check for 'evenity' and stuff. UPDATE: The second paragraph has been changed to better illustrate what I meant (please don't modify it anymore because the change that was made completely missed the point). Plus, if that makes things easier, I can first parse any double backslash into some other character, so there is only need to check for ONE backslash before asterisk.
