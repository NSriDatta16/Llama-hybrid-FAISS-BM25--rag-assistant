[site]: stackoverflow
[post_id]: 3479432
[parent_id]: 
[tags]: 
Using Header as download link in PHP

So I am having this problem wit my download link. Basically my previous way of creating download link is to just have a form button with method='link' and the action to be the link to the file. This works for firefox and others but not safari. For some reason, when the user tries to download the file (excel file) from safari, it would just show bunch of ascii characters on the browser (I guess its trying to read it using the browser?). Well, I was looking for another solution and it seems like using header is the way to do it. So now I am tryng to create a form button with method='post' and action='download.php' where there is a hidden field with the link to the file. It looks like this function showDownloadWithHeader($link){ echo " "; echo " "; echo " "; echo " "; } And inside the download.php I would just want the user to be asked to download the file. "; // echo $extension; // echo filesize($filename); // echo " "; switch($extension){ case 'xls': $mimeType = 'application/vnd.ms-excel'; break; case 'xlsx': $mimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'; break; } // echo $mimeType; header('Content-Description: File Transfer'); header('Content-Type: ' . $mimeType); header('Content-Disposition: attachment; filename='.basename($file)); header('Content-Transfer-Encoding: binary'); header('Expires: 0'); header('Cache-Control: must-revalidate, post-check=0, pre-check=0'); header('Pragma: public'); header('Content-Length: ' . filesize($file)); ob_clean(); flush(); readfile($filename); exit; ?> I saw this solution on php.net under readfile() function but it doesnt seem to be working for me. I am doing this on localhost.
