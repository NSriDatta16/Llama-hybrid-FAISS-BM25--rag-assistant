[site]: crossvalidated
[post_id]: 599928
[parent_id]: 599926
[tags]: 
Pearson's R Correlation Let's say we are using a Pearson correlation as an example, the formula for deriving r is as follows: $$ r = \frac{\Sigma(x_i-\bar{x})(y_i-\bar{y})}{\sqrt{\Sigma(x_i-\bar{x})^2\Sigma(y_i-\bar{y})^2}} $$ You can see at the bottom of the formula that this correlation requires the sum of squares for each variable. Variance is the average of the sum of squares and of course standard deviation is the square root of this variance. Hence if one variable fluctuates in ways dissimilar to the other, it will directly affect the outcome. Simulate Correlation We can simulate this in R by creating a strong correlation of values, then slightly alter the last units to cause a shift in variance. I have also fit regression lines just to visualize what this does in terms of the squared distances away from the distribution of data. First, I create an x and y with 5 values each. #### Simulate Strong Negative Correlation #### x1 You can check their standard deviation below: sd(x1) sd(y1) You will see their SD is 11.40 and 15.81 respectively. We can then craft a Pearson correlation by hand like so: mean.x1 Or simply use this function: cor(x1,y1) The correlation for each will be the same ( $r$ = -.97). We can plot this using the code below, along with a regression line to show how much our data points deviate from the line: plot(x1,y1,col="blue") title("Pearson r = -.97") fit1 Alter Standard Deviation To show how standard deviation affects correlation, we have to use a method that doesn't apply a constant to all the values, but will shift the standard deviation in a way that doesn't completely alter the relationship the original values had. To do so, we can simply double the last two units of x and y, which will change the standard deviation of each. #### Double Last Units to Modify Variance #### x2 You will now see the SD has decreased for x2 (8.37) and increased for y2 (35.36). We can then repeat the same steps for these two variables. mean.x2 You will see that just doubling the last values shifts the linearity of the distribution and the correlation is less clean now, hence a lower value.
