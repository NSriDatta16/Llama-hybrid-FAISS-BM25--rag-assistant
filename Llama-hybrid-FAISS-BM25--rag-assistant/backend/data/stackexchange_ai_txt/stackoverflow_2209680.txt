[site]: stackoverflow
[post_id]: 2209680
[parent_id]: 
[tags]: 
Getting a Flex RTE to group LI items properly in XML (wrapped in UL tag)

I'm trying to use XML to convert the code that a Flex RTE creates to valid HTML. No problems on other HTML elements, but difficulty with unordered lists. I created a solution for moving consecutive LIs into a UL node. After trial and error, I came up with the following solution. Is there a better way to do this? for each (listXML:XML in xml..li) { if (listXML.children().length() == 0) { // list item is empty - make it an empty paragraph instead listXML.parent().replace( listXML.childIndex(), ); } else if (listXML.parent().children()[listXML.childIndex() - 1].name() != 'ul') { // first LI - wrap in UL listXML.parent().replace(listXML.childIndex(), ' ' + listXML.toXMLString() + ' '); } else if (listXML.parent().children()[listXML.childIndex() - 1].name() == 'ul') { // move LI into previous UL node var lastUL:int = listXML.parent().children()[listXML.childIndex() -1].childIndex(); var parentXML:XML = listXML.parent(); delete listXML.parent().children()[listXML.childIndex()]; parentXML.children()[lastUL].appendChild(listXML); } }
