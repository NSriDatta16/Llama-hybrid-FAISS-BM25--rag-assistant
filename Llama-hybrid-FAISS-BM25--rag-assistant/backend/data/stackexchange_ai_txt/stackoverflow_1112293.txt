[site]: stackoverflow
[post_id]: 1112293
[parent_id]: 1112198
[tags]: 
from the document of class code.InteractiveInterpreter([locals]): The optional locals argument specifies the dictionary in which code will be executed; it defaults to a newly created dictionary with key '__name__' set to '__console__' and key '__doc__' set to None . maybe u can turnning the locals argument, set __name__ with __main__ , or change the test clause from if __name__ == '__main__' to if __name__ in set(["__main__", "__console__"]) Hope it helps.
