[site]: crossvalidated
[post_id]: 631769
[parent_id]: 121945
[tags]: 
I just came here having the same question. After spending some time to figure out what the funtional derivatives is, I find that the core idea here is the "local changes of the funcion" in Calculus of Variations and functional derivatives. In this question, $L_k[q(z_k)]$ is a functional, whose input is the function $q(z_k)$ . We want to maximize the functional $L_k[q(z_k)]$ by changing the input function $q(z_k)$ . This procedure is called Calculus of Variations . To maximize the functional $L_k[q(z_k)]$ , we can make some small change or variation to the function $q(z_k)$ at a specific point to see how this change or variation can effect the functional. Let's take another example to make it more clear about what the "local changes" means. Imagine you have a functional that represents the length of a path between two points, A and B, in a plane. The functional could be expressed as: $ L[path] = \int_A^B \sqrt{1 + \left( \frac{dy}{dx} \right)^2} dx $ Local Change : If you nudge the path up or down slightly at some point $x_0$ , this is a local change. You are not altering the entire path, just a small segment around $x_0$ . Effect on the Functional : The functional derivative $ \frac{\delta L}{\delta y(x)} $ tells you how the total length of the path changes in response to these local adjustments at each point along the path. So, while calculating the $\frac{dL_k}{dq(z_k)}$ , we are interested in the local impact of changing $q(z_k)$ at some specific points. Therefore, when differentiating with respect to $q(z_k)$ , we're looking at the impact of changing $q(z_k)$ at each individual point, and thus the integral sign is omitted, leaving only the integrand evaluated at that point. The result is a function (not an integral) that describes how $ L_k $ changes in response to a small change in $ q(z_k) $ at each point $ z_k $ . Finally, the derivatives of the functional can be derived by only differentiating the integrand, and then regard the $q(z_k)$ as a common variable to do the differentiation. I figure out that with the help of ChatGPT4. The conversation can be found at the following link: https://chat.openai.com/share/07c67ad3-f51e-45c0-9f30-73075a632a02
