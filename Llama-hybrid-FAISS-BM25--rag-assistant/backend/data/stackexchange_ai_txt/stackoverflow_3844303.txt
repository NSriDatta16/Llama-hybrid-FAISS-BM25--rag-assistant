[site]: stackoverflow
[post_id]: 3844303
[parent_id]: 
[tags]: 
Need help with riak-js

I'm a newbie with node.js and riak, trying to use riak-js . I wrote the following coffeescript , to create N entries with the squares of integers 1..N. The script works fine for N=10. If I put a console.log() callback in the db.get() I can print the squares of 1..10. db = require('riak-js').getClient({debug:false}) N = 10 for i in [1..N] db.save('Square', String(i), String(i*i)) for i in [1..N] db.get('Square', String(i)) My problem is that when I put N=1000 it takes about 10 seconds for my script to complete. Is this normal? I was expecting something well under 1 sec. I have a single riak node on my local machine, an Acer Aspire 5740, i3 CPU and 4GB RAM, with Ubuntu 10.04. For a RAM-only store, I have set storage_backend in $RIAK/rel/riak/etc/app.config to riak_kv_ets_backend . The riak-admin status command confirms this setting. Q1: Perhaps riak-js is setting some default disk-based backend for my bucket? How do I find out/override this? Q2: I don't think it's a node.js issue, but am I doing something wrong in asynchronous usage?
