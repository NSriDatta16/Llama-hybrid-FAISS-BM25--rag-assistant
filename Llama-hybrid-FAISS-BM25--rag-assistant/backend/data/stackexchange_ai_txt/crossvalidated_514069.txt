[site]: crossvalidated
[post_id]: 514069
[parent_id]: 513897
[tags]: 
Tabular results report within-state changes in reading/math scores as a function of within-state changes in the child poverty rate. In practice, this is estimated using a fixed effects specification at the state level . The columns usually denote separate models for different test scores. For example, each test score would appear on the left-hand side of your equation. The child poverty measure is the only time-varying independent variable considered and should appear on the right-hand side of your model. Results also appear to be disaggregated by grade . In practice, this is achieved by estimating equations on subsets of your rows. First, subset your data to only include observations from fourth graders. Next, estimate two independent fixed effects equations: one equation with "reading scores" as your outcome and a second equation using "math scores" as your outcome. Extract the coefficients and you have all you need for the two left columns in Table 1. Repeat the process for eighth graders. There are many ways to proceed programmatically. In R, I will show you two methods to estimate a one-way fixed effects equation. Both approaches produce identical estimates. # Standard linear model using dummy variables for all states # as.factor() notation 'dummies out' all the states for you lm(score ~ poverty + as.factor(state), data = naep) # Panel data model using the within-transformation # Drop the state effects library(plm) plm(score ~ poverty, index = c("state", "year"), model = "within", data = naep) The plm() function is very versatile and will silently drop the states effects if estimated using the within-transformation. By the way, both methods support subsetting. A quick shortcut to restrict attention to fourth or eighth graders is to use the subset parameter inside of the lm() or plm() function. For example, try experimenting with subset = (grade == fourth) after the model formula. Now you're estimating a within-model using fourth grade tests scoresâ€”only. Repeat this for eighth graders and you should have everything you need to reproduce the table.
