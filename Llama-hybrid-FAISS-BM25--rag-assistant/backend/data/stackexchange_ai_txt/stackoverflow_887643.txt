[site]: stackoverflow
[post_id]: 887643
[parent_id]: 887629
[tags]: 
If your table is using the InnoDB storage engine, no harm was done. Even with autocommit=1 the query is only executed "all-or-nothing". The fact that you got an ERROR message is proof that the DB did not touch your data. Whenever you get an ERROR, the "x rows affected" message is omitted. Even in case the uniquess constraint would not have been violated the query would have failed with a different error: ERROR 1292 (22007): Truncated incorrect DOUBLE value: 'fieldname' This is because the minus sign would have caused MySQL to try and calculate the value of the field contents minus something else. This does not work. You only did not see this error, because the other one "got there first".
