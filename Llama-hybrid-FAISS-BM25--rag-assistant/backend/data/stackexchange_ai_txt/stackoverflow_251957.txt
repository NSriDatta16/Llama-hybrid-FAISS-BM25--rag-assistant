[site]: stackoverflow
[post_id]: 251957
[parent_id]: 
[tags]: 
MS SQL 2005 Table to XML

I have a simple table in SQL Server 2005, I wish to convert this to XML (using the "FOR XML" clause). I'm having trouble getting my XML to look like the required output. I've tried looking through various tutorials on the web, but I am struggling. Can someone help? The table I have looks like this TYPE,GROUP,VALUE Books,Hardback,56 Books,Softcover,34 CDs,Singles,45 CDS,Multis,78 The output style I need is: GROUP VALUE GROUP VALUE GROUP VALUE GROUP VALUE Edit: As far as I can tell I require the multiple values. I'm generating XML for use with Xcelsius ( Linking XML and Xcelsius ) so have no control over in the formatting of the XML. I can generate the XML using ASP as per the linked tutorial, but I was hoping to get it straight from SQL Server. Edit 2: I was hoping for something elegant and tidy... but Godeke's example got the closest. Some fiddling with the SQL and I've come up with: select "type" as '@name', "group" as 'row/column', null as 'row/tmp', "value" as 'row/column' from tableName for xml path('variable'), root('data') Outputs almost in the exact way I wanted. The null/tmp line doesn't even output; it is just preventing the concatenation. Still the tag repeats for each row, which I can't have.
