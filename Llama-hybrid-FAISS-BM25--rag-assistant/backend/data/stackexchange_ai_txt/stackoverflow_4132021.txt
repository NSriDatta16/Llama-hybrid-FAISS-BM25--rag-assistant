[site]: stackoverflow
[post_id]: 4132021
[parent_id]: 
[tags]: 
Why does this array not return properly from a JavaScript "class"

I say "class" because classes don't technically exist in JS. But here is my simplified class function clsDragStack(divWithin,divConstrain,arrOptions){ var _divWithin,_divCont,_divOption,_arrOptions; var _sourceStack=[]; // array to hold jQuery items referencing remaining source items. initally ALL items will be in this array. var _selectStack=[]; // array to hold jQuery items referencing items the user has selected. //start constructor _divWithin=divWithin; _arrOptions=arrOptions; _divCont = $('div[ID^="divContainer"]',divWithin); _divOption = $('div[ID^="divOption"]',divWithin);; initDraggables(divConstrain); //end constructor function initDraggables(divConstrain){ var divDraggables = $(".draggableBasic",_divCont); //get all the draggable divs divDraggables.each(function(i){_sourceStack.push($(this));}); //add all the children to sourcestack }; clsDragStack.prototype.selected = function (){ return _selectStack; }; }; This probably won't do anything useful in isolation but it shows the bits of interest. Basically I have a column on the left (represented in the class by _sourceStack) The user can drag items from here to another column (represented by _selectStack). This all works fine, the _sourceStack and _selectStack arrays get shuffled around quite happily. However, when I try to access the contents of _selectStack from outside the class using ... var arrFields=selectStack.selected(); ... for example - I seem to always get the original stack ie empty. If I try to access _sourceStack in the same way I get the original full list, as though no items have been moved. I can see _sourceStack and _selectStack being modified as I move items around. Do I need to make a duplicate of the array in selected() before passing that back? Why can't I seem to pass the reference to this object? I've done an experiment with simple string arrays and it works fine. Is it because these are arrays of jQuery objects?
