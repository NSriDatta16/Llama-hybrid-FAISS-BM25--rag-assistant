[site]: stackoverflow
[post_id]: 3139160
[parent_id]: 3139073
[tags]: 
Use File.list() instead of File.listFiles() - the String objects it returns consume less memory than the File objects, and (more importantly, depending on the location of the directory) they don't contain the full path name. Then, construct File objects as needed when processing the result. However, this will not work for arbitrarily large directories either. It's an overall better idea to organize your files in a hierarchy of directories so that no single directory has more than a few thousand entries.
