[site]: stackoverflow
[post_id]: 3578395
[parent_id]: 
[tags]: 
Java, XML DocumentBuilder - setting the encoding when parsing

I'm trying to save a tree (extends JTree ) which holds an XML document to a DOM Object having changed it's structure. I have created a new document object, traversed the tree to retrieve the contents successfully (including the original encoding of the XML document), and now have a ByteArrayInputStream which has the tree contents ( XML document) with the correct encoding. The problem is when I parse the ByteArrayInputStream the encoding is changed to UTF-8 (in the XML document) automatically. Is there a way to prevent this and use the correct encoding as provided in the ByteArrayInputStream . It's also worth adding that I have already used the transformer.setOutputProperty(OutputKeys.ENCODING, encoding) method to retrieve the right encoding. Any help would be appreciated.
