[site]: stackoverflow
[post_id]: 5669796
[parent_id]: 
[tags]: 
How to express 2n as sum of n variables (Java implementation?)

I wonder if there is an elegant way to derive all compositions of 2n as the sum of n non-negative integer variables. For example, for n = 2 variables x and y, there are 5 compositions with two parts : x = 0 y = 4; x = 1 y = 3; x = 2 y = 2; x = 3 y = 1; x = 4 y = 0 such that x + y = 4 = 2n. More generally, the problem can be formulated to find all the compositions of s into n non-negative integer variables with their sum equals to s. Any suggestion on how to compute this problem efficiently would be welcome, and some pseudo-code would be much appreciated. Thanks. Edit: while solutions are presented below as in Perl and Prolog, a Java implementation may present a new problem as linear data structures such as arrays need to be passed around and manipulated during the recursive calls, and such practice can become quite expensive as n gets larger, I wonder if there is an alternative (and more efficient) Java implementation for this problem.
