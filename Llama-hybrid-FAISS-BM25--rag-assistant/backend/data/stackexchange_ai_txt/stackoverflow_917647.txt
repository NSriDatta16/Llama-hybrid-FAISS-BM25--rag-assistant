[site]: stackoverflow
[post_id]: 917647
[parent_id]: 917393
[tags]: 
If you don't mind burning some extra cycles you can get better accuracy by doing a loop. Calculate slope of the line segment between A and B. Calculate slope of the line segment between {(Xa - (Xa -Xb)), (Ya -(Ya -Yb)} and {(Xb + (Xa - Xb)), (Yb +(Ya - Yb))}... Basically A - slope and B + slope. Then compare the resulting slopes. If the difference is too high (choose the threshold you want) then keep going, and average all of the slopes at the end. This can help smooth out anomalies caused by floating point arithmetic for very small slopes.
