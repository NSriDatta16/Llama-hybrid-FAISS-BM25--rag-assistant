[site]: crossvalidated
[post_id]: 620354
[parent_id]: 619829
[tags]: 
Control unit (i.e. $D=0$ when $t=T$ ) switches to $D=1$ at $T+f$ , where $f ? Wouldn't this affect the construction of the counterfactual 'control'? The function does not account for all possible future treatment sequences when refining the matched sets. In other words, the default behavior of PanelMatch() will allow for future policy switches. The authors already address this concern in their paper. For instance, the matched control units may include units who receive the treatment after time $t$ (i.e., policy switch). Similarly, some of the actual treated units may return to the control condition between time $t$ and time $t + F$ . This is inevitable in settings where we want to estimate long-term causal effects. But say you want to assess the causal effects of a rebate program where it was administered continuously over time. In that case, just be careful about your choice of $F$ . Start by "eyeballing" the spatial-temporal distribution of the treatment variable over time; this is where the DisplayTreatment() function is your best friend. If you're interested in say the effect three months after the start of the rebate program, then most, if not all, of the treated units should remain in the treatment condition for at least 3 periods; note that as we expand the future sequence, then it's quite possible that some, or most, of the units no longer participate in the program. In essence, be careful when assessing long-term causal effects. The authors of that paper specifically caution users that a large value of $F$ may make the interpretation of causal effects a bit murky, especially if many units change their treatment status during the $F$ lead time periods. If treated units have different treatment status after t=T, where one treated unit may have the following sequence for $t=[T,T+3]$ of (1, 1, 0, 0) versus another which may have (1, 0, 0, 0)? (i.e., $F = 3$ ) wouldn't it affect the calculation of the average ATT across treated population? In short, it matters with respect to inference. Say you specify $F = 3$ . In the example provided, it appears that by the second lag the treatment has reversed for all units. Again, you need to be intentional with the lead = ... parameter. The values for $F$ should make sense given the treatment variation you're observing in the real world. Estimating short-term ATTs seems more appropriate given that treatment sequence. I am also keen to understand that if there is a solution to this, whether this may have already been addressed in PanelMatch . If you're concerned with the "switchers" and how they may affect inference, then proceed as recommended. Estimate the ATT of a stable policy change, where the counterfactual scenario is that a treated unit does not receive the treatment before the outcome is measured. They expound upon this alternative framework in their appendix. By employing this approach, you're saying it is not permissible for a treatment to reverse in the specified lead window. The treatment should be in place at least for $F$ time periods after the policy change. The specific answer you're looking for may be found in Appendix A on page 1: We first constrain the matched set for each treated observation (i, t) such that the matched control units do not receive the treatment at least after time $t + F$ . But I actually prefer the explanation provided in the PanelMach documentation. When you force the treatment not to reverse in the user-defined future sequence (e.g., forbid.treatment.reversal = TRUE ), "...only matched sets for treated units where treatment is applied continuously in the lead window are included in the results." That being said, if you know the rebate program is in place for at least a couple of months, then stick with the default settings (i.e., forbid.treatment.reversal = FALSE ). It isn't fatal to observe a few treated units returning to the control condition within the specified lead window; that is a likely scenario when assessing long-term causal effects. Presently, I am working on a paper where I know the application of a policy is in effect for at least 3 months. I "know" this through domain-specific knowledge of the policy's administration and inspection of my treatment variation plot. With very few exceptions, most units return to the control condition after the third period. Given this variation, I do not impose any additional constraints on the matched sets; I'm interested in the ATT on the three periods. On the other hand, if you're interested in the effects of "switching out" (opting out), then you may be interested in their alternative causal quantity of interest: the average treatment effect of policy reversal among the reversed (ART). Put simply, the ART is a comparison of units still in the rebate program with those that opted out (i.e., reversed). This may be worth pursuing, assuming you observe enough reversals. In rare settings where all treated units return to the control condition at the same time , then it's difficult (if not impossible) to get matched sets for the ART. In other words, if all treated units opt out of the program by say, the fourth period, then policy reversal is deterministic and you needn't worry about it. If this is the case, then the ATT should be your preferred choice. In sum, the best part about PanelMatch is it allows the user to define the causal quantity of interest. Since the policy variable is allowed to switch on and off multiple times over time, we should be very deliberate with our choice of $L$ and $F$ . In the latter case, how far forward to go to look for policy effects is entirely up to you.
