[site]: crossvalidated
[post_id]: 107524
[parent_id]: 107472
[tags]: 
Why don't you keep a moving average and moving variance? See here for useful way to code them. When you do, you can tag as anomaly anything that is, say, 3 standard deviations away from the moving average. Notice that it's hard to tell what is an anomaly without making an assumption of what is normal i.e. what is the data generating process.
