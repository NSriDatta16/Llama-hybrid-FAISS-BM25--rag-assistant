[site]: stackoverflow
[post_id]: 4077130
[parent_id]: 
[tags]: 
Programmatically Rendering an Umbraco Node

I'm using Umbraco 4.5.2 and I have a node with a number of child nodes. Each child node represents a fragment of HTML that will be rendered in a control. The control loops over all the child nodes and renders them. For the moment I have a bit of a dirty hack going in order to get the thing going (still fairly new to Umbraco) but I'd rather do this better. The code I have at the moment looks like this: private string GetItemHtml(Node node) { // Work out the URL of the HTML fragment string url = "http://" + Context.Request.Url.Host + ":" + Context.Request.Url.Port + node.Url; // Get the fragment by making a call to the page WebRequest req = WebRequest.Create(url); WebResponse res = req.GetResponse(); using (Stream stream = res.GetResponseStream()) { StreamReader reader = new StreamReader(stream); string result = reader.ReadToEnd(); return result; } } As you can see, it is really rather ugly. I'm hoping there is some way to get this without having to make many HTTP calls, even if it is looping back to the same server - it can't be very efficient.
