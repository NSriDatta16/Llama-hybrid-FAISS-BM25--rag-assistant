[site]: stackoverflow
[post_id]: 2732234
[parent_id]: 2715593
[tags]: 
Cross-site XMLHttpRequests can only be done in browsers that implement the W3C Cross-Origin Resource Sharing spec and if the server returns the appropriate access control headers (see MDC article ), e.g.: Access-Control-Allow-Origin: * But this is not implemented by all browsers. The only sure-fire way to do cross-site requests is to use JSONP , for (untested) example: (function() { function shorten(ref, callback){ var callbackFuncName = 'esvapiJSONPCallback' + (new Date()).valueOf(); var script = document.createElement('script'); script.type = "text/javascript"; script.src = "http://esv.to/api/" + escape(ref) + "?callback=" + callbackFuncName; window[callbackFuncName] = function(shorturl){ script.parentNode.removeChild(script); window.callbackFuncName = null; delete window[callbackFuncName]; callback(shorturl); }; document.getElementsByTagName("head")[0].appendChild(script); } var ref = prompt("Enter a scripture reference or keyword search to link to:", ""); shorten(ref, function(shorturl) { prompt("Here is your shortened ESV URL:", shorturl); }); })(); When the server sees the callback parameter it would then need to return text/javascript instead of text/plain , and the response body would need to be wrapped in an invocation of the provided callback, for example:
