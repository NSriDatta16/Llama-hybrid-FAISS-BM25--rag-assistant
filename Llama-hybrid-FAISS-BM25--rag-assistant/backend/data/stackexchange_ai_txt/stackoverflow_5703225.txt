[site]: stackoverflow
[post_id]: 5703225
[parent_id]: 
[tags]: 
InvalidClassException : class invalid for deserialization

I am using SSA parser library in my project. When I invoke main method of one of it's class using command prompt it works fine on my machine. I execute following command from command prompt : java -Xmx800M -cp %1 edu.stanford.nlp.parser.lexparser.LexicalizedParser -retainTMPSubcategories -outputFormat "penn,typedDependenciesCollapsed" englishPCFG.ser.gz %2 But when I tried to use the same class in my java program, I am getting Caused by: java.io.InvalidClassException: edu.stanford.nlp.stats.Counter; edu.stanford.nlp.stats.Counter; class invalid for deserialization exception. Following line throws error : LexicalizedParser _parser = new LexicalizedParser("C:\englishPCFG.ser.gz"); This englishPCFG.ser.gz file contains some classes or information which gets loaded when creating object of type LexicalizedParser . Following is the stacktrace : Loading parser from serialized file C:\englishPCFG.ser.gz ... Exception in thread "main" java.lang.RuntimeException: Invalid class in file: C:\englishPCFG.ser.gz at edu.stanford.nlp.parser.lexparser.LexicalizedParser.getParserDataFromSerializedFile(LexicalizedParser.java:822) at edu.stanford.nlp.parser.lexparser.LexicalizedParser.getParserDataFromFile(LexicalizedParser.java:603) at edu.stanford.nlp.parser.lexparser.LexicalizedParser. (LexicalizedParser.java:168) at edu.stanford.nlp.parser.lexparser.LexicalizedParser. (LexicalizedParser.java:154) at com.tcs.srl.ssa.SSAInvoker. (SSAInvoker.java:21) at com.tcs.srl.ssa.SSAInvoker.main(SSAInvoker.java:53) Caused by: java.io.InvalidClassException: edu.stanford.nlp.stats.Counter; edu.stanford.nlp.stats.Counter; class invalid for deserialization at java.io.ObjectStreamClass.checkDeserialize(Unknown Source) at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source) at java.io.ObjectInputStream.readObject0(Unknown Source) at java.io.ObjectInputStream.defaultReadFields(Unknown Source) at java.io.ObjectInputStream.readSerialData(Unknown Source) at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source) at java.io.ObjectInputStream.readObject0(Unknown Source) at java.io.ObjectInputStream.defaultReadFields(Unknown Source) at java.io.ObjectInputStream.readSerialData(Unknown Source) at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source) at java.io.ObjectInputStream.readObject0(Unknown Source) at java.io.ObjectInputStream.readObject(Unknown Source) at edu.stanford.nlp.parser.lexparser.LexicalizedParser.getParserDataFromSerializedFile(LexicalizedParser.java:814) ... 5 more Caused by: java.io.InvalidClassException: edu.stanford.nlp.stats.Counter; class invalid for deserialization at java.io.ObjectStreamClass.initNonProxy(Unknown Source) at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source) at java.io.ObjectInputStream.readClassDesc(Unknown Source) ... 17 more I am new to Java world so I dont to why this error is coming and what should I do to avoid it. I googled for this error then I found out that this error comes because of some version mismatch which I think is something similar to dll hell of windows API. Am I correct? Anyone knows why this kind of error comes? and what should we do to avoid it? Please enlighten !!!
