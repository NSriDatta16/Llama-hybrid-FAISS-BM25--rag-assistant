[site]: stackoverflow
[post_id]: 379439
[parent_id]: 357243
[tags]: 
I find that the best way to do lines is to read-only memory map the file. Do not bother writing \0 in for \n, instead use pairs of const char * s, like std::pair or pairs of const char* s and a count.. If you need to edit the lines, a good way to do it is to make an object that can store pointer pairs or a std::string with the modified line. As for saving room in memory with STL vectors or deques, a good technique is to let it double until you are done adding to it. Then resize it to its real size which should free the unused memory back to the heap allocator. The memory may still be allocated to the program, though I wouldn't worry about it. Also, instead of taking the default size, start out by getting the file size in bytes, divide by your best guess at the average characters per line, and reserve that much space at the start.
