[site]: stackoverflow
[post_id]: 2275144
[parent_id]: 
[tags]: 
How do I use Visual Studio 2010 RC 'one click publish' from the command line?

I've got VS 2010 RC running and have two publish profiles set up in it, one for publishing to the staging server and one for the developer test box. It works great but I want to put the deployment to our dev server into our build server and run it on check-in. I'm looking for an MS Build target or a command I can call via MS Build that I can tack onto the end of the build process to deploy. So far I have come up with; msbuild WebApp.csproj /t:MsDeployPublish /p:MsDeployServiceUrl=myserver;DeployIisAppPath= "Default Web Site/DevTest";username=myname;password=mypassword Which nearly works, except that it assumes my server has an SSL connection in IIS for the web deployment service (it only has port 80 as it is on an internal network). I know this because I get the error; Microsoft.Web.Publishing.targets(3481,5): error : Web deployment task failed.(Could not complete the request to remote agent URL 'https://myserver:8172/msdeploy.axd?site=Default Web Site'.) You can see from the error that it has gone to https://myserver and not http://myserver . MS Build itself seems to call a DLL to do this, so I can't spy on the parameters and there is no documentation for MsDeployServiceUrl.
