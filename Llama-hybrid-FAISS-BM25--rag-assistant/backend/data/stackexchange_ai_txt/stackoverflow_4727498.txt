[site]: stackoverflow
[post_id]: 4727498
[parent_id]: 4726521
[tags]: 
This can be caused by the fact that by default autodetection works for classes inside the same classpath item where persistence.xml is located. So, you have separate target folders for the code itself and for the tests (for example, if you use Maven with default configuration), and if this persistence.xml ends up in tests' target folder after compilation, classes from the main target folder wouldn't be detected. You can use elements to point to other classpath items that should be searched for entities. If you use Maven, you can do it in elegant way using resource filtering: persistence.xml : ${project.build.outputDirectory} pom.xml : src/test/resources true
