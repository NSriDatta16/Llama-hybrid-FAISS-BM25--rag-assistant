[site]: stackoverflow
[post_id]: 5154235
[parent_id]: 5153980
[tags]: 
I couldn't come up with a pure RegEx solution. Therefore I am providing you with a pragmatic solution. I tested it and it works: [Test] public void Replace_all_asterisks_outside_the_square_brackets() { var input = "H*]e*l[*o], w*rl[*d*o] [o*] [o*o]."; var actual = ReplaceAsterisksNotInSquareBrackets(input); var expected = "H%]e%l[*o], w%rl[*d*o] [o*] [o*o]."; Assert.AreEqual(expected, actual); } private static string ReplaceAsterisksNotInSquareBrackets(string s) { Regex rx = new Regex(@"(? \*)(?=[^\[\]]*\])"); var matches = rx.Matches(s); s = s.Replace('*', '%'); foreach (Match match in matches) { s = s.Remove(match.Groups["asterisk"].Index, 1); s = s.Insert(match.Groups["asterisk"].Index, "*"); } return s; }
