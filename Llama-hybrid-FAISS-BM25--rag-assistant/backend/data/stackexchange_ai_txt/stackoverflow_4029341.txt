[site]: stackoverflow
[post_id]: 4029341
[parent_id]: 
[tags]: 
DOM parser that allows HTML5-style tag

Update : html5lib (bottom of question) seems to get close, I just need to improve my understanding of how it's used. I am attempting to find an HTML5-compatible DOM parser for PHP 5.3. In particular, I need to access the following HTML-like CDATA within a script tag: ${name} Most parsers will end parsing prematurely because HTML 4.01 ends script tag parsing when it finds ETAGO ( ) inside a tag. However, HTML5 allows for before . All of the parsers I have tried so far have either failed, or they are so poorly documented that I haven't figured out if they work or not. My requirements: Real parser, not regex hacks. Ability to load full pages or HTML fragments. Ability to pull script contents back out, selecting by the tag's id attribute. Input: bar Example of failing output (no closing ): bar Some parsers and their results: DOMDocument (fails) Source: loadHTML(' bar '); echo $d->saveHTML(); Output: Warning: DOMDocument::loadHTML(): Unexpected end tag : td in Entity, line: 1 in /home/adam/public_html/2010/10/26/dom.php on line 5 bar FluentDOM (fails) Source: "; echo FluentDOM($html, 'text/html'); Output: phpQuery (fails) Source: test EOF ); echo (string)pq('#foo'); Output: test html5lib (passes) Possibly promising. Can I get at the contents of the script#foo tag? Source: "; $d = HTML5_Parser::parse($html); echo $d->saveHTML(); Output:
