[site]: stackoverflow
[post_id]: 5018544
[parent_id]: 
[tags]: 
WPF GridSplitter - saving and restoring location AND splitting proportionately

I am creating a 3-column UI with grid splitters between the columns. I have the requirement to save the sate of the columns so that if the user closes and reopens the app it looks just like they left it. But I am also trying to get the columns to split proportionately - by which I mean if you stretch the window, all three panels grow and if you move the left splitter it changes the division between the left and center columns. What I have currently achieves only the first requirement - it saves the state of the column widths. I have also made the columns enforce minimum widths for all three columns. But as I understand it, the way to tell a splitter to split proportionately is to use star-sized column widths. Since I am using the Width property already to save and restore the state, I'm not sure I can accomplish what I want to. Has anyone managed to both save the state of column widths AND have the split be proportional? Here is some code for what I've got currently: I have dependency properties of type double for both LeftColumnMaxWidth and CenterColumnMaxWidth. And the rightPanel_SizeChanged handler as well as the window Loaded handler both call this method: private void CalculateMaxWidths() { FrameworkElement content = Content as FrameworkElement; if (content != null) { LeftColumnMaxWidth = content.ActualWidth - leftSplitter.ActualWidth - centerColumn.ActualWidth - rightSplitter.ActualWidth - rightColumn.MinWidth; CenterColumnMaxWidth = content.ActualWidth - leftColumn.ActualWidth - leftSplitter.ActualWidth - rightSplitter.ActualWidth - rightColumn.MinWidth; } } I still have some work to do to make sure that resizing the window doesn't clip the right column. I think that solution may be related to trying to make the splitters split proportionately. The particularly peculiar behavior of my current set up is that the left splitter resizes the left and right columns, and leaves the center column size fixed. I am not afraid of handling SizeChanged or DragDelta to achieve my goals. But what I believe I cannot do is actually set the Width property of the first two columns, as that would destroy my binding to the user setting that saves the state. Thank you in advance for any help.
