[site]: stackoverflow
[post_id]: 2757761
[parent_id]: 
[tags]: 
Using sortable_element in Rails on a list generated by a find()

I'm trying to use the scriptaculous helper method sortable_element to implement a drag-and-drop sortable list in my Rails application. While the code for the view looks pretty simple, I'm really not quite sure what to write in the controller to update the "position" column. Here's what I've got in my view, "_show_related_pgs.erb": _siblings_list"> "/interests/peer_group_map", :collection => @maps, :as => :related_pg %> {:action => :resort_related_pgs}, :handle => "drag" ) %> And here's the relevant line from the partial, "interests/peer_group_map.erb" _siblings_list" id = "interest_ _siblings_list_ "> The Scriptaculous UI magic works fine with these, but I am unsure as to how to change the "position" column in the db to reflect this. Should I be passing the collection @maps back to the controller and tell it to iterate through that and increment/decrement the attribute "position" in each? If so, how can I tell which item was moved up, and which down? I couldn't find anything specific using Chrome dev-tools in the generated html. After each reordering, I also need to re-render the collection @maps since the position is being printed out next to the name of each interest (I'm using it as the "handle" specified in my call to sortable_element() above) - though this should be trivial. Any thoughts? Thanks, -e
