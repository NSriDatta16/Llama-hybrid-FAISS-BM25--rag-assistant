[site]: stackoverflow
[post_id]: 5285085
[parent_id]: 
[tags]: 
How to use Sinatra, Datamapper, DM-Paperclip and S3?

Update: I've switched to CarrierWave (finally got it to work), so although I still appreciate answers to this question I won't be able to try if they actually work since I've completely removed DM-Paperclip from my code. Hi there, I'm developing a Sinatra-webapp using DataMapper and are now looking to add some upload-functionality with S3 as storage. I've tried CarrierWave , but I couldn't get that to work so now I'm trying dm-paperclip. This is what I have right now: Model: class Article include DataMapper::Resource include Paperclip::Resource property :id, Serial property :created_at, DateTime property :updated_at, DateTime property :title, String property :body, Text has_attached_file :screenshot, :storage => :s3, :s3_credentials => { :access_key_id => 'my-access-key-id', :secret_access_key => 'my-secret_access-key', :bucket => 'my-bucket' }, :styles => { :medium => "300x300>", :thumb => "100x100>" } end Controller: post '/articles/create' do @article = Article.new @article.title = params[:title] @article.body = params[:body] @article.screenshot = params[:screenshot] begin @article.save rescue DataMapper::SaveFailureError => e puts "Error saving article: #{e.to_s} validation: #{@article.errors.values.join(', ')}" rescue StandardError => e puts "Got an error trying to save the article #{e.to_s}" end redirect '/articles' end Yet when I create a new article it doesn't save anything to my S3 bucket and I don't get any errors either. Any ideas what I'm doing wrong?
