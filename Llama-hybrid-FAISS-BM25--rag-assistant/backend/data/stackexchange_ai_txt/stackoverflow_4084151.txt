[site]: stackoverflow
[post_id]: 4084151
[parent_id]: 4027201
[tags]: 
Hang on, I can make your life a whole bunch easier. Based on your "starbucks.sxml" file name, it looks like you're already using the sxml racket package. If so, then you can also use the 'sxpath' part of that library to simplify your code drastically: #lang racket (require (planet lizorkin/sxml:2:1/sxpath)) (define tree (file->value "/tmp/starbucks.sxml")) (define artifact-filter (sxpath '(opm:artifact))) (artifact-filter tree) This returns a list of the opm:artifact nodes (including everything inside them). For instance, when I ran it on the fragment you provide above (plus a bunch of inserted open-parens--they weren't balanced--I got this: Welcome to DrRacket, version 5.0.2.1--2010-10-27(41c084c/g) [3m]. Language: racket; memory limit: 512 MB. '((opm:artifact ((id "a1")) "\n " (opm:account ((ref "detailedAccount"))) "\n " (opm:label ((value "order"))) "\n ") (opm:artifact ((id "a2")) "\n " (opm:account ((ref "detailedAccount"))) "\n " (opm:label ((value "cash"))) "\n ")) The documentation for the whole sxml package is really bad... perhaps "nonexistent" would be a better word; to be fair, though, the sxml folks are interested in supporting all Schemes, not just Racket, so they can certainly be forgiven for not spending lots of time writing documentation in the Racket format, Scribble.
