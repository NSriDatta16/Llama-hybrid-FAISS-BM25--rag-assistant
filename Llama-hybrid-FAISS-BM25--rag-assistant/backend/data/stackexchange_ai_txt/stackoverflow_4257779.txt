[site]: stackoverflow
[post_id]: 4257779
[parent_id]: 
[tags]: 
Problem with anonymous function and undefined members values

I asked a question here: Extending javascript literal object which was solved because I forgot return. Now I didn't forget return and I got undefined again, why ? var secretAgent = (function(){ var person = {}, firstName = "James", lastName = "Bond"; person.WhoAreYou = function() { alert("My name is " + this.lastName + ", " + this.firstName + " " + this.lastName); }; return person; })(); secretAgent.WhoAreYou(); Update: why mine doesn't work whereas I think I did the same thing as the one below that works: http://enterprisejquery.com/2010/10/how-good-c-habits-can-encourage-bad-javascript-habits-part-1/ //Revealing Module Pattern (Public & Private) var skillet = (function() { var pub = {}, //Private property amountOfGrease = "1 Cup"; //Public property pub.ingredient = "Bacon Strips"; //Public method pub.fry = function() { console.log( "Frying " + pub.ingredient ); }; //Private method function privateWay() { //Do something... } //Return just the public parts return pub; }()); //Public Properties console.log( skillet.ingredient ); //Bacon Strips //Public Methods skillet.fry(); //Adding a public property to a Module skillet.quantity = 12; console.log( skillet.quantity ); //12 //Adding a public method to a Module skillet.toString = function() { console.log( skillet.quantity + " " + skillet.ingredient + " & " + amountOfGrease + " of Grease" ); }; try { //Would have been successful, //but can't access private variable skillet.toString(); } catch( e ) { console.log( e.message ); //amountOfGrease is not defined }
