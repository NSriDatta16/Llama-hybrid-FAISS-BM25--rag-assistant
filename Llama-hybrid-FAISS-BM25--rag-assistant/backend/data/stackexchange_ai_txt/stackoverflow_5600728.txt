[site]: stackoverflow
[post_id]: 5600728
[parent_id]: 
[tags]: 
Bucket sort using fully qualified file name question - really a parse question

I can do this but my solution seems a bit of a hack so thought I would ask SO to get a more elegant solution. I need to take a list of fully qualified file names and sort/copy them into a few buckets based on a substring in the path name. I have three buckets, maybe more and can change. Say I have three buckets these files are copied to, like "foo", "foo\bar" and "foo\baz". So the file C:\mumble\foo\bar\thing.extension goes into the foo\bar bucket, and C:\fumble\foo\baz\this\is\another\directory\bling.extension goes to the \foo\baz bucket, and D:\stumble\foo\something.extension goes into the foo bucket. I need to redirect the files so I've been using IndexOf (so I can create the direction of the copy), but that does not really work very well because \foo and foo\bar are similar and need different buckets. Then I thought I could use file.Contains, but \foo and \foo\baz go into different buckets so need a priority, foo\bar to one but \foo to another. Any ideas how to do this with relative simplicity? My code is embarrassing. Thanks Doug
