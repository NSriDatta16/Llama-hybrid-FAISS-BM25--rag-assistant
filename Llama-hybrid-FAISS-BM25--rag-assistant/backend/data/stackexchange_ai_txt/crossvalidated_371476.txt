[site]: crossvalidated
[post_id]: 371476
[parent_id]: 
[tags]: 
Calculate binomial deviance (binomial log-likelihood) in the test dataset

I'm predicting probabilities $\mathbb{P}(Y=1)$ using a probability forest ( ranger in R ). I want to evaluate my predictions $\hat p_i$ in a test dataset by calculating average binomial deviance (log-likelihood). I believe the formula is: \begin{equation} \text{mean deviance} = \sum_{i\in \text{testset}} -2\big[Y_i\ln \hat p_i + (1-Y_i)\ln(1- \hat p_i)\big] \end{equation} How do I deal with the fact that I have forest predictions that are excactly 0 or 1? For these observations, deviance is not defined due to the logarithm. Should I just omit them? Or should I set these values to, say, 0.00001 and 0.99999 respectively?
