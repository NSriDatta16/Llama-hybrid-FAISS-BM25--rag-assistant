[site]: stackoverflow
[post_id]: 5140626
[parent_id]: 
[tags]: 
Jquery Scope Problems

function drawLabel(labelsIndex) { // Check not deleted Label data:(DBID, text, styling, x, y, isDeleted) if (!labelData[labelsIndex][5]) { // Create var newLabel = $(' ' + labelData[labelsIndex][1] + ' '); $('#thePage').append(newLabel); // Click edit $('#label' + labelsIndex).dblclick(function() { if (!isDraggingMedia) { var labelText = $('#label' + labelsIndex).html(); $('#label' + labelsIndex).html(' '); document.getElementById('#label' + labelsIndex).blur = (function(index) { return function() { var labelText = $('#labelTxtBox' + index).val(); $('#label' + index).html(labelText); }; })(labelsIndex); } }); The code is meant to replace a div's text with a textbox, then when focus is lost, the textbox dissapears and the divs html becomes the textbox value. Uncaught TypeError: Cannot set property 'blur' of null $.draggable.start.isDraggingMediaresources.js:27 c.event.handlejquery1.4.4.js:63 I think I'm getting a tad confused with the scope, if anyone could give me some points I'd appreciate it. It would also be good if someone could show me how to remove the blur function after it has been executed (unbind?)
