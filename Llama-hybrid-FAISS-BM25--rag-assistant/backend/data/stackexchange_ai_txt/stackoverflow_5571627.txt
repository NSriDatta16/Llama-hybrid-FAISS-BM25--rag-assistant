[site]: stackoverflow
[post_id]: 5571627
[parent_id]: 
[tags]: 
Ruby on Rails segfault in excon/connection.rb connect function

I am using Carrierwave with Rails 3.0.4. Everything works fine on my big project when I am storing the files locally on the server, but when I switch over to use Amazon s3 things fall apart. Namely I get this error (just the end of a very large trace): /Users/nic/.rvm/gems/ruby-1.9.2-p136@hci/gems/excon-0.6.1/lib/excon/connection.rb:252: [BUG] Segmentation fault ruby 1.9.2p136 (2010-12-25 revision 30365) [x86_64-darwin10.6.0] -- control frame ---------- c:0099 p:---- s:0529 b:0529 l:000528 d:000528 CFUNC :connect c:0098 p:0192 s:0526 b:0526 l:000525 d:000525 METHOD /Users/nic/.rvm/gems/ruby-1.9.2-p136@hci/gems/excon-0.6.1/lib/excon/connection.rb:252 c:0097 p:0333 s:0519 b:0519 l:000518 d:000518 METHOD /Users/nic/.rvm/gems/ruby-1.9.2-p136@hci/gems/excon-0.6.1/lib/excon/connection.rb:231 c:0096 p:0030 s:0513 b:0510 l:000509 d:000509 METHOD /Users/nic/.rvm/gems/ruby-1.9.2-p136@hci/gems/excon-0.6.1/lib/excon/connection.rb:268 c:0095 p:0618 s:0507 b:0507 l:000506 d:000506 METHOD /Users/nic/.rvm/gems/ruby-1.9.2-p136@hci/gems/excon-0.6.1/lib/excon/connection.rb:148 c:0094 p:0100 s:0491 b:0491 l:000490 d:000490 METHOD /Users/nic/.rvm/gems/ruby-1.9.2-p136@hci/gems/fog-0.7.1/lib/fog/core/connection.rb:20 c:0093 p:0106 s:0483 b:0483 l:000482 d:000482 METHOD /Users/nic/.rvm/gems/ruby-1.9.2-p136@hci/gems/fog-0.7.1/lib/fog/storage/aws.rb:323 What makes it even weirder is that I have successfully made two other projects that use the same code and the same gems and the same version of Ruby (1.9.2-p136) that work just fine with Amazon s3. The only difference between the projects is SQLite vs MySQL along with different internal, seemingly unrelated code. Here is a post I made to the Carrierwave google group. Thanks for any help.
