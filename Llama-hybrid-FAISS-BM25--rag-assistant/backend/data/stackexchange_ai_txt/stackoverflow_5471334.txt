[site]: stackoverflow
[post_id]: 5471334
[parent_id]: 
[tags]: 
Improve update SQL query performance

I've an SQL database to contain stock bars downloaded from Yahoo!. I'm trying to create some indicators to analyze these stocks (i.e. Simple Moving Average). I am concerned with the performances of my query, which is simply UPDATE @stockname SET SMA = @value WHERE id = @n . To update 2000 rows it takes 2 minutes. I tried with a stored procedure but the result is almost the same. for (int i = 0; i This cycle calls the stored procedure to update the column SMA each time a new value is generated. Is there any possibility to put directly the entire column into the database? I think this can save time. Anyway updating 500 rows in 2 min sounds very slow. Could you tell me how to improve the execution time of my query?
