[site]: stackoverflow
[post_id]: 5085521
[parent_id]: 
[tags]: 
Question about WPF FrameworkElement.ArrangeOverride(Size finalSize) method

When creating a custom Panel , we need to override FrameworkElement.MeasureOverride(Size availableSize) and FrameworkElement.ArrangeOverride(Size finalSize) to organise our custom layout of items. The MSDN FrameworkElement.ArrangeOverride Method page states that the return value of type System.Windows.Size should be "The actual size used". However, if the actual size used by the items is smaller than the size of the container, then the item content is centred in the container. By this I mean that a bounds rectangle of the size returned contains all the items and is centred in the container. I tried setting the HorizontalContentAlignment and VerticalContentAlignment properties on the ListBox that uses my custom Panel , but it made no difference. Strangely though, if I return the unadjusted finalSize input variable instead of the actual size used, then my items appear just as expected and the custom Panel works fine. Can anyone enlighten me as to why this is? Also, is it possible to position the bounds rectangle containing the items when returning the actual size?
