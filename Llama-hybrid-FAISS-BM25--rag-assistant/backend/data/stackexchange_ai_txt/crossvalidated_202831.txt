[site]: crossvalidated
[post_id]: 202831
[parent_id]: 202823
[tags]: 
When you sample random schools, you are comparing school-level averages, not just student-level averages.* The robustness of the effect in this case indicates that the school-level averages in your dataset are probably not normally distributed. On the other hand, when you sample the students independently of school, you are no longer looking at individual school averages. Since you see no effect here, this indicates that your individual student scores probably are normally distributed. So, you are seeing differences here because you are fundamentally testing two different hypotheses. *Edit: Here's an example illustrating why this is the case: Take two schools A and B. A has scores (2, 4, 5, 6, 7, 8), B has scores (3, 4, 2, 1). The mean of A is 5.33, of B is 2.5, and of the whole dataset is 4.2. There are 6 entries in A and 4 in B, so the weighted average of A and B would be (6/10)*mean(A) + (4/10)*mean(B) = 0.6*5.33 + 0.4*2.5 = 4.2, the same as the whole dataset mean.
