[site]: stackoverflow
[post_id]: 5574376
[parent_id]: 
[tags]: 
PHP Curl adds '\' to apostrophe character sending to PHP but ASP based server

I have a 3rd party ASP based server which has a PHP page which takes in form data. From my web page I have a PHP script which sends fields to the PHP page using curl. Everything works fine except if a user includes an apostrophe character to the text! In the back end it is received as "\'". What is even odder is that it only does this from my hosted website. When I test locally it works fine. i don't have a control on my hosted site. All i have to work on my php curl function. it works perfect on my localhost. here is the sample code $this->headers[] = 'Accept: '. $_SERVER['HTTP_ACCEPT']; $this->headers[] = 'Connection: Keep-Alive'; $this->headers[] = 'Content-type: application/x-www-form-urlencoded;charset=UTF-8'; $post_var = 'post='.urlencode(stripslashes("it's Me Ali")); $this->ch = curl_init(); curl_setopt($this->ch, CURLOPT_HTTPHEADER, $this->headers); curl_setopt($this->ch, CURLOPT_HEADER, FALSE); curl_setopt($this->ch, CURLOPT_USERAGENT, $this->USER_AGENT); curl_setopt($this->ch, CURLOPT_COOKIEFILE, $this->cookie); curl_setopt($this->ch, CURLOPT_COOKIEJAR, $this->cookie); curl_setopt($this->ch, CURLOPT_COOKIE, $strCookie = 'PHPSESSID=' . $_COOKIE['PHPSESSID'] . '; path=/'); curl_setopt($this->ch, CURLOPT_ENCODING, "gzip"); curl_setopt($this->ch, CURLOPT_RETURNTRANSFER, TRUE); curl_setopt($this->ch, CURLOPT_FOLLOWLOCATION, TRUE); curl_setopt($this->ch, CURLOPT_URL, 'http://www.example.com/form.php'); curl_setopt($this->ch, CURLOPT_POST, TRUE); curl_setopt($this->ch, CURLOPT_POSTFIELDS, $post_var); $get_page = curl_exec($this->ch); echo $get_page; curl_close($this->ch);
