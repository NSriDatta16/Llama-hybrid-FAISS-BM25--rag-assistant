[site]: stackoverflow
[post_id]: 4716944
[parent_id]: 
[tags]: 
Javascript to add cdata section on the fly?

I'm having trouble with special characters that exist in an xml node attribute. To combat this, I'm trying to render the attributes as child nodes and, where necessary, using cdata sections to get around the special characters. The problem is, I can't seem to get the cdata section appended to the node correctly. I'm iterating over the source xml node's attributes and creating new nodes. If the attribute.name = "description" I want to put the attribute.text() in a cdata section and append the new node. That's where I jump the track. // newXMLData is the new xml document that I've created in memory for (var ctr =0;ctr " ); var cdata = newXMLData.createCDATASection('test'); // here's where it breaks. } else { // It's not "Description" so just append the new node. newXMLDataNode.append(" " + $(this.attributes[ctr]).text() + " " ); } } Any ideas? Is there another way to add a cdata section? Here's a sample snippet of the source... blah blah blah since June 2007.&amp;nbsp; T &amp;nbsp; blah blah blah blah&amp;nbsp; " CreatedDate="2010-09-20 14:46:18" Comments="Comments example.&#10;" > here's what I'm trying to create... 4 Test Site Name http://www.cnn.com 1 blah blah blah since June 2007.&amp;nbsp; T &amp;nbsp; blah blah blah blah&amp;nbsp; 2010-09-20 14:46:18
