[site]: stackoverflow
[post_id]: 279696
[parent_id]: 
[tags]: 
Beginner at Common Lisp: Macro Question For Defining Packages on the Fly

Still struggling to understand what best practices are with respect to macros. I'm attempting to write a macro which defines packages on the fly. (defmacro def-dynamic-package (name) `(defpackage ,(intern (string-upcase name) "KEYWORD") (:use :common-lisp))) This works fine only for expressions such as: (def-dynamic-package "helloworld") But fails miserably for something like this: (defun make-package-from-path (path) (def-dynamic-package (pathname-name path))) or (defun make-package-from-path (path) (let ((filename (pathname-path))) (def-dynamic-package filename))) I understand how most basic macros work but how to implement this one escapes me.
