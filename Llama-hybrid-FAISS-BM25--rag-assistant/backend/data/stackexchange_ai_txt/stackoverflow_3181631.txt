[site]: stackoverflow
[post_id]: 3181631
[parent_id]: 3181511
[tags]: 
import org.w3c.dom.*; import java.io.*; import javax.xml.parsers.*; import javax.xml.transform.*; import javax.xml.transform.dom.*; import javax.xml.transform.stream.*; public class AddAndPrint { public static void main(String[] args) { DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance(); DocumentBuilder docBuilder = docFactory.newDocumentBuilder(); Document doc = docBuilder.parse("/path/to/file.xml"); NodeList employees = document.getElementsByTagName("employee"); for (Node employee : employees) { for (Node child : employee.getChildNodes() { if ("details".equals(child.getNodeName()) child.setAttribute("weight", "150"); } } try { Source source = new DOMSource(doc); StringWriter stringWriter = new StringWriter(); Result result = new StreamResult(stringWriter); TransformerFactory factory = TransformerFactory.newInstance(); Transformer transformer = factory.newTransformer(); transformer.transform(source, result); System.out.println(stringWriter.getBuffer().toString()); } catch (TransformerConfigurationException e) { e.printStackTrace(); } catch (TransformerException e) { e.printStackTrace(); } } }
