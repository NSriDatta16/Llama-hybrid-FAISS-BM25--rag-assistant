[site]: stackoverflow
[post_id]: 3206644
[parent_id]: 
[tags]: 
How can I control the traffic speed (bytes sent) in Java (Jpcap)

I'm making a network simulation application in my class. I already did the entire code, however I'm getting trouble at controlling the speed of the traffic sent. The user of the app can input the desired speed that he wants to generate (for example 10 MiB/s). I'm doing this control in some really crappy way. I made a UDP/TCP package in Java that has a specific bytes (for example 8192 bytes). Knowing this I made a Thread that last one second and keeps checking in if it's already has reached it's limit (in seconds or size) and keeps sending until it has reached. The following algorithm explain my crappy idea. sendWithLimit (byte limit, JpcapSender sender, Packet pkg) { byte current = 0; long timeStamp = System.currentTimeMillis(); while ((current I think that this approach is quite poor, is there a better way to control this???
