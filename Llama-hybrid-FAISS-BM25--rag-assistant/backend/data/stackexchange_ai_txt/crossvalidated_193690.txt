[site]: crossvalidated
[post_id]: 193690
[parent_id]: 193554
[tags]: 
Here's an ultra kludgy explanation: you need to generate vectors of the form (x4, x3, x2, x1) (where xi = characteristic) and each is drawn from its own domain. Consider that you want exactly 2 characteristics to match, so given one box, the other one should have 2 characteristics that match (so there's only one way to set those values) and 2 characteristics that don't . (so xi's domain's size minus one ways). And, happily, these are all mutually exclusive. Vary the characteristics in pairs (and forsaking all elegance): (2-1) ((3-1)+(4-1)+(5-1)) + (2) ((3)+(4)) + (12) = 35 (second boxes for each first box); 5/17 is about .29.
