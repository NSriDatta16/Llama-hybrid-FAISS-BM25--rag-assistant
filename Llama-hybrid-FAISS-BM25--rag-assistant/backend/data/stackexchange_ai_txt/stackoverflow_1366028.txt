[site]: stackoverflow
[post_id]: 1366028
[parent_id]: 1364309
[tags]: 
Have you checked whether throwing exceptions are enabled when the stream state is set to fail or bad? Because the C++ Standard says the following abt 'write' methdod :- 27.6.2.7. Unformatted output functions Point:-5 basic_ostream& write(const char_type* s, streamsize n); Effects: Behaves as an unformatted output function (as described in 27.6.2.7, paragraph 1). After constructing a sentry object, obtains characters to insert from successive locations of an array whose first element is designated by s. Characters are inserted until either of the following occurs: n characters are inserted; inserting in the output sequence fails (in which case the function calls setstate badbit), which may throw ios_base::failure (27.4.4.3)). This means that at most testfile.fail() returns true. It should ideally not crash. I suspect an exception is being thrown and not caught (But maybe i am totally wrong).
