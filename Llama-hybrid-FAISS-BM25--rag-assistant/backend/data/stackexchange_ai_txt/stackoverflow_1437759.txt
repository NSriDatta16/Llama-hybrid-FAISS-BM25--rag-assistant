[site]: stackoverflow
[post_id]: 1437759
[parent_id]: 1437723
[tags]: 
Just a different suggestion, which should be possible too in PHP. In ASP.NET, you can write special handlers which would be able to send back all kinds of binary data back to the client. Instead of rewriting your pages, you could link the image tags to a special image handler. This handler would receive the request, check the user agent string from the client to detect the browser version and in case of IE6, it would convert the PNG to a JPG file and stream that back. In other cases, it would just return the PNG file. Your URL would then look a bit like http://example.org/yourpage.php?yourimage Basically, you would be fixing the problem much closer to the source of the problem. And detecting IE6 has been explained already.
