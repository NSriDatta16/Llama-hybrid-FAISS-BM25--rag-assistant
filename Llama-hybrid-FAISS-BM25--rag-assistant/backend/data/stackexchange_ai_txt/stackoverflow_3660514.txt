[site]: stackoverflow
[post_id]: 3660514
[parent_id]: 
[tags]: 
mongoDB replication+sharding on 2 servers reasonable?

Consider the following setup: There a 2 physical servers which are set up as a regular mongodb replication set (including an arbiter process, so automatic failover will work correctly). now, as far as i understand, most actual work will be done on the primary server, while the slave will mostly just do work to keep its dataset in sync. Would it be reasonable, to introduce sharding into this setup in a way that one would set up another replication set on the same 2 servers, so that each of them has one mongod process running as primary and one process running as secondary. The expected result would be that both servers will share the workload of actual querys/inserts while both are up. In the case of one server failing the whole setup should elegantly fail over to continue running, until the other server is restored. Are there any downsides to this setup, except the overall overhead in setup and number of processes (mongos/configservers/arbiters)?
