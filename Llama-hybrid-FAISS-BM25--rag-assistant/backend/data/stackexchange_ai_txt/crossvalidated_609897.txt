[site]: crossvalidated
[post_id]: 609897
[parent_id]: 609872
[tags]: 
The plots that you show aren't very useful for evaluating a Cox model. Intuition from models like ordinary least squares often doesn't extend to survival modeling. The baseline hazard over time is necessarily 0 except at observed event times, as the Cox-model hazard is exactly 0 between event times. The lines connecting the points in your first plot are thus, at best, misleading. If you want to show the baseline hazard then show the cumulative hazard, a step function. Remember, however, that the baseline hazard isn't even a part of the Cox model itself. It's something you can extract from the data after you fit the model. It doesn't evaluate the fit of the model. The discussion of goodness-of-fit measures for survival models in lifelines doesn't include deviance residuals, for good reason. Those coming new to survival modeling often hope to use deviance residuals (or the martingale residuals to which they are related) in the ways that one uses residuals in least-squares modeling. For many purposes you can't, as Therneau and Grambsch explain in Chapter 4. For example, in Section 4.2.3, they note that "martingale residuals and the fitted values are negatively correlated, frequently strongly so," which is related to the plot you show. With time-fixed covariates, the deviance residuals $d_i$ are close to a normalized difference between the observed $(N_i)$ and predicted $(\hat E_i)$ numbers of events for an individual at the event or censoring time $t_i$ (Therneau and Grambsch, Section 4.3): $$d_i \approx \frac{N_i(t_i)-\hat E_i(t_i)}{\sqrt {\hat{E_i}(t_i)}}. $$ The numerator is the martingale residual process evaluated at the event or censoring time. The estimated expected number of events for individual $i$ with time-fixed covariate values $X_i$ and corresponding coefficient estimates $\hat \beta$ is a non-decreasing function of time (see Chapter 4 of Therneau and Grambsch): $$\hat{E_i}(t) = \int_0^t Y_i(s) e^{X_i \hat\beta} d \hat{\Lambda}_0(s),$$ where $Y_i(s)$ is 1 while the individual is at risk (0 otherwise) and $\hat{\Lambda}_0(s)$ is the estimated baseline cumulative hazard over time. $\hat{E}_i(t)$ is thus related to the estimated baseline cumulative hazard, which has a step increase at each event time over the entire data sample . That has two implications. First, $\hat{E}_i(t)$ increases by $e^{X_i \hat\beta} d \hat{\Lambda}_0(s)$ at each event time $s$ while at risk. For any set of individuals with the same set of covariate values, the deviance residuals thus necessarily decrease with increasing times to events (or to right censoring). Second, as the baseline cumulative hazard estimate extends out until the last event in the entire data set, it's quite possible for $\hat{E}_i(t)$ to exceed 1 at a late enough time, if $e^{X_i \hat\beta}$ is large enough. Put another way, a survival model is of a distribution of event times as a function of covariate values, typically a pretty wide distribution. Some individuals with the same covariate values are going to have event times earlier than "expected" and others will have later event times. That (plus the fact that the deviance residual can't exceed 0 if the event time is censored) is all that your plot of deviance residuals against observation time demonstrates. Plots of martingale residuals against values of a covariate can be useful to evaluate a model's functional form for a continuous covariate; see this page . What can work more directly than starting from martingale residuals is to use a flexible regression spline to fit a continuous predictor like year_of_manufacture and let the data tell you an approximate functional form. Finally, the concordance doesn't evaluate "average values" in the way that you seem to think. It's the fraction of pairs of cases for which the observed and model-predicted event orders agree (among case pairs that can be evaluated). It's a measure of discrimination among cases, not calibration. In your case, only 0.56 of pairs had agreement between observed and predicted event orders, close to the 0.5 you would expect by chance.
