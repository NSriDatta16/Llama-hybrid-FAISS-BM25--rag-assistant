[site]: stackoverflow
[post_id]: 4526246
[parent_id]: 4526136
[tags]: 
pragma mark - pragma mark Thread to load Images -(void)loadImagesInBackground:(NSNumber *)index{ NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init]; NSString *itemImagePath = [NSString stringWithFormat:@"http://www.myserver.com/myphoto.jpg"]; if([itemImagePath length] == 0){ NSString *imagePath = [[NSString alloc] initWithFormat:@"%@/%@",[[NSBundle mainBundle] resourcePath],@"Default.png"]; UIImage *image = [[UIImage alloc] initWithContentsOfFile:imagePath]; //[item setObject:image forKey:@"itemImage"]; [imagePath release]; [image release]; } else { NSData *imageData = [NSData dataWithContentsOfURL:[NSURL URLWithString:itemImagePath]]; if([imageData length] == 0){ NSString *imagePath = [[NSString alloc] initWithFormat:@"%@/%@",[[NSBundle mainBundle] resourcePath],@"Default.png"]; UIImage *image = [[UIImage alloc] initWithContentsOfFile:imagePath]; //[item setObject:image forKey:@"itemImage"]; [imagePath release]; [image release]; } //else if ([[item objectForKey:@"Icon"]isEqualToString:@""]){ // NSString *imagePath = [[NSString alloc] initWithFormat:@"%@/%@",[[NSBundle mainBundle] resourcePath],@"Default.png"]; // UIImage *image = [[UIImage alloc] initWithContentsOfFile:imagePath]; // //[item setObject:image forKey:@"itemImage"]; // [imagePath release]; // [image release]; // // } // else { UIImage *image = [[UIImage alloc] initWithData:imageData]; providerImageView.image = image; //[item setObject:image forKey:@"itemImage"]; [image release]; } } [pool release]; }
