[site]: stackoverflow
[post_id]: 857703
[parent_id]: 
[tags]: 
jquery: Variables return NaN

Don't let below code scare you away . The question is really simple, only two lines are making trouble: Why do my code generated a NaN error code? I am trying to substract one variable value from another so position of elements will be correct. The variables got their value from jQuery position() which is supposed to be integer anyways. Check the lines these lines: // For some reason NaN error code gets generated when line below gets executed. var posTop = Startpos.top - Stoppos.top; var posLeft = Startpos.left - Stoppos.left; Complete code: Drag drop 1 $(document).ready(function() { var Startpos = new Array; var Stoppos = new Array; // Make images draggable. $(".item").draggable({ // Elements cannot go outside #container containment: 'parent', // Make sure the element can only be dropped in a grid. grid: [150,150], // Find original position of dragged image. start: function(event, ui) { // Make sure picture always are on top when dragged (z-index). $(this).css({'z-index' : '100'}); // Show start dragged position of image. Startpos = $(this).position(); $("div#start").text("START: \nLeft: "+ Startpos.left + "\nTop: " + Startpos.top); }, // Find position where image is dropped. stop: function(event, ui) { // Revert to default layer position when dropped (z-index). $(this).css({'z-index' : '10'}); // Show dropped position. Stoppos = $(this).position(); $("div#stop").text("STOP: \nLeft: "+ Stoppos.left + "\nTop: " + Stoppos.top); } }); $(".item").droppable({ drop: function(event, ui) { // Dragged image gets swapped with dropped on image. var prev_position = "#" + $(this).attr('id'); // For some reason NaN error code gets generated when line below gets executed. var posTop = Startpos.top - Stoppos.top; var posLeft = Startpos.left - Stoppos.left; // Below variables will work. But unfortunately they // doesn't give the correct numbers for the purpose. // var posTop = Startpos.top; // var posLeft = Startpos.left; $(prev_position).css({'top' : posTop, 'left' : posLeft}); $("div#test").text("Passed variables. Top: " + posTop + " left: " + posLeft); } }); }); body { } #container { position:relative; width:480px; border:1px solid #000; } .item { position:relative; width:150px; height:150px; z-index:10; } Waiting... Waiting... Waiting... Waiting... Waiting...
