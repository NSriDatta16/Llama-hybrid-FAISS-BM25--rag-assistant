[site]: stackoverflow
[post_id]: 5527826
[parent_id]: 5527698
[tags]: 
Did you set the discountCode? i.e. $quote->setCouponCode(strlen($couponCode) ? $couponCode : '') ->collectTotals() ->save(); Later on, in the Quote, did you apply the discount? i.e. $order->setDiscountAmount(Mage::getSingleton('checkout/session')->getQuote()->getSubtotalWithDiscount() - Mage::getSingleton('checkout/session')->getQuote()->getSubtotal()); $order->setShippingAmount(Mage::getSingleton('checkout/session')->getQuote()->getShippingAddress()->getShippingAmount()); $order->setSubtotalWithDiscount(Mage::getSingleton('checkout/session')->getQuote()->getSubtotalWithDiscount()); $order->setGrandTotal(Mage::getSingleton('checkout/session')->getQuote()->getGrandTotal()); etc. EDIT: I've worked with a team to do a Wordpress / Magento hybrid and it's definitely left some learning lessons on me. Magento was used as a purely transactional engine and we had to do this entire checkout process by hand (including creating a custom WP plugin to handle each step in the cart). Log this out at the end so we can see what you have (possibly put this in your edited question): Mage::log("checkoutprocess: getSubtotal: " . $order->getSubtotal()); Mage::log("checkoutprocess: getTaxAmount: " . $order->getTaxAmount()); Mage::log("checkoutprocess: getDiscountAmount: " . $order->getDiscountAmount()); Mage::log("checkoutprocess: getShippingAmount: " . $order->getShippingAmount()); Mage::log("checkoutprocess: getGrandTotal: " . $order->getGrandTotal()); Mage::log("checkoutprocess: getBaseSubtotal: " . $order->getBaseSubtotal()); Mage::log("checkoutprocess: getBaseDiscountAmount: " . $order->getBaseDiscountAmount()); Mage::log("checkoutprocess: getSubtotalWithDiscount: " . $order->getSubtotalWithDiscount()); Mage::log("checkoutprocess: getBaseGrandTotal: " . $order->getBaseGrandTotal());
