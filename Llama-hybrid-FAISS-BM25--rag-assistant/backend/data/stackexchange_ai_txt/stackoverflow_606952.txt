[site]: stackoverflow
[post_id]: 606952
[parent_id]: 582427
[tags]: 
Probably the preferred Moose way of doing this is to set lazy_build on the attribute: has 'mech' => (is => 'rw', isa => 'WWW::Mechanize', lazy_build => 1); sub _build_mech { warn("no Mech set for " . $self->urlspan->name); WWW::Mechanize->new( agent => 'Mozilla/5.0 (Windows; U; Windows NT 6.0; de; rv:1.9.0.6)'. ' Gecko/2009011913 Firefox/3.0.4', stack_depth => 1 ); } This will allow the attribute 'mech' to get populated the first time it is called, unless otherwise set by the constructor or by the accessor (since it's still 'rw').
