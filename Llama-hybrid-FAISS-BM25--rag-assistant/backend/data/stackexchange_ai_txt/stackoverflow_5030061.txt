[site]: stackoverflow
[post_id]: 5030061
[parent_id]: 
[tags]: 
How to get past 'noframes' page returned by CURL request?

I have set up a curl request which works correctly on a number of sites, most of which use frames, and have the noframes tag with relevant message returned if frames are not supported by the browser bing used, all return the full page of framesets, which I traverse using Domdocument. One site however will only return the page stating 'you will need a browser which supports frames'. I'm passing CURLOPT_USERAGENT, Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13, I've tried numerous user agent definitions and read up on and tried various other curl options but with no luck. The only difference that I can see between the sites that work and the one that doesnt is that it declares the doctype: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd" whereas the sites that work corrctly declare doctype as: !DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" The url in question is:http://www.sainsburys.co.uk/groceries/index.jsp I can of course access the frameset that I want by using direct urls to links within the frameset but I would rather start from an index file entry point rather than hardcoding links to pages that my change over time. Any advice or a curl script that works, would be much appreciated. BTW: The use of the information being collected is within acceptable usage poicy.
