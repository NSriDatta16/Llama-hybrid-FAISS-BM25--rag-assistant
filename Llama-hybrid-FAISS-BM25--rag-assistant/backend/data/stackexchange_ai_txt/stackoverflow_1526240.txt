[site]: stackoverflow
[post_id]: 1526240
[parent_id]: 1525669
[tags]: 
WM_CTLCOLORSTATIC is a separate message from WM_COMMAND. Your desired handling of the message appears to be correct except that the check for the message is inside your check for WM_COMMAND specific items. Try reorganizing your outer switch statement. Perhaps something like the following: LRESULT CALLBACK DialogProc(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam) { switch(message) { case WM_INITDIALOG: // ... break; case WM_COMMAND: switch (LOWORD(wParam)) { case IDC_CHECK: // ... break; case IDOK: // ... break; case IDCANCEL: // ... break; } break; case WM_CTLCOLORSTATIC: // Set the colour of the text for our URL if ((HWND)lParam == GetDlgItem(hDlg, IDC_WARNING)) { // we're about to draw the static // set the text colour in (HDC)lParam SetBkMode((HDC)wParam,TRANSPARENT); SetTextColor((HDC)wParam, RGB(255,0,0)); // NOTE: per documentation as pointed out by selbie, GetSolidBrush would leak a GDI handle. return (BOOL)GetSysColorBrush(COLOR_MENU); } break; } return FALSE; } Also note that it would be kinda weird to filter WM_COMMAND's wParam argument when wParam is supposed to provide the HDC for WM_CTLCOLORSTATIC. WM_CTLCOLORSTATIC Notification at MSDN
