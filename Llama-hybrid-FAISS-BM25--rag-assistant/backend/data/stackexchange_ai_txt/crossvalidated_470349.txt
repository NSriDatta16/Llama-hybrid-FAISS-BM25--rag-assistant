[site]: crossvalidated
[post_id]: 470349
[parent_id]: 
[tags]: 
Standard error of difference in means: Adding variances vs. doubling the pooled variance

My question concerns the use of two different formulas to calculate the variance/standard error for a difference in means, as for example needed for a t-test. The textbook formula for the variance of a difference of two random variables is: $Var(X-Y) = Var(X) + Var(Y) - 2 Cov(X, Y)$ Going from here, I should be able to calculate the standard error of a difference in means of two independent samples $Y_1$ and $Y_2$ , with sample sizes $n_1$ and $n_2$ , by adding the variances of the samples' means and taking the square-root: $SE_{\Delta1} = \sqrt{ Var(Y_1)/n_1 + Var(Y_2)/n_2}$ However, the standard textbook approach for t-tests (which requires an estimate of the variance of the difference in means) uses a pooled variance estimator , a weighted arithmetic average of the two variances, defined by $Var_{pooled} = \pi Var(Y_1) + (1-\pi) Var(Y_2)$ with $\pi$ as the weighting factor: $\pi = \frac{n_1-1}{n_1 + n_2 - 2}$ For getting the variance of the difference, now, this pooled ("average") variance is used twice, instead of using the two actual sample variance as above. So we get to a different standard error for the difference, following this approach: $SE_{\Delta2} = \sqrt{ Var_{pooled}/n_1 + Var_{pooled}/n_2}$ Both approaches seem reasonable, but the results differ (slightly), see the following example: set.seed(123) y1 Funny enough, t-test() seems to use the first variant to calculate its t values: t.test(y1, y2)$statistic #2.577737 (mean(y1)-mean(y2))/SE_diff1 #2.577737 (mean(y1)-mean(y2))/SE_diff2 #2.600928 So, how does it come about that going via the pooled variance is the standard way to calculate a t statistic, introduced in all textbooks and classes and online resources (e.g., https://en.wikipedia.org/wiki/Student%27s_t-test ), when it is actually more complicated? My guess is I am missing something conceptual or doing some error in my derivations, and there is a good reason for it. Thanks for all clarifications!
