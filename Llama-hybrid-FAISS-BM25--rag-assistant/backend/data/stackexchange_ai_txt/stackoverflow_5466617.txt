[site]: stackoverflow
[post_id]: 5466617
[parent_id]: 5465446
[tags]: 
I don't have a lot of experience with ccs and png files, but given your very helpful I have this string, I want that string descriptions, Here's a first draft #! /bin/ksh # -vx (bash should work too) usageMsg="pngReplacer pngFile ccsFile" case $# in [!2] ) print "usage: ${usageMsg}" ; exit 1 esac set -- ${@} # I'm surprised that we need this line base64Str=$(openssl enc -base64 -in "$1" 2>/dev/null | tr -d '\n') { if ${testMode:-false} ; then print -- " background-image: url(path/to/my/image.png);" else cat "$2" fi } | sed 's@url(.*)@url(data:image/png;base64,'"$base64Str"')@g' Lots of fragility here do I have this right, png file and css file, right? you know about ksh/bash $1 $2 etc arguments, right? the test for argument count is ok, but you'd probably really want to confirm that $1 and $2 really exist no opportunity to specify an outputFile, run it as pngReplacer pngFile ccsFile > newCcsFile if the stuff in { } gives you the heebie-geebies, you could cut it all out, right to the '|' char just before the sed, and put the $2 at the end of the sed command. I would be surprised if AIX sed could handle a 280 char replacement expression, but I don't have it handy to test with anymore. In general, seds are fragile about things like that. biggest fragility of all, the @reg-exp@replace-exp@ delimiter (@). If you wind up with an @ sign in the base64Str, then you'll have to find a char to use that is not in the new base64Str. I hope this helps.
