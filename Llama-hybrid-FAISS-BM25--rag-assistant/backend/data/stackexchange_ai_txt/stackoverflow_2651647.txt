[site]: stackoverflow
[post_id]: 2651647
[parent_id]: 
[tags]: 
Add xml-stylesheet and get standalone = yes

I added the solution to the code below. The code at the bottom is what I have. I removed the creation of all tags. At the top in the xml file I get. Note that standalone is no, even thou I have it set to yes. The first question: How do I get standalone = yes? I would like to add at line two in the xml file. Second question: How do I do that? Some useful links? Anything? DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance(); DocumentBuilder docBuilder = dbfac.newDocumentBuilder(); Document doc = docBuilder.newDocument(); doc.setXmlStandalone(true); ProcessingInstruction pi = doc.createProcessingInstruction("xml-stylesheet", "type=\"text/xsl\" href=\"my.stylesheet.xsl\""); Element root = doc.createElement("root-element"); doc.appendChild(root); doc.insertBefore(pi, root); TransformerFactory transfac = TransformerFactory.newInstance(); transfac.setAttribute("indent-number", new Integer(2)); Transformer trans = transfac.newTransformer(); trans.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "no"); trans.setOutputProperty(OutputKeys.STANDALONE, "yes"); trans.setOutputProperty(OutputKeys.INDENT, "yes"); trans.setOutputProperty(OutputKeys.CDATA_SECTION_ELEMENTS, "name"); FileOutputStream fout = new FileOutputStream(filepath); BufferedOutputStream bout= new BufferedOutputStream(fout); trans.transform(new DOMSource(doc), new StreamResult(new OutputStreamWriter(bout, "utf-8")));
