[site]: stackoverflow
[post_id]: 3957064
[parent_id]: 
[tags]: 
Logging from EJB module in JavaEE, maven configuration

I have tried for hours to get my project working but the EJB part is still failing with a java.lang.ClassNotFoundException: org.slf4j.LoggerFactory (I want to output some log in my EJB). The layout of the project is the following: |-- nnWeb-ear | |-- pom.xml | `-- src | `-- main | |-- application | | `-- META-INF | | `-- MANIFEST.MF | `-- java |-- nnWeb-ejb | |-- pom.xml | `-- src | |-- main | | |-- java | | | `-- com | | | `-- test | | | `-- packaging | | | `-- SimpleStateLess.java | | `-- resources | | |-- logback.xml | | `-- META-INF | | `-- MANIFEST.MF | `-- test | `-- java | `-- com | `-- test | `-- packaging |-- nnWeb-web | |-- pom.xml | `-- src | |-- main | | |-- java | | | `-- com | | | `-- test | | | `-- packaging | | | |-- SimpleEJB.java | | | `-- SimpleServlet.java | | |-- resources | | | `-- logback.xml | | `-- webapp | | |-- index.jsp | | `-- WEB-INF | | `-- sun-web.xml | `-- test | `-- java `-- pom.xml the main pom.xml : 4.0.0 com.test.packaging nnWeb pom 1.0-SNAPSHOT nnWeb http://maven.apache.org nnWeb-ear nnWeb-web nnWeb-ejb The ejb pom.xml: 4.0.0 nnWeb com.test.packaging 1.0-SNAPSHOT com.test.packaging nnWeb-ejb ejb 1.0-SNAPSHOT nnWebEjb http://maven.apache.org ch.qos.logback logback-classic 0.9.18 org.slf4j slf4j-api 1.5.11 javax javaee-api 6.0 provided java.net2 Java.Net Maven2 Repository, hosts the javaee-api dependency http://download.java.net/maven/2 org.apache.maven.plugins maven-compiler-plugin 2.0.2 1.6 1.6 org.apache.maven.plugins maven-ejb-plugin 2.1 3.1 true APP-INF/lib ${project.build.outputDirectory}/META-INF/MANIFEST.MF nnWeb-ejb endorsed sun.boot.class.path org.apache.maven.plugins maven-compiler-plugin 2.0.2 ${settings.localRepository}/javax/javaee-endorsed-api/6.0/javaee-endorsed-api-6.0.jar${path.separator}${sun.boot.class.path} javax javaee-endorsed-api 6.0 gfv3ee6 The ear pom.xml: 4.0.0 nnWeb com.test.packaging 1.0-SNAPSHOT com.test.packaging nnWeb-ear ear 1.0-SNAPSHOT nnWebEar http://maven.apache.org org.apache.maven.plugins maven-compiler-plugin 2.0.2 1.5 1.5 org.apache.maven.plugins maven-ear-plugin 2.4 6 true --> APP-INF/lib org.apache.maven.plugins maven-dependency-plugin copy-dependencies process-classes copy-dependencies ${project.build.outputDirectory}/lib nnWeb-ear com.test.packaging nnWeb-ejb 1.0-SNAPSHOT ejb com.test.packaging nnWeb-web 1.0-SNAPSHOT war ch.qos.logback logback-classic 0.9.18 org.slf4j slf4j-api 1.5.11 com.googlecode.sli4j sli4j-slf4j-jdk14 2.0 gfv3ee6 and the SimpleStateless.java EJB: package com.test.packaging; import javax.ejb.Stateless; import org.slf4j.Logger; import org.slf4j.LoggerFactory; @Stateless public class SimpleStateLess { private static Logger logger = LoggerFactory.getLogger(SimpleStateLess.class); public void constructLog(){ logger.debug("Finally got logging working in ejb module :)"); } } Once packaged, the ear file looks like: |-- APP-INF | `-- lib | |-- aopalliance-1.0.jar | |-- guice-2.0.jar | |-- logback-classic-0.9.18.jar | |-- logback-core-0.9.18.jar | |-- slf4j-api-1.5.11.jar | |-- slf4j-jdk14-1.5.10.jar | |-- sli4j-core-2.0.jar | `-- sli4j-slf4j-jdk14-2.0.jar |-- META-INF | |-- application.xml | |-- MANIFEST.MF | `-- maven | `-- com.test.packaging | `-- nnWeb-ear | |-- pom.properties | `-- pom.xml |-- ngWeb-web.war `-- nnWeb-ejb.jar and the ejb.jar manifest is: Manifest-Version: 1.0 Archiver-Version: Plexus Archiver Created-By: Apache Maven Built-By: dev Build-Jdk: 1.6.0_21 Class-Path: APP-INF/lib/logback-classic-0.9.18.jar APP-INF/lib/logback -core-0.9.18.jar APP-INF/lib/slf4j-api-1.5.11.jar Note that logging from the war package works (Servlet logging + EJB logging using the WEB-INF/lib directory) and according to what I found, logging in the EJB should work when deploying the ear (if the manifest is correct). What am I doing wrong ?
