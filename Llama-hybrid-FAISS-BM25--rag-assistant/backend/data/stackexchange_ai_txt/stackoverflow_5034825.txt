[site]: stackoverflow
[post_id]: 5034825
[parent_id]: 5034153
[tags]: 
It can also be solved by creating a scalar valued function: -- SELECT [dbo].[ListTree](5) CREATE FUNCTION [dbo].[ListTree](@OrgPK int) RETURNS varchar(max) AS BEGIN declare @Tree varchar(MAX) set @Tree = '' while(exists(select * from dbo.Organizations where OrgPK=@OrgPK)) begin select @Tree=OrgName+'/'+@Tree, @OrgPK=OrgParentFK from dbo.Organizations where OrgPK=@OrgPK end return left(@Tree,len(@Tree)-1) END
