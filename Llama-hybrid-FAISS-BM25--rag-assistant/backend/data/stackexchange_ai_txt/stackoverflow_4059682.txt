[site]: stackoverflow
[post_id]: 4059682
[parent_id]: 4058765
[tags]: 
While sepp2k's answer works, I'd personally want to encapsulate the backtracking inside the output and input parsers. Although this adds code to the parsers it make them more robust: output = do name With Parsec, its generally best to avoid try except for Char Parsers and use left factoring to improve the grammar ( try can make parsers very fragile). Unfortunately the grammar you are working is not particularly friendly to left factoring and in this case it is probably not worth bothering.
