[site]: stackoverflow
[post_id]: 5490933
[parent_id]: 3939400
[tags]: 
Chiming in, this may help others so I wanted to put some notes up. I need to pull cat #'s in the cart to fire off a bool event. The flat tables seem unreliable IMHO. Flats are presented for performance and I don't have a grasp on how Mage uses them, and don't care generally. Compound that with the overwhelming radical changes each update on the DB, template, everything - it gets scary. So here are 2 queries to think about. # get basic product ID from the sku (via something like this : $_item->getSku() ) - returns ID = 122 in my case select entity_id from `magento_store`.`catalog_product_entity` where sku = 'THE_SKU'; ## Use that value to tie to the cat index as such: SELECT * FROM `magento_store`.`catalog_category_product_index` where product_id = 122; # returns 61 and 62 in my case, the matching cat id #s in the admin. Consider a join of course. So in this example the entity_id returned is the product id and category_id is the cat #'s. Using 1.4.1 right now. Be very careful I have found malicious errors in the core system. Magento is bad mojo. So hitting on the original question - it is queries like this where you can start joining your own info together for specific needs under the flats/cache. Luckily the tables are kinda labeled to help. Not an easy task - not impossible either. I recommend using the carious MVC/similar functionality when ever you can. Cheers! Update: Appears the flat table # is the store number (duh). It should match the # in the uri such as index.php/admin/catalog_product/index/store/2/ woudl be flat2 table.
