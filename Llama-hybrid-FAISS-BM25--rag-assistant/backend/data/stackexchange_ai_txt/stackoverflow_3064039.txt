[site]: stackoverflow
[post_id]: 3064039
[parent_id]: 3063987
[tags]: 
map stores a (key, value) pair with a unique key. Meaning that if you assign to the same key more than once, only the last value that you assigned will be stored. Sounds like what you want to do is instead of storing the line as the value, you want to store another map of lines->occurances. So you could make your map like this: typedef int LineNumber; typedef int WordHits; typedef map LineHitsMap; typedef map WordHitsMap; WordHitsMap storage; Then to insert: WordHitsMap::iterator wordIt = storage.find(temp); if(wordIt != storage.end()) { LineHitsMap::iterator lineIt = (*wordIt).second.find(count); if(lineIt != (*wordIt).second.end()) { (*lineIt).second++; } else { (*wordIt).second[count] = 1; } } else { LineHitsMap lineHitsMap; lineHitsMap[count] = 1; storage[temp] = lineHitsMap; }
