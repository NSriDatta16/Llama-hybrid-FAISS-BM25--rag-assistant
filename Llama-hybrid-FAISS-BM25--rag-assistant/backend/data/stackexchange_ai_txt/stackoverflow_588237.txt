[site]: stackoverflow
[post_id]: 588237
[parent_id]: 
[tags]: 
Optimizing a Query to Build Averages

I recently built a query in SQL that I can use to look at our payment log and find out an average number of payments made per hour over a period of time. I'm sure there are third party reporting applications that are much more suited for doing the type of calculation I'm trying to do, but just for fun, I'm kind of curious to see what other methods you all might use (in T-SQL) to get the data I'm looking for. I know it's kind of a dumb question, so I won't be offended if you down vote me. But, for anyone else out there that is bored like me, feel free to post your other solutions. The table is set up with a [CreateDate] column which is the DATETIME value of when the payment posts to the account. I use this to determine which hour they made the payment in. CREATE TABLE #TempTimes ( [Time] DATETIME, ) DECLARE @numDays INT SET @numDays = 10 DECLARE @time DATETIME SET @time = DATEADD(dd, DATEDIFF(dd, 0, GETDATE() - @numDays), 0) WHILE @time CJ
