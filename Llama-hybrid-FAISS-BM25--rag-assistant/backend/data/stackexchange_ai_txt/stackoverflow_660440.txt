[site]: stackoverflow
[post_id]: 660440
[parent_id]: 
[tags]: 
C# XML Serialization - Leading Question Marks

Problem By leveraging some samples I found online here , I've written some XML serialization methods. Method1: Serialize an Object and return: (a) the type, (b) the xml string Method2: Takes (a) and (b) above and gives you back the Object. I noticed that the xml string from the Method1 contains a leading '?'. This seems to be fine when using Method2 to reconstruct the Object. But when doing some testing in the application, sometimes we got leading '???' instead. This caused the Method2 to throw an exception while trying to reconstruct the Object. The 'Object' in this case was just a simple int. System.InvalidOperationException was unhandled Message="There is an error in XML document (1, 1)." Source="System.Xml" StackTrace: at System.Xml.Serialization.XmlSerializer.Deserialize(XmlReader xmlReader, String encodingStyle, XmlDeserializationEvents events) at System.Xml.Serialization.XmlSerializer.Deserialize(XmlReader xmlReader, String encodingStyle) at System.Xml.Serialization.XmlSerializer.Deserialize(Stream stream) at XMLSerialization.Program.DeserializeXmlStringToObject(String xmlString, String objectType) in C:\Documents and Settings\...Projects\XMLSerialization\Program.cs:line 96 at XMLSerialization.Program.Main(String[] args) in C:\Documents and Settings\...Projects\XMLSerialization\Program.cs:line 49 Would anyone be able to shed some light on what might be causing this? Sample Code Here's sample code from the mini-tester I wrote while coding this up which runs as a VS console app. It'll show you the XML string. You can also uncomment the regions to append the extra leading '??' to reproduce the exception. using System; using System.IO; using System.Text; using System.Xml; using System.Xml.Serialization; namespace XMLSerialization { class Program { static void Main(string[] args) { // deserialize to string #region int object inObj = 5; #endregion #region string //object inObj = "Testing123"; #endregion #region list //List inObj = new List(); //inObj.Add("0:25"); //inObj.Add("1:26"); #endregion string[] stringArray = SerializeObjectToXmlString(inObj); #region include leading ??? //int indexOfBracket = stringArray[0].IndexOf('
