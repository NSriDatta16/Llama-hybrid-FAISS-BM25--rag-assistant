[site]: stackoverflow
[post_id]: 4931247
[parent_id]: 
[tags]: 
Python doctest: result with multiple lines

I can't get a doctest to work with a result which contains multiple lines and may contain empty lines at the beginning. This is probably caused by indentation and parsing issues. I've figured out some solutions: Write the desired result to a file, and doctest the comparison between the result and the file contents. Compare a hash of the result to a known hash. The main disadvantage of this approach is that the reader of the doctest learns very little about the desired result. Find a way to make doctest work with multi line results. Use unittest instead of doctest . Any ideas? Code: >>> data_lists=[ {"Average execution" : [1, 2, 3, 2, 3]}, ... {"Top execution" : [3, 4, 5, 7, 8, 11, 6]}, ... {"Current execution" : [1, 2, 1, 2, 1, 5]} ] >>> c=Chart(data_lists, ... ("Large rooster", "Rsync rooster", "Pool Chicken", "Disease"), ... width=700, height=300) >>> print c.html.strip() $(function () { var d0 = [[0, 1], [4, 2], [8, 3], [12, 2], [16, 3]]; var d1 = [[1, 3], [5, 4], [9, 5], [13, 7], [17, 8], [21, 11], [25, 6]]; var d2 = [[2, 1], [6, 2], [10, 1], [14, 2], [18, 1], [22, 5]]; $.plot($("#placeholder3"), [ { label: "Average execution", data: d0, bars: { show: true } }, { label: "Top execution", data: d1, bars: { show: true } }, { label: "Current execution", data: d2, bars: { show: true } } ], { xaxis: { ticks: [[1.5, "Large rooster"], [5.5, "Rsync rooster"], [9.5, "Pool Chicken"], [13.5, "Disease"]] } } ); }); Error: ********************************************************************** File "HTML.py", line 28, in __main__.Chart.__init__ Failed example: print c.html.strip() Expected: Got: $(function () { var d0 = [[0, 1], [4, 2], [8, 3], [12, 2], [16, 3]]; var d1 = [[1, 3], [5, 4], [9, 5], [13, 7], [17, 8], [21, 11], [25, 6]]; var d2 = [[2, 1], [6, 2], [10, 1], [14, 2], [18, 1], [22, 5]]; $.plot($("#placeholder3"), [ { label: "Average execution", data: d0, bars: { show: true } }, { label: "Top execution", data: d1, bars: { show: true } }, { label: "Current execution", data: d2, bars: { show: true } } ], { xaxis: { ticks: [[1.5, "Large rooster"], [5.5, "Rsync rooster"], [9.5, "Pool Chicken"], [13.5, "Disease"]] } } ); }); ********************************************************************** 1 items had failures: 1 of 3 in __main__.Chart. __init__ ***Test Failed*** 1 failures.
