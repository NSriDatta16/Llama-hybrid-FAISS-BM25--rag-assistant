[site]: stackoverflow
[post_id]: 3419682
[parent_id]: 3389406
[tags]: 
I would greatly discourage anyone to write complicated expressions -- in any language! This is not an XSLT question at all. It is a general programming question and the answer is: Never write too complicated expressions because they are challenging to write, read, test, verify, proof, change. Split a complicated expression onto a number of simpler expressions and assign them to different variables . Then operate on these variables.
