[site]: stackoverflow
[post_id]: 4032440
[parent_id]: 
[tags]: 
How to split a string in Ruby?

I have special strings like name1="value1" name2='value2' . Values can contain whitespaces and are delimited by either single quotes or double quotes. Names never contain whitespaces. name/value pairs are separated by whitespaces. I want to parse them into a list of name-value pairs like this string.magic_split() => { "name1"=>"value1", "name2"=>"value2" } If Ruby understood lookaround assertions, I could do this by string.split(/[\'\"](?=\s)/).each do |element| element =~ /(\w+)=[\'\"](.*)[\'\"]/ hash[$1] = $2 end but Ruby does not understand lookaround assertions, so I am somewhat stuck. However, I am sure that there are much more elegant ways to solve this problem anyway, so I turn to you. Do you have a good idea for solving this problem?
