[site]: stackoverflow
[post_id]: 5000473
[parent_id]: 
[tags]: 
Saving Dragable Directions Google Directions API v3

I'm making an app with the Directions API to create biking directions. The user needs to be able to start from a custom point, add custom stopping points along the route, and actually drag the directions. Once they're done, I need to save the new route to a database. I have the map up and running, users can add their start and waypoints via HTML input boxes, and it's perfectly dragable (sorry for the copious amounts of comments…those are primarily so I can remember what's going on…oh, and don't worry in this section about syntax…I'm copying and pasting from different parts, so I might have missed a "}"…all of this code functions): function initialize() { var rendererOptions = { draggable: true, //end redererOptions }; directionsDisplay = new google.maps.DirectionsRenderer(rendererOptions); var chicago = new google.maps.LatLng(42.73352,-84.48383); var myOptions = { zoom: 13, mapTypeId: google.maps.MapTypeId.ROADMAP, center: chicago, //end myOptions } //create the world of the dream (define where the map's gonna go map = new google.maps.Map(document.getElementById("map_canvas"), myOptions); //and the subject fills it with it's subconscious (Call the map from Directions and place it in the div we've created) directionsDisplay.setMap(map); //tell google where the printed directions will go directionsDisplay.setPanel(document.getElementById("directions_detail")); //end initialize() }; function calcRoute() { //get start string from Start input box var start = document.getElementById("start").value; //get end string from End input box var end = document.getElementById("end").value; //set up an array for waypoints var waypts = []; //define where the waypoints will come from var checkboxArray = document.getElementById("waypoints"); //loop to retrieve any waypoints from that box for (var i = 0; i where this will be presented to the user var summaryPanel = document.getElementById("directions_panel"); //clear the summaryPanel.innerHTML = ""; //turn direcitons_panel "on"...gives the div a color (in my css) summaryPanel.className = "directions_panel_on"; // For each route, display summary information. for (var i = 0; i Route Segment: " + routeSegment + " "; summaryPanel.innerHTML += route.legs[i].start_address + " to "; summaryPanel.innerHTML += route.legs[i].end_address + " "; summaryPanel.innerHTML += route.legs[i].distance.text + " "; //end for loop }; //end directionsService() function }); //end calcRoute() function } SO. You have my base. Everything's functional (I have it running on my server)…users can create a fully customized map. I just can't save it if they decided to drag the path of the route because I need to call an object with AJAX, and the only object I know how to call is tied to the request variable, which defines the waypoints array as the hard stopover points that split the route up. I know that the array I'm looking for is called via_waypoint[] inside of the legs[] array…it's just getting an object out of the damn DirectionsRenderer with the stupid via_waypoints[] array populated. I have the rest ready to go on the PHP/MySqul and AJAX side of things. I've already tried this tutorial …and I can't get it to work. The main answer itself says it left out a lot, and I'm so new to JavaScript, it appears (s)he left out too much for me.
