[site]: stackoverflow
[post_id]: 5045183
[parent_id]: 
[tags]: 
ASP.NET MVC and EF Code First Memory Usage

I have an application built in ASP.NET MVC 3 that uses SQL CE for storage and EF CTP 5 for data access. I've deployed this site to a shared host only to find that it is constantly being recycled as it's hitting the 100mb limit they set on their (dedicated) application pools. The site, when running in release mode uses around 110mb RAM. I've tried using SQL Server Express rather than CE and this made little difference. The only significant difference is when I removed EF completely (using a fake repo). This dropped the memory usage between 30mb-40mb. A blank MVC template uses around 20mb so I figured this isn't too bad? Are there any benchmarks for "standard" ASP.NET MVC applications? It would be good to know what memory utilisation other EF CTP users are getting as well as some suggestions for memory profiling tools (preferably free ones). It's worth mentioning how I'm handling the lifetime of the EF ObjectContext. I am using session per request and instantiating the ObjectContext using StructureMap: For ().HttpContextScoped().Use(ctx => new MyContext("MyConnStringName")); Many thanks Ben
