[site]: stackoverflow
[post_id]: 5438453
[parent_id]: 
[tags]: 
PHPUnit/Xdebug Code Coverage for Codeigniter API Calls

We are using Codeigniter and have 2 options to call our API controllers: we can use a client that calls the controller's url through Curl, we can use a client that calls the controller from the command line. This is perfectly fine for the functionality of our site. However, when I run PHPUnit, the coverage reports for the Controllers are blank while the coverage reports for all Models are correct. In tracing how xdebug creates the reports, it appears that using the Curl-based client or the CLI client are called outside of the scope of the test function, so xdebug_get_code_coverage() does not track the controller code that is executed. Is it possible to configure xdebug to recognize code coverage in this scenario? Is it possible to call Codeigniter controllers within the scope of the PHPUnit test function? Any other possible solutions?
