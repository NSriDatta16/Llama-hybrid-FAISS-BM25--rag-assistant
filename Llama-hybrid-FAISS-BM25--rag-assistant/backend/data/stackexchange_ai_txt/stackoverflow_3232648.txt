[site]: stackoverflow
[post_id]: 3232648
[parent_id]: 
[tags]: 
Assist with Python script

I have written a code in Python, and I want to change it. I use it when I am performing a penetration tests in my organization and I want to make my script better. The script gets a username that I entering and it connect to the SMTP server over port 25 and check if the user exists or not. Here is the script: #!/usr/bin/python import socket import sys if len(sys.argv) != 2: print "Usage: vrfy.py " sys.exit(0) # Create a Socket s=socket.socket(socket.AF_INET, socket.SOCK_STREAM) # Connect to the Server connect=s.connect(('192.168.0.10',25)) # Recieve the banner banner=s.recv(1024) print banner # VRFY a user s.send('VRFY ' + sys.argv[1] + '\r\n') result=s.recv(1024) print result # Close the socket s.close() The changes that I want to perform are the following: Instead of entering only one username to check, I want to mention a location of a txt file and the script will read all the usernames it contains. Also, I what that the IP address at the script wont be hard coded and I will need to insert it every time I am using the script. Many thanks in advance, Bar Aviv
