[site]: crossvalidated
[post_id]: 632952
[parent_id]: 632951
[tags]: 
Here is my guess: If we were to estimate a simple CAPM by GMM, we could use the equation $(12.23)$ from Cochrane "Asset Pricing" (2005) section 12.2 (p. 241). In his notation, the moments are $$ g_T(b) = \begin{bmatrix} E(R^e_t-a-\beta f_t) \\ E[(R^e_t-a-\beta f_t)f_t] \\ E(R^e-\beta \lambda) \end{bmatrix} = \begin{bmatrix} 0 \\ 0 \\ 0 \end{bmatrix} \tag{12.23} $$ where $R^e_t=(R^e_{1,t},\dots,R^e_{N,t})'$ is a vector of individual assets' excess returns, $\beta=(\beta_1,\dots,\beta_N)'$ is a vector of betas, $f_t$ is factor's excess return and $\lambda=E(f)$ is the expected value of the factor's excess return. The first two rows correspond to time series regressions for $N$ assets (one regression per asset) that facilitate estimation of the $\beta$ vector, so there are actually $2N$ conditions. If I understand correctly, the third row corresponds to another $N$ conditions (one per asset) of time-averaged returns that are used for testing the model: $$ E_T(R^{ei})=\beta_i' \lambda, \quad i=1,2,\dots,N. \tag{12.10'} $$ ( $(12.10)$ is specified for potentially many factors, but $(12.23)$ considers the simple case of a single factor, so vector $\beta'$ turns into scalar $\beta$ , and the same holds for $\lambda$ .) If we incorporate idiosyncratic risk as another factor, we obtain the following: $$ \tilde g_T(b) = \begin{bmatrix} E(R^e_t-a-\beta f_t) \\ E[(R^e_t-a-\beta f_t)f_t] \\ E[(R^e_t-a-\beta f_t)^2-\sigma^2] \\ E(R^e-\beta\lambda-\gamma\sigma^2) \end{bmatrix} = \begin{bmatrix} 0 \\ 0 \\ 0 \\ 0 \end{bmatrix} \tag{*} $$ where $\sigma^2=(\sigma^2_1,\dots,\sigma^2_N)'$ is a vector of idiosyncratic variances. The third row facilitates estimation of the $\sigma^2$ vector and the fourth row again is a set of $N$ conditions for testing the model. Does that make sense?
