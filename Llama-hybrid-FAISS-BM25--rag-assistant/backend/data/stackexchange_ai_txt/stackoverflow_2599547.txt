[site]: stackoverflow
[post_id]: 2599547
[parent_id]: 2598666
[tags]: 
Reformat or pattern match? I suspect the latter, although upcasing it first is a good idea. Before we proceed though I would point out that you are stripping spaces but your regex contains " {1,2}" which is "one or two space characters". As you have already stripped whitespace you've already caused all to fail the match. Given a post code as input we can check whether it matches the regex using =~ Here we create some example post codes (taken from the wikipedia page ), and test each one against the regex: post_codes = ["M1 1AA", "M60 1NW", "CR2 6XH", "DN55 1PT", "W1A 1HQ", "EC1A 1BB", "bad one", "cc93h29r2"] r = /^([A-PR-UWYZ0-9][A-HK-Y0-9][AEHMNPRTVXY0-9]?[ABEHMNPRVWXY0-9]? {1,2}[0-9][ABD-HJLN-UW-Z]{2}|GIR 0AA)$/ post_codes.each do |pc| # pc =~ r will return something true if we have a match (specifically the integer of first match position) # We use !! to display it as true|false puts "#{pc}: #{!!(pc =~ r)}" end M1 1AA: true M60 1NW: true CR2 6XH: true DN55 1PT: true W1A 1HQ: true EC1A 1BB: true bad one: false cc93h29r2: false
