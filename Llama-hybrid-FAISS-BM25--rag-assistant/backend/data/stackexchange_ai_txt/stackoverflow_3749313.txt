[site]: stackoverflow
[post_id]: 3749313
[parent_id]: 
[tags]: 
How could we create "instances" of a type or record on the fly

This question is closely related to this one but i think is more general. Recently i try to create type "instances" on the fly with multimethods (or with a unique function constructor if possible), based in a metadata tag. I linked a type (a java class under the hood) with this tag and then i didnt know how to continue in a elegant way (without eval or java reflection and strings); new is a special form and it's difficult to handle although you use macros. In seudo-code it would be: (def my-tagged-data (with-meta my-data {:my-type-tag my-ns.My-Type})) (def factory-function [tagged-data] (create (:my-type-tag (meta tagged-data)) tagged-data))
