[site]: stackoverflow
[post_id]: 3811014
[parent_id]: 
[tags]: 
Storage of different data formats in Rails dynamically defined by admin

I'm facing a problem where I cannot permanently decide which columns one of my models will have. A use case will be this: An admin creates a new dataset, he wants users to answer. In the dataset the admin defines several data points of different format and units. I could imagine the classes to look similar to this: class Dataset :measurements has_many :datapoints, :through => :dataset_datapoint end # Join table class Dataset_datapoint :dataset_datapoint has_many :data # create_table "datapoints" do |t| # t.string :name # t.string :format # e.g. string, decimal etc. # t.string :unit # e.g. CM, pounds etc. end class Data In my head, this seems pretty dynamic, but still quite easy to implement. What I'm worried about, is how to do the validation on every Data model that is created? Since I cannot hardcode the validation in the model? And to make it even more complicated, what if some datapoints require extra validations, such as minimum and maximum value? Thanks in advance, Jonas
