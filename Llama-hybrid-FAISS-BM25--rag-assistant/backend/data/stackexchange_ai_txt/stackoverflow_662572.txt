[site]: stackoverflow
[post_id]: 662572
[parent_id]: 
[tags]: 
When do i need to flush Rhino Commons UnitOfWork?

When using Rhino Commons UnitOfWork (in a UnitOfWorkApplication for ASP-MVC), I like to use the Rhino Repository static class to save entities like this: Repository .Save(new Car(Id = 1)); I find that I can then get the entity out immediately after that call using: Car car = Repository .Get(1); This works fine. However, when I use the NHibernate Linq provider on Rhino UnitOfWork like this: var allCars = (from rep in UnitOfWork.CurrentSession.Linq () select rep).ToList(); I get an empty list. It seems I have to call UnitOfWork.Current.Flush() before I can get the car out like this. I don't understand why, given that behind the scenes I assume that both retrieval methods are querying the same session / unit of work. Does this mean that you should call UnitOfWork.Current.Flush() after every save to the database? Shouldn't NHibernate be able to work out when to flush itself? Or am I misunderstanding something?
