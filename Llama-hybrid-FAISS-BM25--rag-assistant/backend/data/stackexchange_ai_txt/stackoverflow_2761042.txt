[site]: stackoverflow
[post_id]: 2761042
[parent_id]: 
[tags]: 
Checking JRE version inside browser

Basically, I'm wanting to figure out the best way to check the user's JRE version on a web page. I have a link to a JNLP file that I only want to display if the user's JRE version is 1.6 or greater. I've been playing around with the deployJava JavaScript code ( http://java.sun.com/javase/6/docs/technotes/guides/jweb/deployment_advice.html ) and have gotten it to work in every browser but Safari (by using deployJava.versionCheck). For whatever reason, Safari doesn't give the most updated JRE version number - I found this out by displaying the value of the getJREs() function. I have 1.6.0_20 installed, which is displayed in every other browser, but Safari keeps saying that only 1.5.0 is currently installed. I've also tried using the createWebStartLaunchButtonEx() function and specifying '1.6.0' as the minimum version, but when I click the button nothing happens (in any browser). Any suggestions? FYI: Here's my code -- if (deployJava.versionCheck('1.6+')) { var dir = location.href.substring(0,location.href.lastIndexOf('/')+1); var url = dir + "tmaj.jnlp"; deployJava.createWebStartLaunchButton(url, '1.6.0'); } else { var noticeText = document.createTextNode("In order to use TMAJ, you must visit the following link to download the latest version of Java:"); document.getElementById('jreNotice').appendChild(noticeText); var link = document.createElement('a'); link.setAttribute('href', 'http://www.java.com/en/download/index.jsp'); var linkText = document.createTextNode("Download Latest Version of Java"); link.appendChild(linkText); document.getElementById('jreDownloadLink').appendChild(link); }
