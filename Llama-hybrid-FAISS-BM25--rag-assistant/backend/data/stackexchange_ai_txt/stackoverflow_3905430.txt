[site]: stackoverflow
[post_id]: 3905430
[parent_id]: 3905355
[tags]: 
I think your definition is correct, but your conclusions are wrong. It's not necessarily true that if the proportion of "bad" cases tends to 0, then the average complexity is equal to the complexity of the "normal" cases. For example, suppose that 1/(n^2) cases are "bad" and the rest "normal", and that "bad" cases take exactly (n^4) operations, whereas "normal" cases take exactly n operations. Then the average number of operations required is equal to: (n^4/n^2) + n(n^2-1)/(n^2) This function is O(n^2), but not O(n). In practice, though, you might find that time is polynomial in all cases, and the proportion of "bad" cases shrinks exponentially. That's when you'd ignore the bad cases in calculating an average.
