[site]: stackoverflow
[post_id]: 5523552
[parent_id]: 
[tags]: 
BitmapFactory.Options.inTempStorage field

I have a custom offline map implemented by drawing Bitmap tiles on Canvas. I'm trying to eliminate object creations to reduce GC runs and therefore make the map scrolling smoother. I see in Allocation Tracker that BitmapFactory.decodeFile(...) always creates byte[16400] object. I thought that setting inTempStorage field of BitmapFactory.Options would change that: byte[] buffer = new byte[16*1024]; // ... BitmapFactory.Options options = new BitmapFactory.Options(); options.inPreferredConfig = Config.RGB_565; options.inTempStorage = buffer; Bitmap bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), options); But even with this code I still see decodeFile creating the byte[] array. So what's the problem?
