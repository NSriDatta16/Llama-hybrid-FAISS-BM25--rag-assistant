[site]: stackoverflow
[post_id]: 4265464
[parent_id]: 3566974
[tags]: 
I think the following will work (hope I havent missed any lines): var editor = CKEDITOR.instances.editor1; var selection = editor.getSelection(); var iterator = range.createIterator(),block; var paragraphs = []; while ( ( block = iterator.getNextParagraph() ) ) paragraphs.push( block ); var bqBlock = editor.document.createElement( 'div'); bqBlock.setAttribute('style','background-color:#BBBBFF'); bqBlock.setAttribute('id','my_new_div_tag'); bqBlock.insertBefore( paragraphs[0] ); while ( paragraphs.length > 0 ) { block = paragraphs.shift(); bqBlock.append( block ); } I realise this is probably not an issue for you anymore, but maybe helpful for anyone else - or if someone can suggest a more streamline solution, it would be welcomed.
