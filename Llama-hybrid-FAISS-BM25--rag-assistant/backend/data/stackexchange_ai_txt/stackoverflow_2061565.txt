[site]: stackoverflow
[post_id]: 2061565
[parent_id]: 2061551
[tags]: 
Group by a file_id and then simply order by the average. Cut off all records that fall below the top 5. SELECT file_id, AVG(rating) as avg_rating FROM table GROUP BY file_id ORDER BY avg_rating DESC LIMIT 5
