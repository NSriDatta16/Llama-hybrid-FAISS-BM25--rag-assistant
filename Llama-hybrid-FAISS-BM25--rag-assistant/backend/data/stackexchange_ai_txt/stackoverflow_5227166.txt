[site]: stackoverflow
[post_id]: 5227166
[parent_id]: 
[tags]: 
Python: CGI update webpage before script exit

Okay here's my situation. I wrote a HTML form with a textarea that submits a POST request to my python script. I use cgi library to parse the textarea and split it into an array. I then process the items using a loop and print items as they're processed. It seems that even though I put the print statement in the loop it doesn't print until the entire process is completed and the script has exited. The html page also hangs until the process is finished. I have tried to flush the buffer using the sys.std.flush() after each print statement however it did not help. Take a look at my code below. All help will be highly appreciated. Thanks in advance. import cgi import urllib2 form = cgi.FieldStorage() h = str(form.getvalue('list')) list = h.split('\r\n'); try: print "Content-Type: text/html\n\n" print " " print " Age " print " " print " " for x in range(0, len(list)): print "List: %s" %list[x] + " " sck = urllib2.urlopen("http://www.google.com/") data = sck.read() if len(data) > 0: print "Data collected " sck.close print " " except Exception: pass Python Demo #form { width: 400px; } #form label { display: block; } #form textarea { width: 100%; } #form input { display: block; margin-top: 10px; } List:
