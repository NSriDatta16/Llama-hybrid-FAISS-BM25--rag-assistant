[site]: stackoverflow
[post_id]: 2777627
[parent_id]: 2777278
[tags]: 
One possibility is to store both the sanitized version and the original version. I use this with HTMLPurifier to avoid the performance problems that are created by live sanitization, while still allowing users to edit their content in its original form. Needless to say it will take double the storage space but usually space isn't as much of an issue as speed and control.
