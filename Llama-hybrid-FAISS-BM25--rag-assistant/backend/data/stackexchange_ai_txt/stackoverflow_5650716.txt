[site]: stackoverflow
[post_id]: 5650716
[parent_id]: 
[tags]: 
Are sticky sessions needed when load-balancing Plone 3.3.5?

We encountered an issue which we suspect is a related to load balancing. We are having a 4 ZEO front-end clients behind Apache. Sometimes (from a logs) creation of a new content item logs an error. 2011-04-13T15:39:57 ERROR Zope.SiteErrorLog 1302701997.20.258830910503 https://x/intranet /portal_factory/MyType/xxx.2011-04-13.9797548037/xxx_edit ValueError: Unable to find What we suspect is happening is that portal_factory stores temporarily created items in the ZEO client session storage (how we can confirm this) and this storage is not shared between ZEO clients. When the user hits save, validation error happens and the browser is directed back to the edit screen. Then this edit screen view goes to another ZEO client which does not have the temporary "item in creation" in its session storage. However, we have been running many load balanced Plone sites before and we haven't had reports of this issue before, so I suspect the error cause could be something else or there is a certain factor on this site triggering the behavior. Here is some related information which is, unfortunately, very vague: http://plone.org/documentation/kb/sticky-sessions-and-mod_proxy_balancer
