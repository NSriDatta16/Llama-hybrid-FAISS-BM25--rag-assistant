[site]: stackoverflow
[post_id]: 2453297
[parent_id]: 
[tags]: 
How do I delete a marker on Google Maps?

I only know of one way: Right click and click 'delete me' How else can I delete markers on Google Maps? This is my code now: GEvent.addListener(marker, 'mousedown', function(e) { alert(e) if (e.button == 2){ alert('sss') map.removeOverlay(marker); } When i right-click, it alerts (40.23141543543321,114.3214121421) ; when I look at the API, I see this: mousedown(latlng:GLatLng) so I think that e is not an event, but a 'GLatLng' If I use the 'singlerightclick', nothing happens when i right-click. This is my full code: *{ margin:0; padding:0; } #head{ height:70px; background:#a00; } #logo{ color:white; font-weight:bold; line-height:70px; margin-left:100px; } #main{ position:relative; margin-top:1px; } #left{ border:1px solid red; height:700px; margin-right:202px; } #top{ font-weight:bold; line-height:70px; margin-left:120px; } #map_canvas{ height:630px; } #right{ background:#ff0; float:right; height:702px; position:absolute; right:0; top:0; width:200px; } .container{ border:5px solid red; height:50px; margin-left:50px; padding:17px 0 0 20px; width:85%; } .b{ background:url(img/xr.png) right no-repeat; } .b > div{ width:30px; height:31px; background:url(img/xpinIcon.png) 0 0 no-repeat; } .c{ background:url(img/xr.png) right no-repeat; margin-left:60px; } .c > div{ width:30px; height:31px; background:url(img/xlineIcon.png) 0 0 no-repeat; } --> logo search var aFn; //********** function initialize() { if (GBrowserIsCompatible()) { //************ function a() { } //if(GControl) a.prototype = new GControl(); a.prototype.initialize = function(map) { var container = document.createElement("div"); var a=''; for(i=0;i ' } for(i=0;i ' } $(container).addClass('container'); $(map.getContainer()).append($(container).append(a)); return container; } a.prototype.getDefaultPosition = function() { return new GControlPosition(G_ANCHOR_TOP_LEFT, new GSize(7, 7)); } //************ var map = new GMap2(document.getElementById("map_canvas")); map.addControl(new a()); map.enableScrollWheelZoom(); var center=new GLatLng(39.9493, 116.3975); map.setCenter(center, 13); aFn=function(x,y){ var point =new GPoint(x,y) point = map.fromContainerPixelToLatLng(point); var marker = new GMarker(point,{draggable:true}); var a=$( ' '+ ' cilck edit '+ ' ') var once; a.click(function(){ if(!once)var area1=new nicEditor({buttonList : ['bold','fontSize','left','center','right','forecolor']}).panelInstance('area1') once=1; }) GEvent.addListener(marker, "click", function(){ marker.openInfoWindowHtml(a[0]); }); map.addOverlay(marker); GEvent.addListener(marker, 'singlerightclick', function(point, source, overlay) { alert('sss') map.removeOverlay(marker); }); } $(".b").draggable({ revert: true, revertDuration: 0 }); $('.container').droppable({greedy: true}); $("#map_canvas").droppable({ drop: function(event,ui) { aFn(event.pageX-$("#map_canvas").offset().left,event.pageY-$("#map_canvas").offset().top); //} } }); } } //************* I thought I figured it out with this: GEvent.addListener(map, 'singlerightclick', function(point, source, overlay) { map.removeOverlay(marker); }); but no, this removes the marker no matter where I click on the map. I think I have it now: GEvent.addListener(map, 'singlerightclick', function(pixel,tile, marker) { if(marker) map.removeOverlay(marker); });
