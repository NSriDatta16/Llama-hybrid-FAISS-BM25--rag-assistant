[site]: stackoverflow
[post_id]: 34345
[parent_id]: 
[tags]: 
Finding your own number in a box

100 (or some even number 2N :-) ) prisoners are in a room A. They are numbered from 1 to 100. One by one (from prisoner #1 to prisoner #100, in order), they will be let into a room B in which 100 boxes (numbered from 1 to 100) await them. Inside the (closed) boxes are numbers from 1 to 100 (the numbers inside the boxes are randomly permuted!). Once inside room B, each prisoner gets to open 50 boxes (he chooses which one he opens). If he finds the number that was assigned to him in one of these 50 boxes, the prisoner gets to walk into a room C and all boxes are closed again before the next one walks into room B from room A. Otherwise, all prisoners (in rooms A, B and C) gets killed. Before entering room B, the prisoners can agree on a strategy (algorithm). There is no way to communicate between rooms (and no message can be left in room B!). Is there an algorithm that maximizes the probability that all prisoners survive? What probability does that algorithm achieve? Notes: Doing things randomly (what you call 'no strategy') indeed gives a probability of 1/2 for each prisoner, but then the probability of all of them surviving is 1/2^100 (which is quite low). One can do much better! The prisoners are not allowed to reorder the boxes! All prisoners are killed the first time a prisoner fails to find his number. And no communication is possible. Hint : one can save more than 30 prisoners on average , which is much more that (50/100) * (50/99) * [...] * 1
