[site]: datascience
[post_id]: 114821
[parent_id]: 114764
[tags]: 
You seem to have entirely the right idea, you just miscalculated the second and fourth contributions you listed. Below are the corrected calculations, bolded to indicate where a change has been made: contribution_having_x0 = E(y|x0=0) - E(y) = 0 - 0.75 = -0.75 contribution_having_x1 = E(y| x1 =0) - E(y) = 0.5 - 0.75 = -0.25 contribution_adding_x0_to_x1 = E(y|x0=0,x1=0) - E(y|x1=0) = 0 - 0.5 = -0.5 contribution_adding_x1_to_x0 = E(y|x0=0,x1=0) - E(y|x0=0) = 0 - 0 = 0 After this, averaging the two contributions when adding a feature gives the same shap values as reported by the package. (The mistake in the formula for the second equation gives rise to your mistaken simplification of it.)
