[site]: stackoverflow
[post_id]: 4884192
[parent_id]: 
[tags]: 
How should I be implementing the HTTP POST Protocol Binding for SAML WebSSO Profile?

I've implemented my Service Provider and Identify Provider following the SAML Profile for Web SSO using HTTP POST Protocol Binding. However, I am a bit confused as to how the Identity Provider will provide an if the HTTP POST coming from the Service Provider is not tied to a session on the Identity Provider. Could someone enlighten me how one would be able to do this? The other approach I could use is the HTTP Redirect Binding, but that requires User-Agent intervention (i.e., the browser), often using the User-Agent simply as a pass-thru intermediary to faciliate the Request-Response message exchange. I'd rather use HTTP POST for this reason, because the message exchange occurs server-side, so the user sees nothing happening on their screen. However, using HTTP Redirect makes more sense to me with respect to how I'd be able to tie a session to a request. Since the HTTP Redirect is facilitated via a User-Agent, the request to the IdP will have a session (if previously authenticated). What I don't get though is how to send an on a HTTP Redirect. Answered by JST So I'm a bit confused and would love to hear what other people are doing. Here are my questions again: Using the HTTP POST Protocol Binding with the IsPassive option the , how do I tie a request made by the Service Provider to a session on the Identity Provider? In other words, how does the Identity Provider know who is making the request if the POST is coming from the Service Provider which is technically an anonymous session? Using the HTTP Redirect Protocol Binding, how do I send an to the Identity Provider if I am using a HTTP Redirect? Answered by JST UPDATE Sorry for the confusion if I was unclear in my explanation above. I am implementing both the IdP and SP (via a plugin). The IdP is an existing application for which I want the SP (a third-party system) to use for authentication (i.e., Web SSO). I am developing a simple PoC at the moment. The SP is actually a third-party Spring application for which I am developing a plugin to perform the SAML operations. I should have mentioned that I am trying to do this using the IsPassive option, that meaning the User-Agent doesn't come into play during the message exchange. It is simply the catalyst that gets the SAML-party started. Right? With that in mind, given that the user is anonymous at Step 1, what does the SP send to the IdP to allow the IdP figure out whether the user is already authenticated? Because of IsPassive, the HTTP POST isn't sent via the User-Agent UPDATE Question 1 Revised : How does the IdP resolve the Principal when the AuthnRequset is sent with the IsPassive option on? Straight from the SAML 2.0 Profiles document, page 15, lines 417 to 419: In step 4, the principal is identified by the identity provide by some means outside the scope of this profile. What I'm really after is an explanation how to implement some means .
