[site]: stackoverflow
[post_id]: 57399
[parent_id]: 57285
[tags]: 
If you are using ASP.NET and the System.Net.Mail classes, you are probably sending the mail via the IIS instance on the web server machine (I'm not sure since you didn't specify). There's not a good way to know what's going on with your Mail Transfer Agent (IIS SMTP). It has its own retry logic, and by default, it could take a long time for the message to be delivered. How are you detecting that the mail was not delivered? What's the "timeout" coming from? You should have a background process that handles the sending of mail. If delivery to the MTA succeeds, you should assume all is well. Unless you are blacklisted for SPAM, most MTAs will keep retrying until they get through. If you actually get an error dropping the message off with you MTA, then definitely retry it, or figure out what's causing the failure and fix the bug. Honestly, this part should never fail. You might want to monitor the return address for NDR messages so you can take some sort of action when you know for sure when the email wasn't delivered. But if the user cannot yet log in to the system, there's no good way to let them know what happened. Maybe you could set a cookie with a value that you associate with the email, and put something up on the login/registration page if you were unable to deliver the mail.
