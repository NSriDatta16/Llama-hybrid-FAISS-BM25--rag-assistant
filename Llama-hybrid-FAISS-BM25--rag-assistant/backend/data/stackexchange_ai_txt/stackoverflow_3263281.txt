[site]: stackoverflow
[post_id]: 3263281
[parent_id]: 3263251
[tags]: 
I would recommend parsing the code as XML, then using XPath to de/select the nodes you require. Here's a starting point: $dom = getDom("http://www.stackoverflow.com"); parseDom($dom); function getDom($url) { $contentUtf8 = $this->fetchDataFromUrl($url); $htmlData = mb_convert_encoding($contentUtf8, 'HTML-ENTITIES', "UTF-8"); $dom = new DomDocument('1.0', 'utf-8'); $dom->substituteEntities = false; $dom->preserveWhitespace = false; @$dom->loadHTML($htmlData); return $dom; } function parseDom($dom) { $xpath = new DOMXPath($dom); $nodes = $xpath->query("//ul[@class='agentDetail']"); // manipulate nodes here... }
