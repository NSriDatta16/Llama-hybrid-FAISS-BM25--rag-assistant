[site]: crossvalidated
[post_id]: 487161
[parent_id]: 487156
[tags]: 
The Binomial likelihood function $$\ell(\theta)={n \choose x}\theta^x(1-\theta)^{n-x}$$ is only defined when $0\le\theta\le 1$ . Computing $\ell(1.4)$ or $\ell(-2.3)$ makes no sense as there is no Binomial experiment with a probability of $1.4$ or $-2.3$ . For a parameter value outside the possible parameter range $(0,1)$ , the likelihood need be set to zero. The referenced tutorial has this safety step: # If any of the values in thetas_prop is not in [0, 1.0] # then replace their value with # the same element in thetas_curr, otherwise keep their values thetas_prop 1|x meaning that the proposed values for $\theta_1$ and $\theta_2$ are always in the range $(0,1)$ . The truncation in the proposal means that the Metropolis-Hastings acceptance ratio as given in the tutorial # Accept/reject logic p_accept_theta_prop =pmin(posterior_prop/posterior_curr, 1.0) should be checked. Indeed, the proposal density is $$f(\xi|\theta)=\Phi((0,1)|\theta)\frac{\varphi(\xi-\theta)\mathbb I_{(0,1)}(\xi)}{\Phi((0,1)|\theta)}+\left[1-\Phi((0,1)|\theta)\right]\mathbb I_{\xi=\theta}$$ where $\varphi$ denotes the Normal density and $\Phi$ the Normal cdf. The acceptance ratio is then $$\dfrac{\pi(\xi|x)}{\pi(\theta|x)}\,\dfrac{f(\theta|\xi)}{f(\xi|\theta)}$$ and symmetry in the proposal leads to justify the ratio as given. But a perfectly valid and straightforward alternative is to simply set the likelihood to zero when the proposed value is outside the range $(0,1)$ . This clearly prevents the Markov chain to move there. Note on the minor side that this example is somewhat absurd as the two components of $\theta$ are independent a posteriori and the simulated bivariate Markov chain is less efficient than simulated two independent Markov chains.
