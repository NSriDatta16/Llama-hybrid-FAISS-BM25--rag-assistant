[site]: stackoverflow
[post_id]: 5289108
[parent_id]: 
[tags]: 
Multiple Sub-domain Application Design

In the past, I've only build web applications that serve one customer so they've been pretty simple and easy. Now, I'd like to build an application where multiple customers are able to host their own content/websites on subdomains of my domain, much like blogspot.com. So each customer will have their own site like user1.myapp.com, user2.myapp.com, etc. Within each of the customer's site, they can build whatever content they want through my application and even add more levels in the URL, like user1.myapp.com/custom - user1.app.com/custom will show totally different stuff than user2.app.com/custom. I'm quite lost at how to achieve this. Can someone describe to me in a very general sense, how do we get from someone accessing user1.myapp.com/custom to my application serving the actual correct custom page for user1? how can we map the URIs to correct user content? do we actually still host real pages (organized by user), or we just generate content on the fly? what type of design/architecture is needed to support this? any help at all is appreciated. thanks a lot.
