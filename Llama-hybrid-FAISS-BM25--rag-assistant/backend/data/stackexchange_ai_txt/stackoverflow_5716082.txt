[site]: stackoverflow
[post_id]: 5716082
[parent_id]: 5715719
[tags]: 
why is it working after 3/4 times because in between the rights on the folder don't change. Probably because it is not permissions related. More likely, there is a kind of race condition that is made possible by storing on the AFS share. Your best bets would be to do 'not do that' (i.e. store on local storage first) per-use AFS documentation to find any relevant flags (look for 'sync', 'delay', 'cache' or 'lazy') file it as a bug/post on AFS user groups I've seen problems like this occur on ZFS-fuse when we first started out optimizing small writes (git does very accurate and optimized stat updates; if it cannot read back as expected immediately, it will fail)
