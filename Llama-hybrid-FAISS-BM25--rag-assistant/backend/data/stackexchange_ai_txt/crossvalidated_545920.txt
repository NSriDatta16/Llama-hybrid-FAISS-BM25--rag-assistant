[site]: crossvalidated
[post_id]: 545920
[parent_id]: 
[tags]: 
Validating the percent variance explained of principal components on out-of-sample data

I'm trying to ascertain whether the variance explained by a certain PCA on an out-of-sample dataset is not due to random chance. Suppose I have a dataset X with size n-x-p, and I run a PCA and obtain the p-x-p matrix W of coefficients. I obtain another dataset Y with size m-x-p, and I project the values of Y onto the principal axes of the 1st dataset X by W*X. I am able to obtain the variance explained by calculating the ratio of the variance of the residuals and actual variance of Y. We are assuming that X and Y are drawn from a population following a normal distribution. Now, I want to know whether the variance explained by these PCs on Y is not just due to random chance. My attempt: I've tried bootstrapping the original dataset X and running PCA on the bootstrapped dataset and projected Y onto those new PCs. I calculate the percent variance explained by from each bootstrapped PCA, and they are fairly close to the initial calculated % variance explained. Now to know what the percent variance explained due to random chance, I shuffle the original dataset X several times, and run the PCA on these. I expect that the value of the percent variance explained is 1/p. However, when I do this calculation with my out-of-sample dataset, I am now getting negative values for the percent variance explained. So there is clearly an error in my approach. Can anyone point me in the right direction, please?
