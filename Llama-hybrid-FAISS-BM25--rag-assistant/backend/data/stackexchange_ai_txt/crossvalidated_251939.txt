[site]: crossvalidated
[post_id]: 251939
[parent_id]: 251787
[tags]: 
After giving it a lot of thought, I found the problem. What I am trying to forecast is a value of a magnitude at a certain hour of the day given a number of inputs. I turns out that when the data is shuffled, the neighbours are the values of the magnitude for at other hours of the same day. And those values are the ones I need to forecast. I guess the lesson here is that if you want to forecast time series you cannot shuffle the data.
