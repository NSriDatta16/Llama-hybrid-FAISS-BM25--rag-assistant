[site]: stackoverflow
[post_id]: 5081987
[parent_id]: 5081714
[tags]: 
Since you're using Magento and appear to be writing code inside a template you can do this: $_product = Mage::registry('product'); if ($_product) $block_name = $_product->getUrlKey(); Several templates on the product page already define $_product for you which makes it even easier. This way works when a page is requested the non-SEO way, such as "http://www.example.com/catalog/product/view/id/123/", or when a category name is in the URL. $_SERVER could not handle these cases. Using an un-validated value from $_SERVER allows an attacker to insert values into your code which is definitely bad.
