[site]: crossvalidated
[post_id]: 530412
[parent_id]: 
[tags]: 
Standard error for population average treatment effect with nearest neighbor matching

I perform nearest neighbor matching where each treated group $i$ (where $i$ goes from 1 to $I$ ) has a population $n_i$ and is matched with a non-treated group with population close to $n_i$ . The outcome is $y_i = Y_i/n_i$ for the treated group and $y_i'$ for the not treated group. The sizes $n_i$ vary from 1,000 to 200,000 people, with many more treated groups with smaller populations. Instead of computing atet = $(1/I) \sum_{i=1}^I (y_i - y_i')$ , I would like to compute patet = $[1/(\sum_{i=1}^I n_i)] [\sum_{i=1}^I n_i (y_i - y_i')]$ . Any suggestions of how to compute the standard errors for patet?
