[site]: stackoverflow
[post_id]: 3800097
[parent_id]: 3687270
[tags]: 
Points should be better organized. To search more efficiently instead of a vector you need some sort of a hash map where hash collision implies that two points are close to each other (so you use hash collisions to your advantage). You can for instance divide the space into cubes of size equal to SEGMENT_MAX_DISTANCE, and use a hash function that returns a triplet of ints instead of just an int, where each part of a triplet is calculated as point. / SEGMENT_MAX_DISTANCE . Now for each point in this new set you search only for points in the same cube, and in adjacent cubes of space. This greatly reduces the search space.
