[site]: stackoverflow
[post_id]: 1412006
[parent_id]: 1411943
[tags]: 
def is_root(v): assert (v.parent != None) == (v.isRoot) return v.isRoot #note how dumb this function looks when you guarantee that assertion def get_random_nonroot_key(): while True: thekey = random.choice(tree.thedict.keys()) value = tree.thedict[thekey] if not is_root(value): return key or a refactoring of Roberto Bonvallet's answer def get_random_nonroot_key(): eligible_keys = [k for k, v in tree.thedict.items() if not is_root(v)] return random.choice(eligible_keys)
