[site]: stackoverflow
[post_id]: 4716889
[parent_id]: 4716797
[tags]: 
Technically, what you are missing is a jump to the end just before the eq label. Currently, if the last iteration ends in the ah !=0 branch, it will fall through to the eq label, increase si to 12 and jump back to the again label. You could also reorganize the code such that only the inc p is jumped over, so both cases would use the same si comparison (similar to your pseudocode). Note, if you only want to check for even/odd numbers, just testing the lowest bit is a simpler way.
