[site]: stackoverflow
[post_id]: 4759157
[parent_id]: 
[tags]: 
How to choose a (valid) random adjacent point in an array of integers in C?

Assume that we have an array of integers (3x3) depicted as follows: +-+-+-+ | |1| | +-+-+-+ |0|x|1| +-+-+-+ | |0| | +-+-+-+ (0,1) above is set to 1 and (1,0) is 0 etc. Now assume that I find myself at (1,1) (at x), what would be the easiest method for me to come up with all the directions I can take (say all that have the value 0) and then among those choose one? What I'm having trouble with is actually the step between choosing all valid directions and then choosing among those. I can do the two steps seperately fairly easily but I don't have a solution that feels elegant which combines the two. E.g. I can multiply the value of each cell by a value representing 1,2,4 and 8 and or them all together. this would give me what directions I can take, but how to choose between them? Also I can easily randomize a number between 1 and 4 to choose a direction but if that direction is "taken" then I have to randomize again but excluding the direction that failed. Any ideas?
