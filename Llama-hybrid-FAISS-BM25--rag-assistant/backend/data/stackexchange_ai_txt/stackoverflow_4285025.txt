[site]: stackoverflow
[post_id]: 4285025
[parent_id]: 4284770
[tags]: 
How I can redirect to a error page when session expires like this. I would only agree with this if your page displays sensitive information. Otherwise, say the user is viewing the page and upon becoming idle, you just made the information the user was looking at disappear. Granted, you have a profile page in the case, but what if the user were viewing some sort of report that takes time to load? You would then force the user to rerun his/her report that he/she already had results for. You can use the Session_End event in a Global.asax file as Pranay suggested. With AJAX or plain JavaScript, you could notify the user that their session is about to time out / has timed out. Or adversely, you could wait until the session timeout exception is thrown once the user attempts a post back and turn custom errors on in your web.config. If you still insist on redirecting the user on session timeout, use this in your Session_End event: Response.Redirect("myRedirectPage.aspx",true); You would want to specify true as the second parameter to end the response after redirection. As for your second question, there are several ways to handle logins in ASP.NET. If you want to take care of the plumbing yourself, use the Application_BeginRequest event in your Global.asax file to check whether the user has logged in (i.e. whether Session["cityId"] is null) store your session information upon login and use Response.Redirect to forward your user to the profile page. Otherwise, if you want to leverage built-in ASP.NET features, see http://msdn.microsoft.com/en-us/library/ms178329.aspx . Then just use Request.UrlReferrer as Srinivas suggested.
