[site]: stackoverflow
[post_id]: 3536737
[parent_id]: 3536653
[tags]: 
It may be an issue with byte alignment, use pragma . try wrap classes around with #PRAGMA PACK PUSH(1) .... #PRAGMA PACK POP or #PRAGMA PACK(1) struct{ .. } Try those as well: Force binary flag for the stream. ios_base::binary readFile.open(fileName.c_str(), ios_base::binary); Try to flush the the stream. stream.write(...) stream.flush() //i know that close() should flush it. UPDATE: Everything works for me: #include #include #include #include using namespace std; #pragma pack(1) class xyz { public: double x, y, z; }; #pragma pack(1) class trianglePackage { public: int score; int position; xyz contactCoordinates; xyz normalVector; xyz locatorOffset; }; #pragma pack(1) class quadanglesOutput { public: int locator1position, locator2position, locator3position, locator4position; xyz centroid; int surfaceAreaScore; int centroidDifferance1Score; int centroidDifferance2Score; int minDistance1Score; int minDistance2Score; int totalLocatorScore; int totalHullScore; int totalScore; double surfaceArea; double centroidDifferance1; double centroidDifferance2; double minDistance1; double minDistance2; int hull; trianglePackage locator1, locator2, locator3, locator4; }; class param { public: string fileName; int topXlist; }; void outputQuadangleOutput(quadanglesOutput* output, string description, param parameters) { string outputName = parameters.fileName + " " + description + ".bin"; cout (output), streamsize(parameters.topXlist * sizeof(quadanglesOutput))); output2.close(); cout (pointer), (parameters.topXlist * sizeof(quadanglesOutput))); readFile.close(); cout totalScore locator1.position locator2.normalVector.y >asdf; }; OUTPUT: total score:0 locator position:0 locator2.normalVector.y :0 sizeof quadangsomething:436 total score:1 locator position:333445 locator2.normalVector.y :999.322 Output C:/ file1.bin...done openining C:/ file1.bin...done new total score:1 new locator position:333445 new locator2.normalVector.y :999.322 without pragma it's still correct but you can see the difference in size: sizeof quadangsomething:440 But packing it is good when sending structures over network. Because here system alligns it always in the same fashion.
