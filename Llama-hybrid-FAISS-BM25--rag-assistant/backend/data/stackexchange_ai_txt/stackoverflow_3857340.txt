[site]: stackoverflow
[post_id]: 3857340
[parent_id]: 3857324
[tags]: 
Make a bucket for each organizational unit (Country, Genre, Age, etc.). When a use connects, give them an incrementally larger index for each bucket they belong to. When a user wants to connect with somebody from a bucket, simply generate a new random number between 0 and the max index value for the bucket...and connect them!
