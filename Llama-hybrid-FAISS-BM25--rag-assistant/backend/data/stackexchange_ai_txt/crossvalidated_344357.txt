[site]: crossvalidated
[post_id]: 344357
[parent_id]: 344331
[tags]: 
Your code predicts the number of children using the estimated coefficients as if everyone in your data had their own actual race, but were 32 years old and only finished high school. My coefficients match, but the margins number is slightly different for some reason (might be a Stata version difference, but should work on your end): . quietly bcuse fertil1, clear . poisson kids educ age black, nolog Poisson regression Number of obs = 1,129 LR chi2(3) = 84.90 Prob > chi2 = 0.0000 Log likelihood = -2101.1771 Pseudo R2 = 0.0198 ------------------------------------------------------------------------------ kids | Coef. Std. Err. z P>|z| [95% Conf. Interval] -------------+---------------------------------------------------------------- educ | -.0483602 .0068249 -7.09 0.000 -.0617368 -.0349836 age | .0089042 .0030858 2.89 0.004 .0028562 .0149522 black | .2723359 .0576417 4.72 0.000 .1593602 .3853116 _cons | 1.199105 .1682269 7.13 0.000 .8693863 1.528824 ------------------------------------------------------------------------------ . margins, at(educ=12 age=32) Predictive margins Number of obs = 1,129 Model VCE : OIM Expression : Predicted number of events, predict() at : educ = 12 age = 32 ------------------------------------------------------------------------------ | Delta-method | Margin Std. Err. z P>|z| [95% Conf. Interval] -------------+---------------------------------------------------------------- _cons | 2.534472 .1040815 24.35 0.000 2.330476 2.738468 ------------------------------------------------------------------------------ . generate double pred_kids = exp(_b[_cons] + _b[age]*32 + _b[educ]*12 + _b[black]*black) . sum pred_kids Variable | Obs Mean Std. Dev. Min Max -------------+--------------------------------------------------------- pred_kids | 1,129 2.534472 .2156485 2.468761 3.241552 If you want to do it by calculator, you can do something like this with a weighted average: . tab black black | Freq. Percent Cum. ------------+----------------------------------- 0 | 1,033 91.50 91.50 1 | 96 8.50 100.00 ------------+----------------------------------- Total | 1,129 100.00 . display exp(_b[_cons] + _b[age]*32 + _b[educ]*12 + _b[black]*1)*96/1129 + exp(_b[_cons] + _b[age]*32 + _b[educ]*12 + _b[black]*0)*1033/1129 2.5344722 Obviously, you will need to type the actual coefficients since your calculator does not know about them. bcuse may need to be installed from SSC to run the code: quietly bcuse fertil1, clear poisson kids educ age black, nolog margins, at(educ=12 age=32) generate double pred_kids = exp(_b[_cons] + _b[age]*32 + _b[educ]*12 + _b[black]*black) sum pred_kids tab black display exp(_b[_cons] + _b[age]*32 + _b[educ]*12 + _b[black]*1)*96/1129 + exp(_b[_cons] + _b[age]*32 + _b[educ]*12 + _b[black]*0)*1033/1129
