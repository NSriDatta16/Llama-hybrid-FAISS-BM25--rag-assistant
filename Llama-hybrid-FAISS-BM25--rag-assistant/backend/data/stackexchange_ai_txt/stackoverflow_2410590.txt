[site]: stackoverflow
[post_id]: 2410590
[parent_id]: 
[tags]: 
What is the proper way to create a recursive entity in the Entity Framework?

I'm currently using VS 2010 RC, and I'm trying to create a model that contains a recursive self-referencing entity. Currently when I import the entity from the model I get an error indicating that the parent property cannot be part of the association because it's set to 'Computed' or 'Identity', though I'm not sure why it does it that way. I've been hand-editing the file to get around that error, but then the model simply doesn't work. What is the proper way to get recursive entities to work in the Entity Framework. The model imported by default doesn't work. I've tried several adjustments and end up getting a different type of error each time. At this point I'm looking for a solution and an explanation as to why the solution is correct. Relevant Database Object CREATE TABLE [dbo].[Appointments]( [AppointmentId] [int] IDENTITY(1,1) NOT NULL, [Description] [nvarchar](1024) NULL, [Start] [datetime] NOT NULL, [End] [datetime] NOT NULL, [Username] [varchar](50) NOT NULL, [RecurrenceRule] [nvarchar](1024) NULL, [RecurrenceState] [varchar](20) NULL, [RecurrenceParentId] [int] NULL, [Annotations] [nvarchar](50) NULL, [Application] [nvarchar](100) NOT NULL, CONSTRAINT [PK_Appointments] PRIMARY KEY CLUSTERED ( [AppointmentId] ASC ) ) GO ALTER TABLE [dbo].[Appointments] WITH CHECK ADD CONSTRAINT [FK_Appointments_ParentAppointments] FOREIGN KEY([RecurrenceParentId]) REFERENCES [dbo].[Appointments] ([AppointmentId]) GO ALTER TABLE [dbo].[Appointments] CHECK CONSTRAINT [FK_Appointments_ParentAppointments] GO EDMX -- As is I get the compiler error: Condition cannot be specified for Column member 'AppointmentId' because it is marked with a 'Computed' or 'Identity' StoreGeneratedPattern. If removed that error goes away, but simply introduces another one about: Problem in mapping fragments starting at lines 3350, 3380:EntityTypes SafetyTrackerModel.Appointment are being mapped to the same rows in table Appointments. Mapping conditions can be used to distinguish the rows that these types are mapped to. which happens to be the line above marked [1]. At this point I'm lost as to what I'm supposed to do. I've tried many, many things and ultimately I've run out of intelligent things to try and have entered the land of the cargo cult. I would really like to understand what the problem is here.
