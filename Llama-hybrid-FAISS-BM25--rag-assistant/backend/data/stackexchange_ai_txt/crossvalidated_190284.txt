[site]: crossvalidated
[post_id]: 190284
[parent_id]: 
[tags]: 
Using MICE with Random forests taking into account clustering

I am using the mice package in R to create multivariate imputed datasets. For this, I am using mice(data, meth= "rf") function. I want all the variables to use this method for prediction because there are many non-linear relationships and hypothetical interactions between several of the variables. http://aje.oxfordjournals.org/content/early/2014/01/12/aje.kwt312.full My dataset is also a hierarchical dataset with clustering. Is there a way to take this clustering into account when specifying the prediction matrix for the mice function? I am aware that if you use other methods like meth = 2l.pan or meth =2l.norm , you can take clustering into account, but I want to avoid these methods because I think the non-linear relationships trump the homogeneity introduced by the cluster effect. If there is a way to use the random forest method with MICE and take clustering into account, could you also provide some mock code for specifying the prediction matrix?
