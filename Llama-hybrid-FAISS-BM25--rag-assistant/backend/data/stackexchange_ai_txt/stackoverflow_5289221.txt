[site]: stackoverflow
[post_id]: 5289221
[parent_id]: 5289206
[tags]: 
The expression device in self.request.user_agent will first try to call self.request.user_agent.__contains__(device) If this method does not exist, Python tries to iterate over self.request.user_agent and compares each item it encounters to device . Obviously, the type of self.request.user_agent neither allows .__contains__() nor iteration, hence the error message. Also see the documentation of membership test in Python .
