[site]: crossvalidated
[post_id]: 192939
[parent_id]: 
[tags]: 
Paired test, unknown sample identites

I have data in which I have repeated measures on samples (at different times), but do not know the identities of the individual samples at each time point. Just for some context, I'm doing behavioral work in zebrafish. The fish are in tanks of ~10, however, I do not currently have a reliable way to individually identify the fish. I obtain baseline behavioral data for each fish in a tank and then compare this to their behavior after a specified manipulation. So, the data are amenable to a repeated measures design, if I only knew the identities at each time point. I'm thinking one way to handle this is to do permutation/randomization tests where I compare the difference in behavior before and after the manipulation to the distribution from the permutation test. However, would I be violating the assumption of the data being independently and identically distributed? Any thoughts or suggestions? Would really like to find a test that could leverage the fact that the measurements at each time point are not strictly independent to get some of the increased power of repeated measures/paired tests.
