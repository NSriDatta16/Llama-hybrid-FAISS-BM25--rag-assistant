[site]: stackoverflow
[post_id]: 4510840
[parent_id]: 4507768
[tags]: 
I suggest you do some reading up on the SMTP protocol. In the old days the content would be UUENCODED, and merely embedding it in the body of the email with a UUENCODE header was sufficient. I've done that a lot in my time :) These days everything uses MIME as far as I know. Follow Rup's link (see his comment) or search the internet to understand what MIME does. Searching the internet should also give you two things: Examples of what MIME looks like once the attachment is encoded, and how it is sent on the socket. Resources (libraries etc.) you can use to do the MIME encoding for you, and maybe even shove it down the socket. You may also find SMTP libraries to handle all the SMTP protocol. You also need to understand a little more about sockets. Did you honestly expect that writing Attachment: %s%s", "d:\\test.txt",CRLF to a socket would cause the system to open the file and somehow stream the contents of the file to the socket? Side notes on code: Why CRLF? All the other email headers send \n to terminate a line. It's all that is needed. Sending two newlines after an email header (as done for the "To:" header) indicates the end of the email headers. Your "Attachment:" header actually forms the first line of the email body.
