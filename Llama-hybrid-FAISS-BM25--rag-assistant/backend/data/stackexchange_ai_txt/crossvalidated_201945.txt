[site]: crossvalidated
[post_id]: 201945
[parent_id]: 201914
[tags]: 
Use the chain rule, $$ \frac{\partial C}{\partial W_1} = \frac{\partial C}{\partial z} \frac{\partial z}{\partial h} \frac{\partial h}{\partial a} \frac{\partial a}{\partial W_1} , $$ where $$ a = W_1x+b_1 . $$ $$ \frac{\partial C}{\partial z} = y-\hat{y}, $$ $$ \frac{\partial z}{\partial h} = W_2, $$ $$ \frac{\partial h}{\partial a} = \sigma(a)(1 - \sigma(a)), $$ $$ \frac{\partial a}{\partial W_1} = x, $$ so $$ \frac{\partial C}{\partial W_1} = (y-\hat{y})W_2\sigma(a)(1 - \sigma(a))x = (y-\hat{y})W_2h(1 - h)x. $$ You could take a look at Pattern Recognition and Machine Learning Section 5.3 for details.
