[site]: stackoverflow
[post_id]: 690029
[parent_id]: 689948
[tags]: 
You should be able to get the intended behaviour by using transactions: create a transaction delete your bookings check if the new rooms are available and book them if everything is ok, commit otherwise rollback the transaction EDIT - Sample (using SQL transaction, you could also use a TransactionContext): try { persistentStorage.DataContext.Transaction=persistentStorage.DataContext.Connection.BeginTransaction(); var oldStays = (from stay in persistentStorage.DataContext.Stays where stays.booking_id == bookingId select stay); persistentStorage.DataContext.Stays.DeleteAllOnSubmit(oldStays); persistentStorage.DataContext.SubmitChanges(); // do you select/insert/etc. if (ok) persistentStorage.DataContext.Transaction.Commit(); } finally { if (persistentStorage.DataContext.Transaction!=null) persistentStorage.DataContext.Transaction.Dispose(); persistentStorage.DataContext.Transaction=null; }
