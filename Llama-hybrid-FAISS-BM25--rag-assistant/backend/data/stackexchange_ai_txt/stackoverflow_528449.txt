[site]: stackoverflow
[post_id]: 528449
[parent_id]: 
[tags]: 
Thread problem with Druby and ActiveRecord

I have a rails app and a separate druby process. This process gives me some methods, and at the first line of each druby's method there is a call to ActiveRecord::Base.establish_connection, where the db_name depends on a param set by the rails application. Sometimes the process is getting the wrong database name and I think it could be a concurrency problem. Could it be? Any idea on how to make it thread-safe? Thanks for any help! Roberto
