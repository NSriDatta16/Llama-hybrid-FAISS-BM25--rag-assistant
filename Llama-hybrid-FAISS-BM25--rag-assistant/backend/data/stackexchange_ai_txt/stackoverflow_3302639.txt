[site]: stackoverflow
[post_id]: 3302639
[parent_id]: 
[tags]: 
cURL doesn't seem to work in a while loop

I'll just post the whole thing since it would be a bit confusing otherwise: ARMORY. "; $server = "Sunstrider"; $guild = "Mist"; $url='http://eu.wowarmory.com/guild-info.xml?r='.$server.'&gn='.$guild.'&p=1'; $ch = curl_init(); curl_setopt ($ch, CURLOPT_URL, $url); curl_setopt ($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt ($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.1) Gecko/20061204 Firefox/2.0.0.1"); $xml = curl_exec($ch); $rosterxml = new SimpleXMLElement($xml); curl_close($ch); $array = array(); foreach($rosterxml->guildInfo->guild->members->character as $char) if(strtolower($char['level']) === '80') { $array[] = $char['name']." "; } echo " Name TEST "; $i = 0; while($array[$i] != null) { $name = $array[$i]; $raidurl='http://eu.wowarmory.com/character-achievements.xml?r='.$server.'&cn='.$name.'&c=168'; $ch = curl_init(); curl_setopt ($ch, CURLOPT_URL, $raidurl); curl_setopt ($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt ($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.1) Gecko/20061204 Firefox/2.0.0.1"); $xml2 = curl_exec($ch); $achievementxml = new SimpleXMLElement($xml2); curl_close($ch); var_dump($achievement); echo " $array[$i] "; $i++; } ?> That var_dump of $achievement just produces NULL over and over again (obviously due to the loop) instead of any information about the array. Doing a var_dump of $rosterxml produces the expected effect though, so cURL seems to work fine outside of the while loop.
