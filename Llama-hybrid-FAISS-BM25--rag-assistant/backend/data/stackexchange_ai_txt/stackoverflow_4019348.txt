[site]: stackoverflow
[post_id]: 4019348
[parent_id]: 4018775
[tags]: 
Here's another variation. The logic is the same, but it uses a switch-case statement for better organization, fewer break/continue statements, and a faster return. You should also be able to enhance this one with case 'N': case 'S': case 'E': case 'W': as needed. double Str2LatLong(char* coord) { // char* testInput = "47,26'14\""; int i = 0; int parts[3] = {0}; int* pCurr = parts; while(1) { switch (coord[i]) { /* Any digit contributes to either degrees,minutes, or seconds (as *pCurr) */ case '0': case '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9': *pCurr = 10* (*pCurr) + coord[i] - '0'; break; /* A Null terminator triggers return (no break necessary) */ case '\0': return parts[0] + ((double)parts[1])/60.0 + ((double)parts[2])/3600.0; /* Any other symbol moves pCurr from degrees to minutes, or minutes to seconds */ default: *pCurr++; } i++; } return -1.0; /* Should never reach this point! */ }
