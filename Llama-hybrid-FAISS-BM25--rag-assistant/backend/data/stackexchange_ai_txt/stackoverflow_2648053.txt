[site]: stackoverflow
[post_id]: 2648053
[parent_id]: 
[tags]: 
Preventing iframe caching in browser

How do you prevent Firefox and Safari from caching iframe content? I have a simple webpage with an iframe to a page on a different site. Both the outer page and the inner page have HTTP response headers to prevent caching. When I click the "back" button in the browser, the outer page works properly, but no matter what, the browser always retrieves a cache of the iframed page. IE works just fine, but Firefox and Safari are giving me trouble. My webpage looks something like this: The var variable always changes. Although the URL of the iframe has changed (and thus, the browser should be making a new request to that page), the browser just fetches the cached content. I've examined the HTTP requests and responses going back and forth, and I noticed that even if the outer page contains , the browser will still fetch webpage2.html?var=111 . Here's what I've tried so far: Changing iframe URL with random var value Adding Expires, Cache-Control, and Pragma headers to outer webpage Adding Expires, Cache-Control, and Pragma headers to inner webpage I'm unable to do any JavaScript tricks because I'm blocked by the same-origin policy. I'm running out of ideas. Does anyone know how to stop the browser from caching the iframed content? Update I installed Fiddler2 as Daniel suggested to perform another test, and unfortunately, I am still getting the same results. This is the test I performed: Outer page generates random number using Math.random() in JSP. Outer page displays a random number on the webpage. Outer page calls iframe, passing in a random number. Inner page displays a random number. With this test, I'm able to see exactly which pages are updating, and which pages are cached. Visual Test For a quick test, I load the page, navigate to another page, and then press "back." Here are the results: Original Page: Outer Page: 0.21300034290246206 Inner Page: 0.21300034290246206 Leaving page, then hitting back: Outer page: 0.4470929019483644 Inner page: 0.21300034290246206 This shows that the inner page is being cached, even though the outer page is calling it with a different GET parameter in the URL. For some reason, the browser is ignoring the fact that the iframe is requesting a new URL; it simply loads the old one. Fiddler Test Sure enough, Fiddler confirms the same thing. (I load the page.) Outer page is called. HTML: 0.21300034290246206 http://ipv4.fiddler:1416/page1.aspx?var=0.21300034290246206 is called. (I navigate away from the page and then hit back.) Outer page is called. HTML: 0.4470929019483644 http://ipv4.fiddler:1416/page1.aspx?var=0.21300034290246206 is called. Well, from this test, it looks as though the web browser isn't caching the page, but it's caching the URL of the iframe and then making a new request on that cached URL. However, I'm still stumped as to how to solve this issue. Does anyone have any ideas on how to stop the web browser from caching iframe URLs?
