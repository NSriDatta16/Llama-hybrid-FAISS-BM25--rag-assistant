[site]: crossvalidated
[post_id]: 478541
[parent_id]: 478396
[tags]: 
Not exactly sure, but a 'rough' approximation would be to have 10 observations on average lying within 2 standard deviations. The thing is the area that contains the 10-nearest-neighbours is actually adaptive to the local density. If you use a constant bandwidth, the window size of the gaussian kernel would be static, so in some cases might contain less or much more than 10 neighbours (especially at the boundaries). If your goal to select a constant bandwidth I would go the simple way: Select a range of bandwidths and find weights for each one For each query point and for each bandwidth, estimate the ratio of weights that you target and create a histogram Select the bandwidth that fits your goal
