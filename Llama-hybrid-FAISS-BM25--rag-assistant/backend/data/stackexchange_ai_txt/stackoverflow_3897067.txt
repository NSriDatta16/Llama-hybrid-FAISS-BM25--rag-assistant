[site]: stackoverflow
[post_id]: 3897067
[parent_id]: 3897040
[tags]: 
The following is based on running average, so if you know the previous average: At = (A0 * N + E) / (N + 1) At is the average after addition of the new element A0 is the average before addition of the new element N is the number of element before addition of the new element E is the new element's value Its simpler brother works if you keep tab of the sum of the elements: At = (T + E) / (N + 1) T is the total of all elements A0 is the average before addition of the new element N is the number of element before addition of the new element E is the new element's value When a value is deleted, you can do a similar thing: At = (A0 * N - E) / (N - 1) And when a value is updated: At = (A0 * N - E0 + E1) / (N) E0 is value before updating, E1 is value after updating.
