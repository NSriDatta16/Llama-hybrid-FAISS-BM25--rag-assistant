[site]: stackoverflow
[post_id]: 3378506
[parent_id]: 
[tags]: 
Probability of finding the median with finite space

This is a spin off of this StackOverflow question . Assume that you have a fixed number k of storage locations, and space for two counters. You will receive n items in random order (all permutations of the n items are equally likely). After receiving each item you can either store it in one of the k locations (discarding one of the previously stored values), or discard the item. You can also increment or decrement either of the counters. Any discarded item cannot be retrieved. The questions are What is the strategy that maximizes your probability of finding the exact median? What is that probability? Obviously, if k > n/2 , we can find the median. In general it seems that the same strategy of attempting to keep the number of discarded high values equal to the number of discarded low values should be optimal, but I am not sure how to prove it, nor how to figure out the probability that it finds the median. Also of interest is the case where we do not know n but know the probability distribution of n . Edit: Assume for now that the values are distinct (no duplicates.) However, if you can solve the non distinct case as well, then that would be impressive.
