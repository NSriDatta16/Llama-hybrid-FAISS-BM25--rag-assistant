[site]: stackoverflow
[post_id]: 2127112
[parent_id]: 
[tags]: 
Global Keyboard hook not working

I have created a global Keyboard hook. Hook is created in a DLL. #pragma comment(linker, "/SECTION:.SHARED,RWS") #pragma data_seg(".SHARED") static HHOOK hkb=NULL; static CMyFile *pLF; #pragma data_seg() HINSTANCE hins = NULL; extern "C" LRESULT __declspec(dllexport) __stdcall CALLBACK KeyBoardHookProc( int nCode, WPARAM wParam, LPARAM lParam) { if (nCode I have craeted one EXe that loads this dll and calls install function of the hook dll. HMODULE hMod = LoadLibrary(L"hk.dll"); if(hMod!=NULL) { typedef LRESULT (__stdcall CALLBACK *_installhk)() ; _installhk installProc; installProc = (_installhk) GetProcAddress(hMod,"Install"); if(installProc!=NULL) { installProc(); } } While debugging breakpoint on KeyBoardHookProc is being hit only once when I launch the exe. The exe keeps on running unless I close it but if I enter anything else from keyboard the hook procedure not getting called. What could be the reason for this? Is this not the right way to setup global keyboard hook?
