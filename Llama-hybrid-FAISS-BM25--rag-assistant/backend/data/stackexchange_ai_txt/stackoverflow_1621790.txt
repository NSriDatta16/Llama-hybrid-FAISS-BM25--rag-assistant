[site]: stackoverflow
[post_id]: 1621790
[parent_id]: 
[tags]: 
Integration tests failing in Grails & App Engine

I am using Grails with the App Engine plugin and JPA persistence . When running grails test-app my unit tests run perfectly, but I receive the error below when the integration tests start. Is this a known issue with the app-engine plugin ? Starting integration tests ... [copy] Copying 1 file to /home/matthew/.grails/1.1.1/projects/test-gae-jpa [copy] Copying 1 file to /home/matthew/.grails/1.1.1/projects/test-gae-jpa Error executing script TestApp: null java.lang.ExceptionInInitializerError at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:169) at AppEngineGrailsPlugin$_closure1.class$(AppEngineGrailsPlugin.groovy) at AppEngineGrailsPlugin$_closure1.$get$$class$org$grails$appengine$AppEngineEntityManagerFactory(AppEngineGrailsPlugin.groovy) at AppEngineGrailsPlugin$_closure1.doCall(AppEngineGrailsPlugin.groovy:70) at AppEngineGrailsPlugin$_closure1.doCall(AppEngineGrailsPlugin.groovy) at grails.spring.BeanBuilder.invokeBeanDefiningClosure(BeanBuilder.java:651) at grails.spring.BeanBuilder.beans(BeanBuilder.java:501) at grails.spring.BeanBuilder.invokeMethod(BeanBuilder.java:447) at _GrailsBootstrap_groovy$_run_closure2_closure13.doCall(_GrailsBootstrap_groovy:86) at _GrailsBootstrap_groovy$_run_closure2_closure13.doCall(_GrailsBootstrap_groovy) at _GrailsSettings_groovy$_run_closure10.doCall(_GrailsSettings_groovy:274) at _GrailsSettings_groovy$_run_closure10.call(_GrailsSettings_groovy) at _GrailsBootstrap_groovy$_run_closure2.doCall(_GrailsBootstrap_groovy:84) at _GrailsBootstrap_groovy$_run_closure7.doCall(_GrailsBootstrap_groovy:142) at _GrailsTest_groovy$_run_closure7.doCall(_GrailsTest_groovy:249) at _GrailsTest_groovy$_run_closure7.doCall(_GrailsTest_groovy) at _GrailsTest_groovy$_run_closure1_closure19.doCall(_GrailsTest_groovy:110) at _GrailsTest_groovy$_run_closure1.doCall(_GrailsTest_groovy:96) at TestApp$_run_closure1.doCall(TestApp.groovy:66) at gant.Gant$_dispatch_closure4.doCall(Gant.groovy:324) at gant.Gant$_dispatch_closure6.doCall(Gant.groovy:334) at gant.Gant$_dispatch_closure6.doCall(Gant.groovy) at gant.Gant.withBuildListeners(Gant.groovy:344) at gant.Gant.this$2$withBuildListeners(Gant.groovy) at gant.Gant$this$2$withBuildListeners.callCurrent(Unknown Source) at gant.Gant.dispatch(Gant.groovy:334) at gant.Gant.this$2$dispatch(Gant.groovy) at gant.Gant.invokeMethod(Gant.groovy) at gant.Gant.processTargets(Gant.groovy:495) at gant.Gant.processTargets(Gant.groovy:480) at com.intellij.rt.execution.application.AppMain.main(AppMain.java:90) Caused by: java.lang.NullPointerException at org.datanucleus.jpa.EntityManagerFactoryImpl.initialisePMF(EntityManagerFactoryImpl.java:452) at org.datanucleus.jpa.EntityManagerFactoryImpl. (EntityManagerFactoryImpl.java:355) at org.datanucleus.store.appengine.jpa.DatastoreEntityManagerFactory. (DatastoreEntityManagerFactory.java:63) at org.datanucleus.store.appengine.jpa.DatastorePersistenceProvider.createEntityManagerFactory(DatastorePersistenceProvider.java:35) at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:51) at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:33) at javax.persistence.Persistence$createEntityManagerFactory.call(Unknown Source) at org.grails.appengine.AppEngineEntityManagerFactory. (AppEngineEntityManagerFactory.groovy:13) ... 32 more Process finished with exit code 1
