[site]: crossvalidated
[post_id]: 570643
[parent_id]: 570613
[tags]: 
The Kaplan-Meier curve will approximate the survival function from complete data when the censoring times are independent of failure times. To implement this, generate n censoring times from an exponential distribution, one for each participant, with a similar median survival time as seen in the complete data. For each participant, if their censoring time is less than their survival time, censor that participant's time at the censoring time generated and mark them as censored. If their generated censoring time is greater than their actual survival time, leave that participant's survival time complete (they will be recorded as having experienced an event at the actual failure time). This resource contains more details. The best way to get intuition on Kaplan-Meier estimators is to do a lot of them by hand, and get an understanding of how it works. Maybe a reasonable comparable example would be if I wanted to see what proportion of the lights in a panel of 300 light bulbs were still good. If all the bulbs were wired correctly (no censoring), I could turn the panel on, and count how many turned on (let's say that 1/3 of the bulbs are good, so 100 would turn on). Now, let's say that I knew that 1/4 of the bulbs were wired incorrectly (censored) so I could never observe the bulbs turning on regardless of whether the lights were good. In this situation, turning on the panel would show that 75 bulbs turned on. If I didn't account for censoring, and said that 300 bulbs were in the "risk set", I would conclude that 75/300 (1/4) of the bulbs were good. But, if I decided to use 225 bulbs that I knew were wired correctly as my "risk set", I would conclude that 75/225 (1/3) of the bulbs were wired correctly. This would give me the correct estimate. Here is a worked example: Let's say you have a population of 1,000 individuals, with 500 surviving to 1 month, 200 surviving to 2 months, and 100 surviving to 3 months. Time $n_i$ $d_i$ # in risk set Number Censored 0 1000 0 1000 0 1 500 500 1000 0 2 200 300 500 0 3 100 100 200 0 If there was no censoring, the Kaplan-Meier estimate at 1 month would be 500/1000 = 0.5. The estimate at 2 months would be (500/1000) * (200/500) = 200/1000 = 0.2. At 3 months, the estimate would be (500/1000) * (200/500) * (100/200) = 100 / 1000 0.1. Notice how the numerators and denominators cancel out in the case of complete data. Now, let's say that 1/2 of the participants drop out of the study at 15 days (independent of survival time). So, you have 500 people recorded as censored at 0 months. Then, on average, 250 people would be recorded as making it to 1 month, 100 people would be recorded as making it to 2 months, and 50 people would be recorded as making it to 3 months. Time $n_i$ $d_i$ # in risk set Number Censored 0 1000 0 1000 500 1 500 250 500 0 2 200 150 250 0 3 100 50 150 0 The Kaplan-Meier estimate under this censoring at 1 month would be 250/500 = 0.5. The estimate at 2 months would be (250/500) * (100/250) = 100/500 0.2, and so on.
