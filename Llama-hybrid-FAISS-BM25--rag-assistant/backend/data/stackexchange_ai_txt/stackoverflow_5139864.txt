[site]: stackoverflow
[post_id]: 5139864
[parent_id]: 
[tags]: 
CALayer not showing

In trying to make a draggable sort of CALayer ( Question on Stack Overflow here ) I tried creating a window through code and adding a CALayer to it, but I don't get why it's not showing. NSRect rect = NSZeroRect; rect.size = NSMakeSize( SSRandomFloatBetween( 300.0, 200.0 ), SSRandomFloatBetween( 300.0, 200.0 )); NSWindow *newWin = [[NSWindow alloc] initWithContentRect:rect styleMask:NSBorderlessWindowMask backing:NSWindowBackingLocationDefault defer:YES]; [newWin setBackgroundColor: [NSColor clearColor]]; [newWin setOpaque:NO]; [newWin setIgnoresMouseEvents:NO]; [newWin setMovableByWindowBackground:YES]; [newWin makeKeyAndOrderFront:self]; [[newWin contentView] setWantsLayer:YES]; NSRect contentFrame = [[newWin contentView] frame]; CALayer *newWinLayer = [CALayer layer]; newWinLayer.frame = NSRectToCGRect(contentFrame); layer.backgroundColor=CGColorCreateGenericGray(0.0f, 0.5f); layer.borderColor=CGColorCreateGenericGray(0.756f, 0.5f); layer.borderWidth=5.0; // Calculate random origin point rect.origin = SSRandomPointForSizeWithinRect( rect.size, [window frame] ); // Set the layer frame to our random rectangle. layer.frame = NSRectToCGRect(rect); layer.cornerRadius = 25.0f; [newWinLayer addSublayer:layer]; "Window" is linked to a big window, with a semi-transparent (black filled) window that is resized to fill the screen. I've made the window draggable, but why isn't the CALayer in the window showing?
