[site]: stackoverflow
[post_id]: 4635334
[parent_id]: 
[tags]: 
PHP Password storage with HMAC+nonce - Is nonce randomness important?

A few years I asked here on stackoverflow about how to make PHP password storage safe. The main answer suggests using the following hashing algorithm: function hash_password($password, $nonce) { global $site_key; return hash_hmac('sha512', $password . $nonce, $site_key); } The answer suggests using a random nonce. Is there any advantage in having a random nonce over simple unique nonces? For instance, each user can have its own ID which does not change. However, let's assume user IDs are sequential(built with MySQL's auto increment feature) and therefore not random. Would the user ID be a good nonce or is randomness important? Now, each user can pick an username. Each user has its own username which does not change, and two different users can't have the same username. Usernames are still not random, but they aren't sequential either. Would usernames be good enough as a nonce? Would it be better than using the user ID?
