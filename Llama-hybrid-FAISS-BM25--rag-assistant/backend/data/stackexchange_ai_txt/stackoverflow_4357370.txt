[site]: stackoverflow
[post_id]: 4357370
[parent_id]: 
[tags]: 
how to get selected text surrounding context in javascript in different paragraph?

hi I have a few problems: What might I get the word around the word selected, if the word before and after the selected word given limits only 20 words that surround the selected word? how to get the correct position if the word in a paragraph have the same word, for example I have a sentence like this: foo laa foo doo then I choose the word "foo" whose position is in between the words laa and doo ? how to get word from a different paragraph? for example: p1 : I like the red shirt p2: my mother did not like the red shirt the word I selected is "mother" , and I have to take 10 words around the word "mother" that is "I like the red dress" and "I do not like the red shirt." notes: question No. 2 is able to use the nextSibling and previousSibling? this is my code i try : function getElements(){ var x = document.getElementsByTagName("body"); x = x[0].innerHTML; x = x.replace(/&(lt|gt);/g, function (strMatch, p1){ return (p1 == "lt")? " ";}); var str = x.replace(/ ]+(>|$)/g, ""); var emailPattern = /[_a-zA-Z0-9\.]+@[\.a-zA-Z0-9]+\.[a-zA-Z]+/gi; var urlPattern = /[a-z]+:\/\/[^\s]+/gi; var numberOrSymbolPattern = /[0-9\.,!@#\$%\^\&*\(\)`~_\-=\+|\\{}\[\]\s:;<>\?\/]+/gi; //////alert(str); var str = str.replace(emailPattern , " "); var str = str.replace(urlPattern , " "); var str = str.replace(numberOrSymbolPattern , " "); //////alert(str); var str = str.replace(/[\n\f\r\t]/g, " "); var hilangtandabaca = str.replace(/[.!:;'",?]/g," "); var kataptg = hilangtandabaca; //alert(kataptg); var kata = new Array(); kata[0] = " is "; kata[1] = " the "; kata[3] = " of "; kata[4] = " a "; kata[5] = " or "; kata[6] = " for "; kata[7] = " from "; kata[8] = " in "; kata[9] = " this "; kata[10] = " and "; kata[11] = " on "; kata[12] = " with "; kata[13] = " my "; for(var i=0,regex; i = 0) { var strBefore = ""; var strAfter = ""; //var strOri =""; //if (index = -1) //strOri = kataptg.substr(index); //alert(strOri); if (index > 0) strBefore = kataptg.substr(0, index); //alert(strBefore); if (index About my email : a@a.a my url http://id.wikipedia.org/wiki/URL my telepon number = 081330782 okey In agriculture, the harvest is the process of gathering mature crops from the fields. Reaping is the cutting of grain or pulse for harvest, typically using a scythe, sickle, or reaper.[1] The harvest marks the end of the growing season, or the growing cycle for a particular crop, and this is the focus of seasonal celebrations of on many religions. On smaller farms with minimal mechanization, harvesting is the most labor-intensive activity of the growing season great yeah. !:;'",?
