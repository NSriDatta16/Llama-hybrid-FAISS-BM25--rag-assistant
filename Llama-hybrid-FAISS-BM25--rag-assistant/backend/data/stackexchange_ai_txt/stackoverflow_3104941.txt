[site]: stackoverflow
[post_id]: 3104941
[parent_id]: 
[tags]: 
Determining the size of deltas in TFS

Our TFSVersionControl database has grown significantly in the past couple years, and is edging on 80GB. Unfortunately, we're in an environment where every gig of data storage is internally charged at a high rate, so there's lots of focus on keeping storage growth to a minimum. I believe the majority of growth is happening because we chose to store binary files in our repository. This is something we will be remedying in the medium term. In the short-term, there are a few places where we do not need to keep a history of our binaries. Particularly in our mainline branch and our development branch, so we're looking into doing a TF Destroy on these binaries and recreating them as part of the upcoming release. What I'd like to know is: Is there any way to run a query against the TFSVersionControl database to understand which files are storing deltas that are over a given size? Ideally, what I'd like to know is for a given path (item spec), for each file, the base size, and the total size of the deltas.
