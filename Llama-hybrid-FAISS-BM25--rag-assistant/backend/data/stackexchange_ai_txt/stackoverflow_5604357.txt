[site]: stackoverflow
[post_id]: 5604357
[parent_id]: 5604084
[tags]: 
The trick is to split the text into paragraphs and write each paragraph at a time. use strict; use warnings; # slurp text my $text = do { local $/; <> }; # split into paragraphs my @paragraphs = split /\n+/, $text; # define format, including newline at the end format STDOUT = ^ Call it like this: perl /tmp/fmt.pl If you want to or have to save memory because your articles are so big, you can combine the first two steps: use strict; use warnings; # slurp text into paragraphs my @paragraphs = split /\n+/, do { local $/; <> }; # define format, including newline at the end format STDOUT = ^
