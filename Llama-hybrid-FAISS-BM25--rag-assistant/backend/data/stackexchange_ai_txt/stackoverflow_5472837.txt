[site]: stackoverflow
[post_id]: 5472837
[parent_id]: 
[tags]: 
XPATH / XSLT: Selecting a node where the parent node's attribute matches the attribute of another node

I'm trying to apply a transformation to the below XML using XPath and XSLT. John Smith Bill Atkins Some Org Another Org I'm trying to combine the author and affiliation names under one node so I'll end up with a structure like: John Smith Some Org Bill Atkins Another Org I'm struggling to find a way of selecting the value of a node who's parent node's attribute matches the value of an attribute of an another node. For example, For the author John Smith I'd like to select the value of the node where the affiliation ID's match. So far I have some code in my stylesheet like the below but I know the selection inside the node is not working. How should I select the value of the correct organisation name for the associated author? Many thanks Jim
