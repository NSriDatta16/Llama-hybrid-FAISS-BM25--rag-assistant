[site]: stackoverflow
[post_id]: 2938771
[parent_id]: 2938028
[tags]: 
If the function is a simple linear combination of pixel values in the neighborhood, such as an average, you can use CONV2 to make the convolution. There are also specialized functions, such as MEDFILT2 if you want to take the median of each sliding window. If the function you want to apply to each neighborhood is more complex, you have two options: If you have enough memory, you can transform your image into a large array such that every column corresponds to one sliding window using IM2COL . Then you apply your function to every column and reshape. If you don't have that much memory, use NLFILTER to apply the function to each sliding window. In any case, you may want to have a look at PADARRAY to pad your image before you run the convolution to avoid shrinking your image while reducing border effects.
