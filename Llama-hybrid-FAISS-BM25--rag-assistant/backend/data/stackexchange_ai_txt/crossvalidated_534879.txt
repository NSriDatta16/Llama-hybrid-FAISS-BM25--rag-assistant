[site]: crossvalidated
[post_id]: 534879
[parent_id]: 
[tags]: 
Best model for dataset with grouped data

I'm working on a recommender system for our website. Users visit the website and choose content to consume. Users tend to consume the same content at the same hour of the day and on the same day of the week. Our goal is to predict which content users will consume based on hour-of-day and day-of-week and put that content in front of them (we are not interested in recommending new content with this system). Suppose we have users labeled A, B and content labeled 1, 2, 3, 4. I've selected a prediction date (for this example: Wednesday, 2021-07-14) to build a Wednesday-specific model. The dataset is composed of "prediction groups" where each prediction group is tied to a user and a particular content they consumed at a particular hour-of-day on the prediction date. A prediction group dataset looks like this: pred_group priorContent sameDaySameHour sameDayDiffHour diffDaySameHour diffDayDiffHour contentMatch A-1-12 1 2 1 2 1 1 A-1-12 2 0 3 0 0 0 A-1-12 3 1 0 6 2 0 The prediction_group_id says that User A consumed content 1 at hour 12 of the prediction date. The rest of the first observation says that in the 14 days prior to the prediction date, user A consumed content 1 two times on Wednesday at hour 12 (sameDaySameHour), one time on Wednesday at a different hour (sameDayDiffHour), two times on a different day at hour 12 (diffDaySameHour), and one time on a different day at a different hour (diffDayDiffHour). The prior_content matches the content picked by the user so contentMatch is 1. The other two observations are similar except that prior_content doesn't match the content picked by the user so contentMatch is 0. The complete dataset is assembled by creating a prediction group dataset for each pred_group and stacking them. Here's an example for two users with four prediction groups: pred_group priorContent sameDaySameHour sameDayDiffHour diffDaySameHour diffDayDiffHour contentMatch A-1-12 1 2 1 2 1 1 A-1-12 2 0 3 0 0 0 A-1-12 3 1 0 6 2 0 A-2-20 1 0 3 1 2 0 A-2-20 2 1 2 0 0 1 A-2-20 3 0 1 1 7 0 B-1-08 1 1 7 9 8 1 B-1-08 4 1 3 5 6 0 B-3-17 1 2 6 5 12 0 B-3-17 4 0 4 2 9 0 The idea is to fit a model with same_day_same_hour, same_day_diff_hour, diff_day_same_hour, diff_day_diff_hour as predictors and content_match as the response. When a user accesses the website, we would compute predictor values for each content that the user consumed in the prior 14 days and use the model to predict which of the prior content they are most likely to consume now. What is a good way to model this data? Logistic regression seems like a natural place to start but it treats all the observations as independent. I'm looking for a model that will take advantage of the grouped nature of this dataset.
