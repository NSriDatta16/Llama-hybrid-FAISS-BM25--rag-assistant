[site]: stackoverflow
[post_id]: 3272497
[parent_id]: 3272439
[tags]: 
Don't. Instead, store both the original unparsed text and the processed parsed text. Yes, this doubles the storage requirement, but it also makes it blindingly easy to: Allow user edits of the original without parsing the BBCode back out Allow quotes of other user posts, again without parsing Change the HTML each BBCode generates (just re-parse every post) Switch BBCode engines down the line (again, just re-parse every post)
