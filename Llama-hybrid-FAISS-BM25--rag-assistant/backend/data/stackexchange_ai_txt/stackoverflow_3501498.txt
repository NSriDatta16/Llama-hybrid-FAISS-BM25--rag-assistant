[site]: stackoverflow
[post_id]: 3501498
[parent_id]: 
[tags]: 
DropDownListFor not binding on Edit View with repeating items (List )

Here is the thing. I have an Edit view, which doesnt bind the dropdowns' value when I open it. [NonAction] public List VraagType() { List l = new List (); SelectListItem a = new SelectListItem(); SelectListItem b = new SelectListItem(); a.Text = "Meerkeuze"; a.Value = "M"; b.Text = "Open"; b.Value = "O"; l.Add(a); l.Add(b); return l; } [NonAction] public List getSchalen() { return _db.EvalSchaals.ToList().ToSelectList(q => q.Sch_Naam, q => q.Sch_ID.ToString(), q => q.Sch_ID == -1).ToList(); } public ActionResult Edit(int id) { ViewData["vraagtype"] = VraagType(); ViewData["schaal"] = getSchalen(); EvalVragenBlok evb = _db.EvalVragenBloks.First(q => q.Vrbl_ID == id); List ev = _db.EvalVragens.Where(q => q.Vrbl_ID == id).ToList(); FlatEvalVragenBlok fevb = Mapper.Map (evb); fevb.Vragen = new List (); return View(fevb); } this is the code from the controller. here is the code from the Edit.aspx view Edit Fields Fields model.Vrbl_Titel) %> model.Vrbl_Titel) %> model.Vrbl_Titel) %> model.Sch_ID) %> model.Sch_ID, ViewData["schaal"] as List , "Selecteer een schaal...") %> model.Sch_ID) %> model.Vragen) %> Vraag Soort model.Vragen[i].Evvr_Vraag, new { style = "width:400px" })%> model.Vragen[i].Evvr_Vraag)%> model.Vragen[i].Evvr_Type, ViewData["vraagtype"] as List , new { style = "width:95px" })%> model.Vragen[i].Evvr_Type)%> Voeg extra keuze toe I have 2 List 's. 1 of them is in the non-repeating part of the form (Schalen), the other one (VraagType) is Inside the repeating part. for Schalen, everything works fine. i open the edit view, and all fields are filled in like it should be. the Vrbl_Titel has its value, and the dropdown of Sch_ID has the value it received from the object which i sent with the view, which came from the DB. The problem lies in the repeating part. the textbox for model.Vragen[i].Evvr_Vraag get's its value, and the dropdown for model.Vragen[i].Evvr_Type is shown, however, this dropdown does not get the value which was sent in the object. it keeps it's default standard value, which is the first item in the 'selectlist' how do i get my value from my 'Vragen' object, into the dropdown. if i put the value in a simple textbox model.Vragen[i].Evvr_Type)%> then the textbox does get the value. so the problem is that the dropdownvalue doesnt change form it's initial value... bug in MVC? just for info, this is how the object(s) look sent to the view: namespace MVC2_NASTEST.Models { public partial class FlatEvalVragenBlok { public int Vrbl_ID { get; set; } public int Sch_ID { get; set; } public string Vrbl_Titel { get; set; } public List Vragen { get; set; } } } namespace MVC2_NASTEST.Models { public partial class FlatEvalVragen { public int Evvr_ID { get; set; } public int Vrbl_ID { get; set; } public int Evvr_rang { get; set; } public string Evvr_Vraag { get; set; } public char Evvr_Type { get; set; } } }
