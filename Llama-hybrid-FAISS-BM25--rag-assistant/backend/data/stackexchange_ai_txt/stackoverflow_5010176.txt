[site]: stackoverflow
[post_id]: 5010176
[parent_id]: 5009995
[tags]: 
Stealing the structure from SiegeX and simplifying the sed program: #!/bin/bash FILES="./test1 ./test2" for name; do sed -i "s/^.*$name.*$/#&/" $FILES done The idea is that rather than using a pattern to select and then an s to edit, you use the s pattern to do both - recognise a complete line that contains the target name, and replace it with a commented-out version. You could do this more elegantly by merging the names into one big regular expression; that would let sed make one pass rather than N. That's easy enough that i leave it as an exercise to the reader ...
