[site]: stackoverflow
[post_id]: 4414192
[parent_id]: 4414042
[tags]: 
The async_write function does not copy the buffer. It passes an internal const_buffer object to deeper library functions. The const_buffer object contains an internal pointer to the actual buffer, so no deep copy is performed. You need to make sure that pck->storage remains valid until after the asynchronous handler is invoked. Note that this is certainly for the best. Copying the buffer every time would be a really big performance drain.
