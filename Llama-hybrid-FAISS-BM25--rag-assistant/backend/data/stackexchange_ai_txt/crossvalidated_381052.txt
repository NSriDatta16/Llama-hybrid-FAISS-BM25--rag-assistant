[site]: crossvalidated
[post_id]: 381052
[parent_id]: 360212
[tags]: 
Structural equation modeling relies on means and the variance covariance matrix. For ordinal data, the software will calculate polychoric correlations to try to recover the relation between the categorical indicators under the assumption that they are polychotomized realizations of continuous variables. And these continuous variables are multivariate normal. In calculating these correlations, it computes them in a pairwise manner (between every two items). This can easily result in a situation where variable A has a correlation with variable B and variable C that instantly defines limits on the possible correlation between B and C. But when the correlation between B and C is computed, it falls outside of this range. This will create a non positive definite correlation matrix with (near) zero or negative eigenvalues. You may be able to use the ridge option in lavaan to regularize the solution. This may solve this problem. Alternatively, you can use software that calculates the polychoric correlation matrix all at once (like EQS) instead of in pairwise fashion. This is less likely to lead to this problem. There are some other solutions in the literature. You could also estimate the model as a Bayesian multilevel model. An ordinal CFA is identical to the 2-PL item response theory model described in the Stan reference manual. However you lose the goodness of fit indices that are pre-programmed into SEM software.
