[site]: stackoverflow
[post_id]: 5719172
[parent_id]: 
[tags]: 
How would I make it so (if Sector[1]=="l" and BRCTerritories[1]==".":) brings up all the results in the table?

print 'Content-Type: application/vnd.google-earth.kml+xml' print 'Content-Disposition: attachment; filename=BRC_Services.kml\n' import _mssql import cgi fs = cgi.FieldStorage() BRCTerritories=str(fs['BRCTerritories'].value) Sector=str(fs['Sector'].value) if BRCTerritories[1]==".": menusearch = {"BRC_Area":BRCTerritories[0:3],"Sector":str(fs['Sector'].value)} else: menusearch = {"BRC_Territory":BRCTerritories[0:1],"Sector":str(fs['Sector'].value)} if BRCTerritories[1]=="l": menusearch = {"Sector":str(fs['Sector'].value)} if Sector[1]=="l" and BRCTerritories[1]=="-": menusearch = {"BRC_Territory":BRCTerritories[0:1]} if Sector[1]=="l" and BRCTerritories[1]==".": menusearch = {"BRC_Area":BRCTerritories[0:3]} query='SELECT * FROM dbo.Services' conn = _mssql.connect(server='gisdata', user='gisdata', password='gisdata', database='GISData') addition=1 ## KML Header kmlheader = ( ' \n' ' \n' ' \n' ' \n' ' \n' ' normal \n' ' #sn_label \n' ' \n' ' \n' ' highlight \n' ' #sh_label \n' ' \n' ' \n' ' \n' ' \n' ' 1 \n' ' \n' ' 1 http://maps.google.com/mapfiles/kml/shapes/placemark_circle.png \n' ' \n' ' \n' ' \n' ' 1 \n' ' \n' ' 2 http://maps.google.com/mapfiles/kml/shapes/placemark_circle.png \n' ' \n' ) name=" BRC Services Search Results " print kmlheader print name for term in menusearch: if addition==1: addition=0 add= ( " WHERE %s='%s'" ) %(term,menusearch[term]) else: add= ( " AND %s='%s'" ) %(term,menusearch[term]) query=query+add results = [ row for row in conn ] print " BRC Services " print " Search= " print menusearch print " " for row in results: description = ( ' %s \n' ' Postcode: %s \n' ' Sector: %s \n' ' Phone: %s \n' ' BRC_Territory: %s \n' ' BRC_Area: %s \n' ' Web: %s \n' ) %(row['Sector'],row['postcode'],row['Sector'],row['phone'],row['BRC_Territory'],row['BRC_Area'],row['web']) placemark = ( ' \n' ' %s \n' ' \n' ' #msn_label \n' ' \n' ' \n' ' ffffffff ' ' $[description] ]]> ' ' \n' ' \n' ' \n' ' %s,%s \n' ' \n' ' \n\n' ) %(row['Sector'],description,row['Lat'],row['Lon']) print placemark print " " kmlfooter = ' \n ' print kmlfooter conn.close
