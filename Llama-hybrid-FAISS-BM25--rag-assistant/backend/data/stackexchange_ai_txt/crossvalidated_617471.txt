[site]: crossvalidated
[post_id]: 617471
[parent_id]: 
[tags]: 
Average precision in in calssification vs in object detection

I think I understand what average precision is: the area under the precision-recall curve.The curve is constructed by calculating the precision and recall metrics at each threshold. There are a few methods how you actually calculate/approximate area but that is not the focus of my question. For me it was clear how AP is calculated for classification because you only have one threshold to control which is the probability value from which a given object belongs to the class. It's easy to understand from this article . But what about detection? I read some articles and I know they take the bounding boxes to account with Intersection Over Union (IOU). But now you have 2 thresholds to control, the IOU threshold and the probability threshold. In some of the articles I read they only classify the detections as TP, FP and FN considering the IOU of the boxes and then use the probability threshold to construct the precision-recall curve. This seems wrong beacuse the calssification part also effects the TP, FP and FN metrics. How to take into account both? So my question in short is how to calculate average precision for detection. But if my above assumptions regarding AP in genaral are correct the question is simplified to how the TP, FP and FN metrics get calculated in this case. (Compared to classification only)
