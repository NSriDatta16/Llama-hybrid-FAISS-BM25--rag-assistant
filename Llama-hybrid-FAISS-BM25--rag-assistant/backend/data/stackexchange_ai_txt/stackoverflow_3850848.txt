[site]: stackoverflow
[post_id]: 3850848
[parent_id]: 3849115
[tags]: 
EDIT: updated to support palette of 256 colors If you need simplest method then I would suggest histogram based approach: Calculate histograms of R/G/B channels Define 4 intensity ranges For each channel in intensity range Split histogram into 4 equal parts For each histogram part Extract most frequent value of that part Now you will have 4*4^3=256 colors palette. When assigning pixel to palette color, just calculate average intensity of pixel to see what intensity region you must use. After that just map one of those 64 colors of intensity region to pixel value. Good luck.
