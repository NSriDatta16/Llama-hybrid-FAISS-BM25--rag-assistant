[site]: stackoverflow
[post_id]: 5329129
[parent_id]: 74358
[tags]: 
This long-standing security hole has finally been fixed in version 6.00 of libwww-perl . Starting with that version, by default LWP::UserAgent verifies that HTTPS servers present a valid certificate matching the expected hostname (unless $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} is set to a false value or, for backwards compatibility if that variable is not set at all, either $ENV{HTTPS_CA_FILE} or $ENV{HTTPS_CA_DIR} is set). This can be controlled by the new ssl_opts option of LWP::UserAgent. See that link for details on how the Certificate Authority certificates are located. But be careful , the way LWP::UserAgent used to work, if you provide a ssl_opts hash to the constructor, then verify_hostname defaulted to 0 instead of 1. ( This bug was fixed in LWP 6.03.) To be safe, always specify verify_hostname => 1 in your ssl_opts . So use LWP::UserAgent 6; should be sufficient to have server certificates validated.
