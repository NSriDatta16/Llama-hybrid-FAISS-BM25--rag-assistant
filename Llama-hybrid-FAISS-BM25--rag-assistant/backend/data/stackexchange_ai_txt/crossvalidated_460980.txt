[site]: crossvalidated
[post_id]: 460980
[parent_id]: 460961
[tags]: 
I'm really curious about the estimator you are using. This estimator validity is not really clear to me. For example if you take $nPop = 100$ , $nSample = 10$ and $samplePairs = 2$ your would have $popPairs = 200 > nPop$ . I'm going to propose a slightly different approach. Consider the following random variable $X$ . You sample without repetition a pair of images, then we have $x = 1$ if the images are equal and $X = 0$ otherwise. Now we have that $X$ is Bernoulli with mean $\mu =p / (n(n-1))$ . ( $n$ is population size and $p$ number of pairs.) You can estimate $\mu$ by independently sampling pairs from your population and computing the average of observed $X$ values. Let's suppose we take $m$ random samples and compute $\hat \mu = \sum X_i / m$ . then we have $E(\hat \mu) = \mu$ and $Var(X) = \mu (1-\mu) / m$ . Finally we take $Y = n(n - 1)\hat \mu$ then $E(Y) = p$ and $Var(Y) = \frac{np}{m}(n - 1 - p/n)$ . As your can see $Y$ is a random variable with mean equal to the quantity you want. However the variance can be quite high depending on $m$ .
