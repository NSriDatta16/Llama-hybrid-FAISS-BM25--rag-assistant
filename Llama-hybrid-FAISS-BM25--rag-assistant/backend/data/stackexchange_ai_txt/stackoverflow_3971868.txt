[site]: stackoverflow
[post_id]: 3971868
[parent_id]: 
[tags]: 
Calculate average without being thrown by strays

I am trying to calculate an average without being thrown off by a small set of far off numbers (ie, 1,2,1,2,3,4,50) the single 50 will throw off the entire average. If I have a list of numbers like so: 19,20,21,21,22,30,60,60 The average is 31 The median is 30 The mode is 21 & 60 (averaged to 40.5 ) But anyone can see that the majority is in the range 19-22 (5 in, 3 out) and if you get the average of just the major range it's 20.6 (a big difference than any of the numbers above) I am thinking that you can get this like so: c+d-r Where c is the count of a numbers, d is the distinct values, and r is the range. Then you can apply this to all the possble ranges, and the highest score is the omptimal range to get an average from. For example 19,20,21,21,22 would be 5 numbers, 4 distinct values, and the range is 3 (22 - 19). If you plug this into my equation you get 5+4-3= 6 If you applied this to the entire number list it would be 8+6-41= -27 I think this works pretty good, but I have to create a huge loop to test against all possible ranges. In just my small example there are 21 possible ranges: 19-19, 19-20, 19-21, 19-22, 19-30, 19-60, 20-20, 20-21, 20-22, 20-30, 20-60, 21-21, 21-22, 21-30, 21-60, 22-22, 22-30, 22-60, 30-30, 30-60, 60-60 I am wondering if there is a more efficient way to get an average like this. Or if someone has a better algorithm all together?
