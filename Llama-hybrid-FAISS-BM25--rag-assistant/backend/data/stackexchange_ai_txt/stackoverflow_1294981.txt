[site]: stackoverflow
[post_id]: 1294981
[parent_id]: 
[tags]: 
Java DOM XML is skipping xmlns properties

I need to generate an xml file in Java, so I chose to use DOM (until there everything is ok), here is the root tag of what i need to create Here is my source code PrintWriter out = new PrintWriter(path); Document xmldoc = null; DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = factory.newDocumentBuilder(); DOMImplementation impl = builder.getDOMImplementation(); Element e = null; Node n = null; xmldoc = impl.createDocument(null, "KeyContainer", null); /* Noeuds non boucl√©s */ Element keycontainer = xmldoc.getDocumentElement(); keycontainer.setAttributeNS(null, "Version", "1.0"); keycontainer.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:ds","http://www.w3.org/2000/09/xmldsig#"); keycontainer.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xenc", "http://www.w3.org/2001/04/xmlenc#"); keycontainer.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xml", "http://www.w3.org/XML/1998/namespace"); keycontainer.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "urn:ietf:params:xml:ns:keyprov:pskc:1.0"); /* Non relevant Info*/ DOMSource domSource = new DOMSource(xmldoc); StreamResult streamResult = new StreamResult(out); TransformerFactory tf = TransformerFactory.newInstance(); Transformer serializer = tf.newTransformer(); serializer.setOutputProperty(OutputKeys.ENCODING,"utf-8"); serializer.setOutputProperty(OutputKeys.VERSION,"1.0"); serializer.setOutputProperty(OutputKeys.INDENT,"yes"); serializer.setOutputProperty(OutputKeys.STANDALONE,"yes"); serializer.transform(domSource, streamResult); And here is what I get Problem is the xmlns property is empty, and xmlns:xml is missing, what can I do to get all information ? Thanks a lot stackoverflow (PS : Got NAMESPACE_ERR if anything else than " http://www.w3.org/2000/xmlns/ " in NamespaceURI field)
