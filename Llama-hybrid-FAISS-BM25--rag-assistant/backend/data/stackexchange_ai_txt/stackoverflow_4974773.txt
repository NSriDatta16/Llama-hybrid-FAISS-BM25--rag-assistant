[site]: stackoverflow
[post_id]: 4974773
[parent_id]: 
[tags]: 
Java's PushbackReader and EOF

I am writing a parser in Java and trying to leverage Java's PushbackReader. My parser may need to backtrack if it guessed incorrectly - but once the reader reaches EOF, that fails. Let's say I am parsing a quoted String and I'm looking for the closing quotes. If any of my parser plugins can't completely finish, they try to leave the reader in the original state and pass it to the next plugin. IE: I generally push chars back onto the buffer and let the next element try to parse the buffer. Unfortunately, if I 'read' all the way to the last character ... and then read the EOF, the PushbackReader will not allow me to push anything back onto it. Consequently, my parsing can't complete since those chars are lost! Do I need to write my own reader for this type of string processing? EDIT: furthermore, when I read the last character (the one just before EOF), I can't "unread" that char either. Is there a standard workaround for this - short of creating my own stack or buffer implementation?
