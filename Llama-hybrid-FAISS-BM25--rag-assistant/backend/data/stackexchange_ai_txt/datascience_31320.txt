[site]: datascience
[post_id]: 31320
[parent_id]: 
[tags]: 
Calculate average Intersection over Union

I want to have a global IoU metric for each class in a segmentation model with a neural net. The idea is, once the net is trained, doing the forward pass over all training examples an calculate the IoU, I'm thinking in two approaches (for each class): 1) Calculate IoU for each training instance, and finally, calculate the mean IoU (per class) 2) Accumulate the intersections and unions along all the training instances, (per class) and finally taking the ratio. To illustrate the problem, let's take two training instances in which for class=0, intersection_1 = 2, intersection_2 = 3, union_1=7, union_2=6. The mean IoU (approach 1) wil be 0.3929 and the second approach will be 5/13 = 0.3846. What method do you think will give better/unbiased result?
