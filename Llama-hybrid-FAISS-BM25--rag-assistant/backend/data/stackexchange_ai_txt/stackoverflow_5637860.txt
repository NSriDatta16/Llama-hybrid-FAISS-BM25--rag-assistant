[site]: stackoverflow
[post_id]: 5637860
[parent_id]: 
[tags]: 
php script is executed multiple times per browser request

I have a virtual host in apache. I am on ubuntu 10.04 using LAMP. DocumentRoot /home/username/websites/site_folder ServerName www.site_folder.com ServerAlias site_folder.com Options Indexes FollowSymLinks MultiViews AllowOverride All Order allow,deny allow from all I added in /etc/hosts the line: 127.0.0.1 site_folder.com Inside the folder of the vhost I added a php script named one.php, having the code: when I run the script from the browser, http://localhost/one.php or site_folder.com/one.php, the logs.txt has logged the same message 3 times: 12/4/2011 this is a log post 12/4/2011 this is a log post 12/4/2011 this is a log post Using netbeans debugger I saw that that the script is actually repeated 3 times (after reaching the end of the script it continues from the start of the same script->one.php) No .htaccess exists inside the folder. What I have noticed is that the $_SERVER['REQUEST_URI'] changes a bit each execution/repetition: 1)$_SERVER['REQUEST_URI'] => /one.php?XDEBUG_SESSION_START=netbeans-xdebug 2)$_SERVER['REQUEST_URI'] => /one.php 3)$_SERVER['REQUEST_URI'] => /one.php I need to log my message only once. I added the uncommented directives from apache2.conf : ServerRoot "/etc/apache2" LockFile /var/lock/apache2/accept.lock PidFile ${APACHE_PID_FILE} Timeout 300 KeepAlive On MaxKeepAliveRequests 100 KeepAliveTimeout 15 StartServers 5 MinSpareServers 5 MaxSpareServers 10 MaxClients 150 MaxRequestsPerChild 0 StartServers 2 MinSpareThreads 25 MaxSpareThreads 75 ThreadLimit 64 ThreadsPerChild 25 MaxClients 150 MaxRequestsPerChild 0 StartServers 2 MaxClients 150 MinSpareThreads 25 MaxSpareThreads 75 ThreadLimit 64 ThreadsPerChild 25 MaxRequestsPerChild 0 User ${APACHE_RUN_USER} Group ${APACHE_RUN_GROUP} AccessFileName .htaccess Order allow,deny Deny from all Satisfy all DefaultType text/plain HostnameLookups Off ErrorLog /var/log/apache2/error.log LogLevel warn Include /etc/apache2/mods-enabled/*.load Include /etc/apache2/mods-enabled/*.conf Include /etc/apache2/httpd.conf Include /etc/apache2/ports.conf LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined LogFormat "%h %l %u %t \"%r\" %>s %O" common LogFormat "%{Referer}i -> %U" referer LogFormat "%{User-agent}i" agent CustomLog /var/log/apache2/other_vhosts_access.log vhost_combined Include /etc/apache2/conf.d/ Include /etc/apache2/sites-enabled/
