[site]: stackoverflow
[post_id]: 5427269
[parent_id]: 
[tags]: 
Identifying a random repeating pattern in a structured text string

I have a string that has the following structure: ABC_ABC_PQR_XYZ Where PQR has the structure: ABC+JKL and ABC itself is a string that can contain alphanumeric characters and a few other characters like "_", "-", "+", "." and follows no set structure: eg. qWe_rtY-asdf or pkl123 so, in effect, the string can look like this: qWe_rtY-asdf_qWe_rtY-asdf_qWe_rtY-asdf+JKL_XYZ My goal is to find out what string constitutes ABC . I was initially just using $arrString = explode("_",$string); to return $arrString[0] before I was made aware that ABC ( $arrString[0] ) itself can contain underscores, thus rendering it incorrect. My next attempt was exlpoding it on "_" anyway and then comparing each of the exploded string parts with the first string part until I get a semblance of a pattern: function getPatternABC($string) { $count = 0; $pattern =""; $arrString = explode("_", $string); foreach($arrString as $expString) { if(strcmp($expString,$arrString[0])!==0 || $count==0) { $pattern = $pattern ."_". $arrString[$count]; $count++; } else break; } return substr($pattern,1); } This works great - but I wanted to know if there was a more elegant way of doing this using regular expressions?
