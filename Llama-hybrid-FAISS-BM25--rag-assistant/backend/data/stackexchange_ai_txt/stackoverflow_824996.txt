[site]: stackoverflow
[post_id]: 824996
[parent_id]: 
[tags]: 
How to create a sortable interface with 'acts as nested set' in RubyOnRails

I've been implementing some nice interactive interfaces that can sort lists in my m rails app for models that use acts_as_list . I have a sort function that gets called and sets the position for each record afterr each drag and drop using the sortable_element script.aculo.us function. This is an example of the controller action that handles the sort after the drag and drop completes: def sort params[:documents].each_with_index do |id, index| Document.update_all(['position=?', index+1], ['id=?', id]) end end Now I am trying to do this same thing with a model that is a nested set ( acts_as_nested_set ). An example of the type of interface interaction: http://script.aculo.us/playground/test/functional/sortable_tree_test.html I am stuck on how to write the controller action to handle the sort when the drag and drop completes. I've added the :tree=>true parameter to the sortable _element function so far which appears to send a list of hashes but it seems that I am still missing information about the entire nested order.... I was certain this has been done before and didn't want to try to reinvent the wheel, but I can't seem to find any examples of the controller action view with js function setup to handle a sortable acts_as_nested_set Any help with creating an interactive sortable nested set in rubyonrails would be appreciated! Thanks, John
