[site]: stackoverflow
[post_id]: 5356250
[parent_id]: 
[tags]: 
Hibernate Criteria resulting in cartisian product not so with HSQL: Spring Template issue?

I have two entities Customer and Address . Let's say John ( Customer ) has five addresses, then the below two methods return different results import org.springframework.orm.hibernate3.HibernateTemplate; @SuppressWarnings("unchecked") public List getByNameCriteria(String firstName) { DetachedCriteria criteria = DetachedCriteria.forClass(Customer.class); criteria.add(Restrictions.eq("firstName", firstName)); return (List )hibernateTemplate.findByCriteria(criteria); } @SuppressWarnings("unchecked") public List getByNameHSQL(String firstName) { return (List ) hibernateTemplate.findByNamedParam("from Customer t where t.firstName=:firstName","firstName",firstName); } Client Code snippet List allCustomers1 = rtRep.getByNameCriteria("John"); --> returns 5 rows : with a list of addresses for each of the row List allCustomers2 = rtRep.getByNameHSQL("John"); --> returns 1 row : with a list of addresses Customer to Address is one to many association as follows @OneToMany(targetEntity=Address.class, fetch = FetchType.EAGER, mappedBy="customer" ) @Cascade (value={CascadeType.SAVE_UPDATE }) private Set addresses = new HashSet (); Question : Why is the criteria behaving wrong, it is issuing a cartesian product query where as HSQL is issues two separate queries, one for Customer and one for Address and showing the expected result. Does this have to do with: setResultTransformer, Distinct root entity issues, please clarify. Thanks
