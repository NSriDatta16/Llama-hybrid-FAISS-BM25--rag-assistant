[site]: crossvalidated
[post_id]: 569464
[parent_id]: 
[tags]: 
Regression With Multiple Groups in a Dataset

I am trying to predict grocery store sales from the number of cars in the parking lot. I have a dataset of around 400 stores, over two years, with a count of the number of cars in the lot at the same time each day, and the $ of sales that day (I have other data as well, but for the purpose of this question it does not matter). StoreID Date CarsInLot Sales$ 001 01-01-2020 100 11000 002 01-01-2020 50 25000 I can usually get good ( $R^2$ > 0.7) performance when I build a model on a single store, but I am having difficulty building models for "types" or of stores. Regression on all stores at once produces an $R^2$ of nearly zero. Regression of two similar stores together might produce an okay $R^2$ . Regression of 30 randomly selected stores together seems to also produce a poor $R^2$ . For example, suppose one store ends up with a regression equation of $Sales\$ = 10000 + 10*CarsInLot$ , and that equation performs well for that store. That same equation may (in my testing, does) perform horribly for another store. Different stores "react" differently to cars in the lot (for example, a store in a richer area may perform something like $Sales\$ = 20000 + 100*CarsInLot$ ). My end goal is to predict average monthly sales of stores not in my dataset (e.g. competitors). I do not (yet) care about forecasting into the future, just measuring in the past. Since I do not have the sales of competitors, but I have the number of cars in their lot, I need to know which equation is applicable to which store. I have tried clustering using various other information about these stores (demographic info, primarily), but regression within those clusters performed horribly ( $R^2$ near zero). Is there a method I am not aware of that allows for the discovery of groups within a dataset for the purpose of regression? Perhaps a surrogate method, wherein I try to find which of my stores is most similar (with respect to demographic information, or other things I know about all stores) to the store with unknown sales, and then using my store's regression equation for that unknown store? Maybe I just need to do a better job at clustering first, and then try regression within those clusters again?
