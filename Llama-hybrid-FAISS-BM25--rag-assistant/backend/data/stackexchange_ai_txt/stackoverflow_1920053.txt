[site]: stackoverflow
[post_id]: 1920053
[parent_id]: 
[tags]: 
What is so bad with threadlocals

Everybody in Django world seems to hate threadlocals( http://code.djangoproject.com/ticket/4280 , http://code.djangoproject.com/wiki/CookBookThreadlocalsAndUser ). I read Armin's essay on this( http://lucumr.pocoo.org/2006/7/10/why-i-cant-stand-threadlocal-and-others ), but most of it hinges on threadlocals is bad because it is inelegant. I have a scenario where theadlocals will make things significantly easier. (I have a app where people will have subdomains, so all the models need to have access to the current subdomain, and passing them from requests is not worth it, if the only problem with threadlocals is that they are inelegant, or make for brittle code.) Also a lot of Java frameworks seem to be using threadlocals a lot, so how is their case different from Python/Django 's?
