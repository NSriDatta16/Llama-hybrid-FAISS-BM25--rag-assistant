[site]: stackoverflow
[post_id]: 3480294
[parent_id]: 3480232
[tags]: 
Serialisation is your friend in this kind of thing, both on client side, and server side. I recently completed a task similar to this, without using jquery UI - my approach was to store a simple index, type and label in a json object, which was then submitted to the server for storage as a serialised object. Naturally, once you have this data, making a cached version for better performance is a breeze, and you avoid having to make a massive relational database structure which can handle this kind of dynamic openness. Hope that helps, let me know if you'd like some code examples too. e: I found the jquery json plugin invaluable for this.
