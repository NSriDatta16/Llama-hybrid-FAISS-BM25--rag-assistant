[site]: stackoverflow
[post_id]: 4320278
[parent_id]: 
[tags]: 
New to C: whats wrong with my program?

I know my way around ruby pretty well and am teaching myself C starting with a few toy programs. This one is just to calculate the average of a string of numbers I enter as an argument. #include #include main(int argc, char *argv[]) { char *token; int sum = 0; int count = 0; token = strtok(argv[1],","); while (token != NULL) { count++; sum += (int)*token; token = strtok(NULL, ","); } printf("Avg: %d", sum/count); printf("\n"); return 0; } The output is: mike@sleepycat:~/projects/cee$ ./avg 1,1 Avg: 49 Which clearly needs some adjustment. Any improvements and an explanation would be appreciated.
