[site]: stackoverflow
[post_id]: 274753
[parent_id]: 
[tags]: 
How to make weak linking work with GCC?

There seem to be 3 ways of telling GCC to weak link a symbol: __attribute__((weak_import)) __attribute__((weak)) #pragma weak symbol_name None of these work for me: #pragma weak asdf extern void asdf(void) __attribute__((weak_import, weak)); ... { if(asdf != NULL) asdf(); } I always get a link error like this: Undefined symbols: "_asdf", referenced from: _asdf$non_lazy_ptr in ccFA05kN.o ld: symbol(s) not found collect2: ld returned 1 exit status I am using GCC 4.0.1 on OS X 10.5.5. What am I doing wrong?
