[site]: stackoverflow
[post_id]: 3099401
[parent_id]: 
[tags]: 
MismatchedTokenException in HTML subset grammar

I am writing an ANTLR grammar to recognize HTML block-level elements within plain text. Here is a relevant snippet, limited to the div tag: grammar Test; blockElement : div ; div : ' ' (blockElement | TEXT)* ' ' ; D : ('d' | 'D') ; I : ('i' | 'I') ; V : ('v' | 'V') ; HTML_ATTRIBUTES : WS (~( ' ' ))+ ; TEXT : (. | '\r' | '\n') ; fragment WS : (' ' | '\t') ; The TEXT token is supposed to represent anything that is no block-level element, such as plain text or inline tags (e. g. ). When I test it on nested block elements, like: it parses them correctly. However, as soon as I add some random text, it throws a MismatchedTokenException(0!=0) right after having consumed the first TEXT token, e. g. the capital T in: This is some random text Any suggestions? Am I doing something conceptually wrong? I am using ANTLR v. 3.2 and doing the testing with ANTLRWorks v. 1.4. Thank you
