[site]: stackoverflow
[post_id]: 3402499
[parent_id]: 3402457
[tags]: 
Why do you think WSADATA should be a char [14] ? It's a struct as shown e.g. in these docs . And BTW, in the various error cases you check, you should terminate the whole function (e.g. with a return ), while what you're doing appears to be just to continue, after some message, with structures &c known to be invalid... Edit : oh I see, when you say sa_data you mean test.sa_data , and another answer explained why it's not what you expect. Leaving this answer in anyway since at least the second paragraph is pretty important (and still relevant;-).
