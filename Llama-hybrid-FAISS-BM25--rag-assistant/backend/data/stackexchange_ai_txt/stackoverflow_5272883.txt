[site]: stackoverflow
[post_id]: 5272883
[parent_id]: 
[tags]: 
I am trying to connect panasonic d-imager to open cv

I am new to OpenCV and I am trying to show the "panasonic d-imager" 3d camera on screen using OpenCV. With no success so far. I get DLL file that contains the following functions // This function connects the personal computer to the 3D Image Sensor, and sets up the system to acquire images from the sensor. InitImageDriver(); //This function obtains the image data from the camera via the USB driver, and copies the range image data and grayscale image data to the area given by the argument. kdat and ndat=Pointer of the range and grayscale image data acquiring buffer.Always secure the range image storage area using the application program. The size of the range image data storage area should be: 160’ 120 ‘2 = 38400 bytes. int WINAPI GetImageKN(unsigned short *kdat ,unsigned short *ndat); Now I just want to show two camera outputs on screen (color and grayscale). I wrote this code: #include #include #include "Dimagerdll.h" //the hader file #pragma comment(lib,"Dimagerdll.lib") // the lib file of dll using namespace std; int main(int argc, char *argv[]) { IplImage *img; unsigned short *r= new unsigned short[38400]; unsigned short *t= new unsigned short[38400]; InitImageDriver(); //dll function GetImageKN(r,t); //dll function cvNamedWindow("mainWin", CV_WINDOW_AUTOSIZE);//create a window to display the images cvMoveWindow("mainWin", 5, 5);// position the window while(1) { img=cvQueryFrame(r);// retrieve the captured frame-but here is the problem! r is unsigned short so it cant compile!!!!! cvShowImage("mainWin", img );// show the image in the window c=cvWaitKey(10); if(c == 27) break; } FreeImageDriver();//dll function return 0; } It is obvious that I can't use cvQueryFrame because the data from camera is not IplImage . Could anyone tell me what else I need to do??? thanks
