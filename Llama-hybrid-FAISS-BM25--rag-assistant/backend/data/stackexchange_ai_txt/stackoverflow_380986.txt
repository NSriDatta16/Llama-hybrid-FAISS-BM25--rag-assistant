[site]: stackoverflow
[post_id]: 380986
[parent_id]: 380612
[tags]: 
User-Agent detection code is quite old (stops at IE6) but should be easily extended. Should be combined with R. Gagnon code pointed by Filip, for better detection of real browser (some browsers allows to alter user agent string at will). You might be interested by the List of User Agent Strings too.
