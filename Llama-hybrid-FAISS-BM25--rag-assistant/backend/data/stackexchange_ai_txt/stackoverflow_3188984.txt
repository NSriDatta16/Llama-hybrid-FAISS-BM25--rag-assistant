[site]: stackoverflow
[post_id]: 3188984
[parent_id]: 3188944
[tags]: 
your problem is not the WHERE but the JOIN, you are getting an implicit conversion and a scan on the JOIN, on the WHERE condition you are getting a SEEK ON p4f.FileRelease = (af.path+'#'+cast(af.revision as varchar)) Parallelism could also be a problem, try adding MAXDOP=1 Are your statistics up to date? Is there excessive fragmentation?
