[site]: stackoverflow
[post_id]: 1782553
[parent_id]: 
[tags]: 
JQuery UI: Part of a negative margins image disappears if I animate it

I'm doing an animate with JQuery UI. I've go an icon which I want to stick out over the edge of the div, so I'm using negative margins. The animation resizes the div and changes the background color. However, when I animate the div the areas of the image outside the div (in the neg margins) disapear for the duration of the animation. I've looked into it, and it appears the problem is coming from the resize of the div, not the color change or the margin change. Eg. It's down to animating the CSS width property. I've also tried changing related CSS properties. For example, fixing the width of the image, setting display: block and using position: absolute, none of which worked. Anybody come across this problem before? The link is here: Brightwide Test NOTE: Currently in dev and not tested in IE at all. And the code is here: Act Now $(document).ready(function() { /* Act Now Page - sponsor section mousover effect */ $('#an-sponsors').hover( function () { $(this).children().children('ul').animate({backgroundColor: "#E8F0E5", webkitBoxShadow: "2px 2px 6px rgba(212,212,212,1)", MozBoxShadow: "2px 2px 6px rgba(212,212,212,1)"}, {queue:false,duration:500}); }, function () { $(this).children().children('ul').animate({backgroundColor: "#fff", webkitBoxShadow: "2px 2px 6px rgba(212,212,212,0)", MozBoxShadow: "2px 2px 6px rgba(0,0,0,0)"}, {queue:false,duration:500}); }); /* Expanding boxes */ $('.fadeThis').hover( function () { $(this).animate({backgroundColor: "#E8F0E5", marginLeft: "-1%", width: "31%", paddingBottom: "25px"}, {queue:false,duration:500}); $(this).children().children('li').animate({paddingRight:"30px"}, {queue:false,duration:500}); $(this).children().children('.alt').animate({backgroundColor: "#DAEAD3"}, {queue:false,duration:500}); $(this).children('h3').animate({backgroundColor: "#68B744"}, {queue:false,duration:500}); }, function () { $(this).animate({backgroundColor: "#fff", marginLeft: "0", width: "29%", paddingBottom: "10px"}, {queue:false,duration:500}); $(this).children().children('li').animate({paddingRight:"10px"}, {queue:false,duration:500}); $(this).children().children('.alt').animate({backgroundColor: "#f2f2f2"}, {queue:false,duration:500}); $(this).children('h3').animate({backgroundColor: "#666"}, {queue:false,duration:500}); }); $('.fadeThis2').hover( function () { $(this).animate({backgroundColor: "#E8F0E5", marginLeft: "-1%", width: "31%", paddingBottom: "25px"}, {queue:false,duration:500}); $(this).children().children('li').animate({paddingRight:"30px"}, {queue:false,duration:500}); $(this).children().children('.alt').animate({backgroundColor: "#DAEAD3"}, {queue:false,duration:500}); $(this).children('h3').animate({backgroundColor: "#68B744"}, {queue:false,duration:500}); }, function () { $(this).animate({backgroundColor: "#fff", marginLeft: "0", width: "29%", paddingBottom: "10px"}, {queue:false,duration:500}); $(this).children().children('li').animate({paddingRight:"10px"}, {queue:false,duration:500}); $(this).children().children('.alt').animate({backgroundColor: "#f2f2f2"}, {queue:false,duration:500}); $(this).children('h3').animate({backgroundColor: "#666"}, {queue:false,duration:500}); }); /* Tabs */ /* Credit: http://www.viget.com/inspire/fun-with-jquerys-animation-function/ */ var navDuration = 150; //time in miliseconds var navJumpHeight = "0.45em"; $('#tabs li').hover(function() { $(this).animate({top : "-="+navJumpHeight }, navDuration); $(this).children('a').animate({borderColor: "#DAEAD3", backgroundColor: "#E8F0E5" }, navDuration); }, function() { $(this).animate({ top : "15px" }, navDuration); $(this).children('a').animate({borderColor: "#ddd", backgroundColor: "#fff" }, navDuration); }); }); /* IDEA .. have the "act" element pulsate periodically to draw attention to itself */ /* temp */ body { background:url(assets/header.jpg) repeat-x center top #f7f7f7; margin: 180px 0 0 0; } /* end temp */ .an { max-width: 1000px; min-width: 770px; _width: 960px; margin: 0 auto; font-size: 90%; font-family: Helvetica, Arial, sans-serif; } .an ul { margin: 0; padding: 10px 0 10px 15px; } .an li { list-style: none; background: url(assets/arrow.png) no-repeat 0 7px; margin: 0; padding: 3px 0 3px 15px; } .an a { color: #0E7FC1; } .an a:hover { text-decoration: none; } #an-details { width: 58%; float: left; font-size: 95%; } #an-details p { margin: 0 0 5px 0; } #an-details .casual { margin: 10px 0 5px 0; } #an-details h1 { margin: 10px 0; font-size: 130%; padding-left: 15px; display: inline; line-height: 2; } #an-sponsors { padding-left: 40px; width: 35%; float: right; background: url(assets/divider.jpg) no-repeat; min-height: 350px; _height: 350px; } #an-sponsors ul { width: 290px; background: #fff; border: 2px solid #fff; -moz-border-radius: 5px; -webkit-border-radius: 5px; } #an-sponsor { display: block; overflow: hidden; background-repeat: no-repeat; background-position: center; text-indent: -9000px; width: 290px; } #an-film-still { float: left; margin: 0 15px 20px 0; width: 240px; } #an-description { clear: both; line-height: 1.4; } #an-description .standfirst { font-size: 120%; } #an-director span, #an-distributor span, #an-year span { font-weight: bold; padding-left: 15px; } #an-act-now { clear: both; } #an-dp { font-weight: bold; } #an-dp span { font-weight: normal; } #an-friends { clear: both; padding-top: 40px; font-size: 130%; } .fadeThis, .fadeThis2 { width: 29%; float: left; margin-right: 5%; background: #fffffff; border: 2px solid #fff; -moz-border-radius: 5px; -webkit-border-radius: 5px; -moz-box-shadow: 2px 2px 6px rgba(212,212,212,1); -webkit-box-shadow: 2px 2px 6px rgba(212,212,212,1); } .fadeThis h3, .fadeThis2 h3 { font-size: 110%; margin: 0; padding: 5px 10px; background: #666; color:#FFF; -moz-border-radius-topright: 5px; -moz-border-radius-topleft: 5px; -webkit-border-top-right-radius: 5px; -webkit-border-top-left-radius: 5px; } .fadeThis2 { margin-right: 0; } .ico { float: left; margin: -10px 10px 0 -10px; } ul.conversation li span { font-size: 80%; color: #999; display: block; } ul.conversation { list-style: none; padding: 0; margin: 0; } ul.conversation li { background-repeat: no-repeat; background-position: 10px 15px; min-height: 65px; list-style: none; padding: 10px 10px 10px 55px; margin: 0; background-image: none; } .fadeThis ul li.alt, .fadeThis2 ul li.alt { background-color: #f5f5f5; } #an-act-now form textarea { width:100%; height: 100px; } #an-share { clear: both; padding: 0; } .fadeThis, .fadeThis2 { padding-bottom: 10px; } .casual { font-family: "Sean"; color: #666; -webkit-transform: rotate(-3deg); -moz-transform: rotate(-3deg); } #an-sponsors .casual { -webkit-transform: rotate(0deg); -moz-transform: rotate(0deg); } .conversation li h4 { font-size: 100%; font-weight: normal; font-family: "Sean"; color: #666; margin: 0; } .conversation li h4 a { text-decoration: none; color: #666; } .conversation li h4 a:hover { text-decoration: underline; color: #0E7FC1; } /* nav1 */ .an #tabs { height: 3em; overflow: hidden; padding: 0; margin: 30px 0 0 0; float: left; list-style: none; position: relative; clear: both; } .an #tabs li, .an #tabs li a { position: relative; float: left; } .an #tabs li { top: 15px; margin: 0 1px 0 0; background: none; padding: 0; } .an #tabs li a { display: block; padding: 0.4em 1.1em; background: #fff; border: 1px solid #ddd; border-bottom: none !important; color: #333; text-decoration: none; height: 195px; -moz-border-radius-topright: 5px; -moz-border-radius-topleft: 5px; -webkit-border-top-right-radius: 5px; -webkit-border-top-left-radius: 5px; } You have been watching... McLibel Director: Franny Armstrong Distributor: Spanner Films Released: 1999 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam at scelerisque leo. Nullam elementum turpis id dui hendrerit eget auctor risus convallis. Aliquam erat volutpat. Curabitur cursus, eros feugiat convallis vestibulum, diam justo aliquam arcu, sed placerat ipsum est at nisi. Donec metus mauris, fermentum et vehicula vel, euismod ut sem. Ut et tortor eget elit imperdiet gravida eget ac dolor. Ut mattis purus et mi commodo sed lacinia tellus egestas. This film was supported by the lovely people at... WWF Join WWF Give WWF some money Sign a petition Don't Panic! Take Action Talk Action 1 Action 2 Action 3 Think Action 1 Action 2 Action 3 Act Action 1 Action 2 Action 3 Action 2 Action 3 Here's what your friends are saying... Twitter Joanna said... Just watched OilSpill. OMG, that is terrible. How can people do things like that? They should ban it. #brightwide at 3pm on Nov 17th Rich Quick said... Just watched OilSpill. Am so angry. Why would people behave like this? #brightwide at 3pm on Nov 17th Oli Best said... richquick I see what you mean. It's a discgrace. #brightwide at 3pm on Nov 17th Facebook Joanna said... Just watched OilSpill. OMG, that is terrible. How can people do things like that? They should ban it. #brightwide at 3pm on Nov 17th Rich Quick said... Just watched OilSpill. Am so angry. Why would people behave like this? #brightwide at 3pm on Nov 17th Oli Best said... richquick I see what you mean. It's a discgrace. #brightwide at 3pm on Nov 17th Comments Joanna said... Just watched OilSpill. OMG, that is terrible. How can people do things like that? They should ban it. #brightwide at 3pm on Nov 17th Rich Quick said... Just watched OilSpill. Am so angry. Why would people behave like this? #brightwide at 3pm on Nov 17th Oli Best said... richquick I see what you mean. It's a discgrace. #brightwide at 3pm on Nov 17th Twitter Facebook Comment Join the conversation... Say it
