[site]: stackoverflow
[post_id]: 3241202
[parent_id]: 3240084
[tags]: 
Not sure whether json_decode does everything you need. htmlspecialchars() and htmlspecialchars_decode() should do the trick for everything but the line breaks. The line breaks are kind of a pain, since the combination of linebreaks and carriage returns will depend on the browser, but I think something like this should work: $value = "your string with quotes and newlines in it."; //take cares of quotes $js_value = htmlspecialchars($value); //first line replaces an ASCII newline with a JavaScript newline $js_value = str_replace("\n",'\n',$js_value); //second line replaces an ASCII carriage return with nothing, so you don't get duplicates $js_value = str_replace("\r",'',$js_value); //reverse to convert it back to PHP $php_value = str_replace('\n',"\r\n",$js_value); $php_value = htmlspecialchars_decode($php_value); Maybe not the most elegant solution, but that's not really my specialty. ;) Also, keep in mind that newline characters will just end up like spaces in an field.
