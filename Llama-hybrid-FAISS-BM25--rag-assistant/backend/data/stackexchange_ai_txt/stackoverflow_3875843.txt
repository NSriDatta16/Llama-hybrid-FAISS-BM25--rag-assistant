[site]: stackoverflow
[post_id]: 3875843
[parent_id]: 3875785
[tags]: 
If it is leaking, you have to delete the referenced pointer first, then delete the referencing pointer. Once you delete the referencing pointer, accessing the storage of the referenced pointer would be undefined behaviour because you've just destroyed the object.
