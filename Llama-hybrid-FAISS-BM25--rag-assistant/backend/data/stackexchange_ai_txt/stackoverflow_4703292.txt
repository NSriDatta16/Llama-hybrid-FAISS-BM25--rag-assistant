[site]: stackoverflow
[post_id]: 4703292
[parent_id]: 4702512
[tags]: 
Typically servers are written using asynchronous methods async_accept async_read async_write in which case the suggested technique to shutdown all pending asynchronous operations is to stop the io_service 's event processing loop. Note that you should pay special attention to the ~io_service documentation The destruction sequence described above permits programs to simplify their resource management by using shared_ptr<>. Where an object's lifetime is tied to the lifetime of a connection (or some other sequence of asynchronous operations), a shared_ptr to the object would be bound into the handlers for all asynchronous operations associated with it. It's not obvious to me based on the limited code that you've posted where your problem is, I'd suggest posting more code or running what you have under valgrind as it will most likely expose some problems. I answered a similar question a few days ago that you might find useful
