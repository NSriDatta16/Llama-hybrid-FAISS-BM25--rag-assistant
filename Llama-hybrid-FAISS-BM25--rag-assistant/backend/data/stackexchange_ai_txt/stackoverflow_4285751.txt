[site]: stackoverflow
[post_id]: 4285751
[parent_id]: 4285597
[tags]: 
Use this code this will definitely work: -(IBAction)send{ [self callMailComposer]; } -(void)callMailComposer{ Class mailClass = (NSClassFromString(@"MFMailComposeViewController")); if (mailClass != nil) { // We must always check whether the current device is configured for sending emails if ([mailClass canSendMail]) [self displayComposerSheet]; else [self launchMailAppOnDevice]; } else { [self launchMailAppOnDevice]; } } #pragma mark - #pragma mark Compose Mail #pragma mark // Displays an email composition interface inside the application. Populates all the Mail fields. -(void)displayComposerSheet{ MFMailComposeViewController *picker = [[MFMailComposeViewController alloc] init]; picker.mailComposeDelegate = self; NSString *tosubject =@""; [picker setSubject:tosubject]; // Set up recipients [picker setCcRecipients:nil]; [picker setBccRecipients:nil]; [picker setToRecipients:nil]; [picker setMessageBody:strNewsLink isHTML:NO]; [self presentModalViewController:picker animated:YES]; if(picker) [picker release]; if(picker) picker=nil; } // Dismisses the email composition interface when users tap Cancel or Send. Proceeds to update the message field with the result of the operation. - (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error { NSString* alertMessage; // message.hidden = NO; // Notifies users about errors associated with the interface switch (result) { case MFMailComposeResultCancelled: alertMessage = @"Email composition cancelled"; break; case MFMailComposeResultSaved: alertMessage = @"Your e-mail has been saved successfully"; break; case MFMailComposeResultSent: alertMessage = @"Your email has been sent successfully"; break; case MFMailComposeResultFailed: alertMessage = @"Failed to send email"; break; default: alertMessage = @"Email Not Sent"; break; } UIAlertView* alertView = [[UIAlertView alloc] initWithTitle:@"My app name" message:alertMessage delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil]; [alertView show]; [self dismissModalViewControllerAnimated:YES]; } #pragma mark #pragma mark Workaround #pragma mark // Launches the Mail application on the device. -(void)launchMailAppOnDevice{ NSString *recipients = @"mailto:?cc=&subject="; NSString *body = @"&body="; NSString *email = [NSString stringWithFormat:@"%@%@", recipients, body]; email = [email stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]; [[UIApplication sharedApplication] openURL:[NSURL URLWithString:email]]; }
