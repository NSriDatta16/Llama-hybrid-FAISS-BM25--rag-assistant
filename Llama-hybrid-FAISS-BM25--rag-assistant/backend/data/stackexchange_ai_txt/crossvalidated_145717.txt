[site]: crossvalidated
[post_id]: 145717
[parent_id]: 145621
[tags]: 
Let $\Omega$ be the set of sequences of partial sums of the dice rolls (with each sequence beginning at $0$). For any integer $n$, let $E_n$ be the event that $n$ appears in a sequence; that is, $$E_n = \{\omega\in\Omega\,|\, n \in \omega\}.$$ Define $X_M(\omega)$ to be the first value in $\omega$ that equals or exceeds $M$. The question asks for properties of $X_M-M$. We can obtain the exact distribution of $X_M$ , and from that everything follows. First, notice that $X_M(\omega) - M \in \{0, 1, 2, 3, 4, 5\}$. By partitioning the event $X_M - M = k$ according to the immediately preceding value in $\omega$, and letting $p(i) = 1/6$ be the probability of observing face $i$ on one roll of the die ($i=1, 2, 3, 4, 5, 6$), it follows that $$\Pr(X_M - M = k) = \sum_{j=k}^6 \Pr(E_{M+k-j}) p(j) = \frac{1}{6} \sum_{j=k}^6 \Pr(E_{M+k-j}).$$ At this point we could argue heuristically that, to a very good approximation for all but the smallest $M$, $$\Pr(E_i) \approx 2/7.$$ This is because the expected value of a roll is $(1+2+3+4+5+6)/6 = 7/2$ and its reciprocal should be the limiting, stable long-run frequency of any particular value in $\omega$. A rigorous way to demonstrate this considers how $E_i$ could occur. Either $E_{i-1}$ occurs and the subsequent roll was a $1$; or $E_{i-2}$ occurs and the subsequent roll was a $2$; or ... or $E_{i-6}$ occurs and the subsequent roll was a $6$. This is an exhaustive partition of the possibilities, whence $$\Pr(E_i) = \sum_{j=1}^6 \Pr(E_{i-j}) p(j) = \frac{1}{6} \sum_{j=1}^6 \Pr(E_{i-j}).$$ The initial values of this sequence are $$\Pr(E_0) = 1;\quad \Pr(E_{-i}) = 0, i = 1, 2, 3, \ldots .$$ This plot of $\Pr(E_i)$ against $i$ shows how rapidly the chances settle down to a constant $2/7$, shown by the horizontal dotted line. There is a standard theory of such recursive sequences. It can be developed by means of generating functions, Markov chains, or even algebraic manipulation. The general result is that a closed-form formula for $\Pr(E_i)$ exists. It will be a linear combination of a constant and the $i^\text{th}$ powers of roots of the polynomial $$x^6 - p(1) x^5 - p(2) x^4 - p(3) x^3 \cdots - p(6) = x^6 - (x^5 + x^4+x^3+x^2+x+1)/6.$$ The largest magnitude of these roots is approximately $\exp(-0.314368)$. In a double precision floating point representation, $\exp(-36.05)$ is essentially zero. Therefore, for $i \gg -36.05 / -0.314368 = 115$, we may completely ignore all but the constant. This constant is $2/7$. Consequently, for $M = 300 \gg 115$, for all practical purposes we may take $E_{M+k-j} = 2/7$, whence $$\Pr(X_M - M = (0,1,2,3,4,5)) = \left(\frac{2}{7}\right)\left(\frac{1}{6}\right)(6,5,4,3,2,1).$$ Computing the mean and variance of this distribution is straightforward and easy. Here is an R simulation to confirm these conclusions. It generates almost 100,000 sequences through $M+5 = 305$, tabulates the values of $X_{300} - 300$, and applies a $\chi^2$ test to assess whether the results are consistent with the foregoing. The p-value (in this case) of $0.1367$ is large enough to indicate they are consistent. M = M+5] omega[omega
