[site]: stackoverflow
[post_id]: 4714344
[parent_id]: 
[tags]: 
MySQL: Optimizing UPDATE of many rows in a large table

The table is organized using a nested set model . When I'm inserting something I need to move everything with left/right values > destination to the left. UPDATE projects SET rgt = rgt + 2 WHERE rgt >= @superRgt; This query can take a couple of seconds to complete, which is not acceptable. My question is; how can this query be optimized? is it possible to .. Normalize/defragment/reorder the physical layout of the table? Create better indexes? Just be smarter and avoid the problem? We're using Innodb table, and already have indexes on left, right and left/right. The table has ~100k rows.
