[site]: stackoverflow
[post_id]: 4918472
[parent_id]: 4918244
[tags]: 
Here's how I would do it: my $string = 'How to Format - put returns between paragraphs - for linebreak add 2 spaces at end - _italic_ or **bold** - indent code by 4 spaces - backtick escapes `like _so_` - quote by placing > at start of line - to make links [foo](http://foo.com)'; if ($string =~ /escape/) { # Count the number of newlines before the match. # Add 1 to make the first line 1 instead of 0. my $line = 1 + substr($string, 0, $-[0]) =~ tr/\n//; print "found at line $line\n"; } This avoids doing any work counting lines unless the string is actually found. It uses the @- variable to find out where the match started, and then uses tr to count newlines.
