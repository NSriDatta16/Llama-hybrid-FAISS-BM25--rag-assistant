[site]: stackoverflow
[post_id]: 5544709
[parent_id]: 5544269
[tags]: 
You were close. Using a multi-statement table-valued function requires the return table to be specified and populated in the function: CREATE FUNCTION [dbo].[age](@set varchar(10)) RETURNS @Players TABLE ( -- Put the players table definition here ) AS BEGIN IF (@set = 'tall') INSERT INTO @Players SELECT * from player where height > 180 ELSE IF (@set = 'average') INSERT INTO @Players SELECT * from player where height >= 155 and height I would recommend using an inline TVF as Richard's answer demonstrates. It can infer the table return from your statement. Note also that a multi-statement and inline TVFs are really quite different. An inline TVF is less of a black-box to the optimizer and more like a parametrized view in terms of the optimizer being able to rearrange things with other tables and views in the same execution plan.
