[site]: stackoverflow
[post_id]: 340389
[parent_id]: 340376
[tags]: 
The following formulas allow you to track averages just from stored average and count, as you requested. currentScore = (currentScore * currentCount + newValue) / (currentCount + 1) currentCount = currentCount + 1 This relies on the fact that your average is currently your sum divided by the count. So you simply multiply count by average to get the sum, add your new value and divide by (count+1), then increase count. So, let's say you have the data {7,9,11,1,12} and the only thing you're keeping is the average and count. As each number is added, you get: +--------+-------+----------------------+----------------------+ | Number | Count | Actual average | Calculated average | +--------+-------+----------------------+----------------------+ | 7 | 1 | (7)/1 = 7 | (0 * 0 + 7) / 1 = 7 | | 9 | 2 | (7+9)/2 = 8 | (7 * 1 + 9) / 2 = 8 | | 11 | 3 | (7+9+11)/3 = 9 | (8 * 2 + 11) / 3 = 9 | | 1 | 4 | (7+9+11+1)/4 = 7 | (9 * 3 + 1) / 4 = 7 | | 12 | 5 | (7+9+11+1+12)/5 = 8 | (7 * 4 + 12) / 5 = 8 | +--------+-------+----------------------+----------------------+
