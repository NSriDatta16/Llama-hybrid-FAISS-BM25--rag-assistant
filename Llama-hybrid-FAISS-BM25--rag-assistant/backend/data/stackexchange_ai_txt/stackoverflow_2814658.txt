[site]: stackoverflow
[post_id]: 2814658
[parent_id]: 2787493
[tags]: 
Here is a function that can be used to send files directly to the browser. $fileName : the path+name of the file that needs to be sent to the browser $downloadName : this is the name (no path needed) of the file that the user sees in it's download (is not necessarly the same as $filename function sendFileDirectlyToBrowser($downloadName, $fileName) { if (! file_exists($fileName)) { throw new Exception('file does not exist!'); } $pathInfo = pathinfo($fileName); //list with mime-types http://en.wikipedia.org/wiki/Mime_type#List_of_common_media_types switch (strtolower($pathInfo['extension'])) { case 'csv': header("Content-type: test/csv"); break; case 'doc': case 'docx': header("Content-type: application/msword"); break; case 'gif': header("Content-type: image/gif"); break; case 'jpg': case 'jpeg': header("Content-type: image/jpeg"); break; case 'png': header("Content-type: image/png"); break; case 'pdf': header("Content-type: application/pdf"); break; case 'tiff': header("Content-type: image/tiff"); break; case 'txt': header("Content-type: text/plain"); break; case 'zip': header("Content-type: application/zip"); break; case 'xls': case 'xlsx': if(!(strpos($HTTP_USER_AGENT,'MSIE') === false)) { header("Content-type:application/x-msdownload"); } else { header("Content-type:application/vnd.ms-excel "); } break; } header('Content-Disposition:attachment;filename="' . $downloadName . '"'); print file_get_contents($fileName); }
