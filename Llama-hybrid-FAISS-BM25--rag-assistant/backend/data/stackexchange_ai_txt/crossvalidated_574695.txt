[site]: crossvalidated
[post_id]: 574695
[parent_id]: 574573
[tags]: 
The difference of ATT vs ATE has been discussed in previous posts, such as this one. The short answer is that the ATE is the (average) treatment effect on the population, while the ATT is the (average) treatment effect on those treated. I have recently looked into the application of propensity score matching techniques in survival analysis. Two interesting papers I found are ' Austin, P. C. (2014). The use of propensity score methods with survival or time‐to‐event outcomes: reporting measures of effect similar to those used in randomized experiments. Statistics in medicine, 33(7), 1242-1258 ' and ' Austin, P. C., & Fine, J. P. (2019). Propensity‐score matching with competing risks in survival analysis. Statistics in medicine, 38(5), 751-777 '. I also found related worked examples here and here in the supplementary material. My intuitive understanding is that you can use IPTWs directly as you did if the treatment of interest is given at a unique time and, as usual, all the key variables are accounted for. The issue with a time-varying treatment is that a standard propensity score model would not ensure that the matched control units/individuals survive at least up to the time their treated pairs are treated. Since treatment is endogenous to survival (you can't be treated if your are not alive), they outcome of this model may be biased. This may not be your case though, depending on the data.
