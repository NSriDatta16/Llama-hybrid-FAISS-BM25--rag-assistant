[site]: stackoverflow
[post_id]: 2357311
[parent_id]: 2357097
[tags]: 
You can make an auto-correcting guess, as long as there are sufficient operations that each can be timed individually and each take roughly the same amount of time. Start out with a guess and multiply by the number of operations to perform. Measure the time of the next operation and add that to a list. Make a new guess by taking the average of the times in this list and multiply that by the number of operations left. Your guess will get more accurate as you get more timing samples. And your progress bar will always reach 100% (+/- a wee bit). Taking the median instead of the average is better, it eliminates outliers due to sudden activity on your machine by other processes. And you'll want to throw out old measurements in the list, keeping only 10 to 20 is enough. Keep more samples if the operation time is more variable.
