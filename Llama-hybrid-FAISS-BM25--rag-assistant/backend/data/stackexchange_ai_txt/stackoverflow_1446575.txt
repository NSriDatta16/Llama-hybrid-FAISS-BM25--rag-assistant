[site]: stackoverflow
[post_id]: 1446575
[parent_id]: 1375627
[tags]: 
To mark a class add a colon to the existing class name and put the marker. If I had a class: public class PageTools Marked, it would look like public class PageTools : IRequiresSessionState or with both interfaces, public class PageTools : IRequiresSessionState, IHttpHandler . In my case, my class needed only to be marked with the first. My handler needed both. If you right click on the marker you just typed in, you can choose implement from the menu (visual studio) and the necessary methods will be added to your class. Or you can look them up and add them manually. Once you have the IRequiresSessionState marker you can test to see if the session state is readonly and if so set a new http handler. if (context.Handler is IReadOnlySessionState || context.Handler is IRequiresSessionState) { context.Handler = Handler(); } The http handler: MSDN will tell you a lot about HttpHandlers and HttpModules. In my case I needed a dummy handler so that I could access the session state when it was normally read only ( Page_PreInit ). So in my class I added this: protected IHttpHandler Handler() { MyHttpHandler resourceHttpHandler = HttpContext.Current.Handler as MyHttpHandler; if (resourceHttpHandler != null) // set the original handler back { return resourceHttpHandler.OriginalHandler; } // at this point session state should be available return HttpContext.Current.Handler; } public class MyHttpHandler : IHttpHandler, IRequiresSessionState { internal readonly IHttpHandler OriginalHandler; public MyHttpHandler(IHttpHandler originalHandler) { OriginalHandler = originalHandler; } public void ProcessRequest(HttpContext context) { // do not worry, ProcessRequest() will not be called, // but let's be safe throw new InvalidOperationException( "MyHttpHandler cannot process requests."); } public bool IsReusable { // IsReusable must be set to false since class has a member! get { return false; } } } Here is a reference to a very elegant HttpModule class from which I got much or what I used. I hope this helps someone.
