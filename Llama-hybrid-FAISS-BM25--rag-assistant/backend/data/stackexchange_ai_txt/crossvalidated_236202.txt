[site]: crossvalidated
[post_id]: 236202
[parent_id]: 
[tags]: 
Partly truncated and not truncated data

In some places 100 km races stop to count time if a certain time limit has been passed, for example 15 hours. It is difficult, respective, not possible to distinguish which finisher or site was affected by the limit. If I want compare groups, for example, gender or nationality, how I have to cope with that? One idea I had was censoring finisher who passed 15 hours. Any better idea? Thanks Update 1: Clarification of the problem Let's assume there are 5 races A,B,C,D and E with each of them have between 200 and 1000 finishers, various nationalities, age, and male and female. In A and B only the participants have been recorded who had equal or less than 15 hours. All other participants in A and B who had more than 15 hours were not recorded and we don't know how many there are. If I want to study the effect of gender, nationality and age with regression, for example male would be overestimate if there are much more male than female in A and B and much more female than male in C, D and E (the races without time limit). Update 2: Example lm with TRUE, REAL,CUTTED Update 3: Example with truncreg, stls(truncSP), crch In the following I simulate data (TRUE), truncated it (REAL) and processed it removing all observation > 15 from REAL (CUTTED): With TRUE data (all participant, also the one who are discharged by the organisation, this is my gold standard) With REAL data (participants are removed from the dataset, truncated) With CUTTED data (trimmed, only participants with hours With this datasets I performed ols (lm, see code below): TRUE/lm REAL/lm CUTTED/lm Using packages dedicated to truncated data, the following regression have been performed using the REAL dataset: CUTTED/truncreg CUTTED/stls (truncSP/stls) CUTTED/trch Results : TRUE/lm ................................. -0.973 REAL/lm .................................. -1.597 CUTTED/lm ............................. -0.216 CUTTED/truncreg .................. -0.735 CUTTED/stls (truncSP/stls)... -0.828 CUTTED/trch .......................... -0.735 REAL/lm overestimated the true paramater $\beta$, CUTTED/lm underestimated as expected. CUTTED/truncreg and CUTTED/trch give identical results and underestimated true parameter. Also CUTTED/stls underestimated true parameter but less than the other two. stls does not compute standard errors (se). se can be computed changing parameter covar = FALSE to TRUE but performance is bad. Code for simulating data and computing estimates: library("ggplot2") seed(1234) # Let's assume an effet in gender (female need 1 hour more than male for 100 km) beta participants with > 15 are removed/unknown/truncate df0$remove 15 & runif(nrow(df0)) > 0.1, 1,remove)) df0$remove 15 & runif(nrow(df0)) > 0.9, 1,remove)) # Truncate participants affected by rule (produce "REAL" data) df1 # --- Regressions library("truncSP") library("truncreg") library("crch") # "TRUE/lm" data and lm round(summary(lm(hours ~ gender, data=df0))$coef,3) Estimate Std. Error t value Pr(>|t|) (Intercept) 15.997 0.031 509.274 0 genderm -0.973 0.038 -25.294 0 # "REAL/lm" data and lm round(summary(lm(hours ~ gender, data=df1))$coef,3) Estimate Std. Error t value Pr(>|t|) (Intercept) 15.972 0.03 536.894 0 genderm -1.597 0.04 -39.522 0 # "CUTTED/lm" Only runs with hours |t|) (Intercept) 14.426 0.047 309.917 0 genderm -0.216 0.050 -4.306 0 # "CUTTED/truncreg" Only runs with hours |t|) (Intercept) 15.727 0.257 61.200 0 genderm -0.735 0.184 -4.002 0 sigma 0.986 0.061 16.114 0 # "CUTTED/stls" Only runs with hours |t|) (Intercept) 15.720 NA NA NA genderm -0.828 NA NA NA # "CUTTED/trch" Only runs with hours |z|) (Intercept) 15.727 0.257 61.200 0 genderm -0.735 0.184 -4.002 0
