[site]: stackoverflow
[post_id]: 5130669
[parent_id]: 5130575
[tags]: 
Now that you've edited, it all becomes clear. The literal '#' character in the URL is interpreted as the end of the query string and the start of the fragment, so your script is getting just "search.php?query=". Use %23 instead. See http://en.wikipedia.org/wiki/Percent_encoding for details.
