[site]: stackoverflow
[post_id]: 1839498
[parent_id]: 
[tags]: 
Masking sensitive information when logging from IClientMessageInspector

I'm using WCF (.NET 3.5) to communicate with a server using SOAP. When running in debug mode, I use System.ServiceMode.Dispatcher.IClientMessageInspector and log4Net to log the request content. public object BeforeSendRequest(ref Message request, IClientChannel channel) { log.Debug(request); } My difficulty is that sometimes the SOAP message contains authentication information that I must mask before writing to the logs e.g. in the following example I would like to log the password element as ********** http://service.soap.host.com/credentials MyUsername MyPassword I'm able to achieve this in a crude way using regular expression matching on the output of request.ToString() but I wonder if there's a more elegant and efficient approach that will allow me to modify the value of the password element before converting the message to a string.
