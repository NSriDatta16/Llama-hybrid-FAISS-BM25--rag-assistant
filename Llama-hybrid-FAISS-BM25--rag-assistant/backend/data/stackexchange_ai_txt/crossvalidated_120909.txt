[site]: crossvalidated
[post_id]: 120909
[parent_id]: 
[tags]: 
with two EWMA means of different window sizes, can we estimate any other means? slopes? jumps?

EWMA is defined as follows( 1 , 2 , 3 , 4 , 5 ): $$ \mu_{N} = \frac {1}{N} \Sigma_{i=1}^{N}x_i $$ $$ =\frac {1}{N} \Sigma_{i=1}^{N-1}x_i + \frac{1}{N}x_{N} $$ $$ =\frac {N-1}{N} \frac{1}{N-1} \Sigma_{i=1}^{N-1}x_i + \frac{1}{N}x_{N} $$ $$ =\frac {N-1}{N} \mu_{N-1}+ \frac{1}{N}x_{N} $$ at which point the following assumption is made: $$ \mu_{N} = \mu_{N-1} $$ the general form is simplified using $\lambda $ to a more canonical EWMA by performing the following substitution: $$ \frac {1}{N} = \lambda $$ and $$ \frac {N-1}{N} = 1-\lambda $$ yielding: $$\mu_{n} = \left( 1- \lambda\right) \mu_{n-1} + \lambda \cdot x_{i} $$ And now one can, for the cost of a location to store the historic value and a few multiplications, have a recursive estimate of an updated mean given the input of a single point. This is definition - it is what is done ( 6 , 7 ). One set of formalists use it in process control, others in investing. Those who use it in the stock market are more likely, in my personal opinion, to be using voodoo than those who use it for process control. My question is - what if I need to construct a different, arbitrary window size mean at a moments notice? Can I use two of these EWMA creatures to make any EWMA value? I think that I can, but I was hoping that the amazing and bright folks on CrossValidated might tell me where I made any mistake, or at least my thinking can use improvement. If I modify the previous derivation, given here that $k$ is less than $N$, as follows: $$ \mu_{N} = \frac {1}{N} \Sigma_{i=1}^{N}x_i $$ $$ =\frac {1}{N} \Sigma_{i=1}^{N-k}x_i + \frac{1}{N}\Sigma_{N-k+1}^{N}x_{i} $$ $$ =\frac {N-k}{N} \frac{1}{N-k} \Sigma_{i=1}^{N-1}x_i + \frac {k}{N} \frac{1}{k} \Sigma_{i=N-k+1}^{N}x_i $$ $$ =\frac {N-k}{N} \mu_{N-k}+ \frac{k}{N} \mu_{k} $$ Similar substitution applies here, but subscript helps assert that the two parameters are not necessarily the same number: $$ \frac {1}{N} = \lambda_{2} $$ and $$ \frac {N-1}{N} = 1-\lambda_{2} $$ yielding: $$\mu_{n} = \left( 1- \lambda _{2}\right) \mu_{n-k} + \lambda_{2} \cdot \mu_{k} $$ From this expression I infer that I can construct a longer period EWMA average as a sum of two shorter ones, or that I can construct a shorter period EWMA as the difference of two longer ones. Note that while each of the $\mu$ values is determined as a function of time, the updated and allegedly arbitrary window size is computed across $ \mu $ values. It seems to suggest that, with two of these, I can make many (or any) of these. While neat, it feels wrong to think that with two window-sizes (aka two weight values) I can infer the EWMA for (m)any window-size (or weight value). Question list: How does the assumption that $\mu_{N}=\mu_{N-1} $ cause errors in the sums? Where does this approach break down in the "real" world? Has anyone tried this? Has this been done somewhere (outside of stock-chart analysis) with rigor? If so, can you provide references? Does some special form of noise limit the span of the sum? UPDATE: Slopes are defined as: $\frac {dy}{dx} = \lim_{a \to 0} \frac{f(x+a)-f(a)}{(x+a)-a} $ Using discrete sampling, where the $a$ cannot get all the way to zero, this can be approximated as: $$\frac {dy}{dx} = \frac{\Delta y}{\Delta x} $$ But the $\Delta y$ can be approximated as a difference of two averages as: $$\Delta y = \bar{y_2} - \bar{y_1} = EWMA_2-EWMA_1 $$ If I know the window size, and I make sure to align the offset of center values (not the leading values) so that the $\bar{y_1}$ and $\bar{y_2}$ are the best estimate of the mean at $\bar{x_2}$ and $\bar{x_1}$ then can I express the slope as: $$\frac {dy}{dx} \approx \frac {EWMA_2 - EWMA_1} {\bar{x_2}-\bar{x_1} }$$ As long as the window-size is appropriate to the characteristic scale of change of the underlying curves, should this have too much error? Questions, comments, and suggestions are all solicited. Thanks in advance.
