[site]: stackoverflow
[post_id]: 1605814
[parent_id]: 
[tags]: 
ASP.NET MVC - Using cURL or similar to perform requests in application

I'm building an application in ASP.NET MVC (using C#) and I would like to know how I can perform calls like curl http://www.mywebsite.com/clients_list.xml inside my controller Basically I would like to build a kind of REST API to perform actions such as show edit and delete, such as Twitter API. But unfortunately until now I didn't find anything besides that cURL for windows on this website: http://curl.haxx.se/ So I don't know if is there any traditional way to retrieve this kind of call from URL with methods like post delete and put on the requests, etc... I just would like to know an easy way to perform commands like curl inside my controller on my ASP.NET MVC Application. UPDATE: Hi so I managed to make GET Requests but now I'm having a serious problem in retrieve POST Request for example, I'm using the update status API from Twitter that in curl would work like this: curl -u user:password -d "status=playing with cURL and the Twitter API" http://twitter.com/statuses/update.xml but on my ASP.NET MVC application I'm doing like this inside my custom function: string responseText = String.Empty; HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://twitter.com/statuses/update.xml"); request.Method = "POST"; request.Credentials = new NetworkCredential("username", "password"); request.Headers.Add("status", "Tweeting from ASP.NET MVC C#"); HttpWebResponse response = (HttpWebResponse)request.GetResponse(); using (StreamReader sr = new StreamReader(response.GetResponseStream())) { responseText = sr.ReadToEnd(); } return responseText; Now the problem is that this request is returning 403 Forbidden, I really don't know why if it works perfectly on curl :\ UPDATE: I finally manage to get it working, but probably there's a way to make it cleaner and beautiful, as I'm new on C# I'll need more knowledge to do it, the way the POST params are passed makes me very confused because is a lot of code to just pass params. Well, I've created a Gist - http://gist.github.com/215900 , so everybody feel free to revise it as you will. Thanks for your help çağdaş also follow the code here: public string TwitterCurl() { //PREVENT RESPONSE 417 - EXPECTATION FAILED System.Net.ServicePointManager.Expect100Continue = false; HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://twitter.com/statuses/update.xml"); request.Method = "POST"; request.Credentials = new NetworkCredential("twitterUsername", "twitterPassword"); //DECLARE POST PARAMS string headerVars = String.Format("status={0}", "Tweeting from ASP.NET MVC C#"); request.ContentLength = headerVars.Length; //SEND INFORMATION using (StreamWriter streamWriter = new StreamWriter(request.GetRequestStream(), ASCIIEncoding.ASCII)) { streamWriter.Write(headerVars); streamWriter.Close(); } //RETRIEVE RESPONSE string responseText = String.Empty; using (StreamReader sr = new StreamReader(request.GetResponse().GetResponseStream())) { responseText = sr.ReadToEnd(); } return responseText; /* //I'M NOT SURE WHAT THIS IS FOR request.Timeout = 500000; request.ContentType = "application/x-www-form-urlencoded"; request.UserAgent = "Custom Twitter Agent"; #if USE_PROXY request.Proxy = new WebProxy("http://localhost:3000", false); #endif */ }
