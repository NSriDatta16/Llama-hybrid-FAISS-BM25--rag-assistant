[site]: stackoverflow
[post_id]: 4939645
[parent_id]: 4939415
[tags]: 
You may need to rethink your data structures. The way you have them currently setup, it will be rather difficult to create an efficient search. If I understand what you are looking for the following code should get you the result you desire: private Set filter(MetadatRetrievalDTO[] data, Map filter) { Set rtnIdSet = new HashSet(); for (MetadatRetrievalDTO dto : data) { rtnIdSet.add(dto.getArticleId()); } Set filterSet = new HashSet(); for (String key : filter.keySet()) { filterSet.clear(); String value = filter.get(key); for (MetadatRetrievalDTO dto : data) { if (key.equals(dto.getMetadataName()) && value.equals(dto.getMetadataValue())) { filterSet.add(dto.getArticleId()); } } rtnIdSet.retainAll(filterSet); } return rtnIdSet; } Is this optimized? No. Does it return an Array of the DTO's? No. However, it does return a list of the article ids which match your filter criteria. You can easily extend it to return a list of the dtos if you desire.
