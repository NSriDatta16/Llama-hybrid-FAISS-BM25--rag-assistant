[site]: stackoverflow
[post_id]: 1692303
[parent_id]: 1692160
[tags]: 
That file algorithm will work, but it's not optimal. I would think that using 2 or 3 character "segments" would be better for performance - especially when you start considering doing backups. For example: d:\storage\fo\ob\ar\foobar.txt or d:\storage\foo\bar\foobar.txt There are some benefits to using this sort of algorithm: No database access is necessary. Files will be spread out across many directories. If you don't spread them out, you'll hit severe performance problems. (I vaguely recall hearing about someone having issues at ~40,000 files in a single folder, but I'm not confident in that number.) There's no need to search for a file. You can figure out exactly where a file will be from the file name. Simplicity. You can very easily port this algorithm to just about any language. There are some down-sides to this too: Many directories may lead to slow backups. Imagine doing recursive diffs on these directories. Scalability. What happens when you run out of disk space and need to add more storage? Your file names cannot contain spaces.
