[site]: stackoverflow
[post_id]: 4261393
[parent_id]: 
[tags]: 
Operations with time lapses

Let me explain the situation I have two tables: -One is to store the equipment faults, with their own Start Date and End Date. -Other to store the breaks, each break have a Start Date and End Date. For example the fault begin at 9:10 and finish at 9:16. The break begin at 9:14 and finish at 9:18, The fault time is 4 minutes And 2 minutes of the fault don't count because ocurred on a break. I need get the "2 minutes" value to include it in a report To calculate it, I use a Scalar-valued Function: DECLARE @Time int; SET @Time = 0; IF (@BreakStartDate > @FaultStartDate) AND (@BreakEndDate @BreakStartDate) AND (@FaultEndDate @BreakStartDate) AND (@FaultEndDate @BreakEndDate) AND ((@FaultStartDate > @BreakStartDate) AND (@FaultStartDate I need to validate all scenarios, if the fault start first and finish on the break, etc... My question is, exist a function that do this automatically? or a more elegant solution?
