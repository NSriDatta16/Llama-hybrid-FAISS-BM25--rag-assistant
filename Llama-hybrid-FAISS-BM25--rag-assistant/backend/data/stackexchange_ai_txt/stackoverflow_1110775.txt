[site]: stackoverflow
[post_id]: 1110775
[parent_id]: 
[tags]: 
Removing duplicates from array before saving

I periodically fetch the latest tweets with a certain hashtag and save them locally. In order to prevent saving duplicates, I use the method below. Unfortunately, it does not seem to be working... so what's wrong with this code: def remove_duplicates before = @tweets.size @tweets.delete_if {|tweet| !((Tweet.all :conditions => { :twitter_id => tweet.twitter_id}).empty?) } duplicates = before - @tweets.size puts "#{duplicates} duplicates found" end Where @tweets is an array of Tweet objects fetched from twitter. I'd appreciate any solution that works and especially one that might be more elegant...
