[site]: stackoverflow
[post_id]: 3266480
[parent_id]: 3266443
[tags]: 
Do not use shared_ptr or scoped_ptr to hold pointers to dynamically allocated arrays. shared_ptr and scoped_ptr use delete ptr; to clean-up when the pointer is no longer referenced/goes out of scope, which invoked undefined behaviour on a dynamically allocated array. Instead, use shared_array or scoped_array, which correctly use delete[] ptr; when destructing. To answer your question, if you are not going to pass the smart pointer around, use scoped_array , as it has less overhead than shared_array . Alternatively, use std::vector as the array storage (vectors have guaranteed contiguous memory allocation).
