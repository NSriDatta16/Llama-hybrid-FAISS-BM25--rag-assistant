[site]: crossvalidated
[post_id]: 204270
[parent_id]: 162249
[tags]: 
You've got two options, I think. Bootstrap Generate 100 synthetic data-sets by sampling with replacement from the original data-set. Run the knn regression over each new data-set and sort the point predictions. The confidence interval is just the distance between the 5th and 95th point prediction. Pseudo-Residuals Basically you either use a pooled variance estimator (if you have multiple observations at the same $x$) or pseudo-residuals to get an estimate of the variance. Assuming homoskedastic and normal error you can use the t-distribution such that: $ \bar y_i \pm t(h,\alpha) \frac{\sigma}{\sqrt{n_i}}$ Where $\bar y$ is the average predicted, $h = \frac{n-2}{n}$ is the degrees of freedome of the t-distribution and $n_i$ is the number of points in the neighborhood. You can read more about it here
