[site]: stackoverflow
[post_id]: 4154924
[parent_id]: 
[tags]: 
Changing the Diagonals of a Matrix with Mathematica

Is there an elegant way to change the diagonals of a matrix to a new list of values, the equivalent of Band with SparseArray? Say I have the following matrix (see below) (mat = Array[Subscript[a, ##] &, {4, 4}]) // MatrixForm and I'd like to change the main diagonal to the following to get "new mat" (see below) newMainDiagList = Flatten@Array[Subscript[new, ##] &, {1, 4}] I know it is easy to change the main diagonal to a given value using ReplacePart. For example: ReplacePart[mat, {i_, i_} -> 0] I'd also like not to be restricted to the main diagonal (in the same way that Band is not so restricted with SparseArray) (The method I use at the moment is the following!) (Normal@SparseArray[Band[{1, 1}] -> newMainDiagList] + ReplacePart[mat, {i_, i_} -> 0]) // MatrixForm (Desired Output is 'new mat')
