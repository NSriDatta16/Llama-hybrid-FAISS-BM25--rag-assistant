[site]: crossvalidated
[post_id]: 458220
[parent_id]: 458051
[tags]: 
First of all consider the basic rules for kronecker products $$(A+B)\otimes C = A \otimes C+ B \otimes D$$ $$A\otimes (B+C) = A \otimes B+ A \otimes C$$ Also realize that the matrices $$\iota_T \iota_T^\top /T = \iota_T (\iota_T^\top \iota_T)^{-1}\iota_T^\top := P_T$$ $$\iota_H \iota_H^\top /H = \iota_H (\iota_H^\top \iota_H)^{-1}\iota_H^\top := P_H$$ are well known projection matrices that takes the average of respectively a $T \times 1$ and $H \times 1$ vector returns a vector of the same dimension with each coordinate being the average, hence $$P_T v = \{(1/T)\sum_{t=1}^T v_t\} \iota_T.$$ It follows that $$E_T \otimes E_H = (I_T - P_T) \otimes (I_H - P_H)$$ and using the rules for the kronecker product it follows that $$E_T \otimes E_H = I_T \otimes I_H - I_T \otimes P_H - P_T \otimes I_H + P_T \otimes P_H$$ each of the summand corresponds to an element in the scalar transformation $y_{ht} - \bar y_{.t} - \bar y_{h.} + \bar y_{..}$ . To see this first note that $I_T \otimes I_H = I_{TH}$ and therefore the $(h,t)$ component of $(I_T \otimes I_H)y$ is simply $y_{ht}$ which is the first part of the scalar operation. Secondly $I_T \otimes P_H$ creates a block diagonal matrix with each block $P_H$ and with $T$ blocks. Multiplying this matrix with $y$ applies $P_H$ to each time segment $(y_{1t},...,y_{Ht})^\top$ in $y$ hence taking the average $\bar y_{.t}:=(1/H)\sum_h y_{ht}$ . The matrix $P_T \otimes I_H$ is for me harder to describe but still by writing out a small version it is easy to convince oneself that it simply computes the average $\bar y_{h.}:=(1/T)\sum_t y_{ht}$ . Because the observations in $y$ are order with $h$ being the fast index, this means selecting the h'th element of $y$ then jumping $H$ spots and selecting the $h + H$ components etc. All elements of $P_T$ are simply $1/T$ and post-kronecker multiplying with $I_H$ seperates the $1/T$ entries with a lot of zeroes such that the right observations in $y$ are selected. The last matrix is also easy because $(P_T \otimes P_H) = ((1/T) \iota_T\iota_T^\top \otimes (1/H) \iota_H\iota_H^\top)$ which is simply some scalars (1/T) and (1/H) that we can pull outside the kronecker product to get $(1/(HT))(\iota_T\iota_T^\top \otimes \iota_H\iota_H^\top)$ which is simply a $HT \times HT$ matrix of 1's multiplied with the scaler $1/(HT)$ and this is offcourse $P_{HT}$ so $(P_T \otimes P_H) y=P_{HT} y = \bar y_{..} = \frac{1}{NT} \sum_h \sum_t y_{ht}$ the final part of the scalar operation. For a nice article on the kronecker product properties see this article
