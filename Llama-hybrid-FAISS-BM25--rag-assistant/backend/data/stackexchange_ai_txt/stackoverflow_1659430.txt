[site]: stackoverflow
[post_id]: 1659430
[parent_id]: 1638219
[tags]: 
One solution is to implement haystacks . This is what Facebook does for photos, as the meta-data and random-reads required to fetch a file is quite high, and offers no value for a data store. Haystack presents a generic HTTP-based object store containing needles that map to stored opaque objects. Storing photos as needles in the haystack eliminates the metadata overhead by aggregating hundreds of thousands of images in a single haystack store file. This keeps the metadata overhead very small and allows us to store each needle’s location in the store file in an in-memory index. This allows retrieval of an image’s data in a minimal number of I/O operations, eliminating all unnecessary metadata overhead.
