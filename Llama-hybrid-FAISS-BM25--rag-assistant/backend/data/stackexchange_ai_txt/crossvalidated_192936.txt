[site]: crossvalidated
[post_id]: 192936
[parent_id]: 190504
[tags]: 
I don't see the need for making the switchpoint a random variable in this case, as you know when the treatment is happening. You could instead treat this as a kind of paired T-test, with each observed data point being the post-switchpoint average of each user minus the pre-switchpoint average of the user (these windows you will need to determine). The distribution of these changes will have millions of observed values. You could do something like Krushke's BEST version of the T-Test, but I would just look at that distribution of differences and see if it's centered around 0. You may want to be on the lookout for a mixture distribution as it could imply there was an effect on a subgroup. Ideally, treatment would be randomized and you could compare against the change of non-treated, but that may not be possible. I like the switchpoint method as well, but I'm just not convinced it's the right tool for this problem.
