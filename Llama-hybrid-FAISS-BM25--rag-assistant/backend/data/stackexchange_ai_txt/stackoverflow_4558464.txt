[site]: stackoverflow
[post_id]: 4558464
[parent_id]: 4558069
[tags]: 
Assuming you mean median and not average. Also assuming you are working with fairly large double[], or memory wouldn't be an issue for sorting a copy and performing an exact median. ... With minimal additional memory overhead you could probably run a O(n) algorithm that would get in the ballpark. I'd try this and see how accurate it is. Two passes. First pass find the min and max. Create a set of buckets that represent evenly spaced number ranges between the min and max. Make a second pass and "count" how many numbers fall in each bin. You should then be able to make a reasonable estimate of the median. Using 1000 buckets would only cost 4k if you use int[] to store the buckets. The math should be fast. The only question is accuracy, and I think you should be able to tune the number of buckets to get in the error range for your data sets. I'm sure someone with a better math/stats background than I could provide a precise size to get the error range you are looking for.
