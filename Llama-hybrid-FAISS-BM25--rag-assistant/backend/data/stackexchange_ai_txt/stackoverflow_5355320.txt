[site]: stackoverflow
[post_id]: 5355320
[parent_id]: 
[tags]: 
Strange redirecting problem when attempting to login using curl

Trying to login using curl on this site: http://www.indianvideogamer.com . This is my complete script: $ref = "http://www.indianvideogamer.com/" ; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,"http://www.indianvideogamer.com/forums/index.php?app=core&amp;module=global&amp;section=login&amp;do=process") ; // Target site curl_setopt ($ch, CURLOPT_COOKIEFILE, "C:/cookie2-techenclave.txt"); curl_setopt($ch, CURLOPT_COOKIEJAR, "C:/cookie2-techenclave.txt"); curl_setopt($ch, CURLOPT_REFERER, $ref); curl_setopt($ch, CURLOPT_TIMEOUT, CURL_TIMEOUT); // Timeout curl_setopt($ch, CURLOPT_USERAGENT, WEBBOT_NAME); curl_setopt ($ch, CURLOPT_POST, 1); curl_setopt ($ch, CURLOPT_POSTFIELDS, "referer=http://www.indianvideogamer.com/forums/index.php&username=cute.bandar&password=mypass"); // curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE); // Follow redirects curl_setopt($ch, CURLOPT_MAXREDIRS, 4); // Limit redirections to four curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE); // Return in string $webpage['FILE'] = curl_exec($ch); curl_close($ch); echo $webpage['FILE'] ; the result of running this script on localhost/script.php is that instead of echoing the page it redirects to http://www.localhost/script.php . Why ?
