[site]: stackoverflow
[post_id]: 275570
[parent_id]: 275562
[tags]: 
I think your original storage schema is flawed. You're looking at it from the perspective of the clock, hence ClockAction. Why not from the Project's perspective? TABLE ProjectAction (Projectid, Userid, Type, Start, End) Then a simple GROUP BY should do the trick.
