[site]: stackoverflow
[post_id]: 4547780
[parent_id]: 4545153
[tags]: 
For a computer program, 2 seconds is an awfully long time and a lot of allocations/deallocations can happen in that time that don't get logged if the main program crashes. A better alternative would be to log information about every allocation and deallocation to some persistent storage (a file for example). This might result in a huge amount of data being logged, so you should only enable/activate the feature when debugging a potentially memory-related problem, but it has the advantage that a core dump does not cause you to lose that much information (at most one buffer worth, if you are using buffered IO) and you can let some off-line analysis tools loose on the logs to locate potential problems for you (or just to filter out the majority of obviously correct allocation/deallocation pairs).
