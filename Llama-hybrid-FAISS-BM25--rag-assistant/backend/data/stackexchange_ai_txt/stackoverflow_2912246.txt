[site]: stackoverflow
[post_id]: 2912246
[parent_id]: 2908322
[tags]: 
I figured out a work-around for this. The core of this problem is that the uncovered code in the main file (fizzbuzz-game.pl) is not included in the coverage report, hence the overall percentage is wrong. The underlying problem is that substantial logic resides in the main file instead of testable modules. This is a smell (don't know which, but I'm pretty sure there is a name for "lots of logic in main()"). By getting rid of this smell, eg. moving all substatial code from bin/fizzbuzz-game.pl to lib/FizzBuzzGame.pm, the code can theoretically be tested, and can definitively be included in the test run. The coverage report after this becomes: ----------------------------------- ------ ------ ------ ------ ------ ------ File stmt bran cond sub time total ----------------------------------- ------ ------ ------ ------ ------ ------ lib/FizzBuzz.pm 100.0 100.0 n/a 100.0 0.0 100.0 lib/FizzBuzzGame.pm 75.0 n/a n/a 75.0 100.0 75.0 Total 87.5 100.0 n/a 83.3 100.0 88.9 ----------------------------------- ------ ------ ------ ------ ------ ------
