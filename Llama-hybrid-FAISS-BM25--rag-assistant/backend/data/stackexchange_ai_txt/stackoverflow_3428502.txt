[site]: stackoverflow
[post_id]: 3428502
[parent_id]: 
[tags]: 
Getting jQuery to work with another library (XML parsing)

We are using jQuery to generate an XML fragment and then convert it to a string using the html() function. But as we just found out, and if anyone doesn't know, the html() JavaScript function as implemented in IE is broken, broken, broken. Basically, it capitalizes some tags, adds attributes to others "helpfully" (in our case, ), and generally doesn't do the Right Thing. I would like to use something like this to generate the XML string instead: http://www.stainlessvision.com/jquery-html-vs-innerxhtml However, this library won't play nicely with jQuery out of the box, e.g.: var $dummyRoot = $(' '); // since html() doesn't generate the outer element var $foo = $(' '); var $font = $(' '); $foo.append($font); $dummyRoot.append($foo); var $s = innerXHTML($dummyRoot); // I think it wants a more W3C DOM-ish object. How can I get jQuery to talk to this innerXHTML() function; or, alternatively, is there another function I can use (maybe something built into jQuery or a jQuery plugin))? Edit: Follow up for DDaviesBrackett's question. I also have a "body" element in my XML; look how it picks up CSS styling (and not just a element). Is there an unwritten rule to not generate XML inside the DOM whose elements have names like body, font, head, etc.? var $dummyRoot = $(' '); var $foo = $(' '); var $body = $(' '); var $font = $(' '); $body.append($font); $foo.append($body); $dummyRoot.append($foo); var $s = innerXHTML($dummyRoot[0]); // $s equals " "
