[site]: stackoverflow
[post_id]: 5553130
[parent_id]: 5553055
[tags]: 
Since mechanize includes nokogiri you can should skip hpricot altogether. It will slow your code down unnecessarily. You are effectively doing the same thing twice. require 'mechanize' query = gets.chomp agent = Mechanize.new page = agent.get("http://www.google.co.il/") search_form = page.form_with(:name => "f") search_form.field_with(:name => "q").value = query.to_s search_results = agent.submit(search_form) puts search_results.links[16].href
