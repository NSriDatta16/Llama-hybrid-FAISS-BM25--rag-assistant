[site]: stackoverflow
[post_id]: 2095173
[parent_id]: 2094380
[tags]: 
Below is the best I can do: phantom nodes and edges help. But I can't seem to encourage a particular ordering in the transverse direction (the other direction from rankdir). digraph G { ranksep=0.3; size="6.0,6.0"; rankdir=TB; node [fontsize=11]; subgraph clusterA { X2 [shape=box]; label = "A"; color=blue; node [style=filled]; /* force 1, 6, and 7 to be at the top together, add enough phantoms to keep things in nice columns */ { node [style="invis", label=""]; phantom3; phantom4; phantom5; phantom6; } rank = same; 1 -> 2 -> 3 -> X2 -> 5; edge [style="invis"]; 6 -> phantom3 -> phantom5; 7 -> phantom4 -> phantom6; } subgraph clusterB { node [style=filled]; label = "B"; color=blue; /* create an invisible phantom node to take up space */ { node [style="invis",label=""]; phantom1; phantom1b; } { rank=same; 11; phantom1; } 10 -> 11 -> 12 -> 8 -> 13 -> 14; 12 -> 9; phantom1 -> 9 -> phantom1b [style="invis"]; } /* force X1 to be at the same vertical pos as 10 (this yields a warning though) */ { rank = same; X1 [shape=box]; 10; } 6 -> X1; X1 -> 10 [weight=0.5]; subgraph clusterC { label = "C"; phantom2 [style="invis", label=""]; node [shape=box]; edge [style="invis"]; X3 -> phantom2 -> X4; } 9 -> X3 [weight=0.5]; { edge [weight=20]; 14 -> X4 -> 3; 3 -> X4 -> 14 [style="invis"]; /* add a reverse path so graphviz doesn't force 14 above X4 above 3 */ } { edge [dir="both", weight=20]; 8 -> X3 -> 7; 7 -> X3 -> 8 [style="invis"]; edge [style="invis"]; X4 -> phantom6; 1 -> phantom2; 8 -> phantom2; } }
