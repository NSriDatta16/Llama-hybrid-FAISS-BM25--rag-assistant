[site]: stackoverflow
[post_id]: 5014208
[parent_id]: 
[tags]: 
Changed Parallel.ForEach Behaviour?

I have a report building class that uses parallel processing to build a batch of 800 or so reports. Until yesterday it was working fine with the following code: Parallel.ForEach(reports, report => { this.Build(report); }); Note: for debug purposes I'm exceuting the code from a test written in a test project. Yesterday, it started failing. A bit of digging with Resource Monitor showed that the thread count associated with qtagent32.exe (the test runner) was ever increasing, and eventually caused the process to fail. It looked like something had suddenly become blocking. I was able to fix the issue with a small change to my code: Parallel.ForEach(reports, new ParallelOptions { MaxDegreeOfParallelism = 4 }, report => { this.Build(report); }); But I'm still left wondering what changed?
