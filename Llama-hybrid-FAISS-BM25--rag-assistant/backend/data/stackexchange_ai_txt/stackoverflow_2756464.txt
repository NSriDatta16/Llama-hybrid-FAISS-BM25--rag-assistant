[site]: stackoverflow
[post_id]: 2756464
[parent_id]: 2756273
[tags]: 
It's actually a bit of both. Per fragment operations should happen after the fragment program as you can see in this OpenGL ES 2.0 pipeline diagram . However, many modern graphic cards have an early z test that discards fragments earlier as long as you don't write to the depth in the fragment shader. Here is a paper from AMD/ATI that talks about such tests . I remember reading that the spec allows early tests as long as doing them before the shader produces the same result as doing them after, which is why you wouldn't want to modify the depth or discard a fragment in the shader. This thread on OpenGL forums has some interesting discussion about it.
