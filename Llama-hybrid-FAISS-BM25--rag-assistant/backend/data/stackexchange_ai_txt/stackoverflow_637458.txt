[site]: stackoverflow
[post_id]: 637458
[parent_id]: 635277
[tags]: 
RAID 5 on your NAS? That's your killer. An INSERT is logged: it writes to the .LDF (log) file. This file is 100% write (well, close enough). This huge write to read ratio generates a lot of extra writes per disk in RAID 5. I have an article in work (add later): RAID 5 writes 4 times as much per disk than RAID 10 in 100% write situations. Solutions You need to split your data and log files for your database at least. Edit: Clarified this line: The log files need go to RAID 1 or RAID 10 drives. It's not so important for data (.MDF) files. Log files are 100% write so benefit from RAID 1 or RAID 10. There are other potential isues too such as fragmented file system or many Vlog segments (depending on how your database has grown), but I'd say your main issue is RAID 5. For a 3TB DB, I'd also stuff as much RAM as possible in (32GB if Windows Advanced/Enterprise) and set PAE/AWE etc. This will mitigate some disk issues but only for data caching. Fill factor 85 or 90 is the usual rule of thumb. If your inserts are wide and not strictly monotonic (eg int IDENTITY column) then you'll have lots of page splits with anything higher. I'm not the only one who does not like RAID 5: BAARF Edit again: Look for " Write-Ahead Logging (WAL) Protocol " in this SQL Server 2000 article. It's still relevant: it explains why the log file is important. I can't find my article on how RAID 5 suffers compared to RAID 10 under 100% write loads. Finally, SQL Server does I/O in 64k chunks: so format NTFS with 64k clusters.
