[site]: stackoverflow
[post_id]: 3010461
[parent_id]: 3010245
[tags]: 
I would focus attention on why you are running out of heap space, or rather why your program gets an OOM error when 6 connections have been open for some time. Your server should be able to scale to at least many more simultaneous concurrent connections, but it's hard to quantify that number without getting more details about your environment, HW, etc. You've only posted the main method for your server so it's hard to tell if there are memory leaks, resource leaks, etc. that might be causing you to run out of heap space. Are you running your server with the default heap settings? If so, you might want to try increasing your heap size, as the defaults are quite conservative. Romain is correct: you should be closing your stream resources in a try { ... } finally { ... } block to make sure you are not leaking resources. Lastly, you might want to consider passing the backlog parameter to the ServerSocket constructor . This specifies the maximum queue size for incoming connections to that ServerSocket, after which any new connections are refused. But first you still need to figure out why your server cannot handle more than 6 connections.
