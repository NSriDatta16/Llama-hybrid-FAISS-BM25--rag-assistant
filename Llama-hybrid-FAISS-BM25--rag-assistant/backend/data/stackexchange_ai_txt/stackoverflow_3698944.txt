[site]: stackoverflow
[post_id]: 3698944
[parent_id]: 3697961
[tags]: 
As others have mentioned, using a static variable here is a bad idea. I will elaborate a bit on the error however: In C, variables with static storage duration (global variables and static variables) are initialized before program startup. This therefore requires that the initial values be known ahead of time and must be compile-time constants. It's a bit different in C++, and perhaps this is the behavior you're expecting. Variables with static storage duration there may be initialized dynamically. For global variables, this means in some unspecified order during program startup; for static variables within functions, this means that they are initialized when the function is first executed.
