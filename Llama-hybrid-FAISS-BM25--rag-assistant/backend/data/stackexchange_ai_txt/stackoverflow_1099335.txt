[site]: stackoverflow
[post_id]: 1099335
[parent_id]: 1098825
[tags]: 
Just for fun: IEnumerable result = qry .SelectMany(i => i.Organs, (i, o) => new {i, o}) .GroupBy(x => x.o, x => x.i} .Where(kvp => organs.Contains(kvp.Key)) .Select(kvp => kvp.Value) .Aggregate( (z, x) => z.Intersect(x) ); With a haiku comment: //unpack image hi-archy //group images by organ //filter to the list //use the groups' values //intersect all of those
