[site]: datascience
[post_id]: 88542
[parent_id]: 32427
[tags]: 
You can look at this article. Helmreich, James & Pruzek, Robert. (2008). PSAgraphics: An R Package to Support Propensity Score Analysis. Journal of Statistical Software. 29. 10.18637/jss.v029.i06. In section three, they show an example of how you can estimate propensity scores and stratify the data based on them. There is also a good example in Valliant, Dever and Kreuter's book (2013) titled Practical Tools for Designing and Weighting Survey Samples in section "Adjustment for nonresponse". An important piece of advice they give is to set minbucket to 50 to assure that each class is not too small if you are going to use the propensity scores in weighting. This is done using the control option e.g., control=rpart.control(minbucket=50, cp=0).
