[site]: stackoverflow
[post_id]: 113709
[parent_id]: 113696
[tags]: 
Creating a Domain Specific Language, then compile that into the code for each of the target languages that you are using would be the best solution (and most elegant). Its not difficult to make a DSL - wither embed it in something (like inside Ruby since its the 'in' thing right now, or another language like LISP/Haskell...), or create a grammar from scratch (use Antlr?). It seems like the project is large, then this path is worth your while.
