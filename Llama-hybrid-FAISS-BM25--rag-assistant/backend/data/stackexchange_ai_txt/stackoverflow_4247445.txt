[site]: stackoverflow
[post_id]: 4247445
[parent_id]: 4247336
[tags]: 
I fail to see the benefit in Storage being polymorphic. Anyway, note that the iterator doesn't have to polymorphic at all. It just has to use virtual methods from the Storage class for it's functionality. These methods can be then easily overridden in the descendants (creating desired functionality).
