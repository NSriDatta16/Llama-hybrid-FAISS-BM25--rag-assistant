[site]: crossvalidated
[post_id]: 418831
[parent_id]: 
[tags]: 
Derivation of posterior for Bayesian hierarchical models

In Bayesian hierarchical models, the following posterior is used: $$p(\theta,\phi|y)\propto p(y|\theta)p(\theta|\phi)p(\phi)$$ I'm trying to derive this myself but when I use Bayes' rule, I get the following. $$p(\theta,\phi|y)=\frac{p(y|\theta,\phi)p(\theta|\phi)p(\phi)}{p(y)}$$ Are we asserting that $p(y|\theta,\phi)=p(y|\theta)$ during the derivation or is there something that I am missing? I tried looking into this myself but I was only able to find a derivation on Wikipedia that goes like this: $$p(\theta,\phi|y) =\frac{p(y|\theta,\phi)p(\theta,\phi)}{p(y)} =\frac{p(y|\theta)p(\theta|\phi)p(\phi)}{p(y)}$$ Here it seems that they claim $p(y|\theta,\phi)p(\theta,\phi)=p(y|\theta)p(\theta|\phi)p(\phi)$ . Is this true or is something else going on?
