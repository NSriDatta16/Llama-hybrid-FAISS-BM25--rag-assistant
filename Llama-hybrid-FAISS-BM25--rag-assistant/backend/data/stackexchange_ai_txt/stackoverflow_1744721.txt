[site]: stackoverflow
[post_id]: 1744721
[parent_id]: 
[tags]: 
Browser fails to cache SWF file

I am having an issue with the browser not caching a SWF file. I have the following in my apache configuration: ExpiresByType application/x-shockwave-flash "access plus 2 months" I can see the headers coming back from the original request for the SWF look like this (the expires header looks like it's being set properly): Request: User-Agent Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.5; en-US; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 Accept HTTP Accept=text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Encoding gzip,deflate Cookie auth_token= Response: Server Apache/2.2.8 (Ubuntu) PHP/5.2.4-2ubuntu5.5 with Suhosin-Patch proxy_html/3.0.0 mod_ssl/2.2.8 OpenSSL/0.9.8g Phusion_Passenger/2.2.5 Last-Modified Sat, 14 Nov 2009 04:48:19 GMT Etag "49384-4784d7c3c8ac0" Accept-Ranges bytes Content-Length 299908 Cache-Control max-age=5184000 Expires Fri, 15 Jan 2010 20:25:42 GMT Content-Type application/x-shockwave-flash However, on subsequent loads of the page, the browser still sends If-Range requests for the SWF as follows: Request: User-Agent Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.5; en-US; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 Accept HTTP Accept=text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Encoding gzip,deflate Cookie auth_token= Range bytes=0- If-Range "49384-4784d7c3c8ac0" Response: Server Apache/2.2.8 (Ubuntu) PHP/5.2.4-2ubuntu5.5 with Suhosin-Patch proxy_html/3.0.0 mod_ssl/2.2.8 OpenSSL/0.9.8g Phusion_Passenger/2.2.5 Last-Modified Sat, 14 Nov 2009 04:48:19 GMT Etag "49384-4784d7c3c8ac0" Accept-Ranges bytes Content-Length 299908 Cache-Control max-age=5184000 Expires Fri, 15 Jan 2010 20:25:45 GMT Content-Range bytes 0-299907/299908 Content-Type application/x-shockwave-flash These subsequent requests appear to be sending the Etag in the If-Range header, and are getting 206 responses with the entire content. I've tried setting apache up to unset the Accept-Ranges header and Etags, but the browser will re-request the file in either cases. Has anyone seen anything like this before and know what to do to get the SWF to cache? Thanks!
