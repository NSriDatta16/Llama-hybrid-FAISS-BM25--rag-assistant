[site]: stackoverflow
[post_id]: 5555988
[parent_id]: 5555868
[tags]: 
Just checked bytecode.. the fragment is the following, and it is in the middle of the two printf : SIPUSH 10000 ANEWARRAY java/lang/Integer ASTORE 1 So it does actually allocate the array dinamically, and freeMemory should return a different value. Since it doesn't do so, I guess it is really platform/version dependent like it has already been pointed out. For example, on my machine it actually changes: Free memory: 81915960 Free memory: 81353824 Just another guess: maybe it depends on the initial heap size parameter of the JVM, so that if the JVM starts with enough heap already ready to be used it doesn't need to allocate it before a certain threshold (it is the -Xms setting, you could trying increasing or decreasing it to see if something changes).
