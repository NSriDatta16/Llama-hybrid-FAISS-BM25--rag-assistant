[site]: stackoverflow
[post_id]: 1556141
[parent_id]: 1545619
[tags]: 
Since the intent is to annotate the output os an existing program, any possible interleaving of the two streams must be correct. The original developer will have placed appropriate flush() calls to ensure any mandatory ordering is honoured. As previously explained, record each fragment that is written with a time stamp, and use this to recover the sequence actually seen by the output devices.
