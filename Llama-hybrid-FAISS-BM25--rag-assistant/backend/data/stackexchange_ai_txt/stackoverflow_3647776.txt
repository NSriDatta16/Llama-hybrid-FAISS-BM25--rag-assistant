[site]: stackoverflow
[post_id]: 3647776
[parent_id]: 
[tags]: 
help with setup of .htaccess file redirects

I need help configuring my .htaccess file to handle redirects properly. Hereâ€™s what I need to have happen. Stackoverflow's spam filter wouldn't allow me to post the full domain. So where I say "DOMAIN" you can substitue "domain.com". (I also needed to add and extra t to the http.) Requests for the DOMAIN/page version of the file should be redirected to www.DOMAIN/page . Requests for the 'friendly' versions of the URLS should be allowed. So a file that is really at www.DOMAIN/index.php?q=37 should be viewable by going to www.DOMAIN/latest-news I have a big list of 301 redirects. We recently changed the site from an .asp based CMS to one written in PHP. Example: redirect 301 /overview.asp http://www.DOMAIN/overview Items 1 and 2 are working fine. However for item 3, if I put in a browser request for " http://www.DOMAIN/overview.asp " instead of redirecting to the friendly name of the file (" http://www.DOMAIN/overview ") it will redirect to http://www.DOMAIN/index.php?q=overview.asp . This is the problem. What do I need to change to get this working right? My configuration is below: ## Fix Apache internal dummy connections from breaking [(site_url)] cache RewriteCond %{HTTP_USER_AGENT} ^.*internal\ dummy\ connection.*$ [NC] RewriteRule .* - [F,L] ## Exclude /assets and /manager directories and images from rewrite rules RewriteRule ^(manager|assets)/*$ - [L] RewriteRule \.(jpg|jpeg|png|gif|ico)$ - [L] ## For Friendly URLs RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php?q=$1 [L,QSA] RewriteEngine On RewriteCond %{HTTP_HOST} ^domain\.com$ [NC] RewriteRule ^(.*)$ http://www.DOMAIN/$1 [R=301,L] redirect 301 /overview.asp http://www.DOMAIN/overview redirect 301 /news.asp http://www.DOMAIN/news # ETC.... thanks!
