[site]: stackoverflow
[post_id]: 4847385
[parent_id]: 
[tags]: 
Counting Matches of Strings As Well as Determine Which Sentence Matches Can Be Found In

I'm doing this in Perl. I have a text file that contains several paragraphs and 61 sentences. First, I need to match a series of words that are input on the command line, which I have no trouble at all doing: my $input = $ARGV[0]; $file =~ m/$input/gi; Unfortunately, there are some wrinkles- 1. The input can be for multiple items and 2. The multiple items can be on different lines. I will show you an example: 3 sentences match the pattern "fall|election|2009". The sentences are: 4: "We hate elections." 16: "The dog was injured in a fall from the balcony." 24: "There will be no 2009 fall election." In this case, the program found counted three sentences within the document that contained either fall, election or 2009, where fall|election|2009 was the input. My question is twofold: How do I count the number of sentences that the inputs appear in? I'm very unexperienced with regex, but I would have thought that the default match would try to match the first occurrence of either fall, election, or 2009 that occurred within the file and neither count how many instances there were of each individual word and then add them up. I'm kind of hung up on this, as I don't understand counting with regex at all. The second part of my question relates to how to first find which sentence the input is found in (i.e. elections appearing in line 4) and how to extract the whole sentence that the input is located in. I think this would be done using first an if: if there is a match within the string to the input then a new scalar equals the text file =~ a substitution? of the sentence... I'm totally unsure. Edit: I actually have a fully parsed HTML document that I am performing this on. If printed, the output of one example is: "The Journal is now on Facebook! Check out our page here. It's a work in progress, and we're hungry for your feedback. So let us know what you think on our discussion board, comment below or send us an email. Get breaking news, insider information and curiosities by following The Journal on Twitter. Here are some feeds and writers you might want to follow:" My command line looks like this: perl WebScan.pl information|writers WebPage000.htm I have, as aforementioned parsed through the webpage and removed all tags, leaving just text. Now, I have to find the input, which in this case is "information" or "writers". I have to find out how many times these occur within the text of the file (so 2), as well as in which sentence they appear in (so 5 and 6 respectively). I will show you my code so far: use strict; use warnings; my $file; open (FILENAME, $ARGV[1]); $file = do { local $/; }; $file =~ s{ ] | # and not close tag or [\s=] # \s or "=" with `[^`]*` | # something in quotes ` or [\s=] # \s or "=" with '[^']*' | # something in quotes ' or [\s=] # \s or "=" with "[^"]*" # something in quotes " )* # repeat (C) 0 or more times | # else (if previous case is not (4)) .*? # minimum of any chars ) # end if previous char is (4) (?(1) # if comment (1) (? ]*)? # skip junk to ">" ) # end if (3) > # tag closed }{}gsx; # STRIP THIS TAG $file =~ s/&nbsp//gi; $file =~ s/&#160//gi; $file =~ s/;//gi; $file =~ s/[\h\v]+/ /g; my $count = $file =~ s/((^|\s)\S)/$2/g; my $sentencecount = $file =~ s/((^|\s)\S).*?(\.|\?|\!)/$1/g; print "Input file $ARGV[1] contains $sentencecount sentences and $count words."; So, I need perl to, using $ARGV[0] as keywords, search through a text file, counting the number of times the keyword appears. Then, I need to state what sentence the keyword appeared in (i.e. print the whole sentence in full), as well as the number that the sentence is in.
