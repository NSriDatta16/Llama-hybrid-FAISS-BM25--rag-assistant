[site]: stackoverflow
[post_id]: 2406342
[parent_id]: 2406218
[tags]: 
You can't parse HTML with regex . Posts are stored formatted in HTML (i.e. etc). I'm also assuming you are implementing this on a blog with lots of existing posts. What you can do is: Retrieve the post and run it through an XML Parser. Grab the first paragraph. This is incredibly expensive for such a simple task. Use a quick tag in the post to denote the excerpt stop point, strip HTML from everything to the left of it. Similar to the tag. Store an excerpt with each post, I believe WP already has facilities for that. It would be much, much easier if you could simply select the excerpt without having to do any additional fiddling in order to use it, so the time to handle it is when a post is saved. So, if you can initially select each post, parse it, get the first paragraph and insert it into another table, then have your plugin do that when each new post is saved, you're home. Naturally, you'd update the same if a post was edited (making that optional). Just please, please, please don't introduce a plugin in WP that uses regex to parse a context free language. Its just asking for trouble.
