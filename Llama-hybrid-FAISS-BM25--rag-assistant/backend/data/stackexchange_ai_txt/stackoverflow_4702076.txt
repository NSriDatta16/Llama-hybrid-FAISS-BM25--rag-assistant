[site]: stackoverflow
[post_id]: 4702076
[parent_id]: 
[tags]: 
Elegant way to specify which parts of a tree to include / exclude

Suppose you have a tree (I'll use an HTML DOM tree by way of example but the question is about any kind of tree). You want to filter the tree to include certain branches and to exclude others. Sometimes you'll exclude a branch except for some elements within it that you want to keep. Does anyone have an elegant way to express this (either textual representation or perhaps a fluent interface to build and manage such a tree filter)? e.g. for an HTML DOM the rules might look something like ... (-head, +body>(-footer, -header, +content>(-table>+tr))) which might mean: descend the tree, if you hit a head element ignore it and everything below it, include a body element, but within it exclude footers and headers and include content except tables where we want just the table rows. This rule doesn't address the issue of descendants vs. direct children which may be something else a user might want to specify. Is a tree based approach to specifying the rules or a sequential list of include/exclude paths the better way to go in terms of helping a user select what to keep and what to exclude? Any ideas / suggestions for alternative ways to represent such inclusion/exclusion rules?
