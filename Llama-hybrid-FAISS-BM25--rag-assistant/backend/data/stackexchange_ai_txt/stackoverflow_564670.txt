[site]: stackoverflow
[post_id]: 564670
[parent_id]: 
[tags]: 
Creating a sub site in SharePoint takes a very long time

I am working in a MOSS 2007 project and have customized many parts of it. There is a problem in the production server where it takes a very long time (more than 15 minutes, sometimes fails due to timeouts) to create a sub site (even with the built-in site templates). While in the development server, it only takes 1 to 2 minutes. Both servers are having same configuration with 8 cores CPU and 8 GIGs RAM. Both are using separate database servers with the same configuration. The content db size is around 100 GB. More than a hundred subsites are there. What could be the reason why in the other server it will take so much time? Is there any configuration or something else I need to take care? Update: So today I had the chance to check the environment with my clients. But site creation was so fast though they said they didn't change any configuration in the server. I also used that chance to examine the database. The disk fragmentation was quite high at 49% so I suggested them to run defrag. And I also asked the database file growth to be increased to 100MB, up from the default 1MB. So my suspicion is that some processes were running heavily on the server previously, that's why it took that much of time. Update 2: Yesterday my client reported that the site creation was slow again so I went to check it. When I checked the db, I found that instead of the reported 100GB , the content db size is only around 30GB . So it's still far below the recommended size. One thing that got my attention is, the site collection recycle bin was holding almost 5 millions items . And whenever I tried to browse the site collection recycle bin, it would take a lot of time to open and the whole site collection is inaccessible. Since the web application setting is set to the default (30 days before cleaning up, and 50% size for the second stage recycle bin), is this normal or is this a potential problem also? Actually, there was also another web application using the same database server with 100GB content db and it's always fast. But the one with 30GB is slow. Both are having the same setup, only different data. What should I check next? So today I had the chance to check the environment with my clients. But site creation was so fast though they said they didn't change any configuration in the server. I also used that chance to examine the database. The disk fragmentation was quite high at 49% so I suggested them to run defrag. And I also asked the database file growth to be increased to 100MB, up from the default 1MB. So my suspicion is that some processes were running heavily on the server previously, that's why it took that much of time. Thanks for the inputs everyone, I really appreciate. Yesterday my client reported that the site creation was slow again so I went to check it. When I checked the db, I found that instead of the reported 100GB , the content db size is only around 30GB . So it's still far below the recommended size. One thing that got my attention is, the site collection recycle bin was holding almost 5 millions items . And whenever I tried to browse the site collection recycle bin, it would take a lot of time to open and the whole site collection is inaccessible. Since the web application setting is set to the default (30 days before cleaning up, and 50% size for the second stage recycle bin), is this normal or is this a potential problem also? Actually, there was also another web application using the same database server with 100GB content db and it's always fast. But the one with 30GB is slow. Both are having the same setup, only different data. Any idea what should I check next? Thanks a lot.
