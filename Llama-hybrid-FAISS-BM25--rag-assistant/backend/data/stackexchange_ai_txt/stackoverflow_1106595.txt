[site]: stackoverflow
[post_id]: 1106595
[parent_id]: 1106377
[tags]: 
When the user triggers the generation of the file, you could simply assign a unique ID to that "download", and send the user to a page which refreshes (or checks with AJAX) every few seconds. Once the file is finished, save it under that same unique ID and... If the file is ready, do the download. If the file is not ready, show the progress. Then you can skip the whole iframe/waiting/browserwindow mess, yet have a really elegant solution.
