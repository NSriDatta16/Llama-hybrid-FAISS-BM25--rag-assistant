[site]: crossvalidated
[post_id]: 184316
[parent_id]: 
[tags]: 
How to calculate marginal effects, average partial effects in multinomial logit model of the form Y ~ 0 | X1 + X2 + X3

I am a doing research with a dataset of students to develop a model that predicts a course that is available for them. the dataset > head(data) id sex age matStatus ACCOUNTS AGRICULTURE ARABIC BIOLOGY C.R.E CHEMISTRY CLOTHING...TEXTILES ECONOMICS ENGLISH ENTERPRENUERSHIP F.ART FOOD...NUTRITION FRENCH GEOGRAPHY GEOM...BUILD.DRAW GERMAN HEALTH.SCIENCE HISTORY I.R.E KISWAHILI LATIN LITERATURE MATH MUSIC PHYSICS SUB.MATHS TYPE.WRITING points lapse gpa course 1 347 F 21 S E O 1 D D 20 3 4.13 BSW 2 369 F 20 S C E O 2 D 19 3 4.40 BBA 3 70 F 24 S E 3 O O 20 3 4.09 BBC 4 171 M 26 S E O 4 D D 19 3 4.10 BAMC 5 261 F 21 S C C 5 D D 17 3 4.58 BSW 6 9 F 20 S D B 6 B C 23 4 4.68 LLB I have run a 3 multinomial logit models model1 > mldata mlogit.model1 summary(mlogit.model1) Call: mlogit(formula = course ~ 1 | points + 0, data = mldata, reflevel = "BIFA", method = "nr", print.level = 0) Frequencies of alternatives: BIFA BAED BAL BAMC BASE BBA BBC BCDM BCEE BCH BCL BCS BD BDS BEM BES 0.0276756 0.0273556 0.0020797 0.0588706 0.0124780 0.1522956 0.0350344 0.0139178 0.0028795 0.0108783 0.0046393 0.0033595 0.0102384 0.0814270 0.0430331 0.0049592 BGC BLIS BNS BPAM BPLM BPPE BSCS BSIT BSW DEIT DSW LLB 0.0022396 0.0377540 0.0022396 0.0623900 0.0574308 0.0508719 0.0102384 0.0383939 0.1412574 0.0119981 0.0043193 0.0897456 nr method 6 iterations, 0h:0m:17s g'(-H)^-1g = 7.13E-07 gradient close to zero Coefficients : Estimate Std. Error t-value Pr(>|t|) points:BAED 0.00022766 0.01066903 0.0213 0.98298 points:BAL -0.25187611 0.03045818 -8.2696 2.220e-16 *** points:BAMC 0.08803382 0.00866528 10.1594 model2 mlogit.model2 Call: mlogit(formula = course ~ 1 | gpa + 0, data = mldata, reflevel = "BIFA", method = "nr", print.level = 0) Frequencies of alternatives: BIFA BAED BAL BAMC BASE BBA BBC BCDM BCEE BCH BCL BCS BD BDS BEM BES 0.0276756 0.0273556 0.0020797 0.0588706 0.0124780 0.1522956 0.0350344 0.0139178 0.0028795 0.0108783 0.0046393 0.0033595 0.0102384 0.0814270 0.0430331 0.0049592 BGC BLIS BNS BPAM BPLM BPPE BSCS BSIT BSW DEIT DSW LLB 0.0022396 0.0377540 0.0022396 0.0623900 0.0574308 0.0508719 0.0102384 0.0383939 0.1412574 0.0119981 0.0043193 0.0897456 nr method 6 iterations, 0h:0m:17s g'(-H)^-1g = 2.35E-05 successive function values within tolerance limits Coefficients : Estimate Std. Error t-value Pr(>|t|) gpa:BAED -0.0027701 0.0298693 -0.0927 0.9261081 gpa:BAL -0.7412647 0.0810757 -9.1429 models3 > mlogit.model6 summary(mlogit.model6) Call: mlogit(formula = course ~ 1 | points + gpa + 0, data = mldata, reflevel = "BIFA", method = "nr", print.level = 0) Frequencies of alternatives: BIFA BAED BAL BAMC BASE BBA BBC BCDM BCEE BCH BCL BCS BD BDS BEM BES 0.0276756 0.0273556 0.0020797 0.0588706 0.0124780 0.1522956 0.0350344 0.0139178 0.0028795 0.0108783 0.0046393 0.0033595 0.0102384 0.0814270 0.0430331 0.0049592 BGC BLIS BNS BPAM BPLM BPPE BSCS BSIT BSW DEIT DSW LLB 0.0022396 0.0377540 0.0022396 0.0623900 0.0574308 0.0508719 0.0102384 0.0383939 0.1412574 0.0119981 0.0043193 0.0897456 nr method 8 iterations, 0h:0m:44s g'(-H)^-1g = 2.16E-07 gradient close to zero Coefficients : Estimate Std. Error t-value Pr(>|t|) points:BAED 0.015998 0.040704 0.3930 0.6942869 points:BAL 0.137131 0.101182 1.3553 0.1753248 points:BAMC 0.411049 0.033764 12.1743 however problems start with marginal effects with this error, what did i do wrong? my experience with R is not the best. > #calculating the mean values for the variables > z > > #marginal effects > effects(mlogit.model6, covariate="points", data = z) Error in predict.mlogit(object, data) : the number of rows of the data.frame should be a multiple of the number of alternatives > I have 3 other questions does this code really create an interaction or how do i include interactions mlogit.model4 also how do I calculate average Partial effects for the categorical variables such as sex Can Mixed effect models be used when subjects such as HISTORY CHEMISTRY ... need to be included thank you
