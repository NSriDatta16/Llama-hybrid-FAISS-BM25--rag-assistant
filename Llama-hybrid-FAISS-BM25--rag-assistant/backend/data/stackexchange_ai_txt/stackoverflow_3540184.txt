[site]: stackoverflow
[post_id]: 3540184
[parent_id]: 
[tags]: 
Passing a URL as a GET parameter in Javascript

I am trying to make a bookmarklet that uses the user's current URL, kind of like the tinyURL bookmarklet that uses this javascript code javascript:void(location.href='http://tinyurl.com/create.php?url='+location.href) So I copied that same thing and made javascript:void(location.href='http://mywebsite.com/create.php?url='+location.href) Then I use: $url=$_GET['url']; to retrieve it. The problem is, if I am on a url that already has some get style info in the url, it messes everything up. Example, If I am on: http://www.google.ca/webhp?um=1&hl=en&safe=off The '_GET' code sets $url to be http://www.google.ca/webhp?um=1 So I think the info in google URL is messing up all of my URL parsing, I imagine I am doing something very incorrectly or someone has a very elegant solution for this. What should I do? please help
