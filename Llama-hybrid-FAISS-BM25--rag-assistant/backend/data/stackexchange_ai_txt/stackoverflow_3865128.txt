[site]: stackoverflow
[post_id]: 3865128
[parent_id]: 
[tags]: 
Android WebView-based browsers not able to access protected resources through Oracle Access Manager (OAM)

We have a website that makes use of OAM for single sign on (form-based authentication). When we submit credentials to WebGate / Access Server the authorization succeeds, however after the authentication is performed, the form action (as configured in the Authentication Scheme - with passthrough:no) returns a server error instead of redirecting to the originally requested URL. If we use Mini Opera, we are able to get authenticated and forwarded properly. This problem happens on numerous Android phones (versions ranging from 1.5-2.2), as well as the Emulator provided with the SDK. This is proving to be a real problem as the default browser on Android phones is not able to get access to our sites(and this is the only browser that is having this problem). I have created a WebView-based custom browser with the hope of seeing a client-side error and tried trapping every possible error....none show up.... I have tried to trace all of the http requests and found only a single difference in the requests... the http header for Connection:keep-alive is not sent by the Android WebView. I have provided some tracing info below... Has anyone run into this problem? Has anyone solved this? Any insight to this issue would be greatly appreciated. Thanks, Tim Request RAW Data- POST http: // MYSERVER/security/ATLAFunction HTTP/1.1 Host: MYSERVER:7777 Accept-Encoding: gzip Accept-Language: en-US Cookie:ObSSOCookie=loggedoutcontinue Accept-Charset: utf-8, iso-8859-1,utf-16, ;q=0.7 Referer:http://10.84.32.71:7777/tpf/login.html User-Agent: Mozilla/5.0 (Linux; U; Android 2.2; en-us; sdk Build/FRF42) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1 Origin: http: // MYSERVER Accept:application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png, /*;q=0.5 Content-Type: application/x-www-form-urlencoded Content-Length: 27 uname=auser&pwd=appas Raw Response Data - HTTP/1.1 503 Service Temporarily Unavailable Date: Tue, 05 Oct 2010 14:26:12 GMT Set-Cookie: ObSSOCookie=II%2F4n5pFreT6B6hOAumv6pI6CZh6l04VhyXHrCzuRUT5hDEHMK%2FJCX659uyCkxgIyJ8ywB3BKrHxorsCwZwivpn91t9Mu%2FCKT7PrY23S518xoBeOam26tr%2B0pSfCbo%2FZXLmFIxjHFOPHPGxi5tHrOlUroXXA9Fe0GZz3SbJLMgAkCw0euuAVewOHKIjoDh8MwAdGtL4lo%2BmHhk5kB316iFJ4Aljr7cQYpAp1r%2BVGD9FbLkYl4ekY5hrlNfwYS%2BVjnR0uSIFjc0toiKkGN33z7%2FiElh2Ue2iWQrpCRcgFpxE%3D; httponly; path=/; Cache-Control: no-cache Pragma: no-cache Content-Length: 312 Connection: close Content-Type: text/html; charset=iso-8859-1 503 Service Temporarily Unavailable Service Temporarily Unavailable Sorry!The server is currently unable to handle the request due to a temporary overloading or maintenance of the server.
