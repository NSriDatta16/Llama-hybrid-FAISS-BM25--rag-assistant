[site]: stackoverflow
[post_id]: 3881449
[parent_id]: 
[tags]: 
Find which drive corresponds to which USB mass storage device in Linux

I have several USB mass storage flash drives connected to a Ubuntu Linux computer (Ubuntu 10.04.1, kernel 2.6.32-25-386), and I need to tell them apart programatically (from bash if possible, but I'm not afraid of compiling either) - I need to find which block device corresponds to which physical device (e.g. /dev/sdb1 -> device in USB port 1; in my case, one device ~ one volume). In other words, I know that I have three hardware devices plugged into USB ports; each of them shows up in the system as a USB mass storage device (as seen with lsusb), is created as a block device ( /dev/sdb1 ) and automounted by UUID ( /media/1234-5678 ). USB device block device mountpoint USB device in port 2.2 /dev/sdb1 /media/1234-5678 I'm not trying to find the relationship between block device and mountpoint; I'm trying to find the relationship between block device and USB device, is there a way? Why? There will be some writes on the disks, with unpredictable time of completion. I need to give the operator some indication like "you can now remove the disk in port 2 (which is second from the left)". I have found which physical port corresponds to which port number on that specific machine, and finding block devices from mountpoints is simple; now I'm stuck mapping the logical USB ports to block devices. I can see the disks with lsusb : Bus 001 Device 058: ID 067b:2517 Prolific Technology, Inc. Mass Storage Device Bus 001 Device 060: ID 067b:2517 Prolific Technology, Inc. Mass Storage Device Bus 001 Device 061: ID 067b:2517 Prolific Technology, Inc. Mass Storage Device and I can see them mounted (by their UUID): /dev/sdb1 on /media/BC88-15C4 type vfat /dev/sdc1 on /media/AE54-65AA type vfat /dev/sdd1 on /media/58D2-FED1 type vfat Now, all the drives are the same model from the same manufacturer, so I can't distinguish them by that, and I can't guarantee they'll be plugged in a particular order. I have found /sys/bus/usb/devices (a list of USB devices), but it seems to be the same data that I get from lsusb - I don't see a mapping to disks there. There's also /sys/block/sdb and /sys/block/sdb/sdb1 (the block device and its first partition; similarly for sdc and sdd ), but again, I see no mapping to devices.
