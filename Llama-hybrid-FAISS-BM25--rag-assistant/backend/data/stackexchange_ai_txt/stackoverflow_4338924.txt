[site]: stackoverflow
[post_id]: 4338924
[parent_id]: 
[tags]: 
Mongoid references_many ids array population

I have a question regarding mongoid id storage for references_many. Suppose I have the following classes: class A include Mongoid::Document field :name attr_accessible :name, :b_ids references_many :bs, :stored_as :array, :inverse_of :a end class B include Mongoid::Document field :name attr_accessible :name, :a_id referenced_in :a end If I do the following: a = A.create(:name => "a1") b = B.create(:name => "b1") b.a = a Should I expect the a.b_ids array to be an array that contains b's id? The behaviour I am seeing is that b.a_id contains a's id, but a.b_ids does not contain b's id. Is the id array on A's side supposed to be manually updated? BTW, if I do a.bs
