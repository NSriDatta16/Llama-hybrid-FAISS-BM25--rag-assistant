[site]: crossvalidated
[post_id]: 287783
[parent_id]: 
[tags]: 
Example of randomization inference failure?

Randomization inference failure? If we want to test the sharp null hypothesis rather than the weak null hypothesis we can use randomization inference (RI). Definition $H_{0,sharp}$: Sharp null hypothesis of no effect The treatment effect is zero for all subjects. Formally, $Y_i(1) = Y_i(0)$ for all $i$. Definition $H_{0,weak}$: Null hypothesis of no average effect (sometimes called the weak null hypothesis ) The average treatment effect is zero. Formally, $\mu_{Y(1)} = \mu_{Y(0)}$. Let’s say we have a situation where the treatment effect is positive for half of the units and negative for the other half of the units, and the relative magnitudes of the treatment effects are inversely proportional to each experimental arm’s size. For example, if 50% of units were assigned to treatment, the magnitude of the treatment effects would be the same with opposite signs. 5 for half of observations and -5 for the other half, for instance. The average treatment effect is equal to zero but the treatment effect for each unit is not zero. Therefore, the null hypothesis of zero average treatment effect is true, but the sharp null hypothesis of no effect for all units is false. But when we run the below test, randomization inference fails to detect an effect. If I am not making a mistake in the RI procedure, then why does RI fail to detect that there is a treatment effect for every unit? We still succeed in detecting a difference in the variance of the treatment group's outcome, that is, it is larger than what we would expect by chance, but I want to better understand the null result in the test for the treatment effect on the primary outcome $Y$. set.seed(42) N = ATE_obs) # RI p value for sharp null hypothesis of no effect for all units # Visualize the randomization inference results for the treatment effect hist(ATE_sims, breaks = 40) abline(v = ATE_obs, col="red", lty = 3) mean( abs(var_sims) >= var_obs) # RI p value for test of equal variances # Visualize the randomization inference results for the variance hist(var_sims, breaks = 40, xlim = c(0,450)) abline(v = var_obs, col="red", lty = 3)
