[site]: stackoverflow
[post_id]: 5495504
[parent_id]: 5495423
[tags]: 
I would say you've got to start from the interface. How would users like to do their filtering in an ideal world? I think I would end up going for a bridge or factless fact table or something like that. Perhaps a surrogate key on the fact table and a many-many link table from that to group membership. It's definitely tough - and the interface and usage cases has to be made workable, so I'd start from there. Perhaps something will shake out of how they do this reporting - like equivalence classes in the groups or some way they partition the account space. Maybe there is a hierarchy or organization to the groups which make it more manageable and may inform a simpler design.
