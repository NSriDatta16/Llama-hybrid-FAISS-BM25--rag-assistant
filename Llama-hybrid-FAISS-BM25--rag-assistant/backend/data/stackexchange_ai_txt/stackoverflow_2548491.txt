[site]: stackoverflow
[post_id]: 2548491
[parent_id]: 2548384
[tags]: 
I'd also suggest you write a -javagent agent, but use the getAllLoadedClasses method instead of transforming any classes. To synchronize with your client code (Normal Java code), create a socket and communicate with the agent through it. Then you can trigger a "list all classes" method whenever you need.
