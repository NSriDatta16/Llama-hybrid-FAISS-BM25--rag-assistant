[site]: stackoverflow
[post_id]: 4841866
[parent_id]: 4841849
[tags]: 
You cannot modify a collection while iterating over it. The solution is to use the Iterator object, and call remove on it directly. Using a ConcurrentHashMap helps, because it does not throw a ConcurrentModificationException. From ConcurrentHashMap: Retrieval operations (including get) generally do not block, so may overlap with update operations (including put and remove). Retrievals reflect the results of the most recently completed update operations holding upon their onset. For aggregate operations such as putAll and clear, concurrent retrievals may reflect insertion or removal of only some entries. Similarly, Iterators and Enumerations return elements reflecting the state of the hash table at some point at or since the creation of the iterator/enumeration. They do not throw ConcurrentModificationException. However, iterators are designed to be used by only one thread at a time.
