[site]: stackoverflow
[post_id]: 2957036
[parent_id]: 2955695
[tags]: 
This is caused because libcurl seems to automagically read the environmental variable http_proxy. This request is normal when you are behind a HTTP Proxy. The proxy needs to know the full URL in order to make the request and this is why the request looks different. Try to unset your environmental variable http_proxy (export http_proxy="") before executing your program and the request will be made as expected. I believe there is a way to explicitly tell libcurl to use/don't use a proxy, but I don't remember it. By the way, this two lines of code headers = curl_slist_append(headers,"Pragma:"); headers = curl_slist_append(headers,"Proxy-Connection:"); are meaningless because empty headers are not sent.
