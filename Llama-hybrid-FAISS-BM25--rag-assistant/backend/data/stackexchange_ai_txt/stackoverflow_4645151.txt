[site]: stackoverflow
[post_id]: 4645151
[parent_id]: 
[tags]: 
save new position of marker from draggable marker - google maps V3

I have success to get new position of dragable marker.. In my code below I can create newmarker by rightclick, and then I can save the marker by click the save button at infowindow of the marker... But the problem is I can't insert the new coordinates (latitude and longitude) into the form at infowindow... var geocoder = new google.maps.Geocoder(); var newmarker; function geocodePosition(pos) { geocoder.geocode({ latLng: pos }, function(responses) { if (responses && responses.length > 0) { updateMarkerAddress(responses[0].formatted_address); } else { updateMarkerAddress('Cannot determine address at this location.'); } }); } function updateMarkerStatus(str) { document.getElementById('markerStatus').innerHTML = str; } function updateMarkerPosition(latLng) { document.getElementById('info').innerHTML = [ latLng.lat(), latLng.lng() ].join(', '); } function updateMarkerLat(latLng) { document.getElementById('latnew').innerHTML = [ latLng.lat() ]; } function updateMarkerLng(latLng) { document.getElementById('lngnew').innerHTML = [ latLng.lng() ]; } function updateMarkerAddress(str) { document.getElementById('address').innerHTML = str; } function initialize() { var latLng = new google.maps.LatLng(-7.8,110.3666667); var map = new google.maps.Map(document.getElementById('mapCanvas'), { zoom: 13, center: latLng, mapTypeId: google.maps.MapTypeId.ROADMAP }); google.maps.event.addListener(map, "rightclick", function(event) { placeMarker(event.latLng); }); function placeMarker(location) { var newmarker = new google.maps.Marker({ position: location, map: map, draggable: true }); var form = ' '+ ' New Map ' + ' '+ ' '+ ' Name place : '+ ' Latitude : '+ ' Longitude: '+ ' '+ ' '+ ' '+ ' '; var infowindow = new google.maps.InfoWindow({ content: form, maxWidth :500 }); google.maps.event.addListener(newmarker, 'click', function() { infowindow.open(map,newmarker); //marker1.openInfoWindowHtml('Some text', {noCloseOnClick: 'false'}); }); // Update current position info. updateMarkerPosition(latLng); updateMarkerLat(latLng); updateMarkerLng(latLng); geocodePosition(latLng); // Add dragging event listeners. google.maps.event.addListener(newmarker, 'dragstart', function() { updateMarkerAddress('Dragging...'); }); google.maps.event.addListener(newmarker, 'drag', function() { updateMarkerStatus('Dragging...'); updateMarkerPosition(newmarker.getPosition()); updateMarkerLat(newmarker.getPosition()); updateMarkerLng(newmarker.getPosition()); }); google.maps.event.addListener(newmarker, 'dragend', function() { updateMarkerStatus('Drag ended'); geocodePosition(newmarker.getPosition()); updateMarkerLat(newmarker.getPosition()); updateMarkerLng(newmarker.getPosition()); }); } } // Onload handler to fire off the app. google.maps.event.addDomListener(window, 'load', initialize); #mapCanvas { width: 500px; height: 400px; float: left; } #infoPanel { float: left; margin-left: 10px; } #infoPanel div { margin-bottom: 5px; } Marker status: Click and drag the marker. Current position: Closest matching address: any ideas of this problem? thanks before... Mahendra,
