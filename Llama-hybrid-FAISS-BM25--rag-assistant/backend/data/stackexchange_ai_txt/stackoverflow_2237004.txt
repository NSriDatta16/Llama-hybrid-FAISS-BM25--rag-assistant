[site]: stackoverflow
[post_id]: 2237004
[parent_id]: 2236982
[tags]: 
This is where it goes wrong: var $spn = $(" ").html(selection).addClass("selected"); $("p").wrap($spn); This means youâ€™re wrapping the span around the paragraph. I think you mean to do something like this: var spn = ' ' + selection + ' '; $(this).html($(this).html().replace(selection, spn));
