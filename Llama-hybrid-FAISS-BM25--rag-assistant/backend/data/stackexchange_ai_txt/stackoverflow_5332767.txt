[site]: stackoverflow
[post_id]: 5332767
[parent_id]: 5037508
[tags]: 
Microsoft released a code sample : SgmlReader . It allow you to read (among other formats) tidy html. I wrote a small utility method that convert an Html string to an xml string: /// /// Converts a string from potential dirty HTML to valid XML /// /// The string to convert /// A valid XML fragment that contains the cleaned HTML /// This methods only format the html to an xml compatible parser. /// The method does not clean dangerous tags from the source string public static string HtmlToXHtml(string input) { using (var sr = new StringReader(input)) { var hr = new SgmlReader(sr); hr.InputStream = sr; hr.DocType = "HTML"; var output = new StringBuilder(); var hw = new XmlTextWriter(new StringWriter(output)); hr.Read(); while (!hr.EOF) { hw.WriteNode(hr, true); } return output.ToString(); } } You can "simply" update the user input after the postback. In more complex scenarios (having to switch between the wysiwyg and the Html source mode), you may require a bit of Ajax to convert the html string to an xhtml behind the curtain, before showing the html source in the textarea.
