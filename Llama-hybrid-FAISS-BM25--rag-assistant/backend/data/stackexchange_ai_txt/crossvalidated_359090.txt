[site]: crossvalidated
[post_id]: 359090
[parent_id]: 
[tags]: 
Including both endogenous and exogenous variables in a vector autoregression when NA's are present.

I have a data set consisting of time series information. The dimensions of the data have 39 rows and 38 columns. The data is comprised of loan repayments up until the present date, so each column represents the month of the loan disbursement and each row represents the amount of that loan that was repaid in each consecutive month after disbursement. Because the data goes up to the present day, I there are a lot of NA's present for the more recent loans. Specifically the NA's are present in a systematic way along the diagonal. For example, here is a reduced illustration of how the data appears: tbl I am using vector autoregression to forecast future loan repayment amounts for each month in the future. My problem: I can't include both the endogenous and exogenous variables to forecast the NA in the endogenous variable Here's a sample in R of four columns showing what the real data looks like to illustrate the problem: samp Just say I want to forecast the NA in the final row for the column 201502 and when forecasting I would like to use the endogenous variable (so the information already present in the column 201502 and at least one exogenous variable (in this case the preceding month 201501 ). Using the vars package in R the VAR function doesn't accept NA values. This means that in order to use the endogenous and exogenous variable, I need to exclude the final row and build the model using rows 1:38 to predict the final NA in row 39 for column 201502 . This is problematic for two reasons, 1) I think the information present for row 39 in the exogenous variable would be useful when making the prediction for row 39 in 201502 so I would like to use it. and 2) For the real date, the more recent columns have a lot of NA's, for example the final column only has information for three months (so three data points and 36 NA's) so of course here there is no where near enough data to build a reasonable model. To overcome this, I've been building the model using exogenous information only, for example, in the data example given here, using the information in columns 201412 and 201501 to predict the final NA for column 201502 However, in this case I'm not using any of the information in the endogenous variable which is obviously very useful for forecasting, at least for the cases where enough data is available. Is it possible to consistently use the endogenous and exogenous information for all months (so all row 1:39) in spite of the presence of NA's in the endogenous variable?? Any information or pointers in the right direction would be greatly appreciated :) thanks!
