[site]: crossvalidated
[post_id]: 626489
[parent_id]: 
[tags]: 
SMR-weighted model to estimate ATT

I am using SMR weights in a logistic regression model. Everyone in the exposed group gets a weight of 1, and everyone in the unexposed group gets a weight of propensity score/(1-propensity score). Because there are so many more unexposed, the weights in the unexposed group are very small. If I divide all the weights in the unexposed group by the mean weight in that group (so that the mean is 1), am I still estimating the average treatment effect on the treated (ATT)? (I get the same answer using these 2 sets of weights if I treat all the observations as independent, but very different answers with the 2 sets of weights if I account for the clustering in the data - any advice on how to know which weights should be used?)
