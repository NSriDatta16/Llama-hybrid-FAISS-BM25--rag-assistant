[site]: stackoverflow
[post_id]: 5069712
[parent_id]: 5069608
[tags]: 
The map and regex part of that works (not sure if it's the nicest way of doing it, but it works). It's just not changing str . This should do the trick... def magic_format(str, len = 10) fragment = /.{#{len}}/ str = str.split(/(\s+)/).map! { |word| (/\s/ === word) ? word : word.gsub(fragment, '\0 ') }.join auto_link(str, :html => { :target => '_blank' }) end
