[site]: stackoverflow
[post_id]: 4691320
[parent_id]: 4278807
[tags]: 
Use compiler extensions: // assume.hpp #pragma once #if defined _MSC_VER #define MY_ASSUME(e) (__assume(e), (e) ? void() : void()) #elif defined __GNUC__ #define MY_ASSUME(e) ((e) ? void() : __builtin_unreachable()) #else // defined __GNUC__ #error unknown compiler #endif // defined __GNUC__ - // assert.hpp #include #include "assume.hpp" #undef MY_ASSERT #ifdef NDEBUG #define MY_ASSERT MY_ASSUME #else // NDEBUG #define MY_ASSERT assert #endif // NDEBUG
