[site]: stackoverflow
[post_id]: 4224077
[parent_id]: 
[tags]: 
A ready to use implementation of broker (mediator) based communication

I am not sure how to formulate the question correctly, so if there are better ideas - go ahead and suggest them. The problem is simple. I have 2 peers A and B, both behind firewalls. I wish them to communicate with each other using a public broker or mediator, whichever name suits better. The communication is asynchronous and goes something like this: Both A and B periodically poll the broker asking whether there are messages for them. When A wishes to communicate with B it sends a message to the broker, indicating that the message is for B. When B polls the broker, the broker sees that there is indeed a message for it and responds accordingly. B processes the messages and sends the response back to the broker, indicating that this is a response to the particular message from A. At some point A polls the broker and receives back the response from B. Now, before I rush in and implement this sort of communication myself, I am wondering whether there are ready to use packages that allow for this sort of communication out of the box. Anyone? Thanks. EDIT1 I wish to emphasize that a peer may not have a message server installed on it. Meaning, simulating request-response with two one-way connections is not possible. I really need to be able to get a reply to peer's response, so it cannot be one-way communication. EDIT2 One more constraint is that only HTTP(S) ports may be open for the communication, so the agents A and B may be in a situation where they communicate to the broker using HTTP(S) only.
