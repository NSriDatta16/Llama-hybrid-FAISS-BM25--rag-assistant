[site]: stackoverflow
[post_id]: 4319102
[parent_id]: 4318508
[tags]: 
Assuming a good enough random number generator: Sum the weights ( total_weight ) Repeat K times: Pick a number between 0 and total_weight ( selection ) Find the first pair where the sum of all the weights from the beginning of the array to that pair is greater than or equal to selection Write the first part of the pair to the output You need enough storage to store the total weight.
