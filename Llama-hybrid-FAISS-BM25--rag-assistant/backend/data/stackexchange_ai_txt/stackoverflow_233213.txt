[site]: stackoverflow
[post_id]: 233213
[parent_id]: 18450
[tags]: 
For the type of application we're building Mono unfortunately doesn't seem ready for production. We were impressed with it overall, and impressed with its performance both on Windows and on EC2 machines, however, our program crashed consistenly with garbage collection errors on both Windows and linux. The error message is: "fatal errors in GC: too many heap sections", here is a link to someone else experiencing the problem in a slightly different way: http://bugzilla.novell.com/show_bug.cgi?id=435906 The first piece of code we ran in Mono was a simple programming challenge we'd developed... The code loads about 10mb data into some data structures (e.g. HashSets), then runs 10 queries against the data. We ran the queries 100 times in order to time them and get an average. The code crashed around the 55th query on Windows. On linux it worked, but as soon as we moved to a bigger data set, it would crash too. This code is very simple, e.g. put some data into HashSets and then query those HashSets etc, all native c#, nothing unsafe, no API calls. On the Microsoft CLR it never crashes, and runs on huge data sets 1000s times just fine. One of our guys emailed Miguel and included the code that caused the problem, no response yet. :( It also seems like many other people have encountered this problem without solution - one solution has been suggested to recompile Mono with different GC settings but that just appears to increase the threshold before which it crashes.
