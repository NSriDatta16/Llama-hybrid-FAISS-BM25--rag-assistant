[site]: stackoverflow
[post_id]: 4961451
[parent_id]: 4961381
[tags]: 
This is how I import contact information into my app. I store the info in an NSDictionary so I can read it back later easily. It's in no way pretty, but works very well. .h #import #import @interface YourViewController : UIViewController { } @end .m #pragma mark - #pragma mark AddressBook Delegates - (BOOL)peoplePickerNavigationController:(ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person property:(ABPropertyID)property identifier:(ABMultiValueIdentifier)identifier{ return NO; } - (void)peoplePickerNavigationControllerDidCancel:(ABPeoplePickerNavigationController *)peoplePicker { [self dismissModalViewControllerAnimated:YES]; } - (BOOL)peoplePickerNavigationController:(ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person { /* photo */ CFDataRef imgeData = ABPersonCopyImageData(person); if(imgeData) { /* set an image to something using: (NSData*)imgeData */ CFRelease(imgeData); }else{ /* theres no photo */ } CFStringRef email,emailLabel, phone,phoneLabel, url,urlLabel; //Phone Numbers ABMutableMultiValueRef phoneMulti = ABRecordCopyValue(person, kABPersonPhoneProperty); NSMutableDictionary *myPhoneDict = [NSMutableDictionary dictionaryWithCapacity:ABMultiValueGetCount(phoneMulti)]; for (CFIndex i = 0; i 0)){ [plistDict setObject:street forKey:@"Street"]; }else{ [plistDict setObject:@"" forKey:@"Street"]; } if ((city != nil) && (city.length > 0)){ [plistDict setObject:city forKey:@"City"]; }else{ [plistDict setObject:@"" forKey:@"City"]; } if ((state != nil) && (state.length > 0)){ [plistDict setObject:state forKey:@"State"]; }else{ [plistDict setObject:@"" forKey:@"State"]; } if ((zip != nil) && (zip.length > 0)){ [plistDict setObject:zip forKey:@"Zip"]; }else{ [plistDict setObject:@"" forKey:@"Zip"]; } if ((country != nil) && (country.length > 0)){ [plistDict setObject:country forKey:@"Country"]; }else{ [plistDict setObject:@"" forKey:@"Country"]; } if (type != nil){ [plistDict setObject:(NSString *)type forKey:@"AddressType"]; }else{ [plistDict setObject:@"" forKey:@"AddressType"]; } [myLabelDict release]; [street release]; [city release]; [state release]; [zip release]; [country release]; CFRelease(dict); CFRelease(type); } CFRelease(streets); CFRelease(phoneMulti); CFRelease(emailMulti); CFRelease(URLMulti); [plistDict writeToFile:current atomically:YES]; [self dismissModalViewControllerAnimated:YES]; [self refreshViews]; [tblAddCarrier reloadData]; return YES; }
