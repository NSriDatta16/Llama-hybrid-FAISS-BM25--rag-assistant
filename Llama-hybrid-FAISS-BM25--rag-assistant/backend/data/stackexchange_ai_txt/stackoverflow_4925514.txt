[site]: stackoverflow
[post_id]: 4925514
[parent_id]: 4925433
[tags]: 
You're inspecting every single pixel - something that, it would seem, is going to take roughly the same amount of time no matter how you loop through it (provided you only inspect each pixel once). I would suggest using a random sampling within the bloc - every "n'th" pixel, which would reduce the loop time (and the accuracy), or allow for an adjustable granularity. Now, if there is an existing algorithm for computing the average of a group of pixels - that would be something to consider as an alternative.
