[site]: stackoverflow
[post_id]: 4103722
[parent_id]: 
[tags]: 
C++: Program crash while adding object to custom vector class

I'm working on an email validation program for my cmpsci class and am having trouble with this one part. What I'm doing is reading a list of valid top level domains from a text file into a vector class I wrote myself (I have to use a custom vector class unfortunately). The problem is that the program reads in and adds the first few domains to the vector all well and fine, but then crashes when it gets to the "org" line. I'm completely stumped why it works for the first few and then crashes. Also, I have to use a custom string class; that's why I have the weird getline function (so I get the input in a char* for my String constructor). I've tried using the standard string class with this function and it still crashed in the same way so I can rule out the source of the problem being my string class. The whole program is quite large so I am only posting the most relevant parts. Let me know if more code is needed please. Any help would be awesome since I have no clue where to go from here. Thanks! The ReadTlds function: void Tld::ReadTlds() { // Load the TLD's into the vector validTlds = Vector (0); // Init vector; declaration from header file: "static Vector validTlds;" ifstream in(TLD_FILE); while(!in.eof()) { char tmpInput[MAX_TLD_LENGTH]; // MAX_TLD_LENGTH equals 30 in.getline(tmpInput, MAX_TLD_LENGTH); validTlds.Add(String(tmpInput)); // Crashes here! } } My custom vector class: #pragma once #include #define INIT_CAPACITY 100 #define CAPACITY_BOOST 100 template class Vector { public: // Default constructor Vector() { Data=NULL; size=0; capacity=INIT_CAPACITY; } // Init constructor Vector(int Capacity) : size(0), capacity(Capacity) { Data = new T[capacity]; } // Destructor ~Vector() { size=0; Data = NULL; delete[] Data; } // Accessors int GetSize() const {return size;} T* GetData() {return Data;} void SetSize(const int size) {this->size = size;} // Functions void Add(const T& newElement) { Insert(newElement, size); } void Insert(const T& newElement, int index) { // Check if index is in bounds if((index capacity)) { std::stringstream err; err =capacity) Grow(); // Move all elements right of index to the right for(int i=size-1; i>=index; i--) Data[i+1]=Data[i]; // Put the new element at the specified index Data[index] = newElement; size++; } void Remove(int index) { // Check if index is in bounds if((index capacity-1)) { std::stringstream err; err capacity-1)) { std::stringstream err; err & operator = (const Vector & right) { Data = new T[right.GetSize()]; for(int i=0; i The input file: aero asia biz cat com coop edu gov info int jobs mil mobi museum name net org The error Visual Studio throws is: Unhandled exception at 0x5fb04013 (msvcp100d.dll) in Email4.exe: 0xC0000005: Access violation reading location 0xabababbb.
