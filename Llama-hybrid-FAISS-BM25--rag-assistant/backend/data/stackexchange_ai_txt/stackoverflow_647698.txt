[site]: stackoverflow
[post_id]: 647698
[parent_id]: 
[tags]: 
qt add path for 3rd party header and libraries

I am using qt and developing a desktop app that will run under win xp/vista. I have a 3rd party library UserAgentLib (static, and shared). But I am not sure how to link in qt creator. I have opened the *.pro file and added my library and header path. The library is called UserAgentLib and the header file is called UserAgentLib.h TARGET = Dialer TEMPLATE = app LIBS += D:\Projects\qtDialer\tools\lib\UserAgentLib INCLUDEPATH += D:\Projects\qtDialer\tools\inc SOURCES += main.cpp\ catdialer.cpp HEADERS += catdialer.h FORMS += catdialer.ui I think it does find the header file, as I get about 100 errors for declarations in the UserAgentLib.h file. However, I don't think it is linking with the library. Many thanks for any suggestions, ====================== I have create a very simple library in VS C++ 2008. Here is the code for the header and source file. Header: // mathslibrary.hpp int add_numbers(const int a, const int b); Source: // mathslibrary.cpp #include "mathslibrary.hpp" int add_numbers(const int a, const int b) { return a + b; } I have compiled this into a library. And tested by linking with a WIN32 console application in VS 2008. The library worked as expected. Now when I try and link with qt. #include #include #include "mathslibrary.hpp" int main(int argc, char *argv[]) { QCoreApplication a(argc, argv); std::cout This is my qmake file: QT -= gui TARGET = testlibrary CONFIG += console CONFIG -= app_bundle TEMPLATE = app LIBS = D:\Projects\TestLibrary\mathsLibrary\Debug\mathsLibrary.lib INCLUDEPATH = D:\Projects\TestLibrary\mathsLibrary\ SOURCES += main.cpp These are the errors I get when I try and build: c:/Qt/mingw/bin/../lib/gcc/mingw32/3.4.5/../../../libmingw32.a(main.o):main.c::-1: error: undefined reference to `WinMain@16' :-1: error: collect2: ld returned 1 exit status And these are the compile issues: Running build steps for project testlibrary... Creating gdb macros library... Configuration unchanged, skipping QMake step. Starting: C:/Qt/mingw/bin/mingw32-make.exe debug -w mingw32-make: Entering directory `D:/Projects/TestQTLibrary/testlibrary' C:/Qt/mingw/bin/mingw32-make -f Makefile.Debug mingw32-make[1]: Entering directory `D:/Projects/TestQTLibrary/testlibrary' g++ -enable-stdcall-fixup -Wl,-enable-auto-import -Wl,-enable-runtime-pseudo-reloc -Wl,-subsystem,console -mthreads -Wl -o debug\testlibrary.exe -L"c:\Qt\qt\lib" D:\Projects\TestLibrary\mathsLibrary\Debug\mathsLibrary.lib -lQtCored4 mingw32-make[1]: Leaving directory `D:/Projects/TestQTLibrary/testlibrary' mingw32-make: Leaving directory `D:/Projects/TestQTLibrary/testlibrary' c:/Qt/mingw/bin/../lib/gcc/mingw32/3.4.5/../../../libmingw32.a(main.o):main.c: (.text+0x104): undefined reference to `WinMain@16' collect2: ld returned 1 exit status mingw32-make[1]: * [debug\testlibrary.exe] Error 1 mingw32-make: * [debug] Error 2 Exited with code 2. Error while building project testlibrary When executing build step 'Make' Many thanks for any advice,
