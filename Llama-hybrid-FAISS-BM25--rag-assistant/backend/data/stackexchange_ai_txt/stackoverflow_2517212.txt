[site]: stackoverflow
[post_id]: 2517212
[parent_id]: 2517019
[tags]: 
Addressing the question of designing the in memory storage and linking: You haven't told us enough. The necessary structure of your data depends on how you need to use the data. If you are going to walk sequentially through (all or part) the data by starttime, shouldn't you be able to visit events in order by starttime? If you're going to jump into the middle of the stream sometime shouldn't you be able to search efficiently by starttime. If you want to examine the event active during a certain interval, you also need to be able to search efficiently by endtime. If you want to examine all the interaction of a single device you need to be able to select events by device (which you proposed structure does nicely) ... what other use cases do you have... If you don't need the best performance possible (i.e. good performance will do) a relational DB might be in order. Or you can build in memory structures with all the characteristics you need, but they may be moderately complicated...
