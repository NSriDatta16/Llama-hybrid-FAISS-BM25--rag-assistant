[site]: stackoverflow
[post_id]: 4203469
[parent_id]: 4203309
[tags]: 
Well, you're currently hitting one of the limitation of, basically, ANY current VCS (DVCS or not, it does not matter). The thing is that VCS are currently language agnostic, the base of their merge algorithm is a textual diff. It means that they are looking for what change and what is the related context . The important part here is the context. It is nothing more that some lines before and after the changes you made. This means that they are really bad at dealing with code re-organisation inside of a same file, because you're basically screwing all the context they can rely on. Typically, in your example, by switching the two functions, you not only completely inverted the context between the two changesets, but worse, by having no extra lines after the latest function, you reduced implicitly the context of the latest change, diminishing the chances that a merge algorithm got able to figure out what you really did. I currently only know about one diff tool, from msft, for XML, that is trying to deal with the semantic of your change and not just its textual representation. I also know that the guys of PlasticSCM are trying to implement such feature for some mainstream languages, but it is really a place where there is room for improvement.
