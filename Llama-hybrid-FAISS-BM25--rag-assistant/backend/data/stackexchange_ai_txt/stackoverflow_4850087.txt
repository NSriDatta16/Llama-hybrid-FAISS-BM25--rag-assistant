[site]: stackoverflow
[post_id]: 4850087
[parent_id]: 
[tags]: 
NSOutlineView Drag-n-Drop

In my application, NSOutlineView used as below, 1 -- Using CustomOutlineView because i want to control NSOutlineView Background, 2 -- Using CustomeCell, becuase i need to have customize Cell Header File : MyListView.h /* MyUICustomView is the Subclass from NSView and this is i need to have for some other my application purpose */ @interface MyListView : MyUICustomView { // MyCustomOutlineview because, i need to override DrawRect Method to have // customized background MyCustomOutlineView *pMyOutlineView; } @property(nonatomic,retain)MyCustomOutlineView *pMyOutlineView; and also i should be able to drag-n-drop within Outline view, for having drag-n-drop i have done following, -(void)InitOutlineView{ // Creating outline view NSRect scrollFrame = [self bounds]; NSScrollView* scrollView = [[[NSScrollView alloc] initWithFrame:scrollFrame] autorelease]; [scrollView setBorderType:NSNoBorder]; [scrollView setHasVerticalScroller:YES]; [scrollView setHasHorizontalScroller:NO]; [scrollView setAutohidesScrollers:YES]; [scrollView setDrawsBackground: NO]; NSRect clipViewBounds = [[scrollView contentView] bounds]; pMyOutlineView = [[[MyCustomOutlineView alloc] initWithFrame:clipViewBounds] autorelease]; NSTableColumn* firstColumn = [[[NSTableColumn alloc] initWithIdentifier:@"firstColumn"] autorelease]; #ifdef ENABLE_CUSTOM_CELL // Becuase cell should have Image, Header Info and brief detail in small font, // so i need to have custom cell ImageTextCell *pCell = [[ImageTextCell alloc]init]; [firstColumn setDataCell:pCell]; // SO i can fill the data [pCell setDataDelegate:self]; # endif [pMyOutlineView setDataSource:self]; /* This is to tell MyCustomOutlineView to handle the context menu */ [pMyOutlineView setDataDelegate:self]; [scrollView setDocumentView:pCTOutlineView]; [pMyOutlineView addTableColumn:firstColumn]; [pMyOutlineView registerForDraggedTypes: [NSArray arrayWithObjects:OutlinePrivateTableViewDataType,nil]]; [pMyOutlineView setDraggingSourceOperationMask:NSDragOperationEvery forLocal:YES];** } and to Support drag-n-drop Implemented following method - (BOOL)outlineView:(NSOutlineView *)outlineView writeItems:(NSArray *)items toPasteboard:(NSPasteboard *)pboard{ NSData *data = [NSKeyedArchiver archivedDataWithRootObject:items]; [pboard declareTypes:[NSArray arrayWithObject:OutlinePrivateTableViewDataType] owner:self]; [pboard setData:data forType:OutlinePrivateTableViewDataType]; return YES; } - (NSDragOperation)outlineView:(NSOutlineView *)outlineView validateDrop:(id )info proposedItem:(id)item proposedChildIndex:(NSInteger)index{ // Add code here to validate the drop NSLog(@"validate Drop"); return NSDragOperationEvery; } - (BOOL)outlineView:(NSOutlineView *)outlineView acceptDrop:(id )info item:(id)item childIndex:(NSInteger)index{ NSLog(@"validate Drop"); } but still when i try to drag the row of NSOutlineView nothing is happening, even i tried to debug via NSLog but i couldn't see any log from above function, Am i missing any important method ? to support Drag-n-drop
