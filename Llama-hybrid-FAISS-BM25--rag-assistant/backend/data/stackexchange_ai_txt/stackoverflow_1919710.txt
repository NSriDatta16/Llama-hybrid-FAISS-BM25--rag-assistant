[site]: stackoverflow
[post_id]: 1919710
[parent_id]: 
[tags]: 
Alternative methods for creating dynamic JavaScript?

Background I am working on a project that runs in an embedded web browser in a small device with limited resources. The browser itself is a bit dated and has limits to its capabilities (HTML 4.01†, W3C DOM Level 2†, JavaScript 1.4). I have no documentation on the browser, so what I do know comes from trial and error. The point is to retrieve dynamic content from a server so that only a minimal amount of inflexible code needs to be embedded into the device running the web browser. The browser does not support the XMLHTTPRequest object, so AJAX is out. Working with I do have, I wrote a bit of test code to dynamically insert JavaScript. † Minor portions of these standards not supported EDIT While I cannot actually confirm it, I believe that this site may list the DOM support for the embedded browser because I see "Mozilla/4.0 (compatible; EBSWebC 2.6; Windows NT 5.1)" as the user agent in the server log. Method 1 I initially implemented the dynamicJS function using Method 1 and found that while the code executes as expected in Chrome, IE8, and FireFox 3.5, the JavaScript is not actually retrieved by the embedded browser when the element is appended. function dynamicJS() { var js = document.createElement("script"); js.type = "text/javascript"; js.src = "js/test.js"; document.getElementById("root").appendChild(js); } Method 2 Looking for a work around, I implemented Method 2 . This method actually works in the embedded browser as the JavaScript is retrieved and executed, but it does not work in other modern web browsers's I tested against (Chrome, IE8, FireFox 3.5). function dynamicJS() { var js= ' '; document.getElementById("testDiv").innerHTML = js; } Question I'm new to JavaScript and web programming in general, so I'm hoping one (or more) of the experts here can shed some light on this for me. Is there anything technically wrong with Method 2 and if not, why doesn't it work in modern web browsers?
