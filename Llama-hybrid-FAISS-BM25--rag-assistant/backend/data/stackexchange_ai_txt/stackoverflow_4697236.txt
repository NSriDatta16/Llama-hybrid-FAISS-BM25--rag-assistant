[site]: stackoverflow
[post_id]: 4697236
[parent_id]: 
[tags]: 
Using javascript to rename multiple HTML files using the in each file

I have used HTTRACK to download Federal regulations from a government website, and the resulting HTML files are not intuitively named. Each file has a tag set, that would serve nicely to name each file in a fashion that will lend itself to ebook creation. I want to turn these regulations into an ebook for my Kindle, so that I can have the regulations readily available for reference, rather than having to carry volumes of books with me everywhere. My preferred text/hex editor, UltraEdit Professional 15.20.0.1026, has scripting commands enable through embedding of the JavaScript engine. In researching possible solutions to my problem, I found xmlTitleSave on the IDM UltraEdit website. // ---------------------------------------------------------------------------- // Script Name: xmlTitleSave.js // Creation Date: 2008-06-09 // Last Modified: // Copyright: none // Purpose: find the value in an XML document, then saves the file as the // title.xml in a user-specified directory // ---------------------------------------------------------------------------- //Some variables we need var regex = " (.*) " //Perl regular expression to find title string var file_path = UltraEdit.getString("Path to save file at? !! MUST PRE EXIST !!",1); // Start at the beginning of the file UltraEdit.activeDocument.top(); UltraEdit.activeDocument.unicodeToASCII(); // Turn on regular expressions UltraEdit.activeDocument.findReplace.regExp = true; // Find it UltraEdit.activeDocument.findReplace.find(regex); // Load it into a selection var titl = UltraEdit.activeDocument.selection; // Javascript function 'match' will match the regex within the javascript engine // so we can extract the actual title via array t = titl.match(regex); // 't' is an array of the match from 'titl' based on the var 'regex' // the 2nd value of the array gives us what we need... then append '.xml' saveTitle = t[1]+".xml"; UltraEdit.saveAs(file_path + saveTitle); // Uncomment for debugging // UltraEdit.outputWindow.write("titl = " + titl); // UltraEdit.outputWindow.write("t = " + t); My question is two-fold: Can this JavaScript be modified to extract the contents from an HTML file and rename the files? If the JavaScript cannot be modified easily, is there a script/program/black magic/animal sacrifice that can accomplish the same thing? EDIT: I have been able to get the script to work as desired by removing the UltraEdit.activeDocument.unicodeToASCII(); line and changing the file extension to .html . My only issue now is that while this script works on single open files, it does not batch process the directory.
