[site]: stackoverflow
[post_id]: 223224
[parent_id]: 223215
[tags]: 
Personally I think that if there's a crime, it's asking the header for the payload. But as long as you're going to do it that way, 'this+1' is as good a way as any. Justification: '&this[1]' is a general-purpose piece of code that doesn't require you to go digging through class-definitions to fully comprehend, and doesn't require fixing when someone changes the name or contents of the class. BTW, the first example is the true crime against humanity. Add a member to the end of the class and it'll fail. Move the members around the class and it'll fail. If the compiler pads the class, it'll fail. Also, if you're going to assume that the compiler's layout of classes/structs matches your packet layout, then you should understand how the compiler in question works. Eg. on MSVC you'll probably want to know about #pragma pack . PS: It's a little scary how many people consider "this+1" or "&this[1]" hard to read or understand.
