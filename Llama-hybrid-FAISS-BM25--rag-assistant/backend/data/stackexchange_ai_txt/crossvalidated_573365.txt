[site]: crossvalidated
[post_id]: 573365
[parent_id]: 569888
[tags]: 
It's not totally clear to me what the problem is, but I'm assuming there is heterogeneity in net margin between observations. In your DiD model, the between-observation heterogeneity is generally (or can be) removed either by demeaning or differencing. It is still possible that heterogeneity between observations can pose an issue, as within-observation, annual changes could have a larger variance for observations with greater panel-average levels of net margin. For example, if Germany's bank's net margin is consistently much greater than Estonia's over the panel, and banks in Germany and Estonia both increased their net margin by 10% (of net margin) on average during each of the pre-treatment years, the raw values would appear as a non-parallel trend, as the change in net margin would have a much steeper slope for Germany than Estonia (as raw net margin). However, if you converted to annual percent change in net margin, this would appear as a parallel trend. Change in logged values is often a good proxy for percent change. Net margin is already a ratio. Adding an additional scaling component would mean you are no longer working with net margin, right? If converting to percent change introduces bias or still does not satisfy parallel trends, perhaps your treatment and control groups do not have pre-treatment parallel trends. The did package let's you test whether a parallel trend exists conditional on covariates if that is the case.
