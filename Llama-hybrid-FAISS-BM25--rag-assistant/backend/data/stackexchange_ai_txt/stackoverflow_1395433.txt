[site]: stackoverflow
[post_id]: 1395433
[parent_id]: 1395395
[tags]: 
The interace that you are using is using the struct hack . This means that you need to manually dynamically allocate enough storage for the structure as if it was declared with region being an array of more than 1 FlashRegion . For this interface, it needs to be enough space for at least and array of dwNumRegions FlashRegion s. Something like offsetof(FlashInfoEx, region) + sizeof FlashRegion * n bytes where n is a number that you need to subsequently pass to FMD_GetInfoEx or whatever function you are using.
