[site]: crossvalidated
[post_id]: 14756
[parent_id]: 11368
[tags]: 
As it turns out you can use profile maximum likelihood to ensure the necessary properties. You can prove that for given $\hat\theta$, $l(\hat\theta,\Sigma)$ is maximised by $$\hat\Sigma=\frac{1}{n}\sum_{i=1}^n\hat{\varepsilon}_i\hat{\varepsilon}_i',$$ where $$\hat{\varepsilon}_i=y_i-f(x_i,\hat\theta)$$ Then it is possible to show that $$\sum_{i=1}^n(y_i-f(x_i,\hat\theta))'\hat\Sigma^{-1}(y-f(x_i,\hat\theta)))=const,$$ hence we only need to maximise $$l_R(\theta,\Sigma)=-\frac{n}{2} \log\det\hat\Sigma.$$ Naturally in this case $\Sigma$ will satisfy all the necessary properties. The proofs are identical for the case when $f$ is linear which can be found in Time Series Analysis by J. D. Hamilton page 295, hence I omitted them.
