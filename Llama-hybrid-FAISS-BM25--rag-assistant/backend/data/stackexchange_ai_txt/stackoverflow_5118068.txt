[site]: stackoverflow
[post_id]: 5118068
[parent_id]: 5117778
[tags]: 
Generally speaking, Lock protects shared state and Condition is used to wait for particular condition on that state. But in your task you actually have two sets of orthogonal states - states of elevators and states of floors. It means that if you want to use Lock / Condition primitives to work with this task, you need to create separate locks and conditions for these states. That is, when elevator arrives at the floor, it acquires its own lock and a lock of the floor, and then signals a condition associated with the floor, so that visitors waiting on the floor are awakened. Also pay attention on lock ordering to avoid deadlocks in this scheme.
