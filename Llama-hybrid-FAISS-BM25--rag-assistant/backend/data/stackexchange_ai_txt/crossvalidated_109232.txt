[site]: crossvalidated
[post_id]: 109232
[parent_id]: 
[tags]: 
Low explained variance in Random Forest (R randomForest)

I am using randomForest in R for regression, I have many categorical predictors (all of them have the same 3 categories (0,1,2)) and I want to see which of them can predict the response (continuous). I am trying this with many different response variables (one at the time) and all the models have a very low explained variance (basically 0, almost always negative). I checked chi-square between pairs of variables and removed the ones that could be associated (p-value My questions are: 1 - Is this possible? Am I doing something very wrong without noticing? If no: 2 - In random forest, do I have to throw everything away or can I still use the variable importance for classifying the predictors? (I don't think so, but since I couldn't find anything about this, I still hope I can get something out of it - BTW why does the plot predicted vs observed look good??). If no: 3 - Any suggestion? Also for alternative methods? In the example below I don't divide the data in training and test for simplicity, but I did it in my code - same problem. Also, my original data set is much bigger (>500 observations and almost 100 predictors) ## predictors > pred X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 X11 X12 X13 X14 X15 X16 X17 X18 X19 X20 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 0 1 2 2 2 0 1 2 0 0 1 0 0 1 1 2 2 1 1 2 3 0 1 0 2 2 1 1 2 1 1 2 1 0 0 1 2 2 2 0 0 4 0 0 1 1 1 1 1 1 1 1 1 1 0 0 2 0 2 2 0 1 5 0 1 1 2 2 0 1 2 2 1 2 0 0 0 1 1 0 2 0 1 6 1 1 0 2 2 1 1 1 2 1 0 1 0 1 1 2 2 2 1 2 7 0 1 1 1 1 1 2 1 2 1 2 1 0 1 1 2 1 2 1 1 8 0 1 2 1 0 1 0 2 1 1 1 2 0 0 1 2 1 2 1 2 ........ ## response > resp [1] 19.416 46.058 39.496 79.752 301.012 746.377 277.721 13.922 15.598 82.195 86.263 [12] 82.522 30.829 101.369 31.496 39.366 133.510 ## find optimal value of mtry for randomForest > bestmtry ind RF RF Call: randomForest(x = pred, y = resp, ntree = 500, mtry = ind, importance = TRUE, keep.forest = TRUE) Type of random forest: regression Number of trees: 500 No. of variables tried at each split: 9 Mean of squared residuals: 32713.86 % Var explained: -6.5 ## Low explained variance (pseudo - r sqaured) > RF.pr = predict(RF,pred) ## the plot isn't that bad though... it is if I use the test data set though > plot(RF.pr, resp) > abline(c(0,1),col=2) > varImpPlot(RF) I have been stuck with this for a while now... any help is extremely appreciated
