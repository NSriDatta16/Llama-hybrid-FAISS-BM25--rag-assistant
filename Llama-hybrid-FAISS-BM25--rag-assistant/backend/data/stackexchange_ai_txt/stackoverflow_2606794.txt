[site]: stackoverflow
[post_id]: 2606794
[parent_id]: 
[tags]: 
Problem with creating a newenvironment in LaTeX

I am trying to implement this new environment in LaTeX: \newenvironment{javacode}[2] {\begin{lstlisting}[language=java, label=#1, caption=#2]} {\end{lstlisting}} And then use it like such: \begin{javacode}{c}{some code} int x = 5; \end{javacode} But I am getting the following error: Overfull \hbox (6.0pt too wide) in paragraph at lines 6--6 [][][][][][][] [1] [2]) [3]) * Can anyone help as regards fixing this problem? [Update] I tried it doing it like Red-nosed unicorn instructed, and it worked correctly. But now I tried adding a \begin{singlespace} like such: \lstnewenvironment{javacode}[2] { \begin{singlespace} \lstset{language=java, label=#1, caption=#2}} { \end{singlespace} } And I got the same error: Overfull \hbox (6.0pt too wide) in paragraph at lines 6--6 [][][][][][][] [1]) [2] [3]) *
