[site]: stackoverflow
[post_id]: 2381545
[parent_id]: 
[tags]: 
PHP mail function, whats wrong here?

The following code sends me an email holding the following variables. One of the last if statements says if(mail) then echo "You will be contacted soon". When the script runs I get echoed back "You will be contacted soon", however, I never receive an email. I do have a smaller contact script (posted after this first and larger one) that does work. Note: contants.php and functions.php are both included and work fine WEBMASTER_EMAIL is defined in contanstants.php and is correct, because my smaller contact script uses the same variable, and emails me fine. Thanks for the help '; } if(!$email) { $error .= 'Please enter an e-mail address. '; } if($email && !ValidateEmail($email)) { $error .= 'Please enter a valid e-mail address. '; } if(!$time_to_reach) { $error .= 'Please select the best time to reach you. '; } // check delivery info if(!$delivery_address) { $error .= 'Please enter you current address. '; } if(!$delivery_city) { $error .= 'Please enter your current city. '; } if(!$delivery_state) { $error .= 'Please enter your current state. '; } if(!$delivery_zip) { $error .= 'Please enter your current zip code. '; } // check date needed if(!$month) { $error .= 'Please enter the approximate date you need the storage. '; } if(!$day) { $error .= 'Please enter the approximate date you need the storage. '; } if(!$year) { $error .= 'Please enter the approximate date you need the storage. '; } // check length of time needed if(!$storage_length) { $error .= 'Approximatly how long will you need the storage unit for? '; } // check quantity of storages if(!$quantity_containers) { $error .= 'How many containers will you need? '; } // check advertising tracker if(!$tracker) { $error .= 'Please let us know how you\'ve heard of us. '; } // check message (length) if(!$message_holder || strlen($message_holder) "; } // build email message $message = "Name: {$name} Phone: {$phone} Email: {$email} Best time to reach: {$time_to_reach}\n ----------------------------------------------------- Delivery address: {$delivery_address} {$delivery_city}, {$delivery_state} {$delivery_zip} Moving address: {$moving_address} {$moving_city}, {$moving_state} {$moving_zip} ----------------------------------------------------- Date needed: {$month}/{$day}/{$year} Length of time needed: {$storage_length} Number of containers: {$quantity_containers} Where did you hear about us? {$tracker}\n Message: {$message_holder}\n"; if(!$error) { $mail = mail(WEBMASTER_EMAIL, $subject, $message, "From: residential-quote@stocor.com\r\n" ."Reply-To: ".$name." \r\n" ."X-Mailer: PHP/" . phpversion()); if($mail) { echo ' Thank you, you will be contacted soon. '; } } else { echo ' '.$error.' '; } ?> The following script, contact script, does work meaning I receive an email. '; } // check email if(!$email) { $error .= 'Please enter an e-mail address. '; } // validate email if($email && !ValidateEmail($email)) { $error .= 'Please enter a valid e-mail address. '; } // check advertising tracker if(!$tracker) { $error .= 'Please let us know how you\'ve heard of us.'; } // check message (length) if(!$message_holder || strlen($message_holder) "; } // build email message $message = "Name: {$name} \n Phone: {$phone} \n Email: {$email} \n Where did you hear about us? {$tracker}\n\n Message: {$message_holder}\n"; if(!$error) { $mail = mail(WEBMASTER_EMAIL, $subject, $message, "From: contact@stocor.com\r\n" ."Reply-To: ".$name." \r\n" ."X-Mailer: PHP/" . phpversion()); if($mail) { //header("Location: thank_you.php"); echo "Thank you. You will be contacted soon."; } } else { echo ' '.$error.' '; } ?>
