[site]: stackoverflow
[post_id]: 2817493
[parent_id]: 
[tags]: 
NHibernate, each property is filled with a different select statement

I'm retrieving a list of nhibernate entites which have relationships to other tables/entities. I've noticed instead of NHibernate performing JOINS and populating the properties, it retrieves the entity and then calls a select for each property. For example if a user can have many roles and I retrieve a user from the DB, Nhibernate retrieves the user and then populates the roles with another select statement. The problem is that I want to retrieve oh let's say a list of products which have various many-to-many relationships and relationships to items which have their own relationships. In the end I'm left with over a thousand DB calls to retrieve a list of 30 products. I've also set default lazy loading to false because whenever I save the list of entities to a session, I get an error when trying to retrieve it on another page: LazyInitializationException: could not initialize proxy If anybody could shed any light I would truly appreciate it. Here is and example sql: SELECT * FROM Product b LEFT JOIN Minisites mini ON b.MinisiteId = mini.MinisiteId LEFT JOIN TimeRanges tr ON mini.TimeRange = tr.TimeRangeId WHERE mini.MinisiteId = 7 OR tr.FromDate > '3/18/2010 12:00:00 AM' ORDER BY CASE WHEN mini.MinisiteId = 7 then 1 else 0 end + CASE WHEN tr.FromDate > '3/18/2010 12:00:00 AM' then 1 else 0 end DESC This is the code that I call to retrieve the product (I pass in an example product to create the query, the actual code of creating the query is too long to post but the query string is basically what I've posted above): Session.CreateSQLQuery(GetSqlQuery(product)).AddEntity(typeof(Product)).SetResultTransformer(new DistinctRootEntityResultTransformer()).UniqueResult().List (); From that function I return a list of products which I bind to a datalist. The datalist has rows with the name, company, State and when you click it, it opens to a box underneath with all of the product information, clarity, cut, etc. Each product has relations to to other properties which have relations to others, for example it would have a relation to user which has a relation to address which has a relation to country, etc. For each of these properties a select statement is made. Here is my hbm file for products: Thanks. Eitan
