[site]: stackoverflow
[post_id]: 4191289
[parent_id]: 
[tags]: 
How to write elegant perl code without ref

Help me code this scenario better. Let's say I have a baseclass named "car", and two derived classes named "Ferrari" and "Chevrolet". Now I have an new class named "ParkingLot", which should know what the car it is operating on, to customize the lot-size and other attributes. Now back to the problem. The current codebase that Iam working on is very matured, and it's complete written in Perl OOPS. The "ParkingLot" constructor will always be passed with the car object (instantiated much before this) as an argument. The code(Parking Lot) uses this argument, does a ref on object pointer to find whether the class is "Ferrari"/"Chevrolet" and does some very specific operations based on the car Type. This example, I would say is a "tip of the iceberg" and these kind of code is littered everywhere throughout the code making it more unmaintainable. Tommorow, if I want to add a new car, that my parking Lot should support, then it's becomes a nightmare to check for references all through the code and do the changes manually. What would you do to rework the code to make it more elegant and maintainable?
