[site]: stackoverflow
[post_id]: 218924
[parent_id]: 218866
[tags]: 
It could be easier (but less efficient) to make a query for each organisation (plus one query to find how many organisations there are presumably). A better way to do it would be to loop through the array beforehand. For example: $sql = $mysqli->query('SELECT * FROM `organisation_members` ORDER BY `organisation` DESC'); if (!$sql || $sql->num_rows) { // No data } else { $data = array(); while ($row = $sql->fetch_assoc()) {} if (!array_key_exists($row['organisation'], $data)) { $data[$row['organisation']] = array(); } $data[$row['organisation']][]['name'] = $row['name']; // ... } $sql->close(); echo ' '; foreach ($data as $org => $people) { $people_in_org = count($data[$org]) - 1; $counter = 0; echo ' '; echo ' ' . $org . ' '; while ($counter 0) { echo ' '; } echo ' ' . $people[$counter]['name'] . ' '; // etc echo ' '; } } echo ' '; }
