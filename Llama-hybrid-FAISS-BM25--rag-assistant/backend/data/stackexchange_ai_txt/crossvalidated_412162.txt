[site]: crossvalidated
[post_id]: 412162
[parent_id]: 412129
[tags]: 
You did not provide a lot of information, so here is some food for thought that may or may not apply to your situation: Difference-in-difference design requires that intervention (application of discount in your case) is unrelated to outcome at baseline (allocation of intervention was not determined by outcome). This is because it is possible that the unaffected group may have already reached its maximum outcome at the time of intervention, and any lack of changes in that group's outcome may not be due to it being unaffected by the intervention. Similarly, the estimated effect on the "affected" group may be biased because that group was low-performing in the baseline period and may be experiencing regression to the mean after the intervention. This type of issue may possibly be addressed by matching treatment and control units on their level of baseline performance. Discount also may not be exogenous if there is some other factor or factors correlated with application of discount that also affect(s) your dependent variable. So, from the economic perspective, the following questions are relevant for determining if this variable is truly exogenous: Have you considered the issue of elasticity? If you are planning to consider products in groups (affected by discount and unaffected by discount), and your dependent variable is sales revenue, then you have to consider that if demand for one product is relatively elastic, when its price is lowered, the total revenue increases. But if demand for another product is relatively inelastic, when its price is lowered, the total revenue decreases. So if you have both types of products in the affected group, the effects on them can offset each other. In that sense, it is better to use quantity sold as the dependent variable, rather than total revenue. (More info on elasticity can be found here: https://en.wikipedia.org/wiki/Price_elasticity_of_demand#Effect_on_total_revenue ) If you also have products that can be considered substitutes or complements in the affected and unaffected groups, then you can't really consider the unaffected group as actually being unaffected, because you are likely to see changes in that group too. The direction of changes would depend on whether the products are substitutes or complements. Another possible endogeneity concern here is time of day and whether any effect you contribute to the application of discount is possibly just the effect of time of day on the observed differences in sales between the affected and unaffected groups. There may be other issues that apply to your data, so I encourage you to look up the assumptions of difference in difference models and think logically through whether they are valid in your situation, and if not, separately research what to do if any of the assumptions are violated. Finally, you may want to consider the Regression Discontinuity Design (RDD) approach here, assuming that there is some threshold/cutoff that is not based on the value of your dependent variable but is based on the value of some other continuous variable that determines whether a discount will apply to a product or not. RDD is about comparing two groups that are very similar except for the treatment because the treatment depends discontinuously on some cutoff. With this approach, you would be able to estimate the Local Average Treatment Effect, where Local means the effect of treatment specifically around the cutoff value of that continuous variable that led to treatment.
