[site]: stackoverflow
[post_id]: 1681060
[parent_id]: 
[tags]: 
library path when dynamically loaded?

How can I get the path of the shared library from within the library itself? In other words, let's say that library X is loaded using dlopen() , how can I get access to the path that was used to load the said library from within the library itself? Note that I cannot have the agent that loaded the library in the first place hand me this parameter. UPDATED: Here is way that works with static variables: std::string wdir; namespace { class dynamic_library_load_unload_handler { public: dynamic_library_load_unload_handler(){ Dl_info dl_info; dladdr((void *) NP_Initialize, &dl_info); std::string path(dl_info.dli_fname); wdir = path.substr( 0, path.find_last_of( '/' ) +1 ); } ~dynamic_library_load_unload_handler(){ // Code to execute when the library is unloaded } } dynamic_library_load_unload_handler_hook; }
