[site]: stackoverflow
[post_id]: 4336107
[parent_id]: 4335016
[tags]: 
I wrote a function for my sites that converts user ids into a two level subdirectory hierarchy that limits subdirectories to 1000 at each level. function get_image_dir($gid) { $d = str_split(str_pad($gid, 6, "0", STR_PAD_LEFT), 3); $wdir = "/images/members/" . $d[0] . "/" . $d[1] . "/" . $gid; return $wdir; } (I actually add a third level with the raw user id to handle the rollover at 1,000,000. /images/members/000/001/1 /images/members/000/002/2 ... /images/members/999/999/999999 /images/members/000/000/1000000 /images/members/000/001/1000001 Within those subdirectories, I further segregate based on albums (organized by members) various resizings (for different places on the site Final structure looks something like /images/members/000/001/1/album1/original /images/members/000/001/1/album1/50x50 /images/members/000/001/1/album1/75x75 /images/members/000/001/1/album1/400x300 The str_split(str_pad()) in the function probably isn't optimal, but for now it works.
