[site]: stackoverflow
[post_id]: 4173096
[parent_id]: 
[tags]: 
How to drag and drop image file in C# WPF application

Hi I'm a beginner in WPF C# and i developed a simple C# WPF application which is a simple window containing an image control and i want to drag any image file from my computer and drop it on the image control for displaying it.And i wrote the code below for dong this in the XML File and inside the code file (*.cs) private void image1_DragEnter(object sender, DragEventArgs e) { if(e.Data.GetDataPresent(DataFormats.Bitmap)) e.Effects=DragDropEffects.Copy; else e.Effects=DragDropEffects.None; } private void image1_Drop(object sender, DragEventArgs e) { image1.Source = (BitmapImage)e.Data.GetData(DataFormats.Bitmap); } but it doesn't work (when dragging over the image control the cursor become a circle containing back slash) and i don't why could any one hlp thanks in advance Updated Answer I have changed the code to the following one but with same problem private void image1_DragEnter(object sender, DragEventArgs e) { if(e.Data.GetDataPresent(DataFormats.Text)) e.Effects=DragDropEffects.Copy; else e.Effects=DragDropEffects.None; } private void image1_Drop(object sender, DragEventArgs e) { string fpath = (string)e.Data.GetData(DataFormats.Text); BitmapImage tmpImage=new BitmapImage((new Uri(fpath))); image1.Source = tmpImage; }
