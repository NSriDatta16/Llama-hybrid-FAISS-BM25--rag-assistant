[site]: stackoverflow
[post_id]: 5179053
[parent_id]: 5166851
[tags]: 
Of course, the Python version of FlexMock is an even better choice! import subprocess from cStringIO import StringIO from flexmock import flexmock def run_agent(): flexmock(subprocess).should_receive('Popen').and_return( StringIO(''), StringIO(' ') )
