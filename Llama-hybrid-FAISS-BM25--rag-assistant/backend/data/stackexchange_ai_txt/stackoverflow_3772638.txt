[site]: stackoverflow
[post_id]: 3772638
[parent_id]: 
[tags]: 
Copy one column to another for over a billion rows in SQL Server database

Database : SQL Server 2005 Problem : Copy values from one column to another column in the same table with a billion+ rows. test_table (int id, bigint bigid) Things tried 1: update query update test_table set bigid = id fills up the transaction log and rolls back due to lack of transaction log space. Tried 2 - a procedure on following lines set nocount on set rowcount = 500000 while @rowcount > 0 begin update test_table set bigid = id where bigid is null set @rowcount = @@rowcount set @rowupdated = @rowsupdated + @rowcount end print @rowsupdated The above procedure starts slowing down as it proceeds. Tried 3 - Creating a cursor for update. generally discouraged in SQL Server documentation and this approach updates one row at a time which is too time consuming. Is there an approach that can speed up the copying of values from one column to another. Basically I am looking for some 'magic' keyword or logic that will allow the update query to rip through the billion rows half a million at a time sequentially. Any hints, pointers will be much appreciated.
