[site]: stackoverflow
[post_id]: 5157824
[parent_id]: 
[tags]: 
Custom Initializer Variable for Rails Tests

I have a custom initializer that configures a 'cloud' storage provider (Google, AWS, Rackspace). I'm creating an app that I want to be deployable by a variety of developers (using different storage providers) and I would like to be able to test each cloud provider individually. Currently I go through my initializer file three times and comment / uncomment each provider before running rake test . Is it possible to pass in an option to rake test that I can then use in my initializer for control flow (i.e. load a specific initializer)? Something like: rake test --attached aws rake test --attached google rake test --attached rackspace Here is what my initializer looks like: # config/initializers/attached.rb Attached::Attachment.options[:medium] = :aws Attached::Attachment.options[:credentials] = "#{Rails.root}/config/aws.yml" Attached::Attachment.options[:medium] = :google Attached::Attachment.options[:credentials] = "#{Rails.root}/config/google.yml" Attached::Attachment.options[:medium] = :rackspace Attached::Attachment.options[:credentials] = "#{Rails.root}/config/rackspace.yml" Thanks!
