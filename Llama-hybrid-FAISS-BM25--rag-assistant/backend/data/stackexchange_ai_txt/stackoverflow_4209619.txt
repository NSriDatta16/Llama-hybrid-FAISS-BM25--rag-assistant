[site]: stackoverflow
[post_id]: 4209619
[parent_id]: 4200813
[tags]: 
std::once_flag has a constexpr constructor, so instances with static storage duration are always statically initialized. Incidentally, the point about scoped_ptr is important --- the constructor of the scoped_ptr instance is NOT static initialization, so will race with any uses of the singleton before it has been initialized, and possibly overwrite the pointer.
