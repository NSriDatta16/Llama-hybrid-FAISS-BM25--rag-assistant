[site]: stackoverflow
[post_id]: 2756304
[parent_id]: 2756273
[tags]: 
Take a look at the following outline for the DX10 pipeline, it says that the stencil test runs before the pixel shader: http://3.bp.blogspot.com/_2YU3pmPHKN4/Sz_0vqlzrBI/AAAAAAAAAcg/CpDXxOB-r3U/s1600-h/D3D10CheatSheet.jpg and the same is true in DX11: http://4.bp.blogspot.com/_2YU3pmPHKN4/S1KhDSPmotI/AAAAAAAAAcw/d38b4oA_DxM/s1600-h/DX11.JPG I don't know if this is mandated in the OpenGL spec but it would be detrimental for an implementation to not do the stencil test before running the fragment program.
