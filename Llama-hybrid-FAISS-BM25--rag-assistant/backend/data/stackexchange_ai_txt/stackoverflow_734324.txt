[site]: stackoverflow
[post_id]: 734324
[parent_id]: 734227
[tags]: 
Frankly, I don't see what having essentially duplicate C and C++ functions buys you. I'd suggest keeping the C functions as basic as possible, defining an API with all the primitives exposed and nothing fancy. Then define the C++ classes at a much higher level, so a UART would have a constructor, destructor, meaningful methods, that sort of thing. It would have all necessary data storage. The C++ classes would not expose all possible primitives; in order to do something different, you'd write a new member function or class or whatever, calling the C API. That's the approach in systems like OCCI (the Oracle C++ Call Interface) and MFC and others, and it works well.
