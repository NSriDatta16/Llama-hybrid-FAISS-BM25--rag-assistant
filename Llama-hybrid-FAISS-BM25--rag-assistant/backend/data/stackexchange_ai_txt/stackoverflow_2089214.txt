[site]: stackoverflow
[post_id]: 2089214
[parent_id]: 2088409
[tags]: 
Your use of the default visibility attribute and -fvisibility=hidden should be augmented with -fvisibility-inlines-hidden. You should also forget about trying to hide stdlib exports, see this GCC bug for why. Also, if you have all of your public symbols in a specific headers you can wrap them in #pragma GCC visibility push(default) and #pragma GCC visibility pop instead of using attributes. Though if you are creating a cross platform library, take a look at Controlling Exported Symbols of Shared Libraries for a technique to unify your windows DLL and Linux DSO export strategy.
