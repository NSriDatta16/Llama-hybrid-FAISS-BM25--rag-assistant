[site]: stackoverflow
[post_id]: 1049520
[parent_id]: 1037209
[tags]: 
If fields and values are both identifiers, where an identifier is a non-empty string of alphabetic characters (allowing a value to be empty, as in your example), you could do something like: term : '(' NOT? field '=' value ')'; field : IDENTIFIER ; value : IDENTIFIER? ; // lexer IDENTIFIER : ALPHA+ ; fragment ALPHA : ('a'..'z' | 'A'..'Z'); Since the lexer can't tell a field from a value, you'd need to let the lexer treat them the same, and use the parser to tell the difference based on the context.
