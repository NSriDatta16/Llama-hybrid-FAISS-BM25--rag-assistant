[site]: stackoverflow
[post_id]: 5413848
[parent_id]: 
[tags]: 
req.pause() on a finished request pauses the next request

I have a really simple file upload example var http = require('http'); http.createServer(function(req, res){ console.log(req.method); if (req.method == 'GET'){ res.writeHead(200); res.write(' ') res.end(); }else if(req.method == 'POST'){ req.pause(); res.writeHead(200); res.end(); }else{ res.writeHead(404).end(); } }).listen('8081'); What I want to do is pause the upload. While it works fine with large files, the small ones ( next request to the server is paused (i.e. when I try to load the page, it never reaches the console.log(req.method) part, but when I refresh again it's back to normal), which is definitely not fine. It seems like an error that would pop out once in a while, so I was suprised when I didn't find any complaints about it. What are your thoughts/possible explanation/workaround/fix suggestions? For now I check whether the file's size is below a certain threshold, but it doesn't look very safe or ellegant.
