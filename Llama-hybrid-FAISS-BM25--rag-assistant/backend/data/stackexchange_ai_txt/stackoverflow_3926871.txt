[site]: stackoverflow
[post_id]: 3926871
[parent_id]: 3926847
[tags]: 
test.com/(?:([a-z]{2})(?=$|/))?(?:/)?(.*) Explanation: test.com/ #match beginning boilerplate, replace with "^" if need be (?:([a-z]{2})(?=$|/))? #match two characters if followed by the end of line or slash (?:/)? #consume the slash if there was one (.*) #the page Edit : OK I think this works now. There may be a more elegant solution though. First group is the language code, second group is the page. It works for me with the four inputs you gave.
