[site]: stackoverflow
[post_id]: 4084316
[parent_id]: 4084216
[tags]: 
Validate and submit are not for outputting data. You should show your results in custom1_default_form: Add in submit $_SESSION['search_text'] or use multistep " storage " (learn drupal form api for this). But let's look how to work via sessions: Add in custom1_default_form: // Here is your form code, so form will appear on the top // ... if (isset($_SESSION['search_text'])) { //add here your code from submit that output searching result $form['result'] = array( '#type' => 'item', '#value' => $output, ); unset($_SESSION['search_text']); // don't forget clear session } Your submit function should be like this: function custom1_default_form_submit($form, &$form_state) { $_SESSION['search_text'] = $form_state['values']['txt_name']; // this will store text field into session, then reload page, // so you drupal_get_form will see entered values. } This is all. Tips: if(($form_state['values']['txt_name']) == '') { form_set_error('user_webservice', t('Enter a name')); } This code is not needed, if you do: $form['txt_name'] = array( ... // other properties '#required' => true, ); Read please about form api here: http://api.drupal.org Other way to use block, just call function that output result and form via drupal_get_form, so: ... $block['content']='custom1_default_result'; ... function custom1_default_result () { $output .= drupal_get_form('custom1_default_form'); ... $output .= //search result if session filled/ }
