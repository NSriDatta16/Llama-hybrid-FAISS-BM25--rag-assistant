[site]: stackoverflow
[post_id]: 1420821
[parent_id]: 1420602
[tags]: 
The command line options you've supplied to g++ are telling it that you're trying to build an executable, not a shared library. g++ is complaining that you haven't defined a main function, as every executable requires one. Compile your shared library with the -c flag so that g++ knows to build a library, i.e. compile and assemble your code, but don't try to link it into an executable file. g++ -c -o agent.so -I `/usr/libexec/java_home`/include agent.cpp
