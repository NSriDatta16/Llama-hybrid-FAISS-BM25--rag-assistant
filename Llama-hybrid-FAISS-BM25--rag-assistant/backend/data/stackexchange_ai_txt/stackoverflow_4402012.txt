[site]: stackoverflow
[post_id]: 4402012
[parent_id]: 
[tags]: 
Avoiding Timeouts on iPhone

I am looking for a good strategy to insert about 2500 id firstName lastName tuples (600KB) from an AJAX call. The timeout happens after the AJAX call completes and while I am storing the data in the localstorage database. The data is in XML format. What I am doing now is converting the XML data into an object by doing a jQuery.each() over the data with this, associateNames[index] = { firstName:jQuery(value).find("First").text(), lastName:jQuery(value).find("Last").text(), id:jQuery(value).find("ID").text() }; Then I pass this object to a function that creates a table and inserts this data. The main part of that function is. query2.executeSql('CREATE TABLE directory (id unique, fullName)', [], // On Success function(query, result) { jQuery.each(data, function(index, value) { var querySQL = 'INSERT INTO directory (id, fullName) VALUES (' + value.id + ', "'+ encodeURI(value.firstName) + encodeURI(value.lastName) + '")'; query.executeSql(querySQL); }); }, The iPhone doesn't support web workers. There should be a way to use setInterval() and process pieces of data at a time, but I am getting stuck. Please let me know if you have an idea. Thanks!
