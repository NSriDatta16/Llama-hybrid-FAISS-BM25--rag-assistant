[site]: stackoverflow
[post_id]: 4595801
[parent_id]: 
[tags]: 
TeamCity + git and authentication for submodules

Trying to configure TeamCity to build our project, I'm having trouble getting the git VCS module to checkout a submodule. The submodule should be checked out using the same authentication as the root module, but I cannot figure out how to configure TeamCity for this. I have tried both password and private key authentication, but they both fail: [12:07:14]: Patch is broken, can be found in file: C:\TeamCity\buildAgent\temp\cache\temp8149231956777659708patch_48 [12:07:14]: RunBuildException when running build stage UpdateSourcesFromServer: Failed to build patch for build 31 {build id=48}, VCS root: ssh://host/repo#master {id=2}, due to error: Patch building failed: jetbrains.buildServer.buildTriggers.vcs.git.submodules.SubmoduleFetchException: Cannot fetch submodule. Repository URL: 'ssh://*****@host/repo', submodule path: 'subrepo'. org.eclipse.jgit.errors.TransportException: ssh://*****@host/subrepo: Auth fail com.jcraft.jsch.JSchException: Auth fail TeamCity runs on a windows machine and the git repos are on a linux machine. Is it possible to configure authentication for submodules in TeamCity, or can anyone come up with a good workaround?
