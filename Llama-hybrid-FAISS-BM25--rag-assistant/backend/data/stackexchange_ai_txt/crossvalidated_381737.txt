[site]: crossvalidated
[post_id]: 381737
[parent_id]: 
[tags]: 
Seeking a post-hoc test for zero-inflated glmmTMB

I am attempting to use glmmTMB modelling zero-inflated count data following the example in Mollie Brooks' and Ben Bolker's paper: https://www.biorxiv.org/content/biorxiv/suppl/2017/05/01/132753.DC1/132753-2.pdf The paper is a great guide, and all is working well except I can't seem to figure out how to implement a post-hoc test using lsmeans or emmeans. I know that those packages don't normally support glmmTMB, but some people seem to make it work. I have tried running this code from this page, a hack written by Ben Bolker, before loading the glmmTMB and lsmeans/ emmeans packages: https://github.com/glmmTMB/glmmTMB/issues/205 I also tried running this code prior to using lsmeans(), (from this source: https://r-sig-mixed-models.r-project.narkive.com/dN1cia0f/r-sig-me-glmmtmb-and-post-hoc-testing ) > source(system.file("other_methods","lsmeans_methods.R",package="glmmTMB")) However, I keep receiving the same error: Error in ref_grid(object, ...) : Can't handle an object of class “glmmTMB”. Use help("models", package = "emmeans") for information on supported models. Apologies if there is a simple solution to this that I am missing. If anyone knows of a fix for this issue, or of a different post-hoc test that works with glmmTMB and can handle variable interactions, I would greatly appreciate it. My code is below: > library("glmmTMB", lib.loc="F:/My Documents/R Packages") Warning message: package ‘glmmTMB’ was built under R version 3.4.4 > library("emmeans", lib.loc="F:/My Documents/R Packages") Warning message: package ‘emmeans’ was built under R version 3.4.4 > library("lsmeans", lib.loc="F:/My Documents/R Packages") The 'lsmeans' package is now basically a front end for 'emmeans'. Users are encouraged to switch the rest of the way. See help('transition') for more information, including how to convert old 'lsmeans' objects and scripts to work with 'emmeans'. Warning message: package ‘lsmeans’ was built under R version 3.4.4 > p3 lsmeans(p3, pairwise~Year*Site) Error in ref_grid(object, ...) : Can't handle an object of class “glmmTMB” Use help("models", package = "emmeans") for information on supported models.
