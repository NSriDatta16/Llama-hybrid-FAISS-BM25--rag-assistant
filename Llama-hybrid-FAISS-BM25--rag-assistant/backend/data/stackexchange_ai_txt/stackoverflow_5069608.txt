[site]: stackoverflow
[post_id]: 5069608
[parent_id]: 
[tags]: 
Rails - Regex help building a method that breaks long words with a tag

Helo, I want to pass a block of html/text, could include links, into a method. The method needs to break words with more than 10 characters. Here's what I have so far: def magic_format(str, len = 10) fragment = /.{#{len}}/ str.split(/(\s+)/).map! { |word| (/\s/ === word) ? word : word.gsub(fragment, '\0 ') }.join # AutoLink URLs str = auto_link(str, :html => { :target => '_blank' }) end The gsub doesn't seem to be working for some reason, it isn't adding wbr tags. Thoughts? Thanks
