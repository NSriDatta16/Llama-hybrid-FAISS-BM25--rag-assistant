[site]: stackoverflow
[post_id]: 1335630
[parent_id]: 1239760
[tags]: 
I'd tried to get one of the guys I work with to post something here, as he's acutally written this for one of our clients, but I'll take you through what I understand the process to be. Basically once you have performed whatever pre-validation requests you perform (with the DataCash binary files for example), you then submit the payment request to DataCash using the DataCash agent to send the payment request. If you've got 3D Secure set up on your DataCash account, and you've sent through the fields to say this transaction can happen with 3DS you'll probably get a status code returned of 150: ... ... ... ... ... ... ... TEST 3DS Payer Verification Required 150 ... Along with the ThreeDSecure block in the CardTxn element. You then need to take the acs_url and pareq_message, and use these to submit a request to the cards issueing bank for authorisation. This usually takes the form of a self-submitting JavaScript form, that could post into an IFrame: If you do not see your card issuer's instructions, below, please click document.forms[0].elements.TDAction.click(); document.forms[0].elements.TDAction.disabled=true; The page at TermUrl will then recieve a call from the 3D secure servers, with Form fields "PaRes" and "MD" (i.e. the response from the issueing bank, and the reference you supplied earlier). You then submit these authorization details back to DataCash as a Historical transaction to complete the payment. Details around this can be found in section D.4. 3-D Secure, with DataCash MPI in the Developers Guide, and on this page (may require login). If you require more details, let me know, and I'll try and get some more detail here.
