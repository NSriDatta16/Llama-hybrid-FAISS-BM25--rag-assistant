[site]: stackoverflow
[post_id]: 5136033
[parent_id]: 
[tags]: 
Python + Soap + XMLHTTPRequest

Hello I am trying to do a SOAP request here is my code: # Create an OpenerDirector with support for Basic HTTP Authentication... auth_handler = urllib2.HTTPBasicAuthHandler() auth_handler.add_password(realm='webservices.autotask.net', uri='https://webservices.autotask.net/atservices/1.5/atws.asmx', user=username, passwd=password) opener = urllib2.build_opener(auth_handler) # ...and install it globally so it can be used with urlopen. urllib2.install_opener(opener) page = urllib2.urlopen('https://webservices.autotask.net/atservices/1.5/atws.asmx') print (page.read(100)) SM_TEMPLATE = """ string string """ SoapMessage = SM_TEMPLATE%() print SoapMessage # construct and send the header webservice = httplib.HTTPSConnection("http://webservices.autotask.net", 443) webservice.putrequest("POST", "/ATWS/v1_5/atws.asmx") webservice.putheader("Host", "http://webservices.autotask.net") webservice.putheader("User-Agent", "Python post") webservice.putheader("Content-type", "text/xml; charset=\"UTF-8\"") webservice.putheader("Content-length", "%d" % len(SoapMessage)) webservice.putheader("SOAPAction", "\"\"") print("HEADERS") webservice.endheaders() webservice.send(SoapMessage) # get the response statuscode, statusmessage, header = webservice.getreply() print ("Response: ", statuscode, statusmessage) print ("headers: ", header) res = webservice.getfile().read() print (res) The error I am getting is(BTW line 69 is webservice.endheaders()): Traceback (most recent call last): File " ", line 1, in l() File "C:\Users\george\Documents\Autotask\Contract\AT Contract.py", line 69, in l webservice.endheaders() File "C:\Python27\lib\httplib.py", line 937, in endheaders self._send_output(message_body) File "C:\Python27\lib\httplib.py", line 797, in _send_output self.send(msg) File "C:\Python27\lib\httplib.py", line 759, in send self.connect() File "C:\Python27\lib\httplib.py", line 1140, in connect self.timeout, self.source_address) File "C:\Python27\lib\socket.py", line 553, in create_connection for res in getaddrinfo(host, port, 0, SOCK_STREAM): gaierror: [Errno 11004] getaddrinfo failed Any ideas? Edit: I eventually found a .Net library on their forums. The library server me for what I needed to do.
