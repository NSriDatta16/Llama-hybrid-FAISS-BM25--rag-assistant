[site]: stackoverflow
[post_id]: 2980473
[parent_id]: 2980467
[tags]: 
Try BigDump , which solves the problem elegantly and reliably. It basically does what you want, but with more safety mechanisms and several ways to restart in the middle of the file. Also, it has beautiful progress indicators, and... oh, it's already written, so you don't need to write your own script. No need to reinvent the wheel. (I'm not affiliated with BigDump or its developer(s) in any way.)
