[site]: stackoverflow
[post_id]: 885366
[parent_id]: 885329
[tags]: 
Learn how to write JSPs and stop embedding HTML and CSS in servlets. That was a bad idea back in 1998, when it was common; we've progressed a long way since. When you loop over one ResultSet and execute a query inside the loop, that means a network round trip for each and every row that you bring back with the first query. That's certain to be the biggest bottleneck in your problem. Eliminate that for starters. I'd recommend moving the database code out of the servlet and into a persistence object that you can test without having to fire up the servlet engine. There's nothing object-oriented about this approach at all. Looks like an Invoice or BillOfMaterials, but I don't see any objects.
