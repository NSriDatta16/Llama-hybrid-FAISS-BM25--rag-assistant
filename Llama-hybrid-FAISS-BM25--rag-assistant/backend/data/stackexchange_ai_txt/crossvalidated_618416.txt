[site]: crossvalidated
[post_id]: 618416
[parent_id]: 
[tags]: 
Is there a non-brute-force solution to this single-valued random variable transformation problem?

Note: I'm happy to edit and rename the “question title” for this problem if someone proposes a better (and concise) way of asking about this problem. In brief, the problem I'm presenting below was posted on this site (or maybe on mathematics), but it appears to have been hidden or deleted (it was most likely a homework problem). However, I tried my hand at it, and while I solved it, I'm fairly certain there is a far more elegant solution than the essentially brute-force approach I used. The Problem You make and sell widgets. You have $n=100$ clients each month. For the upcoming month, a client can place one of three orders: $k_1=2$ widgets, $k_2=3$ widgets, or $k_3=4$ widgets. The distribution of the orders is multinomial with $p_1=p_2=p_3=\frac13$ . ¿How many widgets do you need to make in a month to be 95% confident that you can fulfill the orders for your 100 clients? Converting to (Conventional) Mathematical Notation We have a multivariate random variable for the orders: $$\left(A,B,C\right) \sim \text{MultiNom}(n,p_1=p_2=p_3=\frac13)$$ We transform this (essentially) bivariate random variable to a single-valued random variable: $$f(X) = 2A+3B+4C=2A + 3(100-A-C) + 4C = C-A + 300$$ The problem can now be written as, find minimum $x$ (where $x$ is the number of widgets over the average of 300), such that $$Pr(X\ge x+300) Brute-Force Solution Let’s look at a few examples: If $x=100$ , then $(a,b,c)=(0,0,100)$ If $x=99$ , then $(a,b,c)=(0,1,99)$ If $x=98$ , then $(a,b,c)$ is either $(1,0,99)$ or $(0,2,98)$ If $x=97$ , then $(a,b,c)$ is either $(1,1,98)$ or $(0,3,97)$ Extending this pattern, we have for $X=x$ , the possibilities for $(a,b,c)$ are If $x$ is even, $(0,100-x,x)$ , $(1,100-x-2,x+1)$ , ... $\left(\frac {100-x}2,0,\frac {100+x}2\right)$ If $x$ is odd, $(0,100-x,x)$ , $(1,100-x-2,x+1)$ , ... $\left(\frac {99-x}2,1,\frac {99+x}2\right)$ To obtain $Pr(X=x)$ , we simply use the multinomial distribution and sum the probabilities of observing these patterns of $(a,b,c)$ . Using R to obtain these probabilities n We can use plot(n:0,cumsum(probs),type="b", xlim=c(0,20),xlab="orders over average", ylab="(rev) cumulative probability") abline(h=0.05) abline(v=14) to obtain the following plot: And we can see that the solution would be at $x=14$ > cumsum(probs)[101-13:15] [1] 0.06285299 0.04904713 0.03777050 Which is to say $Pr(X\ge 314) = 0.049$ and $Pr(X\ge 313) = 0.063$ . Thus, if we want to be 95% confident that we can fulfill the month’s orders, we need to product 313 each month. Again, if you can share a more elegant solution, I would be very interested.
