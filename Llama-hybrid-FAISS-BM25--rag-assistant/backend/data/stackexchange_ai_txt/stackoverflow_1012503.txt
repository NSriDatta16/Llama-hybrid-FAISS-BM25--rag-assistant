[site]: stackoverflow
[post_id]: 1012503
[parent_id]: 
[tags]: 
Drag&Drop-adorner in deeply nested visual trees

We have a WPF application that has custom windows on a canvas which in turn contain custom controls (the main canvas containing the custom windows is again custom control displaying stuff). So basically the visual tree looks like this (without implicit Borders and other things): - Windows - Canvas - WindowMgr - CustomWindow (maximized with z-index 0, functioning as background) - ScrollPresenter - CustomControl1 - CustomWindow - ScrollPresenter - CustomControl2 Now we need drag&drop from those custom controls to each other (usually from a movable window to the background window). To show the drag&drop adorner an adorned element and an adorner layer is needed. Usually examples use their grid or itemscontrol for that, and also get the adorner layer from the same element. Doing the same here doesn't work since the ScrollPreseneter/CustomWindows clip their content which prevents you from dragging out of the window. For now we walk up the visual tree until we find the root canvas and use that as adorned element, but that seems kind of dirty (and as we experienced isn't very robust). Any suggestions on a robust solution for this?
