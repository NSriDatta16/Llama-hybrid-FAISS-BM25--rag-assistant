[site]: crossvalidated
[post_id]: 562244
[parent_id]: 562123
[tags]: 
The What If? book by Hernán and Robins addresses your situation in Section 18.2, most explicitly in the legend to Figure 18.4. With your "X" and "M" replaced respectively by "A" and "L" and an additional explicit path shown from A→Y that bypasses L: adjusting for L blocks the path A→L→Y but not the [bypass] path A→Y. Thus the A-Y association adjusted for L is a biased estimator of the total effect of A on Y but an unbiased estimator of the direct effect of A on Y that is not mediated through L. In the associated text: Sometimes this problem is referred to as overadjustment for mediators when the average causal effect of A on Y is the contrast of interest. One might argue that you should do both analyses. In your case and under your causal hypothesis, omitting M shows the overall effect of A on Y. Including M indicates the portion of that effect that is not mediated by M.
