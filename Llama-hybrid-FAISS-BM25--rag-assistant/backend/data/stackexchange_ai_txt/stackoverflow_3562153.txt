[site]: stackoverflow
[post_id]: 3562153
[parent_id]: 3561843
[tags]: 
First of all, I suggest you don't use variable names such as TIME1,TIME2 etc, since that gets messy quickly. Instead, you can e.g. use a cell array with five rows (one for each well), and one or two columns. In the sample code below, wellData{2,1} is the time for the second well, wellData{2,2} is the corresponding Oil Rate SC - Yearly. There might be more elegant ways to do the reading; here's something quick: %# open the file fid = fopen('Reportq.rwo'); %# read it into one big array, row by row fileContents = textscan(fid,'%s','Delimiter','\n'); fileContents = fileContents{1}; fclose(fid); %# don't forget to close the file again %# find rows containing TABLE NUMBER wellStarts = strmatch('TABLE NUMBER',fileContents); nWells = length(wellStarts); %# loop through the wells and read the numeric data wellData = cell(nWells,2); wellStarts = [wellStarts;length(fileContents)]; for w = 1:nWells %# read lines containing numbers tmp = fileContents(wellStarts(w)+5:wellStarts(w+1)-1); %# convert strings to numbers tmp = cellfun(@str2num,tmp,'uniformOutput',false); %# catenate array tmp = cat(1,tmp{:}); %# assign output wellData(w,:) = mat2cell(tmp,size(tmp,1),[1,1]); end
