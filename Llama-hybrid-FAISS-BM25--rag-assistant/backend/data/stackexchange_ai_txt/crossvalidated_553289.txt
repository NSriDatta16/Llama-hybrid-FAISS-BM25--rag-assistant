[site]: crossvalidated
[post_id]: 553289
[parent_id]: 
[tags]: 
Could any equation have predicted the results of this simulation?

Suppose there is a coin that has a 5% chance of landing on HEADS and a 95% chance of landing on TAILS. Based on a computer simulation, I want to find out the following : The average number of flips before observing HEADS, TAILS, HEADS (note: not the probability, but the number of flips) Using the R programming language, I tried to make this simulation (this simulation keeps flipping a coin until HTH and counts the number of flips until this happens - it then repeats this same process 10,000 times): results We can now see a histogram of this data: hist(data$iteration_i, breaks = 500, main = "Number of Flips Before HTH") We can also see the summary of this data: summary(data$iteration_i) Min. 1st Qu. Median Mean 3rd Qu. Max. 1.0 119.0 288.0 413.7 573.0 3346.0 My Question: Could any "mathematical equation" have predicted the results of this simulation in advance? Could any "formula" have shown that the average number of flips to get HTH would have been 413? Can Markov Chains be used to solve this problem? Based on the "skewed" shape of this histogram, is the "arithmetical mean" (i.e. mean = sum(x_i)/n) a "faithful" representation of the "true mean"? Looking at the above histogram, we can clearly see that you are are more likely to see HTH before 437 iterations compared to seeing HTH after 437 iterations, e.g. (on 100,000 simulations, the new average is 418): nrow(data[which(data$iteration_i 63184 nrow(data[which(data$iteration_i > 418), ]) 36739 For such distributions, is there a better method to find out the "expectation" of this experiment? Thanks!
