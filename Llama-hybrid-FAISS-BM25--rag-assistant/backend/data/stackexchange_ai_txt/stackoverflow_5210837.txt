[site]: stackoverflow
[post_id]: 5210837
[parent_id]: 5210804
[tags]: 
It is not exact science, and you should follow your instincts in how to organize the code. If this approach gets unmaintainable, or you want to unit test it, dependency injection might come to the rescue. But if you're doing simple scripts and development time is an important factor, the way you're doing it now is sufficient.
