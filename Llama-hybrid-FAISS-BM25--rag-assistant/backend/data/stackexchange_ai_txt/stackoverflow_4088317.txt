[site]: stackoverflow
[post_id]: 4088317
[parent_id]: 
[tags]: 
Inserting Image into Internal Memory

I am trying to insert an image into the phone memory of an Android phone. I am getting the following exceptions, although when I tried with the EXTERNAL_CONTENT_URI there was no problem, but if the SD card is not present, I want to write to phone memory. Could any one please give me a solution for this? Thanks in advance. # MY CODE # ContentValues values = new ContentValues(2); values.put(Media.DISPLAY_NAME, "My Bitmap"); values.put(Media.MIME_TYPE, "image/jpeg"); Uri uri = getContentResolver().insert(Media.INTERNAL_CONTENT_URI,values); //Uri uri = getContentResolver().insert(Media.EXTERNAL_CONTENT_URI,values); OutputStream outStream = getContentResolver().openOutputStream(uri); b.compress(Bitmap.CompressFormat.JPEG, 50, outStream); outStream.close(); ################################### 11-03 20:02:48.526: ERROR/DatabaseUtils(167): java.lang.UnsupportedOperationException: Writing to internal storage is not supported. 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at com.android.providers.media.MediaProvider.generateFileName(MediaProvider.java:1646) 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at com.android.providers.media.MediaProvider.ensureFile(MediaProvider.java:1337) 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at com.android.providers.media.MediaProvider.insertInternal(MediaProvider.java:1413) 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at com.android.providers.media.MediaProvider.insert(MediaProvider.java:1381) 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at android.content.ContentProvider$Transport.insert(ContentProvider.java:150) 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at android.content.ContentProviderNative.onTransact(ContentProviderNative.java:140) 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at android.os.Binder.execTransact(Binder.java:287) 11-03 20:02:48.526: ERROR/DatabaseUtils(167): at dalvik.system.NativeStart.run(Native Method)
