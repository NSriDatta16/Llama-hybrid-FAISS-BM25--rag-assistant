[site]: stackoverflow
[post_id]: 4273040
[parent_id]: 
[tags]: 
Why is std::string's empty rep the way it is?

In the GNU implementation of std::string , its _S_empty_rep_storage is defined as: template typename basic_string ::size_type basic_string ::_Rep::_S_empty_rep_storage[ (sizeof(_Rep_base) + sizeof(_CharT) + sizeof(size_type) - 1) / sizeof(size_type) ]; Why is it defined in terms of size_type rather than simply char ? Why isn't it defined as: template _CharT basic_string ::_Rep::_S_empty_rep_storage[ sizeof(_Rep_base) + sizeof(_CharT) ]; ? FYI: The reason I'm asking is because I'm implementing my own string class (that has different requirements that std::string doesn't meet) so I'd like to understand as much as possible as to how std::string is implemented.
