[site]: stackoverflow
[post_id]: 1354114
[parent_id]: 1351381
[tags]: 
Two things: Are you sure you're using your fft function correctly? You treat the output as if it is a complex array organized [R_1 I_1 R_2 I_2 ...] , but you treat the input array as if it is Organized [R_1 R_2 R_3 ... R_1024 I_1 I_2 ...] and as Henrik says then leave the complex parts uninitialized. Your peak detection is extremely primitive, though it should do for simple input (like a single guitar sting). For use with a human voice, you almost certainly want a more sophisticated approach. Have you tried putting a known simple (i.e. pure sine) signal as input?
