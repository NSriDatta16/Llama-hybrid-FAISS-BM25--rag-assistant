[site]: stackoverflow
[post_id]: 3632075
[parent_id]: 
[tags]: 
Why is mysqli giving a "Commands out of sync" error?

I am trying to run the following. id name parent_id parent_name level email "; while ($row = mysqli_fetch_assoc($result)) { $aid = $row["id"]; $sql2 = "SELECT * FROM members WHERE MEMNO = '$aid'"; $result2 = mysqli_query($db,$sql2) or exit(mysqli_error($db)); while ($newArray = mysqli_fetch_array($result2)) { $fname = $newArray['FNAME']; $lname = $newArray['LNAME']; $mi = $newArray['MI']; $address = $newArray['ADDRESS']; $city = $newArray['CITY']; $state = $newArray['STATE']; $zip = $newArray['ZIP']; $kdate = $newArray['KDATE']; $date = abs(strtotime(date('m/d/Y')) - strtotime(date($kdate))) / (60 * 60 * 24); } echo sprintf(" %s %s %s %s %s %s ", $row["id"],$row["name"], $row["parent_id"],$row["parent_name"], $row["level"],$row["email"]); } echo " "; } mysqli_free_result($result); mysqli_close($db); ?> If I remove lines from: $aid = $row["agent_id"]; to.... $date = abs(strtotime(date('m/d/Y')) - strtotime(date($kdate))) / (60 * 60 * 24); } everything will work fine. If not, I get the following error: Commands out of sync; you can't run this command now In researching, I think it could be due to multiple MySQLi queries run at the same time, in which using mysqli_multi_query but for all the samples and general data in the guide does not seem to be applicable. Any ideas?
