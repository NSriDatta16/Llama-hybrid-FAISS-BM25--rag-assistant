[site]: stackoverflow
[post_id]: 1853100
[parent_id]: 1849924
[tags]: 
The pyparsing examples page includes a similar dice expression parser and roller , including these test cases: D5+2d6*3-5.5+4d6 D5+2d6*3-5.5+4d6.takeHighest(3) 2d6*3-5.5+4d6.minRoll(2).takeHighest(3) The first 30 lines or so of the script contain the parser, the rest contains an evaluator, including debugging code showing the rolls being rolled. I realize this is more a "silver platter" answer rather than feedback to your posted code - one thing in common with Robert Rossney's answer is the clear separation of parsing vs. rolling. Perhaps between this and Robert's sample you can glean some tidbits for your own dice roller.
