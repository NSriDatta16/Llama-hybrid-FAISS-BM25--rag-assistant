[site]: stackoverflow
[post_id]: 2858885
[parent_id]: 2858453
[tags]: 
I am working on a simplified version of what you describe. For ease of implementation, I have limited it to paragraph granularity, so a long press selects a paragraph and then a list of choices pops up to apply to the paragraph. I am doing this all in javascript inside a UIWebView. This was my last choice of how to do a text editor. I had to be backwards compatible (no CoreText) and release through iTunes (no private WebKit) so I was left with javascript. You could probably achieve what you want using this very clunky method. Javascript works best at the element level, so you would probably want to wrap every word in the document in a span with a unique id. Javascript has full access to touch events, gestures, and the DOM model. It has better control of the UIWebView than you get from the Cocoa side. You can, with some tricks, get a bidirectional communication channel with the host application. PhoneGap has a nice implementation of this. If you have the choice to do it another way, I would take that option. If you are stuck like I was, than this is a viable, though unpleasant option.
