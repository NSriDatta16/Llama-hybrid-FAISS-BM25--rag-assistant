[site]: crossvalidated
[post_id]: 490148
[parent_id]: 490121
[tags]: 
So let $N$ be the number of blue marbles drawn. Firstly, your expression for $\Pr(N)$ is wrong. Remember that to stop drawing marbles you must draw a red one. So the last probability in your product must be the probability of drawing a red marble, which gives $$ \Pr(N) = \frac{9}{10}\frac{9-1}{10-1}\dots\frac{9-N+1}{10-N+1}\frac{1}{10-N} $$ The value of $N$ for which $\Pr(N)=0.5$ doesn't mean much to me. You can try to compute the expected value of $N$ , but I don't know if you'll be able to do this analytically. One alternative I can think of is to compute the most likely $N$ , that is, the one for which $\Pr(N)$ is maximized. In fact, due to the product in the expression for $\Pr(N)$ and the fact that logarithms are monotonically increasing, we can equivalently try to maximize $\log\Pr(N)$ which is much easier. We have $$ \log\Pr(N) = \sum_{n=0}^{N-1}\log(9-n) -\sum_{n=0}^{N}\log(10-n) $$ Setting the derivative to 0, $$ 0 = -\sum_{n=1}^{N-1}\frac{1}{9-n} + \sum_{n=1}^{N}\frac{1}{10-n} $$ Then $$ 0 = -\sum_{n=1}^{N-1}\frac{1}{(9-n)(10-n)} + \frac{1}{10-N} $$ Unfortunately I'm not sure how to proceed analytically from here. What you can do instead is estimate the most likely $N$ by stochastic gradient descent. That is, Start by guessing $N$ Repeat until convergence: Compute the derivative of $\log\Pr(N)$ as $\delta = \frac{1}{10-N} - \sum_{n=1}^{N-1}\frac{1}{(9-n)(10-n)}$ Update your estimate of $N$ with an exponential weighted average: $N\leftarrow N+\alpha\delta$ , where $\alpha\in(0,1)$ is the step size.
