[site]: stackoverflow
[post_id]: 4885886
[parent_id]: 
[tags]: 
Magento Remove Item from Cart / Delete Quote Action Incomplete - Bug for price rules

Did anybody notice that the quote is not being deleted properly? For example the coupon code variable keeps the value after you delete a product from cart. Try: 1. Set some Shopping Price Cart Rule to a product and make it display a banner on the header section. 2. Add the product [only this product] to checkout/cart in order to trigger the rule and show the banner on the checkout/cart. 3 . Delete the product from cart and you will see the banner still showing on the header section. Note. If you have another product in cart this will not work because when you delete the one that triggered the rule&banner the Coupon Code will get replaced with the one that belongs to this other product in cart. SO this bug only works if only the product that triggers the rule&banner is in cart. If anybody has a fix on this or can replicate these conditions: I'd love to have a conversation about magento's deficiency to make a proper product delete from cart - which implies a proper quote refresh. - code/core/Mage/Sales/Model/Quote.php -> public function removeItem($itemId) Found on Magento Enterprise Edition
