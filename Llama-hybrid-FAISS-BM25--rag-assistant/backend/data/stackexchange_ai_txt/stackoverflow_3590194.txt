[site]: stackoverflow
[post_id]: 3590194
[parent_id]: 
[tags]: 
xsl:sort an XML file using multiple elements

I'm trying to sort a bunch of records in an XML file. The trick is that I need to sort using different elements for different nodes. To give a simplest example, I want to do this: given an xml file Jim Zulkin Joe Bumpkin Pumpkin Andy I want to convert it to Andy Joe Bumpkin Pumpkin Jim Zulkin That is, a person may be listed by any subset of the first name, last name and a nick. The sorting key is the last name if it's present, otherwise it's the nickname if it's present and a firstname otherwise. I'm having difficulties here since using of variables as xsl:sort keys is apparently not allowed . My current best shot is to have a two-step transformation: Add a special tag to each record using this stylesheet And then sort the resulting xml While this two-step transform works, I'm wondering if there is more elegant way of doing it in just one go?
