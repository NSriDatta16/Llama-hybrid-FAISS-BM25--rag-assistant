[site]: stackoverflow
[post_id]: 1247291
[parent_id]: 1246752
[tags]: 
This is probably one of the least elegant python scripts I've ever written, but it should have the framework to do what you want without resorting to UNIX utilities and separate scripts to create the html. It's untested, but it should only need minor tweaking to work. import os import sys #create a list of all files in directory dirList = os.listdir('') #Ignore anything that isn't a .txt file. # #Read in text, then split it into a list. for thisFile in dirList: if thisFile.endswith(".txt"): infile = open(thisFile,'r') rawText = infile.read() yourList = rawText.split('\n') #Strings compiledText = '' htmlText = '' for i in yourList: #clunky way of seeing whether or not current line #should be included in compiledText if i.startswith("*****"): compiledText += "\n\n--- New Report ---\n" if i.startswith("File"): compiledText += i + '\n' if i.startswith("Fail"): compiledText += i + '\n' if i.startswith("Expe"): compiledText += i + '\n' if i.startswith("Got"): compiledText += i + '\n' if i.startswith(" "): compiledText += i + '\n' #insert your HTML template below htmlText = ' ...\n \n '+htmlText+' ... ' #write out to file outfile = open('processed/'+thisFile+'.html','w') outfile.write(htmlText) outfile.close()
