[site]: stackoverflow
[post_id]: 4889917
[parent_id]: 
[tags]: 
jquery horizontal timebar to submit a page after a variable number of seconds

I am offering an online language test containing 50 questions. Each question has its own maxmimum duration, expressed in seconds. The number of seconds for each question is a variable in the dbase. Let's say the variable "seconds" is 60 for question 1, containing 5 check boxes, and he needs to check 3 of them. This means that the participant has 60 seconds to tick the 3 correct checkboxes. IF the participant checks the correct boxes "in time", he clicks on Submit. IF the user doesn't answer within 60 seconds, the page is automatically Submitted (even if he hasn't ticked all the boxes). In the top left corner of the test window, the candidate can see the horizontal timebar moving. The number of seconds isn't shown, but the candidate can see quite clearly when his time is about to expire... This procedure has been working for 4 years without any problems, using javascript (see below). HOWEVER: it doesn't work in all browsers, e.g. Firefox doesn't recognize it, and the result is that Firefox users have all the time in the world to complete or research their answers :-) Up to now, I've simply said "Sorry, our system has been optimized for Internet Explorer only", and that was that. After all, 95% of all browsers were IE anyway. But now I've reviewed the user stats, and (in my case) only 67% of all partipants still use IE. So that's why I am currently looking for a way to modify my script from javascript 'in the page' to JQUERY. I've discovered JQUERY only a couple of weeks ago (I'm not a programmer), and I've used JQUERY for a number of things, and it works like a charm. And, moreover, and more importantly, JQUERY seems to work in ALL browsers! However, I don't seem to find the right JQUERY code that could do the trick. For your information, I'm attaching the code that I'm currently using below: //1) Set the duration for the progress bar to complete loading (in seconds) var duration=#seconden# function postaction(){ document.forms.formulier.submit() //Example action could be to navigate to a URL, like following: //window.location="submit.cfm?scoreperpage=#scoreperpage#&subcatID=#selectvragen.Vragen_subcatID#&level=#selectvragen.Vragen_level#&maxpunten=#maxpunten#&maxtebehalenpunten=#selectvragen.Vragen_maxpunten#&vnr=#vnr#&Tabel=too_late&optie=1&score=#score#&teller=#teller#&nieuwelijst=#nieuwelijst#&starttijdQuestion=#CreateODBCDateTime(now())#" } ///Done Editing///////////// var clipright=0 var widthIE=0 var widthNS=0 function initializebar(){ if (document.all){ baranchor.style.visibility="visible" widthIE=bar.style.pixelWidth startIE=setInterval("increaseIE()",50) } if (document.layers){ widthNS=document.baranchorNS.document.barbackgroundNS.clip.width document.baranchorNS.document.barNS.clip.right=0 document.baranchorNS.visibility="show" startNS=setInterval("increaseNS()",50) } } function increaseIE(){ bar.style.clip="rect(0 "+clipright+" auto 0)" window.status="Loading..." if (clipright if (document.all){ document.write(' ') document.write(' ') document.write(' ') document.write(' ') } I don't know how to proceed, nor am I sure whether this question is clear... I could also send a screenshot of the test, to give you a better view, if needed? Thanks in advance, Kind regards, Thomas (Belgium)
