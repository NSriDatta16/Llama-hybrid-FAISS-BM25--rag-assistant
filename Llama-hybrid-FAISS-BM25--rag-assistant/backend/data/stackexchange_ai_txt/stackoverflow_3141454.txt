[site]: stackoverflow
[post_id]: 3141454
[parent_id]: 
[tags]: 
Deploy:symlink on capistrano points the "current" directory to previous release

I am using capistrano to deploy my Ruby on Rails project. I am on a Dreamhost VPS and since a few weeks ago, with no change in capistrano or passenger, I began to experience a strange problem with the deployment: Every time capistrano is deploying my application, everything goes right except deploy:symlink (which is called by default) that should point the "current" directory to the newest release. Although the new release is deployed properly to the "releases" directory, the problem is the "current" symlink is always set to previous release instead of the new one. So I can deploy apps but I always have to run the deploy two times in a row. You can see the capistrano log here: http://img715.imageshack.us/img715/7803/capistranoproblemb.png Has anybody else experienced this before or can help me solve it? Thanks!
