[site]: stackoverflow
[post_id]: 781341
[parent_id]: 781221
[tags]: 
Probably overkill for your application - but: A relatively simple way of improving your searches at the expense of making the 'write' process more complicated, would be to change the Booking table to make it an 'Availability' table. Add in a boolean column to indicate if the slot is free or booked (or better still put in the id of the customer who's booked it, and use 0 if the slot is free). Start off with a single free slot, 1st Jan 2009 -> 31st Dec 20?? When you get a booking split the free slot into 3 (two inserts and one update), the booked slot and the two available slots. Keep doing that and as the time frame gets more fragmented the booking process will consist of one of the following: Assigning an entire 'available slot' to someone (one update) Splitting an 'available slot' into two (one update and one insert) Splitting a slot into 3 (as above) if someone books the middle section out of an available slot. That's not incredibly complicated to manage and the search process becomes a simple query: finding any slots in the required time frame that are available (booked=false or customerid=0, whichever way you go with it) where enddate - startdate >= the number of days you want. It doubles the size of the booking/availability table, and makes bookings less simple, but the trade off is that the search process is about as easy as it gets.
