[site]: stackoverflow
[post_id]: 5583905
[parent_id]: 
[tags]: 
dates ggplot issue

I've started using ggplot recently and I'm a bit confused with the plotting of datetime on the x-axis. The smallest example with a problem is this: df = data.frame(DateTime=c("2011-03-29 22:44:01", "2011-03-30 00:08:36", "2011-04-07 08:49:50"), response=c(1,2,3)) df$DateTime = as.POSIXct(df$DateTime, format="%Y-%m-%d %H:%M:%S") This gives ans error: > qplot(DateTime, response, data=df) Error in seq.int(r1$year, to$year, by) : 'from' must be finite but this is working fine: > qplot(DateTime, response, data=df[1:2,]) Why is my first plot failing? As requested sessionInfo() shows: sessionInfo() R version 2.12.2 (2011-02-25) Platform: i386-pc-mingw32/i386 (32-bit) locale: [1] LC_COLLATE=English_United States.1252 LC_CTYPE=English_United States.1252 >LC_MONETARY=English_United States.1252 LC_NUMERIC=C [5] LC_TIME=English_United States.1252 attached base packages: [1] grid grDevices datasets splines graphics stats tcltk utils methods base other attached packages: [1] car_2.0-9 nnet_7.3-1 MASS_7.3-11 RColorBrewer_1.0-2 doBy_4.3.0 ggplot2_0.8.9 proto_0.3-9.1 reshape_0.8.4 [9] plyr_1.4.1 svSocket_0.9-51 TinnR_1.0.3 R2HTML_2.2 >Hmisc_3.8-3 survival_2.36-5 loaded via a namespace (and not attached): [1] cluster_1.13.3 digest_0.4.2 lattice_0.19-17 Matrix_0.999375-46 >svMisc_0.9-61 tools_2.12.2 And traceback() output: traceback() 20: seq.POSIXt(floor_time(range[1], time), ceiling_time(range[2], time), by = time) 19: fullseq_time(d, .$break_points()[2]) 18: get(x, envir = this, inherits = inh)(this, ...) 17: scales$x$output_breaks() 16: inherits(x, "factor") 15: is.factor(x) 14: rescale(data, 0:1, range, clip = clip) 13: get(x, envir = this, inherits = inh)(this, ...) 12: .$rescale_var(scales$x$output_breaks(), x.range, TRUE) 11: get(x, envir = this, inherits = inh)(this, ...) 10: coord$compute_ranges(scales) 9: FUN(1L[[1L]], ...) 8: lapply(seq_along(data), function(i) { layer ), scales = , mapping = list(x = DateTime, y = response), options = list(labels = list(x = "DateTime", y = "response")), coordinates = , facet = , plot_env = )) 1: print(list(data = list(DateTime = c(1301431441, 1301436516, 1302158990 ), response = c(1, 2, 3)), layers = list(), scales = , mapping = list(x = DateTime, y = response), options = list( labels = list(x = "DateTime", y = "response")), coordinates = , facet = , plot_env = ))
