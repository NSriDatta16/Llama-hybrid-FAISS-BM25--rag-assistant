[site]: crossvalidated
[post_id]: 305636
[parent_id]: 
[tags]: 
Survival analysis in time series

I have a dataset of patients who're prescribed a medication over the period of 3 years. The drug was supplied to each patient in different time intervals. I want to do a survival analysis to monitor recurrent events (i.e., events occurring multiple times). The problem with the data is that, for some patients, the events do not occur in those time intervals where the drug is prescribed (e.g., an event may occur before/after the drug supply period). If I don't adjust this problem, using conventional survival analysis methods like Cox proportional hazard model may under/over-estimate the risk of events happening (because an event can happen when the drug supply is 0). So, how can I resolve this issue?
