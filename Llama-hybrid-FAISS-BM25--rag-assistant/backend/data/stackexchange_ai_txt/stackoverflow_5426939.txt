[site]: stackoverflow
[post_id]: 5426939
[parent_id]: 5426738
[tags]: 
You could use exponential decay to produce a weighted average. Take your users, arrange them in order of scores (break ties randomly). Working from left to right, start with a running average of 0. Each user you get, change the average to average = (1-p) * average + p * (sale ? 1 : 0) . Do the same thing from the right to the left, except start with 1. The smaller you make p , the smoother your curve will become. Play around with your data until you have a value of p that gives you results that you like. Incidentally this is the key idea behind how load averages get calculated by Unix systems.
