[site]: stackoverflow
[post_id]: 5107721
[parent_id]: 
[tags]: 
Keep a history of values for specific properties of EF entities

I have a requirement to keep a history of values of some fields in an EF4 ASP.NET MVC3 application. This just needs to be a log file of sorts, log the user, datetime, tablename, fieldname, oldvalue, newvalue. Although it would be pretty easy to code this in various save routines, I'm wondering if I can get global coverage by wiring it into some sort of dataannotation, so that I can perhaps declare [KeepHistory()] public string Surname { get; set; } in my partial class (I'm using POCO but generated from a T4 template). So Questions 1) Is this a bad idea ? I'm basically proposing to side-effect changes to an entity, not directly referenced by the code, as a result of an annotation. 2) Can it be done ? Will I have access to the right context to tie up with my unit of work so that changes get saved or dropped with the context save? 3) Is there a better way? 4) If you suggest I do this, any pointers would be appreciated - everything I've read is for validation, which may not be the best starting point.
