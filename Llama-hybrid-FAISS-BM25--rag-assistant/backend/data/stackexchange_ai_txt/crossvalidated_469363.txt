[site]: crossvalidated
[post_id]: 469363
[parent_id]: 
[tags]: 
Time varying treatment and PSM

I am trying to create a control group using Propensity score matching for the panel dataset. The issue is that treatment is time-varying. I've read that data can be reshaped as wide format. or taken as an average across the years. If the treatment year is different: I want to consider three years before the treatment for each observation (corresponding years would be different for all treated observation). I did an extensive search and got following ideas: 1) create dummy for the treatment, and take interaction: so for the treated group: only years before the treatment have positive values and others have zero. So I can match them with other samples. OR, I checked the function: Pscore = year*10+pscore. I am not quite clear what kinds of function it would make. Could anyone have ideas on this issue? Which commands to use: There are commands: pscore, psmatch, teffect: My question is that: for psmatch and teffect, what should be the outcome variables? In my case, I would like to compare three (or more) dependent vars: let's say Y1, Y2, Y3. Then which vars should I define as an outcome vars? If I change the dep vars, then, it would change the composition of control groups? If I want to select control groups that are only similar pre-treatment stages: X-covariates, pscore and psmatch allow not to put outcome vars. In this case control group is correctly selected? I guess there are many cases that researchers compare results using MANY DEP VARS between pre-treatment and post-treatment. What would be the solution?
