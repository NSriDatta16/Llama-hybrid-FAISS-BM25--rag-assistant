[site]: stackoverflow
[post_id]: 5077813
[parent_id]: 5022518
[tags]: 
I'll need to check my code once I'm back home, but what you have looks okay (I've done similar, but listening for I/O Kit events instead). CFRunLoopRun() is the function you want to call, however, why don't you just add your event tap to your app's main runloop? That saves any thread shenanigans too.
