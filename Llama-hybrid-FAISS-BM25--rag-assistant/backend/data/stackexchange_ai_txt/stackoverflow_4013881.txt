[site]: stackoverflow
[post_id]: 4013881
[parent_id]: 4013687
[tags]: 
This code converts your String into an XML document, adds a new node, then prints it out as a String so you can check that it looks correct. public void xml() throws ParserConfigurationException, SAXException, IOException { String msg = " "; msg += " abc@gmail.com instance1 "; msg += " validatemsg task1 "; DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = factory.newDocumentBuilder(); Document doc = builder.parse(new ByteArrayInputStream(msg.getBytes())); Node newNode = doc.createElement("newnode"); newNode.setTextContent("value"); Node root = doc.getFirstChild(); root.appendChild(newNode); try { DOMSource domSource = new DOMSource(doc); StringWriter writer = new StringWriter(); StreamResult result = new StreamResult(writer); TransformerFactory tf = TransformerFactory.newInstance(); Transformer transformer = tf.newTransformer(); transformer.transform(domSource, result); System.out.println(writer.toString()); } catch (TransformerException ex) { ex.printStackTrace(); } }
