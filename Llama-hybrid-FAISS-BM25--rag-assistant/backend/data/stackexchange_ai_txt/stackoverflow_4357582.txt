[site]: stackoverflow
[post_id]: 4357582
[parent_id]: 4354652
[tags]: 
CGI::ImageMagick does not work like you assume it does. You did not understand the documentation. You want to use Image::Magick proper, or just Image::Resize , or simply one of the ready-made thumbnailing modules . See below for working examples. $savelocal is named inappropriately. getstore returns the response code. Besides you are not doing anything with this variable afterwards. You must include error checking. Use File::LibMagic to determine file types of local files. Doing it the wrong way (file name extensions) takes more effort and lines of code. This even is not at all necessary; since you are fetching the image over HTTP, trust its Content-Type header. In the example, I skip this since the module supports image format autodetection. split /./ does not do what you think it does. # working on a local file use Image::Thumbnail; my $t = Image::Thumbnail->new( size => 120, input => '6226701.bmp', outputpath => '6226701-thumbnail.jpg', ); $t->create or die "Could not create thumbnail - error: $t->{error} - warning: $t->{warning}\n"; # fetching an image, then working on it without explicitely saving it first locally use Image::Thumbnail; use LWP::UserAgent; my $image_name = '6226701.bmp'; my $response = LWP::UserAgent->new->get('http://someremotedomain.example.com/' . $image_name); die "Could not fetching image: $response->status_line\n" unless $response->is_success; my $t = Image::Thumbnail->new( size => 120, input => \$response->decoded_content, # scalar ref = in-memory access outputpath => "$image_name-thumbnail.jpg", ); $t->create or die "Could not create thumbnail - error: $t->{error} - warning: $t->{warning}\n";
