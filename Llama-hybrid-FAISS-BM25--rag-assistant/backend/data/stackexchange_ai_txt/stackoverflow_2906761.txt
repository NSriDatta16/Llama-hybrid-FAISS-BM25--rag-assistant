[site]: stackoverflow
[post_id]: 2906761
[parent_id]: 2890751
[tags]: 
I finally found something that could do the trick without resorting to writing Java code: fragment QUOTE : '"' ; fragment SPACE : (' '|'\r'|'\t'|'\u000C'|'\n') ; WS : SPACE+ {$channel=HIDDEN;}; PHRASE : QUOTE (options {greedy=false;} : . )* QUOTE ; WORD : (~(QUOTE|SPACE)* QUOTE ~QUOTE* EOF)=> ~(QUOTE|SPACE)* QUOTE ~(SPACE)* | ~(QUOTE|SPACE)+ ; That way, the predicate differentiate/solves for both: PHRASE : QUOTE (options {greedy=false;} : . )* QUOTE ; and | ~(QUOTE|SPACE)+ ;
