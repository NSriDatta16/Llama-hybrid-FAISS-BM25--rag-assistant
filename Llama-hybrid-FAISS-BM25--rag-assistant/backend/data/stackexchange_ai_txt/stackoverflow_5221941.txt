[site]: stackoverflow
[post_id]: 5221941
[parent_id]: 5221555
[tags]: 
Using operator[] of map to insert element will erase the previous data stored at the same key, try using insert instead. Same deal with getting data from map, operator[] will create an element if your Key is not stored, try using find instead. Also const_cast ((*mdp.get())) will cast a MyData in Mydata*, const_cast (mdp.get()) will be good ...
