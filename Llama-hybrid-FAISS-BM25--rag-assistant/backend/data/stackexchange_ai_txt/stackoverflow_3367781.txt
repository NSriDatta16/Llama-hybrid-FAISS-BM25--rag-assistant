[site]: stackoverflow
[post_id]: 3367781
[parent_id]: 
[tags]: 
How to shuffle the lines in a file without reading the whole file in advance?

What's a good algorithm to shuffle the lines in a file without reading the whole file in advance? I guess it would look something like this: Start reading the file line by line from the beginning, storing the line at each point and decide if you want to print one of the lines stored so far (and then remove from storage) or do nothing and proceed to the next line. Can someone verify / prove this and/or maybe post working (perl, python, etc.) code? Related questions, but not looking at memory-efficient algorithms: How can I shuffle the lines of a text file on the Unix command line or in a shell script? How can I randomize the lines in a file using standard tools on Red Hat Linux? How can I print the lines in STDIN in random order in Perl?
