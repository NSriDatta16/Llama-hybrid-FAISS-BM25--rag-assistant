[site]: stackoverflow
[post_id]: 2660451
[parent_id]: 2657653
[tags]: 
I've got something working in Chrome after much, much, much detective work. This only works on Chrome. On Safari, it freezes. On Firefox, it won't let me drop the file. IE opens the dropped file instead. Even in Chrome, the drag and drop only works once, for some reason, after which you have to refresh the page. (A possible reason for this is that something is wrong with the event handlers.) window.onload = function () { var div = document.getElementById('div'); div.ondragenter = div.ondragover = function (e) { e.preventDefault(); e.dataTransfer.dropEffect = 'copy'; return false; } div.ondrop = function (e) { for (var i = 0; i ' + this.responseText + ' '; } xhr.setRequestHeader('Content-Type', 'multipart/form-data'); xhr.setRequestHeader('X-File-Name', file.fileName); xhr.setRequestHeader('X-File-Size', file.fileSize); xhr.send(file); // For some reason sending the actual File object in Chrome works? } e.preventDefault(); return false; } } Drop here handler.php: // This is not a true file upload. Instead, it sends the raw data directly. echo htmlentities(file_get_contents('php://input'));
