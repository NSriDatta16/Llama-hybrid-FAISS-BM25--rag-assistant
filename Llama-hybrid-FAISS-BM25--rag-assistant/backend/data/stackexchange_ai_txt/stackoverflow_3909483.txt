[site]: stackoverflow
[post_id]: 3909483
[parent_id]: 
[tags]: 
Unknown column 'time_submit109' in 'field list'

I'm using the PHP script below for an experiment I am conducting, however it seems to error out with the error message: "Unknown column 'time_submit109' in 'field list'" when it gets to the digit span task (around page 110). How do I resolve this error (I'm not well versed in PHP so I'm having a hard time debugging this). I think the error is related to the time_submit1 variable. '.mysql_error()); //if this is the first page of a survey if (!isset ($identification)) //create db, if not already there { mysql_query("CREATE DATABASE IF NOT EXISTS $database"); } //select db mysql_select_db($database) or die('Unable to select database '.mysql_error()); if (!isset ($identification)) { //create table, if not already there mysql_query ("CREATE TABLE $table (identification int(9) NOT NULL auto_increment, page1 TEXT, participation_date DATE, time_submit1 VARCHAR(8), ip_number VARCHAR(15), browser TINYTEXT, PRIMARY KEY (identification)) TYPE=MyISAM"); } //change array, so that time_submit and page are renamed dynamically foreach($variablen as $name=>$value) { if ($name == "next_page") { $name = "page".$counter_page; } elseif ($name == "counter") { $name = "time_submit".$counter; $value = date("G:i:s"); } $newarray2[$name]=$value; } $variablen = $newarray2; //for each line in the array of submitted variables do the following (traverse array) foreach($variablen as $name=>$value) { //modify table step by step (add colums according to html input) mysql_query ("ALTER TABLE $table ADD $name VARCHAR(255)"); } if (!isset ($identification)) { //insert new record into db table (into the referer field) and thus generate identifcation (new record) mysql_query("INSERT INTO $table (page1, participation_date, time_submit1, ip_number, browser) VALUES ('$referer', '".date("Y-m-d")."', '".date("G:i:s")."', '".$_SERVER['REMOTE_ADDR']."', '".$_SERVER['HTTP_USER_AGENT']."')")or die('Unable to insert into table! '.mysql_error()); //grab last value of auto-increment variable "identification" to be used as identifier $identification = mysql_insert_id(); } //for each line in the array of submitted variables do the following foreach($variablen as $name=>$value) { //update db table step by step mysql_query("UPDATE $table SET $name='".mysql_real_escape_string($value)."' WHERE identification=$identification") or die('Unable to update table1 '.mysql_error()); } //close connection mysql_close(); //if this is the last html page: feedback for the participant if (!isset ($next_page)) { echo $thank_you_text; } //if questionnaire consists of still another html page else { //call up next HTML page and pass on ID and counter echo " Next Page "; //manual forwarding //echo " Next Page "; } ?>
