[site]: stackoverflow
[post_id]: 5647336
[parent_id]: 
[tags]: 
Is it possible to use OpenMP directives in multiple files in a program?

I've got a C program which consists of multiple .c files and multiple .h files. I'd like to have one #pragma omp parallel directive (so that all of the threads are only created once) in the main function, and then do other OpenMP things like #pragma omp for in other files. However, I can't seem to do this. When compiling the main file it complains that some of the variables mentioned in the private() and shared() bits of the #pragma omp parallel directive don't exist (which they don't, in that file - because they're in the other file), and when compiling the other file it complains that I have an #pragma omp for without an enclosing #pragma omp parallel . The code is nicely split between the files, and I'd hate to have to put it all back into one file. Is there any way around this?
