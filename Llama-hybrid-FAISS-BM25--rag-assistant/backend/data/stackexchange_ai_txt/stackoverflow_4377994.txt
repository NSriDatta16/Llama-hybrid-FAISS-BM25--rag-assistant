[site]: stackoverflow
[post_id]: 4377994
[parent_id]: 
[tags]: 
Website not returning cookies

I am trying to log into a website to send SMS via a windows phone 7 app. I have 2 providers working but when I try Vodafone I am running into an error. From what I gather it seems that the response does not contain cookies, or they are not being read. The request logs in ok and the response I get back is the correct page but it contains no cookies. The Url: RequestUrl = String.Format("https://www.vodafone.ie/myv/services/login/Login.shtml?username={0}&password={1}", userSettings.Username, userSettings.Password), The Request: Request = (HttpWebRequest)WebRequest.Create((requestCollection.CurrentRequest().RequestUrl)); if (Request.CookieContainer == null) { Request.CookieContainer = cookieJar.CookieContainer; Request.AllowAutoRedirect = true; Request.AllowReadStreamBuffering = true; Request.UserAgent = "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.6) Gecko/20060728 Firefox/1.5.0.6"; } Where the code errors as the response cookies could not be evaluated: public void AddCookiesToContainer(HttpWebResponse response) { CookieCollection.Add(response.Cookies); CookieContainer.Add(response.ResponseUri, CookieCollection); } And below is the debugger showing no cookies :(
