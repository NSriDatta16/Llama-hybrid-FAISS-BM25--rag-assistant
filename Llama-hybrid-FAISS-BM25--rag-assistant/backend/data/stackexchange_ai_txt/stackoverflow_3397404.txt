[site]: stackoverflow
[post_id]: 3397404
[parent_id]: 3397295
[tags]: 
I don't think you want to deal with writing your own SMTP server because the conversation between the client and the server can be inconsistent and complex. Most SMTP servers let you specify a MDA (Mail Delivery Agent) , like procmail, to deliver mail destined for users on that machine. You can easily write procmail rules to pass emails through your program, which has the advantage of allowing you to call different scripts based on the content of the email headers and bodies, or write your script as an MDA itself.
