[site]: stackoverflow
[post_id]: 3839917
[parent_id]: 2564871
[tags]: 
I put some code. This is the main class. final AudioRecorder recorder = new AudioRecorder("/calls"); try { recorder.start(); try { this.wait(10000); } catch (InterruptedException e) { e.printStackTrace(); } recorder.stop(); } catch (IOException e) { e.printStackTrace(); } } } And the helper class is: public class AudioRecorder { final MediaRecorder recorder = new MediaRecorder(); final String path; public AudioRecorder(String path) { this.path = sanitizePath(path); } private String sanitizePath(String path) { if (!path.startsWith("/")) { path = "/" + path; } if (!path.contains(".")) { path += ".3gp"; } //This is the command I would like to change, because I want to save the audio //files in the internal memory instead of the SD card return Environment.getDataDirectory().getAbsolutePath() + path; } public void start() throws IOException { String state = android.os.Environment.getExternalStorageState(); if(!state.equals(android.os.Environment.MEDIA_MOUNTED)) { throw new IOException("SD Card is not mounted. It is " + state + "."); } // make sure the directory we plan to store the recording in exists File directory = new File(path).getParentFile(); if (!directory.exists() && !directory.mkdirs()) { throw new IOException("Path to file could not be created."); } recorder.setAudioSource(MediaRecorder.AudioSource.MIC); recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP); recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB); recorder.setOutputFile(path); recorder.prepare(); recorder.start(); } public void stop() throws IOException { recorder.stop(); recorder.release(); } }
