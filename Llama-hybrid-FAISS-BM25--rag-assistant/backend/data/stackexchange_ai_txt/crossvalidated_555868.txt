[site]: crossvalidated
[post_id]: 555868
[parent_id]: 
[tags]: 
Conditional Average Treatment Effects

Suppose I am interested in understanding the effectiveness of two types of medicine, A and B. In the usual setting, each patient is considered an experiment unit and is assigned one of the medicines. By analyzing the condition treatment effect, we can answer the question of the type "what kind of patients most benefit from medicine A?" I believe this is the framework of potential outcomes. Now, consider the situation where a patient needs to take the medicine every 2 hours. We randomly select between A and B whenever a medicine is needed. After 1 hour, we can measure its effectiveness (e.g. decrease in blood pressure for hypertension), and the effect will be gone by the end of the 2hour period (that's why we need med every 2 hours!). By the end of the experiment, we can calculate the average/total effectiveness for both A and B. In this case, we can observe the outcomes from both medicines (control and treatment). Can we still apply the same "potential outcome" framework, expressing each data point as (Y, W, X), where Y is the realized outcome, W is an indicator of control vs treatment, and X is the feature vector? Again, we are trying to answer the question of the form "what kind of patients are most benefited from medicine A?". What is a suitable framework for such a scenario? Thank you!
