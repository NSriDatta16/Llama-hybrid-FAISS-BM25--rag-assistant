[site]: stackoverflow
[post_id]: 885100
[parent_id]: 884159
[tags]: 
I don't think you'd need to know the peak hours; you can generate them with SQL, wrapping a the full query and selecting the top 20 entries, for example: select top 20 * from ( [...load query here...] ) qry order by LoadPerSecond desc This answer had a good lesson about averages. You can calculate the load per second by looking at the load per hour, and dividing by 3600. To get a first glimpse of the load for the last week, you could try (Sql Server syntax): select datepart(dy,createdate) as DayOfYear, hour(createdate) as Hour, count(*)/3600.0 as LoadPerSecond from message where CreateDate > dateadd(week,-7,getdate()) group by datepart(dy,createdate), hour(createdate) To find the peak load per minute: select max(MessagesPerMinute) from ( select count(*) as MessagesPerMinute from message where CreateDate > dateadd(days,-7,getdate()) group by datepart(dy,createdate),hour(createdate),minute(createdate) ) Grouping by datepart(dy,...) is an easy way to distinguish between days without worrying about month borders. It works until you select more that a year back, but that would be unusual for performance queries.
