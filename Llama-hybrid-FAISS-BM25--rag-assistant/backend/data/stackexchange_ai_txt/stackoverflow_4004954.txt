[site]: stackoverflow
[post_id]: 4004954
[parent_id]: 4003569
[tags]: 
I can't for the life of me see why it gives a StackOverflowException The check for "stop" in the code is too weak : This will always be true() if $max is less than $count , if one or both of $max and $count dont have integer values, or if they are undefined. Also, why does $count You can use : not($count >= $max) and thus avoid the need to escape the character. Finally , another problem, not directly related to the main issue: Never specify the (atomic) value of parameter in in the body of , or . This creates an RTF (Result Tree Fragment) and needs conversion to the proper atomic value every time the parameter/variable is referenced. This is inefficient, difficult to read and maintain and may lead to errors. Instead of : write :
