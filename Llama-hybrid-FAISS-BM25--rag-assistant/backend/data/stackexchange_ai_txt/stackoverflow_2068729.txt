[site]: stackoverflow
[post_id]: 2068729
[parent_id]: 
[tags]: 
Why ruby's(ver 1.9) pcap gem, hanging after accessing it?

Using ruby 1.9 and latest gem install pcap + fix for compiling (convert ->ptr / ->len to _PTR / _LEN ), i found that after doing simple code: require 'pcap' cap = Pcap::Capture.open_offline('1.dmp') cap.each { |pkt| p pkt.src; } exit Pcap gem not leaving block cap.each , i.e. output: ... 213.248.106.202 192.168.1.50 213.248.106.202 192.168.1.50 ^C ^C ^C ^C ^C And process can be killed only by kill -s KILL . Is there any way to fix this? P.S. 1.dmp file generated using tcpdump -w 1.dmp .
