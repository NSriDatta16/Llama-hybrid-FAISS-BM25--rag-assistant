[site]: stackoverflow
[post_id]: 5329287
[parent_id]: 5329197
[tags]: 
I'm sure there's a better answer, but practically speaking, I would do this as two separate operations just for simplicity: %s/--/==/g %s/=-/==/g First replace all double occurrences, which would turn ----- into ====- . Then fix the leftovers ( =- ) using the second. I would love to see the more elegant answer, though, if it is possible to do.
