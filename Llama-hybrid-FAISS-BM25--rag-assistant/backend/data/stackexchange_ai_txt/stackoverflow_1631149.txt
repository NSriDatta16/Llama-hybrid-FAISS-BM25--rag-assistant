[site]: stackoverflow
[post_id]: 1631149
[parent_id]: 1631013
[tags]: 
for the first call you would want to behavior to be async to avoid blocking on this expensive call. What is the best way to code this? That's a caller's concern. It's best to provide both synchronous and asynchronous interfaces so clients can decide which is appropriate for their situtation. Is the fact that this DataRepository class is doing both actual cross boundry retrieving and caching breaking Single Responsibility Principle. Yes it breaks the SRP if the repository class itself is involved in the retrieval and caching implementation. What's more, the decision about which source to hit usually requires significant logic, which is another good reason to separate these functions into different classes. (With the standard caveat: if YAGNI , then don't do it!)
