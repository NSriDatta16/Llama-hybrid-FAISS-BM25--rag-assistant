[site]: stackoverflow
[post_id]: 1671745
[parent_id]: 
[tags]: 
applescript + shell script problem

I'm writing a script to keep track of missing frames in a render (thousands of image files). to find the numbered frames in the sequence I do this: set thecontents to every paragraph of (do shell script "while IFS= read -r -d '' file; do echo \"$file\"|sed -E \"s|.*[^[:digit:]]0*([[:digit:]]+)\\..*|\\1|\" ; done find finds all the files, and sed strips everything but the trailing number off them - it matches the numbers when the file are numbered like foo_001.bar (or even if they're foo3_001.bar) it looks for a non digit, followed by a series of digits, followed by a dot extension, and chucks away everything but the digits. It works in the shell, if I run it like this (without the escapes) while IFS= read -r -d '' file do echo "$file"|sed -E "s:.*[^[:digit:]]0*([[:digit:]]+)\..*:\1:" done it produces a nice list of numbers, but in Applescript I get "sh: -c: line 0: syntax error near unexpected token ` Any ideas? I can implement it with applescript by breaking the sed function and the find function into separate shell scripts, but that's way slower.
