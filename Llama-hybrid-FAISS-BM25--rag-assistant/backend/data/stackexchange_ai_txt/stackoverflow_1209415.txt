[site]: stackoverflow
[post_id]: 1209415
[parent_id]: 
[tags]: 
regex to remove all whitespaces except between brackets

I've been wrestling with an issue I was hoping to solve with regex. Let's say I have a string that can contain any alphanumeric with the possibility of a substring within being surrounded by square brackets. These substrings could appear anywhere in the string like this. There can also be any number of bracket-ed substrings. Examples: aaa[bb b] aaa[bbb]ccc[d dd] [aaa]bbb[c cc] You can see that there are whitespaces in some of the bracketed substrings, that's fine. My main issue right now is when I encounter spaces outside of the brackets like this: a aa[bb b] Now I want to preserve the spaces inside the brackets but remove them everywhere else. This gets a little more tricky for strings like: a aa[bb b]c cc[d dd]e ee[f ff] Here I would want the return to be: aaa[bb b]ccc[d dd]eee[f ff] I spent some time now reading through different reg ex pages regarding lookarounds, negative assertions, etc. and it's making my head spin. NOTE: for anyone visiting this, I was not looking for any solution involving nested brackets. If that was the case I'd probably do it pragmatically like some of the comments mentioned below.
