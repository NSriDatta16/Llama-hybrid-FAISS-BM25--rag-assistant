[site]: stackoverflow
[post_id]: 3510024
[parent_id]: 3509860
[tags]: 
From a post at Example Depot : By default, the DOCTYPE is not written when using a transformer to dump a DOM document to an XML file. This example demonstrates how to write a DOCTYPE with a public and system id. Unfortunately, it is not possible to write a DOCTYPE with an internal DTD. The referenced article contains this example. Here is another code snippet from someone with the same problem, which, unfortunately is not complete (and the forum is in german language, but the formum text is irrelevant here) but maybe you can complete the missing steps. EDIT A real ugly hack/workaround - but maybe the only solution to your problem: Copy the full doctype declaration from the input document to a String Add a 'marker comment' (like ) to the DOM at the very beginning of the document serialize the document to another String find and replace the 'marker comment' with the saved original doctype declaration
