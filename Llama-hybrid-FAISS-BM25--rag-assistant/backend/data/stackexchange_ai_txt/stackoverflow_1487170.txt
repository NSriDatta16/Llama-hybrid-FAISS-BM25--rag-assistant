[site]: stackoverflow
[post_id]: 1487170
[parent_id]: 
[tags]: 
Magento Duplicating Custom Block

I have a an issue for any Magento Developers out there that I cannot resolve. I have created a custom module and block to be inculded in the category template. Here is a setup of my files 1. app/code/local/Tsb.Category/etc/config.xml true local 2. app/etc/modules/Tsb_Category.xml true local 3. app/code/local/Tsb/Category/Block/view.php class Tsb_Category_Block_View extends Mage_Core_Block_Template { private $message; private $att; protected function createMessage($msg) { $this->message = $msg; } public function receiveMessage() { if($this->message != '') { return $this->message; } else { $this->createMessage('Hello World'); return $this->message; } } protected function _toHtml() { $html = parent::_toHtml(); /*echo "MY CUSTOM ATTR IS" . $this->getData('my_custom'); echo "MY CUSTOM ATTR IS" . $this->getMyCustom(); */ if($this->att = $this->getData('my_custom') && $this->getData('my_custom') != '') { $html .= ' '.$this->att; } else { $html .= ' No Custom Attribute Found'; } return $html; } } 4. app/design/frontend/tsb/default/template/category/view.phtml This is the output of the fido example: receiveMessage() ?> 5. app/design/frontendtsb/default/layout/catalog.xml 4 9 list 2 list 4 list 6 list 8 list all All --> product_list_toolbar So there is the typical over the top Magento setup. Any ideas why when the Category pages are landed on the block displays correctly in the content and then again just before the closing tag. Any help would be great.
