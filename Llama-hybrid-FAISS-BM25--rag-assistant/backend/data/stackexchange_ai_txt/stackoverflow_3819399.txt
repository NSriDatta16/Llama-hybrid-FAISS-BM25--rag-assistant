[site]: stackoverflow
[post_id]: 3819399
[parent_id]: 3817843
[tags]: 
//comment() is a short form of /descendant-or-self::node()/child::comment() using this xpath with a fragment ignores the root comments (they are selected by /descendant-or-self::node() but they don't have children). if you use HTML(str) you create a document node as the root of all other items. therefore, /descendant-or-self::node()/child::comment() does not ignore the top level comments because they are the children of the document node (which itself is selected by /descendant-or-self::node() ). I am not sure why descendant::comment() works in any case, I would say that it should be descendant-or-self::comment() , but never mind. hope that helps?
