[site]: stackoverflow
[post_id]: 4742143
[parent_id]: 
[tags]: 
Calculating Text Wrapping in the .NET DrawingContext DrawText method

I'm working on a project that has me approximating text rendered as an image and a DHTML editor for the text. The images are rendered using the .NET 4 DrawingContext object's DrawText method. The DrawText method will take text along with font information as well as dimensions and calculate the wrapping necessary to get the text to fit as much as possible, placing an ellipsis at the end if the text is too long. So, if I have the following code to draw text in a Rectangle it will abbrevaiate it: string longText = @"A choice of five engines, although the 2-liter turbo diesel, supposedly good for 48 m.p.g. highway, is not coming to America, at least for now. A 300-horsepower supercharged gasoline engine will likely be the first offered in the United States. All models will use start-stop technology, and fuel consumption will decrease by an average of 19 percent across the A6 lineup. A 245-horsepower A6 hybrid was also unveiled, but no decision has yet been made as to its North America sales prospects. Figure later in 2012, if sufficient demand is detected."; var drawing = new DrawingGroup(); using (var context = drawing.Open()) { var text = new FormattedText(longText, CultureInfo.CurrentCulture, FlowDirection.LeftToRight, new Typeface("Calibri"), 30, Brushes.Green); text.MaxTextHeight = myRect.Height; text.MaxTextWidth = myRect.Width; context.DrawText(text, new Point(0, 0)); } var db = new DrawingBrush(drawing); db.Stretch = Stretch.None; myRect.Fill = db; Is there a way to calculate how the text will be wrapped? In this example, the outputted text is wrapped at "2-liter" and "48 m.p.g" etc as seen in the image below:
