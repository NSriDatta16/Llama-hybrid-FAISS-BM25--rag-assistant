[site]: stackoverflow
[post_id]: 455309
[parent_id]: 455251
[tags]: 
First, with std::multimap, you cannot have a different ordering for insertion and retrieval. Second, any total ordering is not good enough for your purpose, which means it won't render the answer sets you want as intervals. I would either search for all prefixes with one lookup each (you could optimize it by remembering the length of the next shorter prefix etc.) or use a Trie (but rather a PATRICIA trie which demands less space).
