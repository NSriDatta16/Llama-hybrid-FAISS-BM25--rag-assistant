[site]: crossvalidated
[post_id]: 411962
[parent_id]: 
[tags]: 
How to specify an autoregressive correlation structure in a linear model when the data has multiple observations at each time step?

I want to fit a multiple regression model that accounts for temporally-correlated errors (i.e., some sort of autoregressive correlation structure, like those provided by ARMA or ARIMA models). However, the problem I have is that my data set isn't a simple continuous time series (i.e., one that has only one data point at every single time step). In my data set, each time step may contain one, several or no data points. Because of this, I cannot use standard autoregressive correlation structures, such as those provided by corAR1() or corARMA() in R, or the function auto.arima() with xreg regression. It might help to be more specific about my data set. I am analysing estimates of biological diversity through geological time (numbers of species, estimated using the fossil record) for roughly equally-sized geographic regions. I am using multiple regression to understand the role of various environmental variables on diversity. Time points actually correspond to so-called "time bins"â€”lumped intervals of geological time with roughly equal durations (for example, the Late Cretaceous is one time bin). In some time bins, I have diversity estimates for several different geographic regions. In others, only one estimate is available, or even no estimates, if there are no known fossils. The identities/locations of geographic regions are not constant through time: they vary because the geographic distribution of fossil sites varies through time. Is there any way to specify an autoregressive correlation structure for this kind of more complex data set? I'm happy to use whatever modelling approach is necessary. I think it would be reasonable to treat time steps with multiple data points as representing multiple measurements from the same subject (planet Earth). EDIT: The answer posted by user "HCQ" suggested that I a should fit a multilevel model with a random effect for geographic regions. This suggestion doesn't solve the problem, because geographic identities of data points are not constant through time (see revised question, above).
