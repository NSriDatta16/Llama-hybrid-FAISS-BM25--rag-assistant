[site]: stackoverflow
[post_id]: 5727979
[parent_id]: 
[tags]: 
How do I handle multiple Visual Studio configurations when doing continuous integration?

I have multiple configurations set up in Visual Studio so that I can build one solution (containing multiple projects) for one of a number of customers. A small number of web.config settings are customized depending on the customer, and the code is built to a different 'BuildDir' so I can package it up and deliver it. At the moment this is all driven from the Visual Studio Configuration Manager on my dev machine in conjunction with a couple of Web Deployment Projects, and I'm finding this pretty fragile. I want to implement a CI server (CC.Net or TeamCity) but am not sure how to best accommodate this sort of per-client configuration (or if I should be attempting to). I develop in a branch, and reintegrate with the trunk as each feature is completed. Am I correct in thinking then that the CI server should be integrating the code in trunk, and if so, how do I deal with debug and release builds for each customer? My configurations are: Development (debug) Test (debug) UAT - Cust. 1 (release) Production - Cust. 1 (release) UAT - Cust. 2 (release) Production - Cust. 2 (release) etc. Apart from the small number of configuration settings for each customer the product is pretty much the same for all of them. I'm keen to get your thoughts on how I could set this up, or whether I'm thinking about this wrong? Thanks.
