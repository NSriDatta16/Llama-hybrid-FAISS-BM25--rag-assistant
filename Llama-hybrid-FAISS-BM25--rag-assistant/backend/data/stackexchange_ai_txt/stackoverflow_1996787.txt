[site]: stackoverflow
[post_id]: 1996787
[parent_id]: 1996678
[tags]: 
Unfortunately the simplest and most reliable way to get this working is to use an HTML parser. This one will do the trick. I don't know if it'll handle HTML fragments like the above. If not, then wrapping to make it acceptable HTML should be trivial. As others are pointing out, parsing HTML with a regexp has numerous edge cases to cater for, and difficulty, since HTML is not regular.
