[site]: crossvalidated
[post_id]: 354322
[parent_id]: 
[tags]: 
Why is my model so accurate when using knn(), where k=1?

I am currently using genomic expression levels, age, and smoking intensity levels to predict the number of days Lung Cancer Patients have to live. I have a small amount of data; 173 patients and 20,438 variables, including gene expression levels (which make up for 20,436). I have split up my data into test and training, utilizing an 80:20 ratio. There are no missing values in the data. I am using knn() to train the model. Here is what the code looks like: prediction Nothing seems out of the ordinary until you notice that k=1. "Why is k=1?" you may ask. The reason k=1 is because when k=1, the model is the most accurate. This makes no sense to me. There are quite a few concerns: I am using knn() to predict a continuous variable. I should be using something along the lines of, cox maybe. The model is waaaaaaay too accurate. Here are a few examples of the test answer and the model's predictions. For the first patient, the number of days to death is 274. The model predicts 268. For the second patient, test: 1147, prediction: 1135. 3rd, test: 354, prediction: 370. 4th, test: 995, prediction 995. How is this possible? Out of the entire test data, the model was only off by and average of 9.0625 days! The median difference was 7 days, and the mode was 6 days. Here is a graph of the results: Bar Graph . So I guess my main question is what does knn() do, what does k represent, and how is the model so accurate when k=1? Here is my entire code (I am unable to attach the actual data): # install.packages(c('caret', 'skimr', 'RANN', 'randomForest', 'fastAdaboost', 'gbm', 'xgboost', 'caretEnsemble', 'C50', 'earth')) library(caret) # Gather the data and store it in variables LUAD % add_trace(y = ~testAnswers, name = 'Answer') %>% layout(yaxis = list(title = 'Days to Death'), barmode = 'group') p merge Lastly, for clarification purposes, ClinicalData.csv is the age, days to death, and smoking intensity data. The other .csv is the genomic expression data. The data above line 29 doesn't really matter, so you can just skip to the part of the code where it says "set.seed(401)". Some samples of the data (Days to death, A number representative of age, and the rest are genes and their expression levels. I only shared a few. There are over 20,000): days_to_death OS_MONTHS 121 3.98 NACC1 2001.5708 2363.8063 1419.879 NACC2 58.2948 61.8157 43.4386 NADK 706.868 1053.4424 732.1562 NADSYN1 1628.7634 912.1034 638.6471 NAE1 832.8825 793.3014 689.7123 NAF1 140.3264 165.4858 186.355 NAGA 1523.3441 1524.4619 1858.9074 NAGK 983.6809 899.869 1168.2003 NAGLU 621.3457 510.9453 1172.511 NAGPA 346.9762 257.5654 275.5533 NAGS 460.7732 107.2116 321.9763 NAIF1 217.1219 202.5108 132.3054 NAIP 101.2305 87.8942 77.261 NALCN 13.9628 36.7031 48.0809 NAMPT 3245.6584 1257.8849 5465.6387 Edit: I just realized OS_Months is actually the days to death. It means Overall Survival Months, basically how many months the patient has to live. I am reformatting my code accordingly. I will re-edit this when I figure out whether it is the problem or not.
