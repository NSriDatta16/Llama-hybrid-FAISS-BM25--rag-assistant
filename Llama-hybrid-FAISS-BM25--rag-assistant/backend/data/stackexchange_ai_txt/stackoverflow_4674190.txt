[site]: stackoverflow
[post_id]: 4674190
[parent_id]: 4673966
[tags]: 
I would turn it upside down - select first, and insert if not found. Two reasons: 1) You will select and find more often that select and miss, so select first is on average faster. 2) "on duplicate key" is a non-standard extension to INSERT that will cause problems in the future if you should ever move to a SQL database without it. (I think it is MySQL only). As for which is better, I'd rather try to understand the first or third.
