[site]: stackoverflow
[post_id]: 5116696
[parent_id]: 5116604
[tags]: 
var stuff = from l in File.ReadAllLines(filename) let x = l.Split(new [] {',', ' '}, StringSplitOptions.RemoveEmptyEntries) .Skip(1) .Select(s => int.Parse(s)) select new { Sum = x.Sum(), Average = x.Average() }; If you're reading big files and memory use is a concern, then the following will work better using .NET 4: var stuff = from l in File.ReadLines(filename) let x = l.Split(new [] {',', ' '}, StringSplitOptions.RemoveEmptyEntries) .Skip(1) .Select(s => int.Parse(s)) select new { Sum = x.Sum(), Average = x.Average() }; In both cases, the stuff variable contains an enumerable which won't actually be executed until you start reading from it (e.g. inside a foreach loop).
