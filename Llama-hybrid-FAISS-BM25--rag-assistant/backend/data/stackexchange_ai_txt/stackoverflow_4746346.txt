[site]: stackoverflow
[post_id]: 4746346
[parent_id]: 3827203
[tags]: 
If in frontend you have the file http://yourdomain.com/media/your_file.jpg which renders perfectly, when editing the content in backend that file is linked through smtg like http:// yourdomain.com /index.php/admin/cms_wysiwyg/directive/key/b9f80b36bc860a90ea2a03b61a6babfa/___directive/e3ttZWRpYSB1cmw9InBvd2RlcnNfOTB4OTAuanBnIn19/ and this image is broken. The problem is that in Mage_Adminhtml_Cms_WysiwygController (Mage/Adminhtml/controllers/Cms/WysiwygController.php) method directiveAction the $url is ... an url (of course) instead of an image path which is what we need in this case. You can create a module that overwrites the directiveAction and you would need to replace the $url assignment to $url = BP . str_replace(Mage::app()->getStore()->getConfig('web/unsecure/base_url'),"/", Mage::getModel('core/email_template_filter')->filter($directive) ); hope that works for you, Ky.
