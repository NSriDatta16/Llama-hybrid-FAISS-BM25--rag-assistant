[site]: stackoverflow
[post_id]: 3947161
[parent_id]: 3947083
[tags]: 
Your problem is not the average_list_len function. The only way for it to return zero is if the table has zero buckets to begin with. Your insert function's code shows you don't modify the values of the table, so i'd say your table has zero buckets at the time the insert function is called. You should inspect (or post?) the rest of the call stack. On a side note, i recommend gdb as a nice console debugger :)
