[site]: stackoverflow
[post_id]: 3214632
[parent_id]: 3214409
[tags]: 
Use pathname in preference to href to retrieve only the path part of the link. Otherwise you'll get unexpected results if there is a ?query or #fragment suffix, or the path is / (no parent). linkElementLink.href= location.pathname.split('/').slice(0, -1).join('/'); (But then, surely you could just say:) linkElementLink.href= '.'; Don't do this: linkElement.innerHTML=loc_array[loc_array.length-2]; Setting HTML from an arbitrary string is dangerous. If the URL you took this text from contains characters that are special in HTML, like and & , users could inject markup. If you could get in the URL (which you shouldn't be able to as it's invalid, but some browser might let you anyway) you'd have cross-site-scripting security holes. To set the text of an element, instead of HTML, either use document.createTextNode('string') and append it to the element, or branch code to use innerText (IE) or textContent (other modern browsers).
