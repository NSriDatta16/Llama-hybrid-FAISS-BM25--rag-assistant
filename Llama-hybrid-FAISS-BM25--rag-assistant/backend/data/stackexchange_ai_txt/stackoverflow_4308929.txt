[site]: stackoverflow
[post_id]: 4308929
[parent_id]: 4308844
[tags]: 
You have a complex array structure for an easy set of data. Could your final array work better like this? $data = array( array( 'Color' => 'green', 'Length' => 23, 'Waist' => NULL ), array( 'Color' => NULL, 'Length' => NULL, 'Waist' => NULL ), array( 'Color' => NULL, 'Length' => 23, 'Waist' => 24 ) ); If you're dead set on your structure, though, this should work: function format_my_array($keys, $malformed) { foreach ($malformed as $key => $fragments) { $temp = array( 'Color' => NULL, 'Length' => NULL, 'Waist' => NULL ); foreach ($fragments as $fragment) { if (isset($fragment[1])) { switch($fragment[1]) { case 'Length': $temp['Length'] = $fragment[1]; break; case 'Waist': $temp['Waist'] = $fragment[1]; break; default: $temp['Color'] = $fragment[1]; break; } } } $malformed[$key] = array( array($temp['Color'], 'Color'), array($temp['Length'], 'Length'), array($temp['Waist'], 'Waist') ); } return $malformed; }
