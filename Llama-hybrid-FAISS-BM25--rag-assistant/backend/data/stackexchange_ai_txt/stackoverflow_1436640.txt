[site]: stackoverflow
[post_id]: 1436640
[parent_id]: 1434016
[tags]: 
This one will do what you want: $ cat avg.awk #!/usr/bin/env awk -f # Calculate average, syntax: avg.awk field-number file BEGIN { field = ARGV[1]; ARGV[1] = "" } { sum += $field } END { print sum / NR } $ cat data 1 5 7 3 6 5 8 4 6 $ avg.awk 1 data 4 $ avg.awk 2 data 5 $ avg.awk 3 data 6
