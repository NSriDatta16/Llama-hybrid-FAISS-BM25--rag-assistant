[site]: crossvalidated
[post_id]: 636040
[parent_id]: 636023
[tags]: 
Aligned-rank nonparametric procedures are essentially ad hoc. I suggest using a random effects semiparametric ordinal regression model such as the proportional odds model. The R ordinal package will do this. To accurately handle the random effects take care to not use the default numerical integration procedure, as briefly discussed here . See here for resources for ordinal regression. The proportional odds model generalizes the Wilcoxon and Kruskal-Wallis tests. Note that a Bayesian proportional odds model will provide even more accurate inference due to not using numerical integration approximations.
