[site]: stackoverflow
[post_id]: 3281209
[parent_id]: 3280786
[tags]: 
I typed this but, on reflection, I have no idea what you are asking... Can you clarify: at a high level, what do these connection strings achieve in your app what you feel is going wrong in your system? do you feel this is an ASP.NET issue or a DI issue? Are you cahcing stuff in a session etc.? You need to surface stuff like this (assuming I've inferred correctly that you want to dynamically be able to change your application's storage mechanism on the fly - you've stated what you are doing, not why you are doing it) as application logic. Trying to abuse a DI container to do this for you is bad news - it doesnt retain a tree of objects it give the old configuration to, etc. Your application needs to manage this. Think of the case where you switch storage from A to B. What if something in your app is contacting A in the middle of your operation and is about to retry? You dont want the container (or anyone else) handing it a B instead. That's not to say that there are no legitimate use cases for such things. It's just that they're definitely not a common case or something that DI containers are typically used to manage. ... Or I may be missing something - in which case, it'd be interesting to hear more about your scheme and how you are attempting to map things to scopes etc.
