[site]: stackoverflow
[post_id]: 4084101
[parent_id]: 
[tags]: 
Force MSDTC to orphan a SQLServer distributed transaction

When shutting down my project's WebSphere-based JavaEE application, distributed transactions are sometimes left alive in the SQLServer 2005 database. These retain their locks forever and must be killed manually. They are described generally in this very good article . The article talks about how the transaction coordinator is unable to co-ordinate the distributed transaction participants and so flags the transaction with a process ID of -2. Given that we get this issue infrequently, but that it always happens when we shut down the application, I am not convinced it is a failure of the MSDTC. It is more likely to have something to do with WebSphere and how it terminates applications. I would like to test it. But I cannot reliably make it happen. Is there any way to force the MSDTC to orphan a SQLServer distributed transaction?
