[site]: stackoverflow
[post_id]: 5156481
[parent_id]: 5156284
[tags]: 
Define the URL regex from the RFC 3986 appendix: function hasJpgExtension(myUrl) { var urlRegex = /^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/; var match = myUrl.match(urlRegex); if (!match) { return false; } Whitelist the protocol if (!/^https?/i.test(match[2])) { return false; } Grab the path portion so that you can filter out the query and the fragment. var path = match[5]; Decode it so to normalize any %-encoded characters in the path. path = decodeURIComponenent(path); And finally, check that it ends with the appropriate extension: return /\.jpg$/i.test(path); }
