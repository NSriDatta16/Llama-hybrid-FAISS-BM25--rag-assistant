[site]: stackoverflow
[post_id]: 4579923
[parent_id]: 
[tags]: 
How to implement simple kinetic scrolling in Javascript for such functions?

I am trying to implement simple kinetic scrolling / eazing on 2 parameters. It works... partly/mostly. But something is very wrong. Problem and full code can be observed here. So I have tried such code (contains no errors that Google Chrome can see but is not working as needed - crashes something from time to time (randomly) and scrolls in wrong direction (only in one).. ): var dragDuration = 0; var lonBuffer = 0; var latBuffer = 0; var lastLonValue = 0; var lastLatValue = 0; var lonSignBuffer = 0; var latSignBuffer = 0; var kineticTimer; var kineticScrollingPrivateTimer; function startKineticTimer() { stopKineticScrolling(); kineticTimerTick(); } function kineticTimerTick() { dragDuration = dragDuration + 1; kineticTimer = setTimeout(kineticTimerTick, 50); } function stopKineticTimer() { clearTimeout(kineticTimer); startKineticScrolling(dragDuration); } function addToKineticBuffers(Lon, Lat) { var currentLonSign = ((lastLonValue - Lon) >= 0) ? 1 : -1; //if(lon >= 0){currentLonSign = 1;}else{currentLonSign = -1;} var currentLatSign = ((lastLatValue - Lat) >= 0) ? 1 : -1; if (currentLonSign != lonSignBuffer) { lonBuffer = 0; dragDuration = 0; lonSignBuffer = currentLonSign; } if (currentLatSign != latSignBuffer) { latBuffer = 0; dragDuration = 0; latSignBuffer = currentLatSign; } lonBuffer = lonBuffer + Lon; latBuffer = latBuffer + Lat; lastLonValue = Lon; lastLatValue = Lat; } function moveLonLat(newLon, newLat) { lon += newLon * 0.01; lat += newLat * 0.01; lastLonValue = lon; lastLatValue = lat; render(); } function kineticScrolling() { if (latBuffer I wonder how to fix my errors? (but not using Jquery or any other libs)
