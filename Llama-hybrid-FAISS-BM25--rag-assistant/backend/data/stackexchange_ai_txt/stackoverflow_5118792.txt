[site]: stackoverflow
[post_id]: 5118792
[parent_id]: 5118717
[tags]: 
You're using aggregate functions ( SUM , COUNT , AVG ) without an aggregate command (group by). I think your SQL is more complicated than it needs to be (no need for the inner select). Here's a SQL command that should work (hard to test without test data ;)) SELECT COUNT(id) total_orders, SUM(finalprice) total_sales, AVG(finalprice) order_average, SUM(units) total_units, SUM(finalprice)/DATEDIFF('.$endTimestamp.', '.$startTimestamp.') daily_average FROM ( SELECT o.id id, o.price+o.shipping_price finalprice, SUM(p.quantity) units FROM order o INNER JOIN order_product p ON p.order_id=o.id WHERE o.created>='.$startTimestamp.' AND o.created getId().' GROUP BY p.order_id ) t;
