[site]: stackoverflow
[post_id]: 1677226
[parent_id]: 
[tags]: 
Performant File Copy in C#?

I have a huge directory of about 500k jpg files, and I'd like to archive all files that are older than a certain date. Currently, the script takes hours to run. This has a lot to do with the very piss-poor performance of GoGrid's storage servers, but at the same time, I'm sure there's a way more efficient way Ram/Cpu wise to accomplish what I'm doing. Here's the code I have: var dirInfo = new DirectoryInfo(PathToSource); var fileInfo = dirInfo.GetFiles("*.*"); var filesToArchive = fileInfo.Where(f => f.LastWriteTime.Date = StopThresholdInDays.Days().Ago().Date ); foreach (var file in filesToArchive) { file.CopyTo(PathToTarget+file.Name); } The Days().Ago() stuff is just syntactic sugar.
