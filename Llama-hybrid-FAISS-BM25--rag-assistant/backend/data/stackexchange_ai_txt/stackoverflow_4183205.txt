[site]: stackoverflow
[post_id]: 4183205
[parent_id]: 4182131
[tags]: 
Despite your proposal that I don't suggest TCP over UDP, I have to. In same paragraph you are stating that the main purpose of your test is to measure throughput - that is bandwidth - and only way to do it properly without to re-invent whole TCP stack is to actually USE TCP stack. Large parts of TCP are designed to work with flow control issues, and when TCP streams are used, you'll get exactly what you need - maximum bandwidth for given connection, with ease and without 'warm water inventing'. If this answer doesn't suit you, that probably means that you have to re-state your requirements on the problem. They are in conflict.
