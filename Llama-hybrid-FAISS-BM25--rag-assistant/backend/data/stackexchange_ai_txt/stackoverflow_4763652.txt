[site]: stackoverflow
[post_id]: 4763652
[parent_id]: 
[tags]: 
Retrieving YAML from a text field

The serialize method allows an object like a hash to be stored in the database as a YAML string. However, I recently found myself wanting to have a text field to allow a user to input their own string and have the controller create a hash off of that string. '--- \nlast_name: Smith\nfirst_name: Joe\n' %> Yes, I want single quotes: I want to preserve the \n in the display. But the problem is that, as a result, the resultant string object gets escaped: --- \\nlast_name: Smith\\nfirst_name: Joe\\n I run the string through two regexes: The first replaces the double backslash with a single backslash. Then next converts \n (two characters) into \n (special single character). So in my controller: yhash = YAML.load(params[:form][:yaml].gsub(/\\\\/, "\\").gsub(/\\n/, "\n")) This now works, but seems awfully convoluted. Is there a more elegant way for a user to submit yaml?
