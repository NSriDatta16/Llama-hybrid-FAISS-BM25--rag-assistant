[site]: stackoverflow
[post_id]: 3460398
[parent_id]: 
[tags]: 
Is there a good language/syntax for field validation we can re-use?

I'm working on a web app (using Python & Bottle) and building a decorator for validating HTTP parameters sent in GET or POST. The early version takes callables, so this: @params(user_id=int, user_name=unicode) ... ensures that user_id is an int, user_name is a string, and both fields exist. But that's not enough. I want to be able to specify that user_name is optional, or that it must be non-empty and within 40 characters. Implementing that is easy enough, but I'm struggling with what syntax would be most elegant. It seems like that might be a problem someone's solved before, but I'm not finding an answer. Specifically I'm wondering if there's an elegant way to take parseable strings that provide the syntax. Something like: @params(user_id='int:min1', user_name='unicode:required:max40') I just don't want to invent a syntax if there's a good one floating around somewhere. Anyone seen something like this? In any language..but I'm specifically valuing terseness and readability.
