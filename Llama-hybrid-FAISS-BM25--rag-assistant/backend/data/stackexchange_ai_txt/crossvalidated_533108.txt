[site]: crossvalidated
[post_id]: 533108
[parent_id]: 532872
[tags]: 
I have a proposition that is near to what you thought, but with an additional step of working with an exact marginal distribution. This will be a long answer. Skip the mathematics if you are not inclined. The conclusions about the computations is explained after they are made. The model Let $(N_t, X_{ti}, X_{tj})$ be the total number of vehicles, the number of vehicles of type $i$ and the number of vehicles of type $j$ , $i\neq j$ , on the $t$ -th day. The random variable $N_t$ is latent, meaning it is not observed directly. The idea is to propose a reasonable joint distribution for this triplet, and then compute the marginal of distribution of $(X_{ti}, X_{tj})$ , which will then be used to compute the proportions. For this idea to work, we have to propose first a distribution for $N_t$ . Since we are working with a countable variable, I will assume that $N_t \sim \mbox{Poisson}(\lambda)$ . For the conditional distribution of $(X_{ti}, X_{tj})$ , we propose $$\mathbb{P}(X_{ti} = x_i, X_{tj} = x_j|N_t = n) = \frac{n!}{x_i!x_j!(n-x_i-x_j)!}p_i^{x_i}p_j^{x_j}(1 - p_i - p_j)^{n-x_i-x_j} \quad.$$ That is, they are a trinomial distribution with $N_t = n$ observations, where the $(1 - p_i - p_j)$ term correspond to the probability of observing vehicles of type different than $i$ and $j$ . The joint distribution can be written as $$\mathbb{P}(N_t = n, X_{ti} = x_i, X_{tj} = x_j) = \mathbb{P}(N_t = n) \mathbb{P}(X_{ti} = x_i, X_{tj} = x_j|N_t = n) \quad.$$ We have analytical an expression for the RHS. However, we are interest in the marginal $$\mathbb{P}(X_{ti} = x_i, X_{tj} = x_j) = \sum_{n=0}^\infty \mathbb{P}(N_t = n) \mathbb{P}(X_{ti} = x_i, X_{tj} = x_j|N_t = n) \quad.$$ Before evaluating the summation, notice that $\mathbb{P}(X_{ti} = x_i, X_{tj} = x_j|N_t = n) = 0$ when $n . Now we evaluate the summation \begin{align} \mathbb{P}(X_{ti} = x_i, X_{tj} = x_j) &= \sum_{n=0}^\infty \frac{e^{-\lambda}\lambda^{n}}{n!} \frac{n!}{x_i!x_j!(n-x_i-x_j)!}p_i^{x_i}p_j^{x_j}(1 - p_i - p_j)^{n-x_i-x_j}\\ &= \frac{e^{-\lambda}p_i^{x_i}p_j^{x_j}}{x_i!x_j!}\sum_{n=x_i+x_j}^\infty \frac{\lambda^{n}}{(n-x_i-x_j)!}(1 - p_i - p_j)^{n-x_i-x_j}\\ &= \frac{e^{-\lambda}p_i^{x_i}p_j^{x_j}}{x_i!x_j!}\sum_{k = 0}^\infty \frac{\lambda^{k+x_i+x_j}}{k!}(1 - p_i - p_j)^{k}\\ &= \frac{e^{-\lambda}\lambda^{x_i+x_j}p_i^{x_i}p_j^{x_j}}{x_i!x_j!}\sum_{k = 0}^\infty \frac{(\lambda(1 - p_i - p_j))^{k}}{k!}\\ &= \frac{e^{-\lambda}\lambda^{x_i+x_j}p_i^{x_i}p_j^{x_j}}{x_i!x_j!}e^{\lambda(1-p_i-p_j)}\\ &= \frac{e^{-\lambda p_i}(\lambda p_i)^{x_i}}{x_i!}\frac{e^{-\lambda p_j}(\lambda p_j)^{x_j}}{x_j!}\\ \end{align} After these exausting computations, we have a great result: $X_{ti}$ and $X_{tj}$ are marginally independent. Moreover, their distributions is $X_{ti} \sim \mbox{Poisson}(\lambda p_i)$ for all $i \, \in \, \{1,\ldots, k\}$ , where $k$ is the number of types of vehicles . With this, you can write the likelihood as a product of independent Poissons for each type of vehicle, where the number of observations for each will vary on how you choose the vehicle counting. Estimation Write $\lambda_i = \lambda p_i$ . Let $n_i$ be total number of days you chose to observe the $i$ -th type of vehicle, and let $S_i$ be the sum of the observations of that vehicle type. The maximum likelihood estimator for $\lambda_i$ is $$\hat{\lambda}_i = \frac{1}{n_i}S_i \quad,$$ That is, it is just the average of the observations. But we do not want to estimate $\lambda_i$ , we want to estimate $p_i$ . Well, we know that $$1 = \sum_{i=1}^k p_i \quad.$$ Multiplying both sides by $\lambda$ , we have $$\lambda = \sum_{i=1}^k \lambda_i \quad.$$ By the invariance property of the MLE, we have $$\hat{\lambda} = \sum_{i=1}^k \hat{\lambda}_i \quad.$$ But $p_i = \lambda_i/\lambda$ , hence $$\hat{p}_i = \frac{\hat{\lambda}_i}{\hat{\lambda}} \quad.$$ Therefore, we can estimate the proportions $p_i$ , and also the expected number of vehicles $\lambda$ ! Your example To show that this approach might work, lets compute each parameter in your data example: \begin{align} &\hat{\lambda}_{truck} = (30+25+44)/3 = 33\\ &\hat{\lambda}_{car} = (65+72)/2 = 68.5\\ &\hat{\lambda}_{cycle} = (12+19+14)/3 = 15\\ &\hat{\lambda}_{van} = (12+11)/2 = 11.5 \end{align} For $\lambda$ , we have $$ \hat{\lambda} = \hat{\lambda}_{truck} + \hat{\lambda}_{car} + \hat{\lambda}_{cycle} + \hat{\lambda}_{van} = 128 \quad.$$ For the probabilities \begin{align} &\hat{p}_{truck} = \hat{\lambda}_{truck}/\hat{\lambda} = 0.2578\\ &\hat{p}_{car} = \hat{\lambda}_{car}/\hat{\lambda} = 0.5351\\ &\hat{p}_{cycle} = \hat{\lambda}_{cycle}/\hat{\lambda} = 0.1171\\ &\hat{p}_{van} = \hat{\lambda}_{van}/\hat{\lambda} = 0.0898 \end{align} The probabilities are strinkingly similar to those provided by @whuber. The difference is that it is very very easy to compute it, no optimization required. Final Analysis Here is a final overall comparison when considering this approach. Advantages: Its very easy to compute the estimators, they are analytical; You probably can perform hypothesis testing, if you wish; You can estimate the total number of vehicle. Disadvantages: We assumed that $N_t$ does not vary with the day, which might be false due to weekly or monthly seasonality; I do not know how you could check if the Poisson distribution is adequate for $N_t$ with the data at hand.
