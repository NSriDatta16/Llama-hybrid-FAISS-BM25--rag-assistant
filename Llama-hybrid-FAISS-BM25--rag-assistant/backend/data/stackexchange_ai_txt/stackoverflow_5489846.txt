[site]: stackoverflow
[post_id]: 5489846
[parent_id]: 
[tags]: 
C/Unix Programming Problem with Pipes

So I'm writing a program that will take in an input file as follows: 1 1 1 1 1 1 1 1 1 1 1 1 4 4 4 4 It will fork() a new child process for each row, and each child process will calculate the sum of their respective row (it has been hardcoded in, though it would be trivial to change it to a general case). The code is as follows: #include #include #include #include #include #include #include #define cols 100 //not used #define rows 4 //easily modifiable int main() { int count=0; //count for children int fd[2]; FILE *fp = fopen("input.dat", "r"); setbuf(fp,NULL); //unbuffered double sum = 0; //parent sum (and average) int childStatus; //used in the wait command char c; //char for reading in numbers int pid; //store process id int childsum=0; for(count=0;count The code ran fine once, and the only error was that the Parent average ( sum ) was not being calculated. However, when I ran it again, it halts after printing the first Child's sum (in this case, 4). Why could this be happening if it ran once already? What is causing it to halt?
