[site]: crossvalidated
[post_id]: 592214
[parent_id]: 592199
[tags]: 
Generally not. In fact it usually doesn't even make sense to compare them. Unfortunately, lots of probability notation is implicit or even sometimes ambiguous in confusing ways. $E[X|Z]$ means "The expectation of $X$ , if we know $Z$ . As usually used, it's not a number, but a function of a measured $z$ , and should probably be written as something like $E[X|Z=z]$ (i.e. something morally equivalent to $\sum_i x_i P(x_i|Z=z)$ ). Call this $F_1(z)$ . The law of iterated expectations gives $E[E[X|Z]|Y] = E[X|Y]$ . 1 . And similarly, $E[X|Y]$ is a function of $y$ : $F_2(y)$ . Importantly, in the usual case, it has no dependence on $z$ , as that is "averaged over" in the outer expectation. So when is it the case that $\forall y, z: F_1(z) = F_2(y)$ ? As expressions of $y$ and $z$ , they can only be equal if they're both constants, with no dependence on either $y$ or $z$ . However, we only care about them being equal on actual possible measurements, and that opens up some screwy degenerate situations. Before this we implicitly assumed that Y and Z could freely covary, and that they were both representable as PDFs. We can drop these restriction and take conditional expectations as random variables over a coarser sigma-algebra than the original; effectively "how do you write the expectation, using only the random variables on the right-hand side of the bar". In this technical sense, for these two expectations to be the same, they must be the same as random variables. They must be defined over the same probability space, which means sharing the same sigma algebra. And they must take on the same values, over that probability space, except on sets of zero probability. I think for this to have this be true, Y and Z must be decomposable into a direct sum of subsets k where $z \in Z_k \equiv y \in Y_k$ and $E[X|z \in Z_k] = E[X|y \in Y_k]$ . Whuber's counterexample to my original statement has $Y$ and $Z$ as the same random variable, with the subsets being as small as singletons, so that $E[X|Y] = E[X|Z]$ , even though the expressions conditioning on Y or Z would be different. This would also works for any invertible function connecting Y and Z. 1 Assuming $\sigma(y) \subseteq \sigma(z)$ -- this expression doesn't make sense if we don't assume that.
