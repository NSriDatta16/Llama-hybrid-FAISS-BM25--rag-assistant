[site]: stackoverflow
[post_id]: 3967422
[parent_id]: 3967064
[tags]: 
What you're trying to do is create a Queue of Number objects with a fixed size, over which you want to calculate an average. With the trivial situation that you have size = 2 and store two integers 1 & 2 you have an average of 1.5 so its reasonable to set the return type of your filter method to double. You can then write this code similar to this public abstract class FilterData { private final Queue mFilter = new LinkedList (); protected Integer mSize; public FilterData() { this(10); } public FilterData(int size) { mSize = size; } public double filter(T currentVal) { push(currentVal); double totalVal = 0d; int numNonZeros = 0; for (T value : mFilter) { if (value.doubleValue() != 0) { ++numNonZeros; totalVal += value.doubleValue(); } } return totalVal / numNonZeros; } public void push(T currentVal) { mFilter.add(currentVal); if (mFilter.size() > mSize) mFilter.remove(); } public void resizeFilter(int newSize) { if (mSize > newSize) { int numItemsToRemove = mSize - newSize; for (int i = 0; i You should note that this isn't thread safe.
