[site]: stackoverflow
[post_id]: 2410460
[parent_id]: 2409597
[tags]: 
The reason you're getting the price doesn't exist error is because you can't reference aliased columns in the column list. To fix this, store the price value in a user-defined variable and reference that, like so: SELECT p.idproduct, p.name, p.tax, @price := (SELECT s.price FROM product_storage s WHERE s.idproduct=p.idproduct AND s.quantity > 0 ORDER BY s.added ASC LIMIT 1) AS price, (@price * (1 + tax/100)) AS price_with_tax FROM product p;
