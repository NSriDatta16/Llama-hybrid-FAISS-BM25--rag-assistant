[site]: stackoverflow
[post_id]: 2283455
[parent_id]: 
[tags]: 
How is this Dictionary exception possible?

Given the following stack trace: MESSAGE: Value cannot be null.Parameter name: key SOURCE: mscorlib TARGETSITE: Void ThrowArgumentNullException(System.ExceptionArgument) STACKTRACE: at System.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument) at System.Collections.Generic.Dictionary'2.FindEntry(TKey key) at System.Collections.Generic.Dictionary'2.get_Item(TKey key) at MyCompany.MAF.Agent.ServiceContracts.ConvertUtils.Convert(Dictionary'2 from) in D:\Development\MAF\Agent\MyCompany.MAF.Agent\ServiceContracts\ConvertUtils.cs:line 11 I conclude that somehow the following block of code has retrieved a null from the input Dictionary's Keys collection. However, the input dictionary is an instance of Dictionary . The implementation of Dictionary makes that condition impossible. Upon adding an item with a null key, an exception is thrown. internal static KeyValuePair [] Convert(IDictionary from) { List > ret = new List >(); foreach (string key in from.Keys) ret.Add(new KeyValuePair (key, from[key])); return ret.ToArray(); }
