[site]: stackoverflow
[post_id]: 223261
[parent_id]: 223215
[tags]: 
If it works -- consistently -- then it's an elegant solution. It will normally work in memory because the compiler will deal with alignment issues and you can assume that the Payload follows the header in correctly-aligned memory space. I could see this falling apart when the Header/Payload objects are streamed "over the wire" because the streaming mechanism you use will probably not care about aligning objects on any particular boundary. Therefore, Payload may directly follow the Header with no padding to force it to a particular alignment. To coin a phrase, elegant is as elegant does. So, it's elegant as long as you are careful how you stream it.
