[site]: stackoverflow
[post_id]: 4918924
[parent_id]: 
[tags]: 
Is my way for writing jQuery plugins correct?

I've started writing jQuery plugin and I want to be able to: initialize it when I call it like this $('selector').sitemap(options); use some members(like 'loader', 'viewPort') in functions in plugin Regard the 1st problem : have I done it correctly in the way I wrote initialization (init function) or there is more correct / elegant way to do it? Regard the 2nd problem : in order to use members like 'loader', 'viewPort' I wrote all functions in sitemap object. Have I done it right or there is more correct / elegant way to do it? (function ($) { $.extend($.fn, { sitemap: function (options) { //check if applied on valid DIV element var canvas = this; if (!canvas.is('div')) return; var viewPort = null; var loader = $(' Loading... '); init(); loadMap(); function init() { //create viewPort div setCanvas(); } function setCanvas() { //set height and width } function loadMap() { viewPort.prepend(loader); buildMap($.parseJSON('{"pages":[]}')); } function buildMap(map){ //... } })(jQuery);
