[site]: stackoverflow
[post_id]: 5423376
[parent_id]: 
[tags]: 
Why is "ENV variable 'S3_KEY' needs to be set" being thrown on deployment?

I'd like to use heroku_san to deploy multiple environments to heroku . I'm using dragonfly for image handling and S3 for storage. Usually you can add your key and secret for the storage using heroku config:add S3_KEY=… S3_SECRET=… directly. So I've added these details to the heroku.yml file used by heroku_san : staging: app: app-staging config: &default BUNDLE_WITHOUT: "development:test" S3_KEY: XXXXXXXXXXXXXXXXXX S3_SECRET: XXXXXXXXXXXXXXXXXX S3_BUCKET: app-staging but when deploying I'm still getting: rake aborted! ENV variable 'S3_KEY' needs to be set - use heroku config:add S3_KEY=XXXXXXXXX What am I missing here? Is there a better way then storing this information in a YML file?
