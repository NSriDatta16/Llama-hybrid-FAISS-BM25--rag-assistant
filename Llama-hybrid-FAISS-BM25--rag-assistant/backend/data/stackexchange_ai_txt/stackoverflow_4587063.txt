[site]: stackoverflow
[post_id]: 4587063
[parent_id]: 4586972
[tags]: 
If your allocations are all roughly the same size, just split your memory up into TOTAL/MAXSIZE pieces each consisting of MAXSIZE bytes. Then fragmentation is irrelevant. To answer your question in general, there is no magic number for "fragmentation". You have to evaluate the merits of different functions in reflecting how fragmented memory is. Here is one I would recommend, as a function of a size n : fragmentation(n) = -log(n * number_of_free_slots_of_size_n / total_bytes_free) Note that the log is just there to map things to a "0 to infinity" scale; you should not actually evaluate that in practice. Instead you might simply evaluate: freespace_quality(n) = n * number_of_free_slots_of_size_n / total_bytes_free with 1.0 being ideal (able to allocate the maximum possible number of objects of size n ) and 0.0 being very bad (unable to allocate any).
