[site]: stackoverflow
[post_id]: 2216795
[parent_id]: 2216567
[tags]: 
If you want to look up the tree and find the closest element that contains a Header attribute with a value, something like this should work. This uses the ancestor axis to look up the tree and the xpath expression looks for any element with a Header attribute who's value is not empty. A second filter is used to evaluate the last one. If there is more than one ancestor that has a @Header with a value, the last one would be the closest to the context node, because the result is in document order . EDIT: An alternative way to find the same results, leveraging the fact that ancestor axis returns in reverse document order would be to put the filter criteria in the predicate for the ancestor axis step, select the first one(closest match to the context node), and then step into the @Header:
