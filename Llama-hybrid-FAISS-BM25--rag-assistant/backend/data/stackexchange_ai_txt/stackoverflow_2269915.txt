[site]: stackoverflow
[post_id]: 2269915
[parent_id]: 
[tags]: 
checkbox in List being checked unexpectedly

I have list of checkboxes in list binded by Custom simpleCursorAdapter . In my custom simpleCursorAdapter , I've overridden newView and bindView with my modifications. I've managed somehow to do multichoice. The wierd thing is, after I delete any item from my list, the first item's checkbox is being checked all of a sudden. How does that happen? How can I solve it? My SimpleCursorAdapter class: public class MyListCursorAdapter extends SimpleCursorAdapter { private Context context; private int layout; public MyCursorAdapter(Context context, int layout, Cursor c, String[] from, int[] to) { super(context, layout, c, from, to); this.context = context; this.layout = layout; } @Override public View newView(Context context, Cursor cursor, ViewGroup parent) { Cursor c = getCursor(); final LayoutInflater inflater = LayoutInflater.from(context); View v = inflater.inflate(layout, parent, false); CheckBox chkBoxBtn = (CheckBox) v.findViewById (R.id.deleteTwittChkBox); if (chkBoxBtn != null) { chkBoxBtn.setChecked(false); } return v; } @Override public void bindView(View v, Context context, Cursor c) { --binding view to my textsview in my items //now it's the importat part: CheckBox chkBoxBtn = (CheckBox) v.findViewById(R.id.deleteTwittChkBox); if (chkBoxBtn != null) { chkBoxBtn.setId(Integer.valueOf(c.getString(c .getColumnIndex(MyUsers.User._ID)))); chkBoxBtn.setOnClickListener(new OnItemClickListener(chkBoxBtn, v)); chkBoxBtn.setChecked(false); } } //i couldnt find another way of doing this, but this is how i set listeners to my checkboxses static ArrayList checkedItemsList = new ArrayList (); private class OnItemClickListener implements OnClickListener { private int mPosition; private CheckBox chkBox; OnItemClickListener(CheckBox mChkBox, View v) { chkBox = mChkBox; chkBox.setChecked(false); } @Override public void onClick(View v) { if (chkBox.isChecked()) { checkedItemsList.add(String.valueOf(chkBox.getId())); } else { checkedItemsList.remove(String.valueOf(chkBox.getId())); } } } } Here is the code part from the ListActivity class which describes the button that deletes the checked box items: OnClickListener btListener = new OnClickListener() { public void onClick(View view) { // long[] items = listView.getCheckItemIds(); int x = 0; Uri myUri = Uri .parse("content://com.idan.datastorageprovider/users"); String where = "_id" + "=?"; //here i am tatking all checkboxes which ive added from the adapter class ArrayList checkedItemsList = MySimpleCursorAdapter.checkedItemsList; for (String itemID : checkedItemsList) { getContentResolver() .delete(myUri, where, new String[] { itemID}); checkedItemsList.remove(itemID); } } };
