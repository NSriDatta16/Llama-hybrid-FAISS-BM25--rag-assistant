[site]: stackoverflow
[post_id]: 1748192
[parent_id]: 1748176
[tags]: 
It looks like $client isn't defined. If that variable is defined out of the function's scope, it will not be available unless you define it as a global variable global $client This is discouraged though, a better way of doing this is to pass $client as a parameter to the function Have a look here for more on variable scopes http://php.net/manual/en/language.variables.scope.php
