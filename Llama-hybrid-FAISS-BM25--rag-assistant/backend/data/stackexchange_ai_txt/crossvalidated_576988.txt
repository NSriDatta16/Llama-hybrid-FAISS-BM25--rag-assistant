[site]: crossvalidated
[post_id]: 576988
[parent_id]: 
[tags]: 
Seasonal component of STL decomposition looks like the original data

I am doing STL decomposition on Kaggle dataset . Below is just example for one region. I have summed up the values for type (conventional, organic). So data is grouped on date and region. My question is the seasonality component doesn't seem like seasonality. It seems like entire series. This is not specific to this region (Albany). Other regions also show similar result. Can someone explain what is happening with STL decomposition? df_avocado = pd.read_csv("avocado.csv") df_avocado['Date'] = pd.to_datetime(df_avocado['Date']) df_avocado = df_avocado.sort_values(by=['Date']).reset_index(drop=True) df_avocado = df_avocado.rename(columns={'Date': 'week', 'Total Volume': 'quantity'}) df_avocado = df_avocado.groupby(by=['region', 'week'], as_index=False).agg({'quantity': sum}) df_avocado['week_start'] = pd.to_datetime(df_avocado['week']) df_avocado = df_avocado.sort_values(by=['week']).reset_index(drop=True) df_avocado = df_avocado.loc[:, ['region', 'week', 'quantity']] x = [] for reg in df_avocado['region'].unique(): print(reg) df_temp = df_avocado.loc[df_avocado['region']==reg, ['region', 'week', 'quantity']].copy() ser_df_temp = df_temp.set_index('week') stl_df_temp = STL(ser_df_temp['quantity']) result_df_temp = stl_df_temp.fit() seasonality_df_temp, trend_df_temp, resid_df_temp = result_df_temp.seasonal, result_df_temp.trend, result_df_temp.resid df_temp['quantity'] = resid_df_temp.values plt.figure(figsize=(8,6)) plt.subplot(4,1,1) plt.plot(ser_df_temp['quantity']) plt.title(f'Original Series {(reg)}', fontsize=16) plt.subplot(4,1,2) plt.plot(trend_df_temp) plt.title('Trend', fontsize=16) plt.subplot(4,1,3) plt.plot(seasonality_df_temp) plt.title('Seasonal', fontsize=16) plt.subplot(4,1,4) plt.plot(resid_df_temp) plt.title('Residual', fontsize=16) plt.tight_layout()
