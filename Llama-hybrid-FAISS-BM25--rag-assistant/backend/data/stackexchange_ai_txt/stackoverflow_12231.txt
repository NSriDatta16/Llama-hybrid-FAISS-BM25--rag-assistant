[site]: stackoverflow
[post_id]: 12231
[parent_id]: 11689
[tags]: 
@Gaius foreign key (thing_id, thing_type) -> problems.id or solutions.id Be careful with these kinds of "multidirectional" foreign keys. My experience has shown that query performance suffers dramatically when your join condition has to check the type before figuring out which table to join on. It doesn't seem as elegant but nullable problem_id and solution_id will work much better. Of course, query performance will also suffer with an MVCC design when you have to add the check to get the latest version of a record. The tradeoff is that you never have to worry about contention with updates.
