[site]: stackoverflow
[post_id]: 2404538
[parent_id]: 
[tags]: 
PHP MYSQL FPDF retrieving pdf string stored as blob

Using the above technologies, I want to create a PDF, store it in my db, and email it. All with the click of one button. I also want to call it up and have it be able to display with a hyperlink. I am very new to FPDF. Therefore, I am trying to start off very slowly. I began with this link stackoverflow Q I put both parts of his code into the same page and tried with separate pages. I made the suggested changes/additions and even did a line by line comparison. I still get the message, "format error: not a PDF or corrupted" If I just $pdf->Output(); I get the pdf to display. It's either the way the string is being Output, or it's the header() function. It's not the storage method, unless my column setup is incorrect. BUt a blob is a blob, right? If you want, I can upload the sanitized code. Just let me know what would help answer this. Thanks JJ here's the code on request here's where I enter it in: AddPage(); $pdf->SetFont('Arial','B',16); $pdf->Cell(40,10,'Hello World!'); $content = $pdf->Output("", "S"); //return the pdf file content as string $sql = "update table set table_pdf= '".addslashes($content)."' " . "where table_id = '188'"; mysql_query($sql); //here's where I retrieve it $sql2 = "select table_pdf from table where table_id = '188'"; $result2 = mysql_query($sql2); $rs = mysql_fetch_assoc($result2); $content2 = $rs['rdngs_hdr_pdf']; header('Content-Type: application/pdf'); header("Content-Length: ".strlen(content2)); header('Content-Disposition: attachment; filename=myfile.pdf'); print $content2; ?> Like I said, I have tried the other ideas on the other question link above. right now it just sits on the version where the addslashes is there. Thanks for any help.
