[site]: stackoverflow
[post_id]: 365451
[parent_id]: 365387
[tags]: 
When I prepare to make a functional change to the code (feature, bug fix, performance, whatever), I first ask myself what it would look like if the code was ideally-structured to make that change. Then I refactor in that direction I now make the functional change. Finally, I refactor again to clean up the ugliness introduced by my change. I always want to balance my refactoring work against other factors (deadlines, importance of this code, quality of test coverage, etc.).
