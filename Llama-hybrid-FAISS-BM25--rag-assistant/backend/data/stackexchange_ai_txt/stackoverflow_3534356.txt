[site]: stackoverflow
[post_id]: 3534356
[parent_id]: 3532637
[tags]: 
Your latest code will almost work, but F# requires you to explicitly upcast to AttributeIndexBase in this case. There are at least two ways to do this: you could use the upcast keyword or you could use the :> conversion operator. The first option would look like this: let getNewIndexForValueType (value: ValueType) : AttributeIndexBase = match value with | :? int -> upcast new AttributeIndex () | :? float -> upcast new AttributeIndex () | :? bool -> upcast AttributeIndex () | _ -> failwith "bad value type" While the second would look like this: let getNewIndexForValueType (value: ValueType) : AttributeIndexBase = match value with | :? int -> new AttributeIndex () :> _ | :? float -> new AttributeIndex () :> _ | :? bool -> new AttributeIndex () :> _ | _ -> failwith "bad value type"
