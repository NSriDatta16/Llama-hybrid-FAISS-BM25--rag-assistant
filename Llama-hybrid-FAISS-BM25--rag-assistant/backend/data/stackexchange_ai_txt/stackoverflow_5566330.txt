[site]: stackoverflow
[post_id]: 5566330
[parent_id]: 
[tags]: 
Get GIF to play in WPF (with GifImage Class)

Following is a piece of code I found here: How do I get an animated gif to work in WPF? class GifImage : Image { public int FrameIndex { get { return (int)GetValue(FrameIndexProperty); } set { SetValue(FrameIndexProperty, value); } } public static readonly DependencyProperty FrameIndexProperty = DependencyProperty.Register("FrameIndex", typeof(int), typeof(GifImage), new UIPropertyMetadata(0, new PropertyChangedCallback(ChangingFrameIndex))); static void ChangingFrameIndex(DependencyObject obj, DependencyPropertyChangedEventArgs ev) { GifImage ob = obj as GifImage; ob.Source = ob.gf.Frames[(int)ev.NewValue]; ob.InvalidateVisual(); } GifBitmapDecoder gf; Int32Animation anim ; public GifImage(Uri uri) { gf = new GifBitmapDecoder(uri, BitmapCreateOptions.PreservePixelFormat, BitmapCacheOption.Default); anim = new Int32Animation(0, gf.Frames.Count - 1, new Duration(new TimeSpan(0,0, 0,gf.Frames.Count/10,(int)((gf.Frames.Count/10.0-gf.Frames.Count/10)*1000)))); anim.RepeatBehavior = RepeatBehavior.Forever; Source = gf.Frames[0]; } bool animationIsWorking = false; protected override void OnRender(DrawingContext dc) { base.OnRender(dc); if (!animationIsWorking) { BeginAnimation(FrameIndexProperty, anim); animationIsWorking = true; } } } It supposed to allow me to use GifImage as a Control. But How do I use it in XAML? How do I set the Source? I tried various combination but doesn't work and there's no documentation: GifImage gifImg = new GifImage(new Uri("/application;component/Images/indicator.gif"); doesn't work and exception tells me a wrong path but I just can't get the right path. Help..
