[site]: stackoverflow
[post_id]: 462598
[parent_id]: 462563
[tags]: 
CREATE TABLE data (user INTEGER, movie INTEGER, rate INTEGER); SELECT other.user, AVG(ABS(d1.rate - d2.rate)) AS distance FROM data me, data other WHERE me.user = :user AND other.user <> me.user AND other.movie = me.movie GROUP BY other.user ORDER BY distance Complexity will be O(n 1.5 )) rather than O(n 2 ), as there will be n comparisons to sqrt(n) movies (average of movies filled together by each pair).
