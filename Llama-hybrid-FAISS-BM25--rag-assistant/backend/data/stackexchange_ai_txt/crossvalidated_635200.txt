[site]: crossvalidated
[post_id]: 635200
[parent_id]: 
[tags]: 
Can I remove a single bootstrap sample before calculating CI?

I'm using boot::boot with BCa to assess uncertainty estimation for a binomial model. The statistic function is manually coded as a cluster bootstrap with G-computation (full explanation and replicable code: https://stats.stackexchange.com/a/620201/323174 ). In rare instances, I get a sample that contains only some of the cluster levels, which returns an incomplete sample estimate (i.e., a table with a missing row for one of the cluster levels). As a response, the boot function fails with an error ( boot::boot line 124: ...t.star[r, ] gives: number of items to replace is not a multiple of replacement length ). To solve this, I edited the boot::boot function to remove the incomplete samples and return a smaller bootstrap with an updated R. For example, this bootstrap: boot_out.rrt.dich.uo Returns this: ORDINARY NONPARAMETRIC BOOTSTRAP Call: boot(data = pair_ids, statistic = boot_fun_by, R = 98) Bootstrap Statistics : original bias std. error t1* 3.494313e-01 2.572816e+11 2.546256e+12 t2* 2.746097e+13 -2.622462e+13 5.558065e+12 t3* 1.415745e-11 4.028178e+03 1.470726e+04 Pay attention as the R = 99 from the function becomes R = 98 in the result (the actual code changed in the boot::boot function can be seen in this fork .) Will this offend the calculation of boot::boot.ci using type = "bca" beyond reducing the number of my samples?
