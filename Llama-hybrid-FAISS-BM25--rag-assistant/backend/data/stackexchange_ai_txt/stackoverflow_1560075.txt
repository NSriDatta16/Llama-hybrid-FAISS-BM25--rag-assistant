[site]: stackoverflow
[post_id]: 1560075
[parent_id]: 
[tags]: 
ZIP Files get corrupted by IE

I am delivering a ZIP file in 64k chunks using a loop in PHP (but the problem would arise with any server side language). When fetching the file with FF, everything goes just fine. When fetching the file with IE7, some bits get corrupted. This leads to an error message regarding wrong CRC (a hash) and some of the unzipped files end up being corrupted. The headers being sent are the following: Expires: 0 Cache-Control: must-revalidate, post-check=0, pre-check=0 Pragma: public Content-Description: File Transfer Content-Disposition: attachment; filename="671fb8f80f5e94984c59e61c3c91bb70.zip"; Content-Transfer-Encoding: binary Vary: Accept-Encoding Content-Encoding: gzip Keep-Alive: timeout=5, max=100 Connection: Keep-Alive Transfer-Encoding: chunked Content-Type: application/octet-stream Does anyone have a clue where this corruption comes from?
