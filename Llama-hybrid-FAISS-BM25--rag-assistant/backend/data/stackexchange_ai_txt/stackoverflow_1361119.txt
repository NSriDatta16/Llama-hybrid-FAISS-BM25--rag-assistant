[site]: stackoverflow
[post_id]: 1361119
[parent_id]: 1361106
[tags]: 
In frag->seq="test str\n"; you haven't malloc 'ed the memory block - the string is allocated in static storage - and later you try to free() that memory block. You can only free() blocks allocated with malloc() , otherwise you risk running into undefined behaviour. You could either only put pointers to statically allocated strings into Frag::seq fields and never free() them or you could malloc() memory for these strings and copy the strings into malloc 'ed blocks.
