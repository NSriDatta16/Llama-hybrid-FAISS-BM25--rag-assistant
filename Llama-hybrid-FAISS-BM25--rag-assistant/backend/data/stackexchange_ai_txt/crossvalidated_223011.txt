[site]: crossvalidated
[post_id]: 223011
[parent_id]: 
[tags]: 
Which is the best approach? Difference in Difference with Heterogeneous Effects

I am interested in the performance of two competing approaches to estimate a treatment effect, for which one would expect heterogeneous effects. The point of origin is a treatment conducted from period $t$ onwards (dummy: $d_t$) for the treatment group (dummy: $a_i$). The treatment is expected to only affect that part of the treatment group that has a particular feature (dummy: $f_i$). Agents in both the treatment and the control group can have this feature. The variable of interest (the dependent variable) is $Y$. Now, there are two ways of estimating the effect of the treatment on the treated: Standard Difference in Differences, estimated seperately first for the subsample that has the feature ($f_i =1$) and then again for that subsample that does not have this feature ($f_i =0$). $$ Y = \alpha + \beta_1 a_i + \beta_2 d_t + \beta_3 a_i d_t + \beta_x \mathbf{x} $$ where $\mathbf{x}$ is a vector of controls. One would then obtain two different DiD estimates ($\beta_3$) and the difference between the 2 coeffiecients indicates the different effect of the treatment depending on the feature of the agents. Estimate the effect in one equatin using Difference in Difference in Difference (DDD). $$ Y = \alpha + \beta_1 a_i + \beta_2 d_t + \beta_3 a_i d_t + \beta_4 f_i + \beta_5 a_i f_i + \beta_6 d_t f_i + \beta_7 a_i d_t f_i + \beta_x \mathbf{x} $$ where $\beta_7$ tells us to what extent the treatment effect varies with the special feature. I am now interested in advantages and disadvantages of the two approaches. Right now, I would prefer the DDD approach. As far as I'm concerned, it has one disadvantage, which stems from the common trend assumption, which is a stronger assumption in the DDD context relative to the normal DiD. But I think this problem could be tackled by including appropriate controls. The advantage of the DDD approach is that we gain more information with the additional regressors. First of all, the subsample of the population with the feature of interest ($f_i=1$) might systematically differ from the rest of the population (significant value for $\beta_4$). Second, those agents in the treatment group that posess the feature of interest ($f_i$*$a_i$=1) might systematically differ from other agents, independent from the treatment (significant value for $\beta_5$). Third, the treatment might affect all those that have the particular feature, independent from whether they are actually treated or not (significant value for $\beta_6$). Now my questions are: 1. Which of the 2 approaches should be selected? 2. Is the only difference between the 2 approaches in the amount of information captured?
