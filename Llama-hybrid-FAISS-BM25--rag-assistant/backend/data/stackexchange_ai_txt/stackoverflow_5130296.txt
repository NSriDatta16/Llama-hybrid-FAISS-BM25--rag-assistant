[site]: stackoverflow
[post_id]: 5130296
[parent_id]: 5127855
[tags]: 
By the way, it's not just Russian; non-ASCII characters are quite common in page names. Example: name=u'Python Programming Language \u2013 Official Website' url=u'http://www.python.org/' As an alternative to fragile code like urls.append(i.split('"')[3]) names.append(data[ind-2].split('"')[3]) # (1) relies on name being 2 lines before url # (2) fails if there is a `"` in the name # example: "name": "The \"Fubar\" website", you could process the input file using the json module. For Python 2.5, you can get simplejson . Here's a script that emulates yours: try: import json except ImportError: import simplejson as json import sys def convert_file(infname, outfname): def explore(folder_name, folder_info): for child_dict in folder_info['children']: ctype = child_dict.get('type') name = child_dict.get('name') if ctype == 'url': url = child_dict.get('url') # print "name=%r url=%r" % (name, url) fw.write(name.encode('utf-8') + ' \n') elif ctype == 'folder': explore(name, child_dict) else: print "*** Unexpected ctype=%r ***" % ctype f = open(infname, 'rb') bmarks = json.load(f) f.close() fw = open(outfname, 'w') fw.write(" \n") for folder_name, folder_info in bmarks['roots'].iteritems(): explore(folder_name, folder_info) fw.write(" ") fw.close() if __name__ == "__main__": convert_file(sys.argv[1], sys.argv[2]) Tested using Python 2.5.4 on Windows 7 Pro.
