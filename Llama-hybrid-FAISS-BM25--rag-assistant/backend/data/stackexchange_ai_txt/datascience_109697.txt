[site]: datascience
[post_id]: 109697
[parent_id]: 109690
[tags]: 
This is more of a programming than a data science question and is therefore better suited to the stackoverflow stackexchange page. Without having a data sample it is bit difficult, but I would expect something like this to at least get close to what you're looking for: DurchgangJ %>% mutate(bmi = Gewicht / (Körpergröße/100)^2) %>% filter(Lebensalter >= 18)%>% filter(!is.na(bmi))%>% filter(!is.na(Ratio))%>% mutate(Poor = Ratio % mutate(Overweight = bmi > 30)%>% group_by(Geschlecht, Ethnie)%>% summarise( R1 = sum(Overweight & !Poor) / sum(!Poor). R2 = sum(Overweight & Poor) / sum(Poor) )
