[site]: stackoverflow
[post_id]: 5671840
[parent_id]: 5667466
[tags]: 
you could try and create a new Selenium Driver, a new Profile and overriding the headers on this new profile. I had to do something similar to spoof different user agents. Capybara.register_driver :mobile_browser do |app| require 'selenium-webdriver' profile = Selenium::WebDriver::Firefox::Profile.new profile['general.useragent.override'] = "Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_0 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Version/4.0.5 Mobile/8A293 Safari/6531.22.7" Capybara::Driver::Selenium.new(app, {:browser => :firefox, :profile => profile}) end I'm not sure if you can, though, modify the headers when the steps are running - I'm sure you can, using the Selenium API.
