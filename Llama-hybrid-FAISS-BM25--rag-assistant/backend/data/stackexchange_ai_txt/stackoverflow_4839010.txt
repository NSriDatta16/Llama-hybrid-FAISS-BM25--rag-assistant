[site]: stackoverflow
[post_id]: 4839010
[parent_id]: 
[tags]: 
How to compare Hough Line positions in OpenCV?

Using VC++ and Open CV. Here's what I'm trying to do: find the first three nearly-horizontal hough lines and draw them. find all the nearly-vertical lines and draw them if any vertical line is above the horizontal line then a FLAG is set to 0 if there is no vertical Hough line above (all are below) the horizontal line then FLAG=1 int n, i,c=0; int flag = 0; cvCanny( src, dst, 50, 150, 3 ); lines = cvHoughLines2( dst, storage, CV_HOUGH_PROBABILISTIC, 1, CV_PI/180, 10, 5, 5 ); n = lines->total; for( i = 0; i 0 && c hpt2.y ) //finds out lower end-point hy = hpt1.y; else hy = hpt2.y; } } if( fabs(degree) > 70 ) /*near vertical lines*/ { cvLine( out, pt1, pt2, CV_RGB(255, 255,255), 1, CV_AA, 0 ); vpt1 = line[0]; vpt2 = line[1]; if( vpt1.y > vpt2.y ) //finds upper end-pt of vertical line vy = vpt1.y; else vy = vpt2.y; if( vy >= hy ) //if vert line is lower than horizontal line flag = 1; else flag = 0; } } display( out, "hough lines" ); return flag; } However for an image even if vertical lines are detected above the horizontal line -still the flag is returning 1. So am i counting along the axis wrongly? Please help me out.
