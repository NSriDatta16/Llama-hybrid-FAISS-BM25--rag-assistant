[site]: stackoverflow
[post_id]: 2352250
[parent_id]: 2352205
[tags]: 
You can set a session variable like $_SESSION['lang'] and only apply the above code if $_SESSION['lang'] is not set. what I mean is: if(!isset($_SESSION['lang'])){ if(preg_match('/en-US/', $_SERVER['HTTP_USER_AGENT'])){ $_SESSION['lang'] = 'en'; header("location:index.php"); }else{ $_SESSION['lang'] = 'other'; header("location:http://cn.gearor.com"); } }
