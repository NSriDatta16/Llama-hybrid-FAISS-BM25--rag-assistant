[site]: stackoverflow
[post_id]: 5061976
[parent_id]: 
[tags]: 
MapView Annotation not dragging

I am trying to implement a draggable "pin" (actually a custom icon) in a map view. This is the delegate code that I have: -(MKAnnotationView *) mapView:(MKMapView *)mapView viewForAnnotation:(id )annotation { MKAnnotationView *aView; aView=(MKAnnotationView *) [mvMap dequeueReusableAnnotationViewWithIdentifier:annotation.title]; if (aView==nil) aView=[[[MKAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:annotation.title] autorelease]; else aView.annotation=annotation; [aView setImage:[UIImage imageNamed:selIcon]]; aView.canShowCallout=TRUE; [aView setDraggable:YES]; return aView; } - (void)mapView:(MKMapView *)mapView didAddAnnotationViews:(NSArray *)views { MKAnnotationView *aV; for (aV in views) { CGRect endFrame = aV.frame; int xDelta=0; xDelta=sIcons.selectedSegmentIndex*61+22; aV.frame = CGRectMake(aV.frame.origin.x-145+xDelta, aV.frame.origin.y - 150.0, aV.frame.size.width, aV.frame.size.height); [UIView beginAnimations:nil context:NULL]; [UIView setAnimationDuration:0.7]; [UIView setAnimationCurve:UIViewAnimationCurveEaseInOut]; [aV setFrame:endFrame]; [UIView commitAnimations]; } } -(void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view didChangeDragState:(MKAnnotationViewDragState)newState fromOldState:(MKAnnotationViewDragState)oldState { if (oldState == MKAnnotationViewDragStateDragging) { addAnnotation *annotation = (addAnnotation *)view.annotation; annotation.subtitle = [NSString stringWithFormat:@"%f %f", annotation.coordinate.latitude, annotation.coordinate.longitude]; } if (newState == MKAnnotationViewDragStateEnding) { CLLocationCoordinate2D droppedAt = view.annotation.coordinate; NSLog(@"dropped at %f,%f", droppedAt.latitude, droppedAt.longitude); } } The problem is that didChangeDragState is never being called (I've set a breakpoint in the routine to be sure). Everything else is working fine. My icons animate into the view, etc. When I tap the icon and hold my finger down the icon stays in place (the map doesn't move either which makes me think that I've actually hit the icon). Am I missing some kind of initialization?
