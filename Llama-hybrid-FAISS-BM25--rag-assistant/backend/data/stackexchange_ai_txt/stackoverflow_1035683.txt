[site]: stackoverflow
[post_id]: 1035683
[parent_id]: 1035635
[tags]: 
Test code is fundamentally different from production code in terms of ownership, deployment, non-functional requirements and so on. Therefore it is better to keep it separate from the code being tested, in separate files and probably even in separate directories. To facilitate whitebox unit testing for the class under test, you often need to declare the test class/test functions as friend. Some classes are unit-testable with the public members only so adding friends is not always necessary. Combining test code and code under test is simple: you just link the object files together in the same project. Sometimes you can see unit test code that #include s the code under test but I would advice against that - for example, if you have test coverage measurement tooling in place (highly recommended!), the measures won't be correct for the code under test.
