[site]: stackoverflow
[post_id]: 5583444
[parent_id]: 5506867
[tags]: 
You can modify the below code to check if the user belongs to a role and then add him to the appropriate organization. To add a user to all Organizations: public final static void addAllOrganizationstoUser(long userId) throws SystemException, PortalException { // gets all organizations List organizations = OrganizationLocalServiceUtil.getOrganizations(ALL_POS, ALL_POS); long[] users = new long[]{userId}; // register user to orgs for (Organization organization : organizations) { UserLocalServiceUtil.addOrganizationUsers(organization.getOrganizationId(), users); } }
