[site]: stackoverflow
[post_id]: 4828442
[parent_id]: 
[tags]: 
Cache key organization problem

My entity has two unique ids (yes this is wrong but it is a requirement). I want to organize a cache of such instances. The search in cache could be made by id1 OR id2 OR id1 and id2. Search by both id1 and id2 is ok - I will make composite key. But how to deal with just search by one of ids. What should be the cache key? I'm using ehcache. I have a situation where several key may refer the same object. Like ehcache does not suport this feature, the same object will be stored for each key (n instances of the same object, where n is the number of diferent keys that that object may be refered from). At some point i have the knowledge to calculate the other keys, but not before i need them. Situation : GEN KEY (1) Check if object is in cache (2) TRUE : Retreve it FALSE : Process the new object (3) Place it in ehcache return OBJECT At point (1) just know one of the keys. At the point (3) there is the possibility to know all keys that the object may have associated to it in ehcache. The problem is that the keys are needed at point (2). Thx
