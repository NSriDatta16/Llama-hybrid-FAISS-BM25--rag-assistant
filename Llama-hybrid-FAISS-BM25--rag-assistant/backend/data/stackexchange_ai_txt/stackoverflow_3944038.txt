[site]: stackoverflow
[post_id]: 3944038
[parent_id]: 
[tags]: 
jQuery scroll is not working correctly when inside div

I created a jQuery function that applies a class to a paragraph, and then scrolls to that paragraph when a button is clicked. It works fine when the paragraphs are relative to the document, but I want the scroll to happen inside a div. Currently, the scrolling is working, and it is applying the class correctly, but it is does not scroll to the correct paragraph. It seems that it's scrolling to a random one each time the button is clicked. $(function() { $('.down').click(function() { $('.current + p').addClass('current'); if ($('p:last').hasClass('current')) { $('p').removeClass('current'); $('p:last').addClass('current'); return false; } else { $('.current:first').removeClass('current'); return false; } }); $('.up').click(function() { $('.current').prev('p').addClass('current'); if ($('p:first').hasClass('current')) { $('p').removeClass('current'); $('p:first').addClass('current'); return false; } else { $('.current:last').removeClass('current'); return false; } }); $('.down, .up').click(function() { $('.slider').animate({scrollTop: $(".current").offset().top},'slow'); }); }); .slider { position: relative; background: #ccc; overflow: scroll; height: 100px; } .slider p { position: relative; } .nav { position: fixed; left: 500px; z-index: 10; } p { height: 100px; } UP DOWN This is the first paragraph 111111111111111111111111 222222222222222222222222 333333333333333333333333 44444444444444444444444444 This is the last paragraph To see it when it works, change ".slider" in the CSS to height: 1000px and no overflow. Also, change this line: $('.slider').animate({scrollTop: $(".current").offset().top},'slow'); to this: $('html,body').animate({scrollTop: $(".current").offset().top},'slow');
