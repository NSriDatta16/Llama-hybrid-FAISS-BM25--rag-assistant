[site]: crossvalidated
[post_id]: 542113
[parent_id]: 542105
[tags]: 
This equality can be made clearer by explicitly denoting the random variables with which each expectation is taken over. First, note that the outer expectation is with respect to both $D_n$ and $D_n'$ . So, for the sake of clarity, I'll write $$\mathbb{E}_{D_n, D_n'}\left[I\left\{|\hat{R}_n(\tilde{f}) - R(\tilde{f}) > \epsilon| \right\}I\left\{|\hat{R}_n'(\tilde{f}) - R(\tilde{f}) We can then leverage 1. the independence of $D_n$ and $D_n'$ , and 2. The fact that only $\hat{R}_n'(\tilde{f})$ depends on $D_n'$ , to get: $$\begin{align*} \mathbb{E}_{D_n, D_n'}&\left[I\left\{|\hat{R}_n(\tilde{f}) - R(\tilde{f}) > \epsilon| \right\}I\left\{|\hat{R}_n'(\tilde{f}) - R(\tilde{f}) \epsilon| \right\}I\left\{|\hat{R}_n'(\tilde{f}) - R(\tilde{f}) \epsilon| \right\}\mathbb{E}_{D_n'}\left[I\left\{|\hat{R}_n'(\tilde{f}) - R(\tilde{f}) \epsilon| \right\}\mathbb{E}_{D_n'}\left[I\left\{|\hat{R}_n'(\tilde{f}) - R(\tilde{f}) where the last step was due to the fact that $p(D_n' | D_n) = p(D_n')$ .
