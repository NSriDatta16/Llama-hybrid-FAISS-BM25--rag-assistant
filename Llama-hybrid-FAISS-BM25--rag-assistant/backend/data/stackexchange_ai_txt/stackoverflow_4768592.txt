[site]: stackoverflow
[post_id]: 4768592
[parent_id]: 
[tags]: 
Use of agents to complete side-effects in STM transactions

I'm aware that it is generally bad practice to put functions with side-effects within STM transactions, as they can potentially be retried and called multiple times. It occurs to me however that you could use agents to ensure that the side effects get executed only after the transaction successfully completes. e.g. (dosync // transactional stuff (send some-agent #(function-with-side-effects params)) // more transactional stuff ) Is this good practice? What are the pros/cons/pitfalls?
