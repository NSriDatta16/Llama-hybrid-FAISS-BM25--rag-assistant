[site]: stackoverflow
[post_id]: 1771313
[parent_id]: 1769212
[tags]: 
Essentially the idea is to create an on mouseover action for your span that loads the images with an AJAX request. We'll use a cache variable to ensure that you aren't making the same request multiple times in a for one page load. The following assumes Prototype. I haven't time to test it, so don't expect a flawless example. Most of the work is done by adding an on mouseover attribute to the span. " class="popup_link" Popup.modal = true onmouseover=" "cell_popup_#{@cell.cellid}", :url => popup_cell_url(@cell, :full_report => @full_report, :repaired => @repared), :success => "cell_#{@cell.cellid}_loaded = true", :conditions => "cell_#{@cell.cellid}_loaded == false") %>" > Now to clean things up: Move everything in the partial but the div to a view called cell. Fill the void with a generic Fetching images message. So your partial now looks like: " class="popup popup_draghandle" style="display:none"> Fetching images. Please stand by. And your new view called popup looks like: Raw Repaired 'jpegfile', :controller => 'neuronviewer',:morph_id => raw_morph.morphologyid)%>" alt="" width="200" height="200"/> 'jpegfile', :controller => 'neuronviewer', :morph_id => repaired_morph.morphologyid)%>" alt="" width="200" height="200"/> Now all that's left is to connect the controller to the new view and prepare it for AJAX. Add a popup route responding to get for the cell controller. map.resources :cells, :member => {:popup => :post} Add the action to the CellsController def popup # sets @cell, @repaired, @full_report, @raw_morph, # @repaired_morph and anything else needed by the popup view. end
