[site]: crossvalidated
[post_id]: 520864
[parent_id]: 
[tags]: 
Propensity Score Matching for Panel Data with Multinomial Outcome on Stata

I have a panel data set from 1999-2019 through which I would like to find whether a divorce would change a respondent's political opinion. I have identified a number of covariates, most of which are categorical. I plan to use these baseline covariates, measured before the divorce occurred, to match my treated respondents to controls (who are continuously married - never experienced a divorce). I would like to use a K:1 propensity score matching to match treated respondents to controls followed by an ATET model. My outcome (political party) is a categorical variable. I use Stata. Currently, I have thought of transforming my panel into a cross-sectional like data format by: i) averaging the baseline covariates for all respondents when they were still married (therefore, before divorced occurred for treated respondents), ii) as for outcome: using political opinion response the year after the divorce happened for treated individuals, and just and average of the controls' political opinions throughout the many years they were married. Then use the above in a cross-sectional format to proceed with PSM and ATET post estimations. Would you know of a better way to come about this? How can I best measure the effect of divorce on change in political opinion through matching?
