[site]: stackoverflow
[post_id]: 635199
[parent_id]: 629564
[tags]: 
OK, in the meantime and with the help of a coworker I came up with an own answer to this problem: // holds paragraph A (first selected paragraph) var a_selected = null; // holds paragraph B (second selected paragraph) var b_selected = null; // holds all 'active' paragraphs var selected_paras = []; function class_flipper_init() { // reset paragraphs A and B a_selected = null; b_selected = null; var paragraphs = $$("#foobar p"); paragraphs.each(function(paragraph, index) { // if user clicks on a paragraph paragraph.observe("click", function(event) { // if A and B are 'active': reset everything. if(b_selected != null) { selected_paras.each(function(i) { toggleStyle(i); }) a_selected = null b_selected = null return } // if A is 'active' if(a_selected != null) { // if A is 'active' and selected B is below A: // select all paragraphs between A and B if(a_selected index) { b_selected = index; for (var i = a_selected - 1; i >= index; i-- ) { toggleStyle(paragraphs[i]) } } // if A == B else { toggleStyle(paragraph) a_selected = null } } // if A is selected else { a_selected = index; toggleStyle(paragraph) } }); }); } function toggleStyle(paragraph) { // remove active class if (paragraph.hasClassName("active")) { paragraph.removeClassName("active"); selected_paras = selected_paras.without(paragraph) } // set active class else { paragraph.addClassName("active"); selected_paras.push(paragraph) } } class_flipper_init() is called everytime the page (or in my case a certain partial) is loaded. Please don't hesitate to submit a solution written in "pure" RJS or something more elegant. :-)
