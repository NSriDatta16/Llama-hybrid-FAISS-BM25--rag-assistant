[site]: stackoverflow
[post_id]: 5081904
[parent_id]: 
[tags]: 
GetWindowLongPtr fails returning Retrieves the user data

I created win32 wrapper before but I lost the files... So I'm gonna creating them again. The problem is with my router(static window processor). Here is my code CFramework *wnd = 0; // retrieve associated Window instance wnd = reinterpret_cast (::GetWindowLongPtr(hWnd, GWL_USERDATA)); // call the windows message handler wnd->WndProc(hWnd, msg, wParam, lParam); return true; When I call GetWindowLongPtr it won't retrieves the user data. UPDATE: I also tired this code that uses SetWindowLongPtr if ( msg == WM_CREATE ) { SetWindowLongPtr( hWnd, GWLP_USERDATA, (LONG)((CREATESTRUCT *)lParam)->lpCreateParams ); } Window *targetApp = (Window*)GetWindowLongPtr( hWnd, GWLP_USERDATA ); if ( targetApp ) { return targetApp->WndProc( hWnd, msg, wParam, lParam ); } return DefWindowProc( hWnd, msg, wParam, lParam ); I used my second code.^^^^ I put break point at SetWindow... It seems it never Get called!
