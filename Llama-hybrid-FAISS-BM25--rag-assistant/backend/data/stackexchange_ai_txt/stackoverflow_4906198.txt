[site]: stackoverflow
[post_id]: 4906198
[parent_id]: 4854913
[tags]: 
try { Code128Bean bean = new Code128Bean(); final int dpi = 150; //Configure the barcode generator bean.setModuleWidth(UnitConv.in2mm(2.0f / dpi)); //makes the narrow bar width exactly one pixel bean.setBarHeight(10); bean.doQuietZone(false); //Open output file File outputFile = new File("out.png"); OutputStream out; out = new FileOutputStream(outputFile); //Set up the canvas provider for monochrome PNG output BitmapCanvasProvider canvas = new BitmapCanvasProvider(out, "image/x-png", dpi, BufferedImage.TYPE_BYTE_BINARY, false, 90); // 200x 10 //Generate the barcode bean.generateBarcode(canvas, barcode); //Signal end of generation canvas.finish(); out.close(); paintComponent(labelArtikelbezeichnung.getText()); String working_dir = System.getProperty("user.dir"); try { Runtime rt = Runtime.getRuntime(); String command = "C:\\WINDOWS\\system32\\rundll32.exe C:\\WINDOWS\\system32\\shimgvw.dll,ImageView_Fullscreen " + "" + working_dir + "\\out.png"; System.out.println(command); Process pr = rt.exec(command); BufferedReader input = new BufferedReader(new InputStreamReader(pr.getInputStream())); String line=null; while((line=input.readLine()) != null) { System.out.println(line); } int exitVal = pr.waitFor(); System.out.println("Exited with error code "+exitVal); } catch(Exception e) { System.out.println(e.toString()); e.printStackTrace(); } } catch (IOException ex) { System.out.println("Error creating the Barcode"); } The program opens the Windows Print and Fax Dialog where I can print from. The program resizes the image and everything works perfectly.
