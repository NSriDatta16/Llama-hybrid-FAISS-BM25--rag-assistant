[site]: stackoverflow
[post_id]: 4428562
[parent_id]: 
[tags]: 
msdeploy (Web Deploy) failing with 401 auth issues

I'm trying to get msdeploy installed and set up. I've installed the remote service on the web server, but all my tests are giving me a 401 unauthorised error . The server is Windows 2008 R2. I'm testing a very simple msdeploy command: msdeploy -verb:dump -source:contentPath=c:\inetpub\wwwroot\MyApp,computerName= ,userName=Domain\msdeploy,password=MyPassword And the error: Error: Object of type 'contentPath' and path 'c:\inetpub\wwwroot\MonApp' cannot be created. Error: Remote agent (URL http:// /MSDEPLOYAGENTSERVICE) could not be contacted. Make sure the remote agent service is installed and started on the target computer. Error: An unsupported response was received. The response header 'MSDeploy.Response' was '' but 'v1' was expected. Error: The remote server returned an error: (401) Unauthorized. Error count: 1. I created a user called msdeploy and I added it to the local admins group on the server. I've checked: That the service installed properly and I started it Various combinations of not using the domain part of the username, and adding authType=Basic Given full permissions to that folder to everyone In IIS allow remote connections Added Management Service Delegation rules for my "msdeploy" user for contentPath and iisApp (loosely based on reading this ) Tried with a different admin account I use for RDC to the server... Tried with different contentPaths and different msdeploy commands Created a specific account, and added that account to the IIS_Users. Added that user to my web site "IIS Manager Permissions", and setup "Management Service Delegation" for all providers.
