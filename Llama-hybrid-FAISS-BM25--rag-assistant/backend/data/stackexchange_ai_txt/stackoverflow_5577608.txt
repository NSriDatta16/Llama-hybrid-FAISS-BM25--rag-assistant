[site]: stackoverflow
[post_id]: 5577608
[parent_id]: 
[tags]: 
Shake animation with Alert Dialog (if invalid info shake the edittext & do not dismiss)

So I have a dialog in which the user inputs data, here it is the user's age. So I would like that when/if the user leaves the edittext blank, the edittext will do the shake animation like that in the api demos. So far I cannot get the dialog from not dismissing when invalid info is inputed. Thanks. mInflater = (LayoutInflater) Information.this.getSystemService(LAYOUT_INFLATER_SERVICE); mLayout = mInflater.inflate(R.layout.agedialog, null); mAgeEditText = (EditText) mLayout.findViewById(R.id.AgeEditText); mAgeResultTextView = (TextView) findViewById(R.id.AgeResultTextView); final Animation shake = AnimationUtils.loadAnimation(Information.this, R.anim.shake); mInputManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE); mInputManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, InputMethodManager.HIDE_IMPLICIT_ONLY); new AlertDialog.Builder(Information.this).setView(mLayout).setTitle(R.string.EnterYourAge) .setPositiveButton(R.string.OK, new DialogInterface.OnClickListener() { public void onClick(DialogInterface dialog, int id) { mInputManager.hideSoftInputFromWindow(mAgeEditText.getWindowToken(), 0); if (TextUtils.isEmpty(mAgeEditText.getText())) { mAgeEditText.startAnimation(shake); // here the dialog dismisses even if I call startAnimation } else { HelperClass.getInstance().setAge(Integer.parseInt(mAgeEditText.getText().toString())); mAgeResultTextView.setText(HelperClass.getInstance().getAge()); } } }).setNegativeButton(R.string.Cancel, new DialogInterface.OnClickListener() { public void onClick(DialogInterface dialog, int id) { mInputManager.hideSoftInputFromWindow(mAgeEditText.getWindowToken(), 0); dialog.cancel(); } }).show();
