[site]: crossvalidated
[post_id]: 493864
[parent_id]: 493861
[tags]: 
You want Athey's casual forests to get the average treatment effect. The calculation of ATE in these settings can be a little tricky otherwise. They've set it up nicely as an R package. https://arxiv.org/abs/1902.07409 One might think that simply manually calculating a forecast of Y with RF and then manually evaluating $E(Y|X=1)-E(Y|X=0)$ ought to work (by say, setting all the X's to 1 and then setting all X's to 0 and subtracting the difference) but I've found in my practice data sets that such an approach doesn't recover the same estimates.
