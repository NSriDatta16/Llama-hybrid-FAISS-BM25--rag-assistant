[site]: stackoverflow
[post_id]: 2053190
[parent_id]: 
[tags]: 
Moving up multiple parents in jQuery - more efficient way?

I have a navigation that is a list and has sublists and sublists. Basically, the nav is by default collapsed, but if people click on a page that's in a sublist, I want to show the parent list. And if it's a sublist of a sublist, I need both parent lists to show. I have it set up, but, I don't like putting 5 .parent().parent() 's to traverse upward to expand the list. Is there a more efficient way? the HTML: Welcome to Beat Basics and Beyond What's in this course? Defining Your Beat Boundaries of Your Beat The Beat Description Activity: Build Your Own Beat Description Getting Started Debrief Your Predecessor Activity: List The Top Five Tips From Your Predecessor Covering Your Beat With The Internet Get in the Car and Go Mapping Your Beat Read the Clips Activity: Dissect This Clip Writing Your First Article Starting Cold on the Beat Working With Sources Finding Sources Diversify Your Sources Prospecting for Stories and Sources Building Relationships Going Off the Record Developing Resources to Help You on the Beat Develop a Calendar of Events Build Your Library Learn the Open Record Laws Extra Resources Beat Breakdown Tool Links Library General Resources for Any Beat Courts and Criminal Justice Links Education Resources Local Government Links Neighborhood or Suburban Links Police and Public Safety Links Reporter Organizations Additional Reading Final Thoughts The jQuery: function toggleSubmenu() { if ($(this).hasClass('submenu-hidden')) { $(this).parent().children('ul').slideToggle(); $(this).removeClass().addClass('submenu-visible'); } else if ($(this).hasClass('submenu-visible')) { $(this).parent().children('ul').slideToggle(); $(this).removeClass().addClass('submenu-hidden'); } } $('#lesson-sidebar ul ul').hide(); $('#lesson-sidebar ul ul ul').hide(); $('#lesson-sidebar ul:first-child').attr('id', 'rootlist'); $('#lesson-sidebar ul li:has("ul")').prepend(' ').css('list-style','none'); $('#lesson-sidebar ul li a').each( function() { if ($(this).hasClass('active')) { // if it is a UL var length = $(this).parent().find("ul").length; alert(length); if (length == 0) { if ($(this).parent().parent().parent().children('span').hasClass('submenu-hidden')) { $(this).parent().parent().parent().children('ul').show(); $(this).parent().parent().parent().children('span').removeClass('submenu-hidden').addClass('submenu-visible'); } if ($(this).parent().parent().parent().parent().parent().children('span').hasClass('submenu-hidden')) { $(this).parent().parent().parent().parent().parent().children('ul').show(); $(this).parent().parent().parent().parent().parent().children('span').removeClass('submenu-hidden').addClass('submenu-visible'); } } if (length == 1) { $(this).parent().find('ul').slideToggle(); $(this).parent().children('span').removeClass('submenu-hidden').addClass('submenu-visible'); } } } ); $('ul#rootlist > li span, ul#rootlist li ul li > span').bind('click', toggleSubmenu);
