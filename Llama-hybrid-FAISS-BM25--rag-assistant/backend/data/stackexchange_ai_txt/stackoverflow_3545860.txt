[site]: stackoverflow
[post_id]: 3545860
[parent_id]: 
[tags]: 
Is it possible to detect if the main application thread is running as a Windows Service without using a compilation directive?

I need to do the check in a method contained in a shared library that is referenced by a windows forms application and a windows service. When we do the check in console mode, I must allow potential dialogs. In case of the windows service, I will write messages in the event log instead. I found many way to do that using compilation directives. Is there a different and more elegant method ? Thanks
