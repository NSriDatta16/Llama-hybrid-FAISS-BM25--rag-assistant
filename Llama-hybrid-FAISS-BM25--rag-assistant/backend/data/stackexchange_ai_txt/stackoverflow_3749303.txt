[site]: stackoverflow
[post_id]: 3749303
[parent_id]: 
[tags]: 
Qt Drag&Drop with own widgets?

I created a little widget on my own, including a QProgressBar and a QLabel in a QVBoxLayout. It has also a function which returns the text of the label (self-created). Now in my MainWindow I have two other QHBoxLayouts and I want to drag and drop my widget from one to another. It also works when I click on the little free space between the QLabel and the QProgressBar. But when I click on one of them directly, the application crashed and burned painfully. I also know where it fails. My mousePressEvent looks like this: void DragDrop::mousePressEvent(QMouseEvent *event) { // !!!!---- make sure ONLY MyWidgets are here, else: CRASH ----!!!! MyWidget *child = static_cast (childAt(event->pos())); if (!child) return; qDebug() returnLabelText(); ... } So when I click on the ProgressBar, it will cast the ProgressBar, not my own widget. And because the QProgressBar doesn't have a function like returnLabelText() (but my widget does) it fails. What is a better method to get my widget?
