[site]: stackoverflow
[post_id]: 1876175
[parent_id]: 1873076
[tags]: 
If I was to approach this question I would firstly try to organise my arrays (the $data array and also the array from the database) into a similar format (possibly using the id as the array key) so that I could use array_intersect to work out the people in both $data and $database (ie. people who should set active) and array_diff to work out the people in $data and not in $database (ie. the people who need to be added to the database) and then array_diff again (with $database first this time) to work out the people in $database and not in $data (ie. the people who should be set inactive). Hope this helps put you on the write track. Sorry but I don't have the time to actually write the code for you.
