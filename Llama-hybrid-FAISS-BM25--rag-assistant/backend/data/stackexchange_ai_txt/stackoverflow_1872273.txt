[site]: stackoverflow
[post_id]: 1872273
[parent_id]: 
[tags]: 
Confused over some date/time calculations

So, I am trying to calculate the time between two dates that fits certain criteria (here: work / non-work) and I'm confused about the results as I can't find out why it's wrong. But first, some code; **Input Date A:** 2009-01-01 2:00 pm **Input Date B:** 2009-01-02 9:00 am So, as you can see, the total timespan (calculated e.g. by DateB.Substract(DateA) ) is 19 hours. I now want to calculate how many hours in this timespan are "non-work" hours, based on an average work day from 8am to 5pm - Result should be 15 hours (So, 19 - 15 = 4 hours total work time) (2:00 pm to 5:00 pm plus 8:00 am to 9:00 am) But, following my code DateTime _Temp = new DateTime(2009, 1, 1, 14, 0, 0); DateTime _End = new DateTime(2009, 1, 2, 9, 0, 0); int _WorkDayStart = 8; int _WorkDayEnd = 17; int _Return = 0; while (_End > _Temp) { if (_Temp.Hour = _WorkDayEnd) _Return++; _Temp = _Temp.AddHours(1); } the result is 16 hours (19 - 16 = 3 hours total work time) - I don't see where the mistake is, so there is one hour missing?! I refactored it on paper and it should work as intended... but doesn't :-/ Anyone sees the mistake?
