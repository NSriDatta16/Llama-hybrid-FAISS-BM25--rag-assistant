[site]: datascience
[post_id]: 61964
[parent_id]: 
[tags]: 
AttributeError: 'str' object has no attribute 'month' Process finished with exit code 1

Python code import pandas as pd import numpy as np import os RD = pd.read_csv("C:/Users/acharbha/Desktop/fullbackup_success/python/raw_Data_success_Rate.csv") NEW = {"Cell": RD['Cell'], "LastFullResult": RD["LastFullResult"], "LastFullStartTime": RD["LastFullStartTime"], "status code": RD["status code"]} NEW = pd.DataFrame(NEW) date = pd.datetime.now() NEW_LastFullStartTime = [] for date1 in NEW.LastFullStartTime: if isinstance(date1.month, int): if date1.month == date.month: NEW_LastFullStartTime.append("True") else: NEW_LastFullStartTime.append("False") else: NEW_LastFullStartTime.append("NaN") NEW["NEW_LastFullStartTime"] = pd.Series(NEW_LastFullStartTime) NEW = NEW.drop("LastFullStartTime", axis=1) Oct_Full_ran_failed_not_completed_yet = NEW[(NEW["LastFullResult"] == "Failure") & (NEW["NEW_LastFullStartTime"] == "True") & (NEW["status code"] >= 1)] Oct_Full_not_ran_yet = NEW[(NEW["NEW_LastFullStartTime"] == "False") | (NEW["NEW_LastFullStartTime"] == "NaN")] Oct_full_ran_successful = NEW[(NEW["LastFullResult"] == "Success") & (NEW["NEW_LastFullStartTime"] == "True")] result = Oct_full_ran_successful.groupby('Cell').count() result = result.drop(result.columns[[1, 2]], axis=1) Oct_full_ran_successful = result.rename(columns={"LastFullResult": "Oct_full_ran_successful"}) d3 = Oct_full_ran_successful Oct_Full_not_ran_yet.groupby('Cell').count() result = Oct_Full_not_ran_yet.groupby('Cell').count() result = result.drop(result.columns[[1, 2]], axis=1) Oct_Full_not_ran_yet = result.rename(columns={"LastFullResult": "Oct_Full_not_ran_yet"}) d2 = Oct_Full_not_ran_yet Oct_Full_ran_failed_not_completed_yet.groupby('Cell').count() result = Oct_Full_ran_failed_not_completed_yet.groupby('Cell').count() result = result.drop(result.columns[[1, 2]], axis=1) Oct_Full_ran_failed_not_completed_yet = result.rename( columns={"LastFullResult": "Oct_Full_ran_failed_not_completed_yet"}) d1 = Oct_Full_ran_failed_not_completed_yet d2 = pd.merge(d1,d2, on=['Cell'], how ='outer') result = pd.merge(d2, d3, on=['Cell'], how='outer') print(result) Error: *C:\Users\acharbha\AppData\Local\Continuum\anaconda3\python.exe C:/Users/acharbha/PycharmProjects/Python_class/Intel/Success_Rate/success_rate.py Traceback (most recent call last): File "C:/Users/acharbha/PycharmProjects/Python_class/Intel/Success_Rate/success_rate.py", line 25, in if isinstance(date1.month, int): AttributeError: 'str' object has no attribute 'month' Process finished with exit code 1* csv input sample: Oct Full ran, failed & not completed yet: Oct full ran, failed & not completed yet means – “LastFullStartTime” – contains current month date and non-empty && “LastFullResult” – Failed && “status code” – greater than 1 Oct Full not ran yet: Oct Full not ran means – “LastFullStartTime” - empty or date older than current month Oct full ran successful – Oct full ran successful means – “LastFullStartTime” – contains current month date && “LastFullResult” – success Grand Total Grand Total means – Count of BackupPolicyID for each distinct cell; should be ideally equal to above 3 columns (1+2+3=4) Success rate for full ran in Oct Success rate for full ran in Oct means – Above column1/(column1+column3) in percentage Success rate of full backup Success rate of full backup means – Above column1/(column1+column2+ column3) in percentage Percentage of backup coverage Percentage of backup coverage means – Above (column1+column3)/column4
