[site]: stackoverflow
[post_id]: 1378238
[parent_id]: 
[tags]: 
Downloaded PDF with Java is corrupt?

I have read the excelent discussion about How to download and save a file from internet using Java . However, if I exectue the next code, i get a corrupt PDF. Any idea why? import java.io.*; import java.net.*; public class PDFDownload { public static String URL = "http://www.nbc.com/Heroes/novels/downloads/"; public static String FOLDER = "C:/Users/sdelamo/workspace/SandBox/HeroesNovel/"; public static void main(String[] args) { String filename = "Heroes_novel_001.pdf"; try { saveUrl(FOLDER + filename, URL + filename); } catch (MalformedURLException e) { System.out.println("MalformedURLException"); } catch (IOException e) { System.out.println("IOException"); } } public static void saveUrl(String filename, String urlString) throws MalformedURLException, IOException { BufferedInputStream in = null; FileOutputStream fout = null; try { URL url = new URL(urlString); in = new BufferedInputStream(url.openStream()); fout = new FileOutputStream(filename); byte data[] = new byte[1024]; int count; while ((count = in.read(data, 0, 1024)) != -1) { fout.write(data, 0, count); } } finally { if (in != null) in.close(); if (fout != null) fout.close(); } } } The above code downloads html instead of a PDF. This is the output: NBC.com: Heroes Mondays 9/8c Mondays 8/7c --> FEATURED CONTENT Dreams Heroes premieres Mon., Sept. 21s... Recap: Season 3 Episode An Invisible Thread Photo: Heroes "Cast Photos" HEROES About Videos Episode Recaps Photos Community Shows List --> NBC Mobile Main | Terms of Use | Privacy &#169; NBC Universal, Inc. Any idea how to download the PDF? SOLUTION Set User-Agent before connecting. URL u = new URL(urlString); HttpURLConnection huc = (HttpURLConnection) u.openConnection(); huc.setRequestMethod("GET"); huc.setRequestProperty("User-Agent", " Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729)"); huc.connect(); in = new BufferedInputStream(huc.getInputStream());
