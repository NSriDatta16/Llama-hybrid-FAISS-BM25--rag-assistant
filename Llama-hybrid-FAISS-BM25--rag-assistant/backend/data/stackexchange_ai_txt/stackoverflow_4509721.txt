[site]: stackoverflow
[post_id]: 4509721
[parent_id]: 
[tags]: 
Android internet connectivity issue

I have developed an Android app which uses web service to get data. This means it requires an internet connection. My problem is when the internet is not available during web service call or before web service call it should throw some alerts. I have implemented one code: public static boolean isOnline(Context context) { try { ConnectivityManager cm = (ConnectivityManager) context .getSystemService(Context.CONNECTIVITY_SERVICE); if (cm.getActiveNetworkInfo().isConnectedOrConnecting()) { URL url = new URL("https://widget.istockanalyst.com/WebServiceIStock.asmx"); HttpURLConnection urlc = (HttpURLConnection) url .openConnection(); urlc.setRequestProperty("User-Agent", "My Android Demo"); urlc.setRequestProperty("Connection", "close"); urlc.setConnectTimeout(1000); // mTimeout is in seconds urlc.connect(); if (urlc.getResponseCode() == 200) { System.out.println("*********True****************"); return true; } else { System.out.println("*********False****************"); return false; } } } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } return false; } And after that I'm calling this method on my splash screen. And on emulator it is responding, but when I perform device testing after disabling the WiFi it is showing an error and app crashes.
