[site]: stackoverflow
[post_id]: 5541032
[parent_id]: 
[tags]: 
Load multiple images in Air not working properly?

So I made a drag and drop app where I can drop in an image, it get's resized and saved automatically on the desktop. But now I want to do the same when there are multiple images dragged in. This is where I'm stuck... private function onDrop(e:NativeDragEvent):void { trace("Dropped!"); var dropfiles:Array = e.clipboard.getData(ClipboardFormats.FILE_LIST_FORMAT) as Array; for each (var file:File in dropfiles){ var ldr:Loader = new Loader(); ldr.contentLoaderInfo.addEventListener(Event.COMPLETE, completeHandler); switch (file.extension.toLowerCase()){ case "png" : ldr.load(new URLRequest(file.url)); trace('png'); break; case "jpg" : ldr.load(new URLRequest(file.url)); trace('jpg'); break; case "jpeg" : ldr.load(new URLRequest(file.url)); trace('jpeg'); break; case "gif" : ldr.load(new URLRequest(file.url)); break; default: Alert.show("Kies een geldige afbeelding!"); } } } private function completeHandler(event:Event):void { var ldr:Loader = Loader(event.target.loader); var b:Bitmap = Bitmap(ldr.content); var encoder:PNGEncoder = new PNGEncoder(); var bytes:ByteArray = encoder.encode(resizeimage(b.bitmapData, 600, 600)); //new FileReference().save(bytes, "abc.png"); } The problem is that I want the completeHandler() to run after every ldr.load() but in my code it only runs once right after the for each loop. Does anyone know what I'm doing wrong here?
