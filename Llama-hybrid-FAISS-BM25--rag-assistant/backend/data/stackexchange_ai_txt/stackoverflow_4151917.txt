[site]: stackoverflow
[post_id]: 4151917
[parent_id]: 
[tags]: 
Coredump when parsing chapters

I am doing a homework assignment that reads in a book. First, a line is read in and a pointer made to point at that line. Then a paragraph function reads in lines and stores their address into a array of pointers. Now, I am on reading a chapter (a paragraph recognized by the next line being broke). It should call get_paragraph() and store the address of paragraphs until it comes to a new chapter. A new chapter is the only time in the book where the first character in the line is not a space. I think this is were I am having problems in my code. All functions up to this point work. I hope I have provided enough information. The code compiles but core dumps when started. I am a student and learning so please be kind. Thanks. char*** get_chapter(FILE * infile){ int i=0; char **chapter[10000];//an array of pointers // Populate the array while(chapter[i]=get_paragraph(infile)) { //get address store into array if(!isspace(**chapter[0])){ //check to see if it is a new chapter For those who would rather see without comments: char*** get_chapter(FILE * infile){ int i=0; char **chapter[10000]; while(chapter[i]=get_paragraph(infile)) { if(!isspace(**chapter[0])){ break; } i++; } chapter[++i]='\0'; char**(*chap) = malloc(i * sizeof(*chap));//malloc space i=0; while(chapter[i]){ chap[i] = chapter[i++]; } chap[i]='\0'; return(chap); }
