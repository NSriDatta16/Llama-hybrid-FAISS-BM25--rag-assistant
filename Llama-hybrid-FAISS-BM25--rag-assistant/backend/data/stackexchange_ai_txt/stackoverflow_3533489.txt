[site]: stackoverflow
[post_id]: 3533489
[parent_id]: 3206596
[tags]: 
my solution based on another script: Helper.window = new function () { // Private fields var w = window, s = screen, _self = this, whs = {}, isChrome = /chrome/.test(navigator.userAgent.toLowerCase()); // Public Members this.focus = function (wh) { if (!wh) return; if (isChrome) wh.blur(); wh.focus(); }; this.windowExists = function (wt) { return wt && whs[wt] && (typeof whs[wt]['closed'] != undefined) && !whs[wt].closed; }; this.close = function (wt) { if (typeof whs[wt][close] != undefined) whs[wt].close(); whs[wt] = null; return _self; }; this.properties = function (wp) { wp = (wp || 'menubar=yes').toLowerCase(); if (!(/menubar/.test(wp))) wp += 'menubar=yes'; if (!(/location/.test(wp))) wp += ',location=yes'; if (!(/width/.test(wp))) wp += ',width=' + (s.availWidth - 150); if (!(/height/.test(wp))) wp += ',height=' + (s.availHeight - 150); if (!(/scrollbars/.test(wp))) wp += ',scrollbars=yes'; if (!(/resizable/.test(wp))) wp += ',resizable=yes'; return wp; }; this.open = function (url, wt, wp) { if (_self.windowExists(wt)) return _self.close(wt).open(url, wt, wp); var urlOpen = ''; if (typeof url == 'string') { urlOpen = url; } else if (jQuery(url).get(0).tagName.toLowerCase() == 'a') { urlOpen = jQuery(url).attr('href'); } else { urlOpen = 'about:blank'; } wp = _self.properties(wp); wt = wt || "_blank"; var wh = wp ? w.open(urlOpen, wt, wp) : w.open(urlOpen, wt); if (wh && "_blank" !== wt) { whs[wt] = wh; _self.focus(wh); } return wh; }; };
