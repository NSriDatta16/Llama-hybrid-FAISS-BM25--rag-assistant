[site]: stackoverflow
[post_id]: 5708228
[parent_id]: 5707984
[tags]: 
When you're redirected the response object is going to have a code of 302 and the geturl() method will report the redirect URL. Python's standard HTTP libraries make it non-trivial to handled redirects by default. Do yourself a favor, don't hassle with this stuff and use the 3rd party mechanize library, which is a drop-in replacement for urllib2 . Using mechanize, your code would look like this: import httplib import mechanize host = 'en.wikipedia.org' path = '/wiki/Special:Random' url = 'http://' + host + path # We have to pass a http:// url # It still uses httplib.HTTPConnection, so we can debug httplib.HTTPConnection.debuglevel = 1 request = mechanize.Request(url, headers={'User-Agent': 'Python-mechanize'}) response = mechanize.urlopen(request) print response.code # => 200 print response.geturl() # => 'http://en.wikipedia.org/wiki/Faliszowice,_Lesser_Poland_Voivodeship' data = response.read()
