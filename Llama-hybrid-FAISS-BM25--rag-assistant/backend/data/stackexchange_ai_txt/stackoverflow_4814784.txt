[site]: stackoverflow
[post_id]: 4814784
[parent_id]: 
[tags]: 
How to use bulk feature in Berkeley DB?

currently I am working a bit with Berkeley DB and try to understand the C++ bulk feature that is build in. Problem is I have no idea how to use this feature. There are no C++ examples (only those bloated C examples) or unit tests I could use to understand it. I would like to use especially the DbMultipleKeyDataBuilder, which should be filled with data that comes from a std::map. How should I initialize the constructor parameter of the DbMultipleKeyDataBuilder? What happens with the data parameter of Db::put method? Should it be empty or NULL? If anyone has used successfully those classes, could you please provide some small examples? Thanks in advance. Regards, Martin EDIT: Ok, so far I have following code void Storage::bulkInsert( TransactionI& txn, const Entries& entries) const { if(entries.size() first; const std::string& tmpValue = iter->second; keyDataBuilder.append( &tmpKey, sizeof(uint64_t), const_cast (tmpValue.c_str()), tmpValue.length()+1); } this->getDbHandle().put(txn.getDbTxn(), &multipleDbts, 0, DB_MULTIPLE_KEY); } But what about the buffer of the Dbt multipleDbts?! How should this buffer be created. Imagine I have key/value pairs where key is an integer and value a string of different lengths?
