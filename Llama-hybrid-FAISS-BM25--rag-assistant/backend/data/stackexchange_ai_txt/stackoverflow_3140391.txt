[site]: stackoverflow
[post_id]: 3140391
[parent_id]: 3139914
[tags]: 
The WeakHashMap alone will fail, because it is not thread safe: "Like most collection classes, this class is not synchronized." (3rd paragraph at the JavaDoc ) Since sychronization will take time and Collections.synchronizedMap won't scale very well, you should stick with ThreadLocal .
