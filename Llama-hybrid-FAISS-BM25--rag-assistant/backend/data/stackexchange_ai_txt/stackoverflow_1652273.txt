[site]: stackoverflow
[post_id]: 1652273
[parent_id]: 1652084
[tags]: 
One suggestion as mentioned in your post is using a different MessageCounters table with something like [UserId : NumberOfMessages]. Indexing UserId will make this a cheap operation (and it'd only trigger a write every time a new message arrives). The downside is that for every new message you'll be doing two different writes (one to MessageTable and another one to MessageCounters. Other options you can consider if you really think that this is will be a problem are: Store this data on Memcached and retrieve it from there. If you're at the scale where those queries worry you, you'll probably be using Memcached anyway. Use a separate persistent K/V storage facility like Redis or TokyoCabinet for some of the simpler tasks of the website (like keeping this count).
