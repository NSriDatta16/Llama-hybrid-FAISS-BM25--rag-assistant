[site]: stackoverflow
[post_id]: 5128379
[parent_id]: 
[tags]: 
PHP curl exec fail on php script same domain

I use php curl to get content from a php script in the same domain url. But I get curl_exec error. The curl error code is 28 or operation timed out. After days of debugging, I found that it works on non script page like htm, but not php, it also works if the url is a script on different domain. I have been debugging for days and found no solutions. Helps appreciated. $url = 'http://...'; $agent = ''; $ch = curl_init(); curl_setopt ($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 8); curl_setopt($ch, CURLOPT_TIMEOUT, 8); $result = curl_exec ($ch); print " \n"; print_r(curl_getinfo($ch)); // get error info echo "\n\ncURL error number:" .curl_errno($ch); // print error info echo "\n\ncURL error:" . curl_error($ch); print " \n"; curl_close ($ch); echo $result; cURL error number:28 cURL error: Operation timed out after 8000 milliseconds with 0 bytes received Okay: $url = http://.../page.htm Fail: $url = http://.../page.php
