[site]: stackoverflow
[post_id]: 1894176
[parent_id]: 1893913
[tags]: 
I want to build a query displaying the number of attempts per student per course. Use: SELECT student_id, course_id, COUNT(*) AS num_attempts FROM TBL GROUP BY student_id, course_id I don't see where the average does anything meaningful. If you wanted the students passing percentage: SELECT t.student_id, t.course_id, COUNT(*) AS num_attempts, x.num_passed / COUNT(*) AS pass_percentage FROM TBL t LEFT JOIN (SELECT student_id, course_id, COUNT(*) AS num_passed FROM TBL WHERE passed = 1 GROUP BY student_id, course_id) x ON x.student_id = t.student_id AND x.course_id = t.courseid GROUP BY t.student_id, t.course_id
