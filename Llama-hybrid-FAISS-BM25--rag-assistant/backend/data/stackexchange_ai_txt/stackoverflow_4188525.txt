[site]: stackoverflow
[post_id]: 4188525
[parent_id]: 
[tags]: 
ASP.NET EditorTemplate DropdownList

Every time I add a new App It creates a new AppCategory . I am seriously screwing this up somehow code first entity framework objects public class AppCategory { public int ID { get; set; } public string Name { get; set; } public ICollection apps { get; set; } } public class App { public int ID { get; set; } public string Name { get; set; } public AppCategory Category { get; set; } } Editor Template (I would love to just make just one Foreign Key EditorTemplate) @inherits System.Web.Mvc.WebViewPage @Html.DropDownList("Category", LIG2010RedesignMVC3.Models.Repo.GetAppCategoriesSelect()) and of course the repository public static IEnumerable GetAppCategoriesSelect() { return (from p in GetAppCategories() select new SelectListItem { Text = p.Name, Value = p.ID.ToString(), }); } public static ICollection GetAppCategories() { var context = new LIGDataContext(); return context.AppCategories.ToList(); } Every time I add a new App It creates a new AppCategory I am seriously screwing this up somehow Adding more debug info @inherits System.Web.Mvc.WebViewPage @Html.DropDownList("", LIG2010RedesignMVC3.Models.Repo.GetAppCategoriesSelect()) gives me a validation message on the post Parameters application/x-www-form-urlencoded Category 1 Name 8 Validation error The value '1' is invalid. This makes sense because Category should be an object not an integer. Controller Code as asked for pretty sure this isnt the problem as it came from MVCScaffold [HttpPost] public ActionResult Create(App d) { if (ModelState.IsValid) { context.Apps.Add(d); context.SaveChanges(); return RedirectToAction("Index"); } return View(); }
