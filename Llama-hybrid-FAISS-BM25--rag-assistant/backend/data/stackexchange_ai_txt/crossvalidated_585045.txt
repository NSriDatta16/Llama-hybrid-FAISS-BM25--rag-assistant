[site]: crossvalidated
[post_id]: 585045
[parent_id]: 585038
[tags]: 
I don't know much about reinforcement learning, but start with an easy case and repeatedly apply the law $p(x,y|z) = p(x|z)p(y|x,z)$ : $$ \begin{aligned} p(a_1,a_2,s_1,s_2) &= p(s_1)p(a_2,a_1,s_2|s_1)\\ &= p(s_1)p(a_1|s_1)p(a_2,s_2|a_1,s_1)\\ &= p(s_1)p(a_1|s_1)p(s_2|a_1,s_1)p(a_2|a_1,s_1,s_2)\\ &= p(s_1)p(a_1|s_1)p(a_2|s_2)p(s_2|a_1,s_1)\\ \end{aligned} $$ (assuming actions depend only on the last state) which agrees with your second equation. The first equation you gave must be incorrect because the RHS has terms involving $s_{T+1}$ (and the LHS does not contain an $s_{T+1}$ ). Your second equation looks like it's probably correct to me
