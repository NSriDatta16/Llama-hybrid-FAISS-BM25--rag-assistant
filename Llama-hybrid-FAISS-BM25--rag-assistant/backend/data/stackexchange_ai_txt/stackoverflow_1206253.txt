[site]: stackoverflow
[post_id]: 1206253
[parent_id]: 1206095
[tags]: 
Using the selection service will give you the currently selected object, you can then check the selection type and get the project based on the selection. If you create an ISelectionListener and register as a listener on the ISelectionService, you'll be notified whenever the active selection changes, and be given a reference to the selection and the owning part. ISelectionListener listener = new ISelectionListener() { public void selectionChanged(IWorkbenchPart sourcePart, ISelection selection) { setSourcePart(sourcePart); setSelection(selection); } }; ... //register the listener selectionService.addSelectionListener(listener); ... //either get the selection service and get the selection, or use the stored version from the listener ISelectionService selectionService = Workbench.getInstance().getActiveWorkbenchWindow().getSelectionService(); ISelection selection = selectionService.getSelection(); if(selection instanceof IStructuredSelection) { Object element = ((IStructuredSelection)selection).getFirstElement(); IProject project; if (element instanceof IResource) { project= ((IResource)element).getProject(); } else if (element instanceof PackageFragmentRootContainer) { IJavaProject jProject = ((PackageFragmentRootContainer)element).getJavaProject(); project = jProject.getProject(); } else if (element instanceof IJavaElement) { IJavaProject jProject= ((IJavaElement)element).getJavaProject(); project = jProject.getProject(); } } else if (selection instanceof ITextSelection) { if(sourcePart instanceof JavaEditor) { IJavaElement element = SelectionConverter.resolveEnclosingElement(sourcePart, selection); project = element.getJavaProject().getProject(); } } See this article on the Eclipse selection service for more details.
