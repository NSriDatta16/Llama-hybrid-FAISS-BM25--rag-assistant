[site]: stackoverflow
[post_id]: 5250946
[parent_id]: 5235319
[tags]: 
Since you're using ASP.NET Forms authentication , you'll need to copy the forms auth cookie from the WebView to the URLConnection . Luckily this is pretty straight forward. This code lives in an implementation of shouldOverrideUrlLoading string url = "http://site/generatePdfBehindFormsAuth"; // get an instance of a cookie manager since it has access to our auth cookie CookieManager cookieManager = CookieManager.getInstance(); // get the cookie string for the site. This looks something like ".ASPXAUTH=data" String auth = cookieManager.getCookie(url).toString(); URLConnection conn = (URLConnection)new URL(url).openConnection(); // Set the cookie string to be sent for download. In our case we're just copying the // entire cookie string from the previous connection, so all values stored in // cookies are persisted to this new connection. This includes the aspx auth // cookie, otherwise it would not be authenticated // when downloading the file. conn.setRequestProperty("Cookie", auth); conn.setDoOutput(true); conn.connect(); // get the filename from the servers response, its typical value is something like: // attachment; filename="GeneratedPDFFilename.pdf" String filename = conn.getHeaderField("Content-Disposition").split("\"")[1]; // by default, we'll store the pdf in the external storage directory String fileRoot = "/sdcard/"; // Complete the download FileOutputStream f = new FileOutputStream(new File(fileRoot, filename)); InputStream in = conn.getInputStream(); byte[] buffer = new byte[1024]; int len1 = 0; while ( (len1 = in.read(buffer)) > 0 ) { f.write(buffer,0, len1); } f.close(); in.close(); NOTE: One thing to be aware of is that you should NOT make a call to getContentLength on your URLConnection . After 4 hours of debugging, wireshark finally showed that, if you call getContentLength , the cookie would be sent for the request that gets the content length, but the cookie will not be sent for subsequent requests, even on the same instance of URLConnection . Maybe I am naive and this is by design (the documentation does not indicate that it is by design), but I was unable to manually set the cookie for the subsequent file request by calling setRequestProperty after calling getContentLength . If I attempted to do that, I'd get a force close.
