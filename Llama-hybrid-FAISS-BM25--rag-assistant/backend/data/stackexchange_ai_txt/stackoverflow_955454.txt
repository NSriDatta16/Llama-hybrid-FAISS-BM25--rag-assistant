[site]: stackoverflow
[post_id]: 955454
[parent_id]: 955392
[tags]: 
The last three lines of your limit_text function are incorrect. You probably want to cut off at a word boundary. I would let php do that using wordwrap() : $text = wordwrap($text, $limit - 3); # Or a bit faster (depending on your average string size, # wrapping 20kb of text could take some time): # $text = wordwrap(substr($text, 0, $limit), $limit - 3); if ($pos = (strpos($text, "\n"))) { $text = substr($text, 0, $pos); } return $text . '...';
