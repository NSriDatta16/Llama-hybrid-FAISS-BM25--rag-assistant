[site]: stackoverflow
[post_id]: 5174671
[parent_id]: 5173599
[tags]: 
Build a hash table H(a) to map from element to index: a x ->x in O(n) time and space. Then look up each s y in H(a) (in O(1) time on average for a total of O(k) for s ) and keep track of the ranges. For that you can use an array of pair(min_index, max_index) sorted by min_index and do a binary search to either locate the range or where you should insert the new 1 element range. So overall, the solution above would take O( n + k + k * log( nb_ranges ) ) time and O( n + nb_ranges ) space.
