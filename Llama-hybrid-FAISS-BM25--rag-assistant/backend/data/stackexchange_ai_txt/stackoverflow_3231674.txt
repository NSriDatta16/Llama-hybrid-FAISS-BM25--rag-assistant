[site]: stackoverflow
[post_id]: 3231674
[parent_id]: 
[tags]: 
HttpWebRequest error 403

I am new in C# and have requirement to retrieve a url from C#. Most of case itâ€™s working fine but in one case its throws an error. url is as follows http://whois.afrinic.net/cgi-bin/whois?searchtext=41.132.178.138 Error is: Exception in the HTTP request for url: http://whois.afrinic.net/cgi-bin/whois?searchtext=41.132.178.138 The remote server returned an error: (403) Forbidden. My code is as void MyFUnction(string url) { HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url); request.UserAgent = ".NET Framework Test Client"; request.ContentType = "application/x-www-form-urlencoded"; Logger.WriteMyLog("application/x-www-form-urlencoded"); // execute the request HttpWebResponse response = (HttpWebResponse)request.GetResponse(); // we will read data via the response stream Stream resStream = response.GetResponseStream(); string tempString = null; int count = 0; do { // fill the buffer with data count = resStream.Read(buf, 0, buf.Length); // make sure we read some data if (count != 0) { // translate from bytes to ASCII text tempString = Encoding.ASCII.GetString(buf, 0, count); if (httpData == null) httpData = tempString; else httpData += tempString; } } while (count > 0); // any more data to read? }
