[site]: stackoverflow
[post_id]: 3577325
[parent_id]: 3233290
[tags]: 
Building on what @Potatoswatter said... can you create a context for the fragments? E.g. concatenate in front of your fragment, and afterward, then pass the concatenated string to xmlParseMemory(). Alternatively, why don't you use xmlParseInNodeContext(), which lets you pass in a node to use as context (including namespaces), and the content can be any Well Balanced Chunk (e.g. multiple elements with no single root element). Either method requires that you know, or can scan to find out, the set of all possible namespace prefixes that the fragment may use.
