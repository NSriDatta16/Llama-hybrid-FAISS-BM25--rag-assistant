[site]: crossvalidated
[post_id]: 428154
[parent_id]: 
[tags]: 
Using a group-level mean as a predictor in a mixed effects model

I want to fit a multi-level model across $j=1,2,3,...,k$ groups that predicts $y_{ji}$ for the ith observation in the jth cluster. $ Y_{ji} = \alpha_j + \beta_1 X_{ji} + \beta_2 \bar{X_{j.}} + \beta_{12} X_{ji}\bar{X_{j.}} + \epsilon$ The issue I have is that the predictors $X_{ji}$ and $\bar{X_{j.}}$ are directly related breaking an assumption of the regression model. Bafumi and Gelman discussed a hierarchical approach without the intercept, but I haven't been able to find anything else. An idea I had was to create feature that is an all-others average; i.e., the following model where $\bar{X}_{j(-i)}$ is the average of group $j$ excluding the $i^{th}$ observation. $ Y_{ji} = \alpha_j + \beta_1 X_{ji} + \beta_2 \bar{X}_{j(-i)} + \beta_{12} X_{ji}\bar{X}_{j(-i)} + \epsilon$ Is this acceptable? I drew it from thinking about the proof that the sample mean and variance are independent, but I don't know if this simple solution side-steps the issue.
