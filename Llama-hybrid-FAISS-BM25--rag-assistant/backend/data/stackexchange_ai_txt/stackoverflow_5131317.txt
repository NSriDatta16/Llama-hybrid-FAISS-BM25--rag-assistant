[site]: stackoverflow
[post_id]: 5131317
[parent_id]: 5131107
[tags]: 
Put a breakpoint on CreateWindowEx . Write down the pointer you're passing in. Put a breakpoint on your WindowProc function. Check that the pointer it extracts from your private window data (that's where you're storing the pointer, right?) is the same one passed in. You are using SetProp and GetProp (see topic Window Properties on MSDN) instead of SetWindowLongPtr , right? On entry to your WindowProc, print out the message number so you can see which message is being processed when it crashes (you can use a tracepoint for this if your debugger supports them, or add a printf call to your code and recompile.
