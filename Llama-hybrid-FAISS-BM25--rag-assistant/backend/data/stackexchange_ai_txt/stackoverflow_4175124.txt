[site]: stackoverflow
[post_id]: 4175124
[parent_id]: 
[tags]: 
MVC Error (Razor) Value of type 'System.Web.Mvc.MvcHtmlString' cannot be converted to 'Integer'

I'm getting the following error Value of type 'System.Web.Mvc.MvcHtmlString' cannot be converted to 'Integer'. on @Html.ActionLink("edit", "Edit", "Users", New With {.id = Model.ID}, Nothing) Here's the code @If (Model.isUserMatch) Then @ @Html.ActionLink("edit", "Edit", "Users", New With {.id = Model.ID}) | manage openids End If Anyone know why this would be? EDIT: I was asked what the viewmodel looks like Imports System.Linq Imports UrbanNow.Core.Extensions Namespace Domain Public Class UserViewModel Public Property UserName As String Public Property Email As String Public Property Website As String Public Property ID As Integer Public Property OpenIds As List(Of OpenID) Public Property UserAge As String Public Property About As String Public Property Slug As String Public Property LastSeen As String Public Property Region As String Public Property MemberSince As String Public Property Reputation As String Public Property isUserMatch As Boolean = False Private MarkDownSharp As MarkdownSharp.Markdown Public Sub New(ByVal user As User) Dim currentuser As Authentication.AuthUserData = Authentication.CustomAuthentication.RetrieveAuthUser MarkDownSharp = New MarkdownSharp.Markdown With MarkDownSharp .AutoHyperlink = False .AutoNewLines = True .EncodeProblemUrlCharacters = True .LinkEmails = True .StrictBoldItalic = True End With ''# We want to ensure that the user has a username, even if they ''# haven't set one yet. What this does is check to see if the ''# user.UserName field is blank, and if it is, it will set the ''# username to "UserNNNN" where NNNN is the user ID number. _UserName = If(Not user.UserName Is Nothing, user.UserName, "User" & user.ID.ToString) ''# Nothing fancy going on here, we're just re-passing the object from ''# the database to the View. No data manipulation! _Email = user.Email _Website = user.WebSite _ID = user.ID _MemberSince = user.MemberSince ''# Get's a list of all of the user's OpenID's _OpenIds = user.OpenIDs.ToList ''# Converts the users birthdate to an age representation _UserAge = user.BirthDate.ToAge ''# IE: 29 ''# Because some people can be real ass holes and try to submit bad ''# data (scripts and shit√®) we have to modify the "About" content in ''# order to sanitize it. At the same time, we transform the Markdown ''# into valid HTML. The raw input is stored without sanitization in ''# the database. this could mean Javascript injection, etc, so the ''# output ALWAYS needs to be sanitized. _About = Trim(Utilities.HtmlSanitizer.Sanitize(MarkDownSharp.Transform(user.About))) ''# Removes spaces from Usernames in order to properly display the ''# username in the address bar _Slug = Replace(user.UserName, " ", "-") ''# Returns a boolean result if the current logged in user matches the ''# details view of the user in question. This is done so that we can ''# show the edit button to logged in users. _isUserMatch = If(currentuser.ID = user.ID, True, False) ''# Grabs the users last activity and formats it to a tag ''# for use with the timeago jQuery plugin _LastSeen = user.ActivityLogs.Reverse.FirstOrDefault.ActivityDate ''# Formats the users reputation to a comma Deliminated number ''# IE: 19,000 or 123k _Reputation = user.Reputation.ToShortHandNumber ''# Get the name of the users current Region. _Region = user.Region.Region.FirstOrDefault End Sub End Class End Namespace
