[site]: stackoverflow
[post_id]: 2640732
[parent_id]: 2640284
[tags]: 
Scalar functions tend to perform very poorly in SQL Server. I'm not sure why if you make it a persisted computed column and index it, it doesn't have identical performance to a normal indexed-column, but it may be due to the UDF being called even though you think it's no longer needed to be called once the data is computed. I think you know this from another answer, but your final query is wrongly calling the scalar UDF on every row (defeating the point of persisting the computation): SELECT UserId FROM Users WHERE dbo.fn_Users_RRN(Data) = @RRN It should be SELECT UserId FROM vwi_Users WHERE RNN = @RRN
