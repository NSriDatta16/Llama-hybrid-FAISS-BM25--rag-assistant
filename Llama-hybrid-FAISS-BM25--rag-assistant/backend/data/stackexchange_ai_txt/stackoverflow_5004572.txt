[site]: stackoverflow
[post_id]: 5004572
[parent_id]: 4360359
[tags]: 
I sort of figured it out for now. I put them in separate td's until I figure out how to do it the other way. In function theme_contestwinners_admin_form() I put function theme_contestwinners_admin_form(&$form) { $headers = array(t('Name'), t('Description'), t('Edit'), t('Delete'), t('Weight')); $rows = array(); if (!empty($form['winners'])) { foreach (element_children($form['winners']) as $crid) { $row = array(); $winner = $form['winners'][$crid]['#winner']; $row[] = check_plain($winner['title']); $row[] = check_plain($winner['description']); $row[] = drupal_render($form['winners'][$crid]['edit']); $row[] = drupal_render($form['winners'][$crid]['delete']); // Add the weight field to the row // the Javascript to make our table drag and drop will end up hiding this cell $row[] = drupal_render($form['winners'][$crid]['weight']); //Add the row to the array of rows $rows[] = array('data' => $row, 'class'=>'draggable'); } } $link = l(t('Create a new winner'), 'admin/settings/contestwinners/add'); $table_id = 'winners'; // this function is what brings in the javascript to make our table drag-and-droppable drupal_add_tabledrag($table_id, 'order', 'sibling', 'weight'); $row = array(); if (empty($rows)) { $row[] = array( 'data' => t('No contest winners have been added yet. !url.', array('!url' => $link)), 'colspan' => 5, 'class'=>'draggable', ); }else{ $row[] = array( 'data' => t('!url.', array('!url' => $link)), 'colspan' => 5, 'class'=>'draggable', ); } $rows[] = $row; // over-write the 'my_items' form element with the markup generated from our table $form['winners'] = array( '#type' => 'markup', '#value' => theme('table', $headers, $rows, array('id' => $table_id)), '#weight' => '1', ); $output = ''; $output .= drupal_render($form); return $output; }
