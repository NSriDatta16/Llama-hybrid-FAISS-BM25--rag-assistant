[site]: stackoverflow
[post_id]: 5561690
[parent_id]: 
[tags]: 
MVC3 ModelState fails after changing to using a ViewModel

I've changed my controller to pass a VoucherBatchViewModel instead of a VoucherBatch [HttpPost] public ActionResult Edit(Guid id, VoucherBatchViewModel voucherBatchViewModel) { if (!ModelState.IsValid) { SetupDropDowns(); And the vm: public class VoucherBatchViewModel { public VoucherBatch VoucherBatchInVM { get; set; } public string CreationReference { get; set; } public int NumberToMove { get; set; } public int VoucherCodeLength { get; set; } } Question: Why is my ModelState invalid? The drop down has not populated the correct field in the ViewModel. The html does produce the correct @Html.DropDownList("VoucherProviderId", new SelectList(ViewBag.VoucherProviders as System.Collections.IEnumerable, "Id", "Name", Model.VoucherBatchInVM.VoucherProviderId)) and Edit get contains this which I use to populate the DropDown. ViewBag.VoucherProviders = uow.VoucherProviders.OrderBy(v => v.Name).ToList(); Html: Name Voucher Provider 1 Voucher Provider 2
