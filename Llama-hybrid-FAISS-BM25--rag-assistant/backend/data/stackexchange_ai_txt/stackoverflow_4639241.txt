[site]: stackoverflow
[post_id]: 4639241
[parent_id]: 
[tags]: 
NodeJS: problem with request asynchronous, synchronous, api

I have problem with trying to turn asynchronous function into synchronous. here is a method from class: doPost: function(call, data) { var uri = 'http://localhost/api/'+call; var api = http.createClient(80, 'localhost'); var domain = 'localhost'; var request = api.request("POST", uri, {'host' : domain, 'Content-Type' : 'application/x-www-form-urlencoded', "User-Agent": this.userAgent, 'Content-Length' : data.length }); request.write(data); request.end(); request.on('response', function (response) { response.on ('data', function (chunk) { sys.puts(chunk); try { var result = JSON.parse(chunk); //------------ the problem return HOW_TO_RETURN_RESULT; //------------ /the problem }catch (err) { return {'ok': 0, 'err': err} } }); }); }, Want to use this function in this way: result = obj.doPost('getSomeData.php', '&data1=foo&data2=bar'); Reagards Tom
