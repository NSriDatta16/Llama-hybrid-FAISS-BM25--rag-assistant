[site]: crossvalidated
[post_id]: 415302
[parent_id]: 357446
[tags]: 
I hope you have followed the good advice in the comments. Why do you use downsampling? It is most often used to solve a nonproblem . See Why downsample? and many of its answers. With only 400k rows memory shouldn't be a problem, if it is, get some better software. Their problem may be the use of accuracy, which is an improper score function , see Is accuracy an improper scoring rule in a binary classification setting? . Then the question about target (or mean) encoding. That is an idea from machine learning used with categorical variables with very many levels. Your variable Industry probably does not have that many levels, so you could try other ideas, like dummy variables with regularization, maybe try glmnet . Glmnet uses sparse matrices so many levels isn't a big problem. If there is many levels, see some of the ideas here: Principled way of collapsing categorical variables with many levels? . Finally, if you still go for target encoding, see my answer here: Strange encoding for categorical features
