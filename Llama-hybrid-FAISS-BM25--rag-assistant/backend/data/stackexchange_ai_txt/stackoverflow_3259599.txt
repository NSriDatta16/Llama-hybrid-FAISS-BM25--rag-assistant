[site]: stackoverflow
[post_id]: 3259599
[parent_id]: 
[tags]: 
UserControl PreviewMouseLeftButtonUp problem

I have a UserControl in WPF. I also have a Borderless window. To move it- I use DragMove. But- to get a click event in the user control- I use the PreviewMouseLeftButtonUp event and capture the mouse on UserControl_MouseEnter. The problem is- that if I click the control, then move the window- the event can be triggered also when clicking near the control, not on it. Here is my code: UserControl1.xaml: UserControl1.xaml.cs: public partial class UserControl1 : UserControl { public UserControl1() { InitializeComponent(); } private void UserControl_MouseEnter(object sender, MouseEventArgs e) { CaptureMouse(); } private void UserControl_MouseLeave(object sender, MouseEventArgs e) { ReleaseMouseCapture(); } } MainWindow.xaml: MainWindow.xaml.cs: public partial class MainWindow : Window { public MainWindow() { InitializeComponent(); } private void Window_MouseLeftButtonDown(object sender, MouseButtonEventArgs e) { DragMove(); } private void UserControl1_PreviewMouseLeftButtonUp(object sender, MouseButtonEventArgs e) { MessageBox.Show("Hello World"); } } If you run this app- you'll see that if you click on the control, then drag the window, then click near the control (the side may vary)- it will trigger the PreviewMouseLeftButtonUp event even though you didn't click on the control itself. Any ideas how to solve this? Thanks!
