[site]: stackoverflow
[post_id]: 5385483
[parent_id]: 
[tags]: 
converting only parts of a subversion repository from git

I have an old Subversion repository with lots of my private projects. Parts of it where converted from an old CVS repository some years ago (with cvs2svn or similar). Its current structure looks like this: trunk latex java awt-doku pps build.xml src ant de dclj faq paul (about 20 other packages) ltxdoclet (some java files) lua (other directories) branches tags import A problem is that I did quite some reorganization on this repository - for example, all the contents of the pps directory was once in a subdirectory of import (I think I imported it there from CVS), and there may have been other movements, too. I'm now interested in the contents of the ltxdoclet directory together with some other files along the path, like build.xml, the ant directory and so on. And I want to have their whole history, including any history before moving the files. And I want it as a git repository now (since I want to publish this on github). The tags and branches were never really used, so they are not important. I do not want the rest of this repository (they'll get separate git repositories sometimes) - this would blow up my repository too much (and there is some stuff I don't want to publish). Ideally, my resulting git repository (in the HEAD state) should look like this: pps build.xml src ant de dclj paul ltxdoclet (some java files) I don't really care about historical directory configurations, but the history should not contain any commits who did not touch any of the files in these directories (or their predecessors). Of course, git svn seems to be the tool of choice. (Are there others?) git svn clone seems to be the right command ... but with which options? I created an authors.txt to convert the CVS or SVN user names to my name and address. To have only the interesting files and directories, I use --ignore-paths . This was my try: filter='^/xcb-src/|_00|src/resources|dclj/faq|dclj/paul/([^l]|l[^t])' git svn clone svn+ssh://mathe-svn/ --trunk trunk/java/pps -A authors.txt --ignore-paths=$filter latexdoclet Of course, it shows only the history after commit 2306, when I moved import/java-pps to trunk/java/pps ... and it has lots of commits which have no changes at all. To solve the first problem, I thought about giving also the old directory as --trunk : git svn clone svn+ssh://mathe-svn/ --trunk trunk/java/pps --trunk import/java-pps -A authors.txt --ignore-paths=$filter latexdoclet This does not work, the first --trunk is ignored here, and it ends effectively on commit 2305 (before the move). (And it also contains lots of empty commits.) My current try is to import the whole repository, filtering out anything not wanted: filter='/xcb-src/|_00|src/resources|dclj/faq|dclj/paul/([^l]|l[^t])|/esperanto|finanzen|diverses|homepage|konfig|lua|prog-aufgaben|CVSROOT|latex|tags/' git svn clone svn+ssh://mathe-svn/ -A authors.txt --ignore-paths=$filter latexdoclet-neu The conversion is still running, but there certainly are lots of commits I don't want at all. Edit: conversion completed - I now have 2658 commits (3176 objects in git), and only about 36 of them have some interesting tree change, if I configured my gitk filter right. (+ about 3 more which were erroneously filtered out, since our latex source file was first in the latex directory.) Does anyone has better ideas on how to do this? Should I better import the whole repository first and then use git filter-branch to pick out the files and commits I want?
