[site]: crossvalidated
[post_id]: 628014
[parent_id]: 
[tags]: 
Expected number of trials to cover X% of a dataset using a particular iterative sampling scheme

I derived the average number of trials to see x% of a dataset, if during each trial I randomly sample p% of that dataset with replacement (hopefully this is correct): $\frac{log(1-x)}{log(1-p)}$ Now I would like to extend this to the following scenario: in a single trial, first I randomly sample p% of the dataset, then from those particular p% of samples that were chosen randomly sample q% of that data, and then replace everything to the original state. This time, only the q% of the data in the second stage are considered to be "seen." I want to find the average number of trials needed to see x% of the entire dataset. I'm mainly interested in this "sample of a sample" case, but out of curiosity I would also be interested to see the general solution for N "sample of a sample of a sample of..." problem.
