[site]: stackoverflow
[post_id]: 3484126
[parent_id]: 3484114
[tags]: 
You are organizing your hierarchical data using the adjacency list model . The fact that such recursive operations are difficult is in fact one major drawback of this model. Some DBMSes, such as SQL Server 2005, Postgres 8.4 and Oracle 11g, support recursive queries using common table expressions with the WITH keyword. This feature allows queries such as this to be written with ease, but unfortunately MySQL does not support recursive queries yet. You mentioned that you cannot make any changes to your table, but can you add an additional table? If yes, you may may be interested in checking out the following article which describes an alternative model (the nested set model ), which makes recursive operations easier (possible): Mike Hillyer: Managing Hierarchical Data in MySQL In addition, I also suggest checking out the following presentation by @Bill Karwin , a regular contributor on Stack Overflow: Bill Karwin: Models for hierarchical data with SQL and PHP The closure table model described in the presentation is a very valid alternative to the nested set. He further describes this model in his SQL Antipatterns book ( excerpt from the chapter on this topic ). Otherwise, you may want to do the recursive part in your application, in php, as @geon suggested in the other answer.
