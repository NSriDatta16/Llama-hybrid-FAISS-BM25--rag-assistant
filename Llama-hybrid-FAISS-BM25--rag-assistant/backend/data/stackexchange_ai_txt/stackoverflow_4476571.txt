[site]: stackoverflow
[post_id]: 4476571
[parent_id]: 1277219
[tags]: 
https://web.archive.org/web/20141014195801/http://dhruba.name/2010/02/07/creation-dynamic-loading-and-instrumentation-with-javaagents/ has a great example of how to write an agent as well as how to start one on the fly.
