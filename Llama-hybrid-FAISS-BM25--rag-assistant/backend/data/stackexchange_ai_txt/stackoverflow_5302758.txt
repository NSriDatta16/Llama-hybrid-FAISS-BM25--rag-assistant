[site]: stackoverflow
[post_id]: 5302758
[parent_id]: 2183047
[tags]: 
in such cases like your I am using Nokogiri DOM search. Here is your code a little bit rewritten: require 'rubygems' require 'mechanize' agent = Mechanize.new page = agent.get('http://www.google.de') pp page.title google_form = page.form_with(:name => 'f') google_form.q = 'test' page = agent.submit(google_form) pp page.title page_links = Array.new #maybe you better use 'h3.r > a.l' here page.parser.css("a.l").each do |ll| #page.parser here is Nokogiri::HTML::Document page_links " + ll["href"] end puts page_links.size Probably this article is a good place to start: getting-started-with-nokogiri By the way samples in the article also deal with Google search ;)
