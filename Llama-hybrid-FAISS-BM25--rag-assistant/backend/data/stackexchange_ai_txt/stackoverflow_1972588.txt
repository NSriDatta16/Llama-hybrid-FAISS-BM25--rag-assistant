[site]: stackoverflow
[post_id]: 1972588
[parent_id]: 1972544
[tags]: 
Using parse_url , you can do something like this: Parse the page url into its parts (scheme, domain, path, file, query, fragment) Rebuild the url for the img url, depending on how the img url is. Img url begins with '/', it's an absolute url, so we build the img url like "$scheme://$domain$img_url" Img url doesn't begin with '/', so it's relative, so we build the img url like "$scheme://$domain/$path/$img_url" . This also works if img_url is ".././"-style, because those will be parsed by the server. You may also want to exclude img urls that start with a scheme or domain ('xx://' or 'xx.xx/').
