[site]: stackoverflow
[post_id]: 4353857
[parent_id]: 
[tags]: 
Subquery to fetch a property NHibernate

I'm using NHibernate for a web application. I have a model like this: public class ProductViewModel { public virtual int Id { get; set; } /* others simple properties */ public virtual IList LastOffers { get; set; } public ProductViewModel() { } } public class OfferViewModel { public virtual string UserName { get; set; } public virtual decimal Prince { get; set; } public OfferViewModel() { } } I would like to know, how to fetch the "LastOffers" collection property with a HQL subquery ? I want to fetch it with top 10 last offers. I have my model mapped correctly but I don't know the sintax to do a subquery fetch this property. Today, I'm using a command like this to fetch my ViewModel: public IList GetProductsForSalles() { return Session.CreateQuery(@"select p.Id as Id, p.Name as Name, p.Price as Price, p.Price as Date /* FETCH LastOffers? */ from Product p where p.Active=true and (p.Status=:Status) order by a.Date asc") .SetParameter("Status", Status.Started) .SetMaxResults(50) .SetResultTransformer(Transformers.AliasToBean ()) .List (); } Thanks!
