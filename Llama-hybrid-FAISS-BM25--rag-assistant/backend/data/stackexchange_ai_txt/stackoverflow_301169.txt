[site]: stackoverflow
[post_id]: 301169
[parent_id]: 300086
[tags]: 
I solved the problem of converting between NSGlyphs and the corresponding unichar in the NSTextView. The code below works beautifully and replaces spaces with bullets for visible text: - (void)drawGlyphsForGlyphRange:(NSRange)range atPoint:(NSPoint)origin { NSFont *font = [[CURRENT_TEXT_VIEW typingAttributes] objectForKey:NSFontAttributeName]; NSGlyph bullet = [font glyphWithName:@"bullet"]; for (int i = range.location; i != range.location + range.length; i++) { unsigned charIndex = [self characterIndexForGlyphAtIndex:i]; unichar c =[[[self textStorage] string] characterAtIndex:charIndex]; if (c == ' ') [self replaceGlyphAtIndex:charIndex withGlyph:bullet]; } [super drawGlyphsForGlyphRange:range atPoint:origin]; }
