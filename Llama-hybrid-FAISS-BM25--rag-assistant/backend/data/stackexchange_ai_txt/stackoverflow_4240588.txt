[site]: stackoverflow
[post_id]: 4240588
[parent_id]: 
[tags]: 
Retrieving IIS Logs from Azure

I have been trying to get IIS Logs from Azure, and I was able to get to get it going once - now, no matter what I try, I can't get it to transfer logs to my Storage account. I was trying to do this without re-deploying my code, which after reading around seemed possible. And, as I mentioned, I was successful. But this is driving me insane, it just won't do it anymore. Although, it does create the Queue in my storage account when I start a transfer, but that's all it seems to do. The basic steps I am doing are: Adding the storage name and key to my config as "DiagnosticsConnectionString"*. Setting a DiagnosticMonitorConfiguration for one minute, with a DirectoriesBufferConfiguration. Starting an OnDemand Transfer with a new queue name. I've done all of the above both programmatically, and through the cmdaplets for PowerShell. As soon as I start a transfer, it just stays with a status of "Not Yet Published (Do not end/cancel)". I have tried Logs, Directories and even deleted and recreated my storage account. Nothing seems to be working. It appeared to work when I directly added my storage account info to my role config via the azure portal; after it Updated the deployment I saw the logs. But this is not working anymore. Does anyone have some good advice/material? I just want to transfer my IIS logs to my storage account - I've been at it for days. Update:*This is my config: . My WebRole.cs contained the following, when it worked: DiagnosticMonitor.Start("DiagnosticsConnectionString"); I've updated it to start transfers: var diag = new DiagnosticMonitorConfiguration() { ConfigurationChangePollInterval = TimeSpan.FromMinutes(1), Directories = new DirectoriesBufferConfiguration() { ScheduledTransferPeriod = TimeSpan.FromMinutes(1) }, Logs = new BasicLogsBufferConfiguration() { ScheduledTransferLogLevelFilter = LogLevel.Verbose, ScheduledTransferPeriod = TimeSpan.FromMinutes(1) } }; DiagnosticMonitor.Start("DiagnosticsConnectionString", diag);
