[site]: stackoverflow
[post_id]: 468319
[parent_id]: 468117
[tags]: 
I'm not sure exactly how you are currently doing this -- according to my googling, "Bubblesearch" refers to a way to choose an ordering of items that is in some sense near a greedy ordering, but in your case, the order of adding files to a DVD does not change the space requirements so this approach wastes time considering multiple different orders that amount to the same set of files. In other words, if you are doing something like the following to generate a candidate file list: Randomly shuffle the list of files. Starting from the top of the list, greedily choose all files that you estimate will fit on a DVD until no more will. Then you are searching the solution space inefficiently -- for any final candidate set of n files, you are potentially considering all n ! ways of producing that set. My suggestion: Sort all files in decreasing order of file size. Mark the top (largest) file as "included," and remove it from the list. (It must be included on some DVD, so we might as well include it now.) Can the topmost file in the list be included without the (estimated) ISO filesystem size exceeding the DVD capacity? If so: With probability p (e.g. p = 0.5), mark the file as "included". Remove the topmost file from the list. If the list is now empty, you have a candidate list of files. Otherwise, goto 3. Repeat this many times and choose the best file list. Tyler D's suggestion is also good: if you have ~40000 files totalling ~500Mb, that means an average file size of 12.5Kb. ISO 9660 uses a block size of 2Kb, meaning those files are wasting on average 1Kb of disk space, or about 8% of their size. So packing them together with tar first will save around 8% of space.
