[site]: stackoverflow
[post_id]: 4556628
[parent_id]: 4556496
[tags]: 
took advantage of the fact that static objects get initialized before main() is called to populate it I think you are missing the fact that compiler is allowed to defer dynamic initialization of non-local variables with static storage duration until their first use. If your code never uses those registration classes, compiler will not create code to perform dynamic initialization at all.
