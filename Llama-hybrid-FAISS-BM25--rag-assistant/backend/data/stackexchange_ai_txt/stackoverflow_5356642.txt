[site]: stackoverflow
[post_id]: 5356642
[parent_id]: 
[tags]: 
Find important text in arbitrary HTML using PHP?

I have some random HTML layouts that contain important text I would like to extract. I cannot just strip_tags() as that will leave a bunch of extra junk from the sidebar/footer/header/etc. I found a method built in Python and I was wondering if there is anything like this in PHP. The concept is rather simple: use information about the density of text vs. HTML code to work out if a line of text is worth outputting. (This isn’t a novel idea, but it works!) The basic process works as follows: Parse the HTML code and keep track of the number of bytes processed. Store the text output on a per-line, or per-paragraph basis. Associate with each text line the number of bytes of HTML required to describe it. Compute the text density of each line by calculating the ratio of text t> o bytes. Then decide if the line is part of the content by using a neural network. You can get pretty good results just by checking if the line’s density is above a fixed threshold (or the average), but the system makes fewer mistakes if you use machine learning - not to mention that it’s easier to implement! Update: I started a bounty for an answer that could pull main content from a random HTML template. Since I can't share the documents I will be using - just pick any random blog sites and try to extract the body text from the layout. Remember that the header, sidebar(s), and footer may contain text also. See the link above for ideas.
