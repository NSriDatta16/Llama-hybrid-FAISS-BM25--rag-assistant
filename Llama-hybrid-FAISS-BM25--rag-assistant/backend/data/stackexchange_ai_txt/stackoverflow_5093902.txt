[site]: stackoverflow
[post_id]: 5093902
[parent_id]: 
[tags]: 
Extensions Issue - ContentScript & Premissions for an overlay

I'm currently developing an overlay for Google Chrome (A toolbar if you prefer), and i have some issues with and i can't understand the reason why. So, basically i've created an extension with this manifest.json : { "background_page" : "background.html", "browser_action" : { "default_icon" : "images/Extension.png" }, "content_scripts": [ { "all_frames": true, "css": ["css/overlay.css"], "js": ["js/overlay.js"], "matches": ["http://*/*"], "run_at": "document_start" } ], "permissions" : ["tabs", "unlimitedStorage", "http://*/*"], "name" : "MyOverlay", "version" : "1.1", "description" : "Sindar Overlay" } The concept is that my background.html page will call the jquery.js and overlay.js. Then on the initialization of overlay.js it will call the html page (overlay.html) by using The problem is that when i'm trying to start the extension everything seem to be good, no compilation problem but i don't see my overlay. And when i'm just opening the html page all is ok, i see it. So i'm asking myself if the problem dont come from the contentscript or from the permissions but i dont know where it could come from... Thanks in advance. Edit 23/02/2011 - 18:46 background.html overlay.js var overlay= { init: function() { this.injectoverlay(); //alert('Initialisation reussie'); }, injectoverlay: function() { var body = $('body'), overlayURL = chrome.extension.getURL("overlay.html"), iframe = $(' '); body.append(iframe); iframe.show(); //alert('Injection reussie'); } } var length = {}, maxLength = 0, currentLength; $(function(){ $('#menu li.title') .each(function(){ // Save the Menu Length length[$(this).attr('id')] = currentLength = $(this).height(); // Fix the height $(this).height(20); if(currentLength > maxLength) { maxLength = currentLength; } // To don't overflow on the content $('#menu').height(maxLength); }) .mouseenter(function(){ $(this).stop().animate({ height: length[$(this).attr('id')] }, 500); }) .mouseleave(function(){ $(this).stop().animate({ height: '20px' }, 500); }); }); $(document).ready(function() { overlay.init(); }); overlay.html overlay | Accueil --> Contact google yahoo
