[site]: crossvalidated
[post_id]: 143140
[parent_id]: 143124
[tags]: 
What you're asking for is sometimes called a generalized linear mixed model (GLMM). I don't know about SPSS, but in R you can estimate them with any of the nlme , lme4 , or MCMCglmm packages. Ben Bolker has written a very nice demonstration of using MCMCglmm to fit a zero-inflated Poisson model, available here .
