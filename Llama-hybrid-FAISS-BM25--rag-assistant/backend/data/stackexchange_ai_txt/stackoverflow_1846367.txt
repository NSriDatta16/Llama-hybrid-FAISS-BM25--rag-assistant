[site]: stackoverflow
[post_id]: 1846367
[parent_id]: 1846334
[tags]: 
You are returning a pointer to the array encodedString , which is local to the encodeString() function and has automatic storage duration. This memory is no longer valid after that function exits, which is what is causing your problem. You can fix it by giving encodedString static storage duration: static char encodedString[128]; encodedString[0] = '\0'; (You can no longer use the initialiser to empty the array, because arrays with static storage duration maintain their values from one invocation of the function to the next.)
