[site]: stackoverflow
[post_id]: 3292981
[parent_id]: 
[tags]: 
Using Valums AjaxUpload with a CFC

I was looking for an elegant way to upload images AJAX style. I'm new to all this mind you, and I couldn't find anything really simple and clear to teach me how to do this with a CFC and jQuery. There are some GREAT things out there from Ray Camden and others using Valum's AjaxUpload plug-in ( found here ) but it was mostly using a CFM to process the stuff. So, here is my incredibly bare bones AJAX style upload using a CFC with jQuery and Valum's AjaxUpload plug-in. Here's the page (don't forget your DTD): AJAX Upload Test $(document).ready(function() { // Begin document.ready function // // Fire up Valum's AjaxUpload new AjaxUpload('upload_button', { // Since I'm using a cfc I put the method and returnFormat in the string so CF knows to return json action: 'cfc/engine.cfc?method=uploadImage&returnFormat=json', // the default name... name: 'userFile', // Tell us to expect json in return responseType: 'json', // When teh upload is done, populate the preview with the file we just uploaded onComplete: function(file, response) { $('img#preview').attr('src', response.PREVIEW); // Use this console.log to see exactly how the cfc is returning the json data // then delete it before deploying to your production server console.log(response); } }); // End of document.ready function // }); Upload And the CFC: As aforementioned, I'm incredibly new to this so I'm open to constructive ways of refining and dressing up this code.
