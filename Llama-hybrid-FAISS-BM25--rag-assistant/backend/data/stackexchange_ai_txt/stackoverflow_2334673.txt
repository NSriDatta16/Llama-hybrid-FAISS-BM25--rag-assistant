[site]: stackoverflow
[post_id]: 2334673
[parent_id]: 
[tags]: 
QWidget's paintEvent() lagging application

i'm studying and modifying the fridge magnets example, and the last thing I've tried to do was to draw a few labels and lines that are supposed to be on the background. After looking around trying to figure out how to draw the labels and lines, I learned that I could override QWidget's paintEvent() to do it. After I did it though, the application got laggy, and I found out that it was because paintEvent() was being called in a seemingly infinite loop. Trying to figure out how to fix that, I moved the code that drew the labels and lines to the constructor of the class. Only the labels were drawn on the application though. After that, I left the labels in the constructor, but moved the code that drew the lines back to paintEvent(). It worked, the lines were drawn as expected, and paintEvent() was called only when dragging stuff around. Why were the lines not being drawn on the constructor, and why paintEvent() got into an infinite loop? Here's the snippet that's supposed to draw the labels and lines: QPen pen(Qt::lightGray, 0, Qt::SolidLine, Qt::SquareCap, Qt::RoundJoin); QPainter paint(this); paint.setPen(pen); int scale = 20; for(int x=0; x move(x*scale,2); time->show(); paint.drawLine(x*scale,12,x*scale,400); }
