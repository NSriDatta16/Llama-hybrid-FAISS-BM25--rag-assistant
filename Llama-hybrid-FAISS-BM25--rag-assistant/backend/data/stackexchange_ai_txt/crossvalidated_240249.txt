[site]: crossvalidated
[post_id]: 240249
[parent_id]: 
[tags]: 
Metric for comparing vectors (of ingredients)

Say I am analyzing a recipes in a cookbook. I have a set of recipes organized in a $r\times i$ (recipes $\times$ ingredients) table, where row is recipe, column is ingredient. $$ \begin{matrix} potatoes & chilli & sugar & berries & vanilla \\ 20 & 10 & 15 & 0 & 0\\ 200 & 100 & 150 & 0 & 0\\ 2 & 0 & 15 & 100 & 0.1\\ 0 & 10 & 15 & 10 & 0.1\\ \end{matrix} $$ I can think of each recipe as a vector in $I$ -dimensional space, where $I$ is the total amount of possible ingredients. Just to clarify, it is a strange cookbook so some recipes can be from same ingredients, only multiplied by some factor (ie 1st and second row). There are different ways to think of comparing recipes. First , you can compare recipes in terms of ingredients completely neglecting the amount of each ingredient. To do this convert the each vector to a binary vector $$ \begin{matrix} potatoes & chilli & sugar & berries & vanilla \\ 1 & 1 & 1 & 0 & 0\\ 1 & 1 & 1 & 0 & 0\\ 1 & 0 & 1 & 1 & 1\\ 0 & 1 & 1 & 1 & 1\\ \end{matrix} $$ and compute the cosine similarity for each pair of recipes and obtain a meaningful similarity matrix. Is that right, or there is a gotcha? Next , you might want to take into account the amount of each ingredient and this is where I am getting confused. I was messing around with cosine similarity again, but it did not work out quite well. Two recipes of 10 ingredients shared 5 of them, while one was in much higher amount than others. This skewed the similarity to almost $1$ despite the intuitive difference between the recipes being obvious. I guess some kind of standardization would be necessary. Here comes the problem. The matrix can be very sparse with thousands of recipes with hundreds of possbile ingredients, while recipe will usually comprise of ~10 ingredients. If standardize (Z-score) each column (ingredient), the sparsity of the matrix will greatly affect the values. do I even care? How would you standardize? Is there a different metric other than cosine similarity I could use?
