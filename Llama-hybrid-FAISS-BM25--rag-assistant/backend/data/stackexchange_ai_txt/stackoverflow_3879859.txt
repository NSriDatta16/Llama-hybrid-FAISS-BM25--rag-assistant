[site]: stackoverflow
[post_id]: 3879859
[parent_id]: 3879837
[tags]: 
To detect from C that a new storage device, like a USB pen drive, is inserted, use GetLogicalDrives(); or GetLogicalDriveStrings() and see if any new entries are detected. Also have a look at how GetDriveInfo2 is implemented (it uses WINAPI) and this Stack Overflow question, which is related or possibly a dupe. Once you have the logical drive name, you open it as a directory and enumerate the files there as you would any directory with FindFirstFile() .
