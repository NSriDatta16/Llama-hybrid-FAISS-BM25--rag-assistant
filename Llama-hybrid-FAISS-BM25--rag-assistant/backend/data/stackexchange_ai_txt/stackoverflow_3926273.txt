[site]: stackoverflow
[post_id]: 3926273
[parent_id]: 
[tags]: 
Can You Embed an TCL Script in Bash Script or Python Script That's Callable by External Programs?

I'm writing a script to extract some useful data about a series of chemical simulations I've been running. To get this data I need (1) a C-program that calculates the density from a file type called *.pdb . I already have (1). And (2) I need to use a program called vmd to get that pdb. In order to accomplish (2) from the command line, I can submit a tcl script, as vmd has a build in tcl interpreter. These functions -- calling the vmd to run the tcl script, then running the compiled c-program -- will be the key activities of my wrapper data extraction script. I would like to eliminate the superfluous TCL script, reducing my count from 2 scripts (wrapper script + tcl script for vmd) down to 1. But I'm not sure quite how to do this. One potentially solution seems to be to embed my TCL script within my wrapper script, if there's a way to make such an embedded script callable from external programs. Most of my data collection scripts so far have been in BASH, so ideally I would like to stick to a BASH script as I'm very familiar with bash scripting versus having only beginning knowledge of Python/Perl. Here are my questions: 1. Can you embed a TCL script inside a Bash script? 2. Can you make this script callable by an external program? e.g. in pseudocode: #!/bin/bash .... tclembed extract { #tcl script ... } ... vmd -dispdev text -e extract.tcl >& extract_results.log #where vmd is #an external program 3. If the answer to #2 is no, can you do this in Python, perhaps with the Minotaur library? I would consider the switch to python, if so... http://markmail.org/message/6kogjphzqtn4ilch 4. If not, how would you suggest trying to merge these two scripts (a tcl routine and a bash script that calls it) into a single file? 5. If anybody HAS gotten external calls of this nature to work using Minotaur, can you post some explanatory code? I've thought of one non-embedding solution which to #4, which would be to write a function in my Bash script that writes a file with the entire tcl script. That way I would have a single script, but could dump the subscript for use with external programs, later deleting it. I have a feeling this solution is kinda kludgy though I know for sure that it works, vs. embedded solutions.
