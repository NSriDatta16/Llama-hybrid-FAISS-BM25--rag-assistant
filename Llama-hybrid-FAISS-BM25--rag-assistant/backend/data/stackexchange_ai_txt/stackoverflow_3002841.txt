[site]: stackoverflow
[post_id]: 3002841
[parent_id]: 
[tags]: 
Mongo Map Reduce first time

First time Map/Reduce user here, and using MongoDB. I have a lot of page visit data which I'd like to make some sense of by using Map/Reduce. Below is basically what I want to do, but as a total beginner a Map/Reduce, I think this is above my knowledge! Go through all the pages with visits in the last 30 days, and where external = true. Then for each page, find all visits Group all visits by referral location For each referral location, calculate how many then went to visit a page which has a certain "type" and also has a certain word in the "tags". The database and collection are organised as $mongo->dbname->visits A sample document is: {"url": "www.example.com", "type": "a", "refer": {"external": true, "domain": "twitter.com", "url": "http://www.twitter.com/page"}, "page": "1235", "user": "1232", "time": 1234567890} And then I want to find documents of type B with a certain tag. {"url": "www.example.com", "type": "b", "page": "745", "user": "1232", "time": 1234567890, "tags": {"a", "b", "c"}} I'm using the normal Mongo PHP extension if that has an impact.
