[site]: stackoverflow
[post_id]: 5454020
[parent_id]: 
[tags]: 
Linq to Sql - FK not being generated when creating database

Can anyone help me with the reason that a foreign key between table Track and table TrackArtist is not being generated when using the DataContext.CreateDatabase() function to create my database based on my entities? My tables/columns generate fine, but my relationship is not being generated as a FK constraint. I'm trying to create a FK between the tables so that the TrackArtist table can be a 'lookup' table for the Track table. [Table(Name="Track")] public class Track { [Column (IsPrimaryKey=true, IsDbGenerated=true, AutoSync=AutoSync.OnInsert)] public int Id { get; set; } [Column] private int TrackArtistId {get; set;} private EntityRef _trackArtist; [Association(Name="FK_Track_TrackArtist", ThisKey = "TrackArtistId", OtherKey="Id", Storage = "_trackArtist")] public TrackArtist TrackArtist { get { return this._trackArtist.Entity; } set { this._trackArtist.Entity = value; TrackArtistId = value.Id; } } [Column (CanBeNull=false)] public string Description { get; set; } } [Table(Name="TrackArtist")] public class TrackArtist { [Column(IsPrimaryKey=true, IsDbGenerated=true, AutoSync=AutoSync.OnInsert)] internal int Id { get; set; } [Column (CanBeNull=false)] public string Name { get; set; } }
