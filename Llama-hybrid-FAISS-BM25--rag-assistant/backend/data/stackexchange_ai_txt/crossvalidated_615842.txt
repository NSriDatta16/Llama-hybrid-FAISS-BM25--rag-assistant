[site]: crossvalidated
[post_id]: 615842
[parent_id]: 
[tags]: 
Generalized Difference in Differences model: time*group interaction contradicts lift

I've constructed a Bayesian Generalized Difference in Differences model. I model an intercept as well as three coefficients; one for treatment_group assignment, one for post-start period, and one for the interaction of treatment_group assignment and post_start period (aka exposure.) First, I'd like to validate that I've done this appropriately. And second, I have a question below about the output. Namely, I'm curious how my lift can be positive but my interaction term could be negative? Note that, pre-experiment, the control group had a lower rate (K/N) than the treatment group but post experiment, the control group had a higher rate. So it appears that the time period effect might have been stronger for the control group than the treatment group. I understand that GDD is designed for this use case. But I'm also confused how it could handle this when there are no observations of the treatment group without exposure during the post-start period. bayesian_model = """ // GDD data { int N; int treatment_group[N]; int post_start[N]; int successes[N]; int trials[N]; } parameters { real alpha; real beta_treatment_group; real beta_post_start; real gamma_exposure; } model { // priors alpha ~ normal(0, 10); beta_treatment_group ~ normal(0, 10); beta_post_start ~ normal(0, 10); gamma_exposure ~ normal(0, 10); // likelihood for (i in 1:N) { successes[i] ~ binomial_logit(trials[i], alpha +treatment_group[i]*beta_treatment_group +post_start[i]*beta_post_start +treatment_group[i]*post_start[i]*gamma_exposure); } } generated quantities { real lift; lift = inv_logit(alpha + beta_treatment_group + beta_post_start + gamma_exposure) - inv_logit(alpha + beta_post_start); } And here is the output of the sampler mean sd hdi_3% hdi_97% mcse_mean mcse_sd ess_bulk ess_tail r_hat alpha 1.135 0.038 1.064 1.206 0.001 0.001 1464.0 1985.0 1.0 beta_treatment_group 0.209 0.060 0.102 0.322 0.002 0.001 1499.0 1847.0 1.0 beta_post_start 0.252 0.052 0.155 0.348 0.001 0.001 1541.0 1931.0 1.0 gamma_exposure -0.168 0.081 -0.311 -0.008 0.002 0.001 1655.0 1998.0 1.0 lift 0.007 0.009 -0.010 0.022 0.000 0.000 3656.0 3211.0 1.0 My question is: How can I have a negative interaction term (treatment_group * post_start) gamma exposure but a positive lift? Have I computed lift wrong? Edit : In retrospect my original lift computation deviates from the traditional DiD lift computation and might not be reliable. Here is a new attempt, which I believe tis closer to the mark if not accurate- but would still appreciate feedback. generated quantities { real pre_diff; real post_diff; real lift; pre_diff = inv_logit(alpha + beta_treatment_group) - inv_logit(alpha); post_diff = inv_logit(alpha + beta_treatment_group + beta_post_start + gamma_exposure) - inv_logit(alpha + beta_post_start); lift = post_diff - pre_diff; } The lift is now negative and does not contradict the exposure coefficient.
