[site]: stackoverflow
[post_id]: 1126611
[parent_id]: 804260
[tags]: 
It looks like you have an Entity-Attribute-Value design in your IngredientProperties table. These kinds of designs can be downright dangerous if you're not ludicrously meticulous when creating your constraints. From what you've told about the problem at hand so far, you are free to change the schema, and you haven't specified a need to support arbitrary properties. If the list of properties is, indeed, pre-defined and will rarely change, I would turn them into columns, for a schema that would look something like this, taking some liberties with style: CREATE TABLE Ingredients( ProductID int IDENTITY NOT NULL PRIMARY KEY, SerialNum varchar(15) NOT NULL UNIQUE, Opacity int, Density int ); CREATE TABLE Ingredients( IngredientID int IDENTITY NOT NULL PRIMARY KEY, ProductID int NOT NULL FOREIGN KEY REFERENCES Products (ProductID), SerialNum varchar(15) NOT NULL UNIQUE, Price money NOT NULL, Opacity int, Density int ); This does not, of course, answer your question directly. Instead, it makes the problem go away. If the assumptions outlined above are correct, this should meet your needs, and be much more pleasant to work with.
