[site]: stackoverflow
[post_id]: 2680517
[parent_id]: 
[tags]: 
Need help on nested loop of queries in php and mysql?

I am trying to get do this: 1000000){ $good_customer += 1; } } } This is just an example. I am testing on localhost, for single user, it returns very fast. But when I try 1000, it takes forever, not even mentioned 40k users. Anyway to optimise/improve this code? EDIT: By the way, each of the others 20 tables has ~20 - 40k records EDIT2: Okay, drop the "money spend" idea. This is my current structures: user table => user is PK logs_week_1 table => user is FK. logs_week_2 table => user is FK logs_week_3 table => user is FK ... will have more logs tables in future. I want to find the "average time" they spend on my site which the time stored in each of the logs tables. So you guys were saying, storing the logs weekly is a bad idea? I should merge into one table?
