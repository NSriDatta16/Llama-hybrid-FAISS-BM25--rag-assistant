[site]: stackoverflow
[post_id]: 3588441
[parent_id]: 3423474
[tags]: 
The general structure seems sound. #pragma comment(linker, "/section:ASEG,RWS") RWS might need to be rws I'd strip down CBTProc so that you just log to file for the moment on every minmax, this would allow you to see that your dll has been injected properly. WM_USER is ment to be used within a single app not across apps (though you can get away with it). Consider RegisterWindowMessage() If the injected App is a lower priv level you may need to force your recieving app to allow contact from the lower priv app using ChangeWindowMessageFilter Also might try also hooking WH_CALLWNDPROC, WH_GETMESSAGE to see if you can get other messages through. Your window will also be hooked, make sure you don't get into a message sending loop. You are using SendMessage to forward the message, it will cause the message pump of the app to block, if that app is also your own processing the message you will lock. indllmain you could use outputdebug to log what apps the dll is being loaded into
