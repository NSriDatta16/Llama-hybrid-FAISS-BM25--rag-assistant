[site]: stackoverflow
[post_id]: 5575313
[parent_id]: 
[tags]: 
selection and site search in chrome extension II

follow-up to this . I'm almost there. But there's one problem. When i enter sites at options page and click save button, contextmenu items are not updated. in order to replace them with new ones i have to reload extension!! How do i fix this?? maybe i must use remove or update Extension API methods?? How?? my code now: manifest.json: { "name": "Context Site Search", "version" : "0.0.0.1", "background_page" : "bg.html", "options_page": "options.html", "permissions" : [ "tabs", "contextMenus", "http://www.google.com" ] } options.html function save() { // save button click event handler var nodes = document.querySelectorAll("input[type=text]"); for (var i=0; i background.html: var ar = JSON.parse(localStorage.getItem("arr")); for (var i in ar) { chrome.contextMenus.create({ "title": "find ' %s' Ð² "+ ar[i], "contexts": [ "selection"], "onclick" : (function(element){ return function(info, tab) { var baseUrl = "http://www.google.com/search?q=site%3A"; if (info.selectionText) { baseUrl += element + "&q="+ encodeURI(info.selectionText); chrome.tabs.create({"url": baseUrl}); } } })(ar[i]) }); } Thanks in advance!!
