[site]: crossvalidated
[post_id]: 546579
[parent_id]: 
[tags]: 
How many orders will be placed on average until stock runs out, given a probability that the customer will find the item they want?

Let there be 500 units of stock $s$ of diverse items in a store. Customers arrive one by one and, for every given item, there is a likelihood $m$ of 5% that it is precisely the item that the customer wants, in which case the customer will take it and it will not be replenished. In the beginning, the stock is very high, so the customer will most likely find what they want. As stock runs low, it will be less and less likely that the customer finds the right item, given by the following formula: $p = 1 - (1 - m)^n$ Where $p$ is the likelihood of a successful purchase, $n$ is the number of items left, and $m$ is the probability of any given item being one the customer wants. Q: Is there a distribution that can describe the number of customers $c$ that need to go through the store until the stock runs out? I simulated this process 60 times for different likelihoods and stock levels. I replaced some of the formulas in simulation #1 so you can see the logic: Under test is the customer number $c$ that bought the last item, for each simulation. $c$ will obviously be larger or equal to $s$ . One thing I noticed is that for a large enough $s$ , the average value of $c - s$ will stabilize around a value and is independent of $s$ . I've recorded average results of $c-s$ for different values of $m$ for a large enough $s$ and the results look as follows: The result fits a power law so smoothly that I'm confident that there is a formula that describes this relationship. This exercise is similar to a hypergeometric distribution, but the process is not the same.
