[site]: stackoverflow
[post_id]: 4291085
[parent_id]: 4291051
[tags]: 
The $_SERVER array does not use the same keys as the raw headers. You might try something like this: $pass_headers = array( 'Host' => 'HTTP_HOST', 'Accept' => 'HTTP_ACCEPT', 'Accept-Charset' => 'HTTP_ACCEPT_CHARSET', 'Accept-Encoding' => 'HTTP_ACCEPT_ENCODING', 'Accept-Language' => 'HTTP_ACCEPT_LANGUAGE', 'Connection' => 'HTTP_CONNECTION', 'Referer' => 'HTTP_REFERER', 'User-Agent' => 'HTTP_USER_AGENT', ); $curl_request_headers = array(); foreach($pass_headers as $header_key => $server_key) { $curl_request_headers[] = $header_key.': '.$_SERVER[$server_key]; }
