[site]: stackoverflow
[post_id]: 5061541
[parent_id]: 5058940
[tags]: 
You can get a String representation of an EntityProxyId by calling RequestFactory.getHistoryToken() . This can be converted back to an EntityProxyId by calling RequestFactory.getProxyId() . In RequestFactory parlance, the id of a newly-created entity is "ephemeral." An ephemeral id is only valid within the instance of the RequestFactory that created the RequestContext used to create the EntityProxy . When the RequestContext is fired and all method invocations have been processed by the server, the SimpleRequestProcessor will check the payload's ephemeral objects and if they have been persisted, the resulting payload will update the client's state with the value returned from the getId() method. The object identity and equality of an EntityProxyId won`t change when it switches from the ephemeral to persistent state, but its associated history token will change: OrganizationProxy proxy = context.create(OrganizationProxy.class); final EntityProxyId id = proxy.stable(); String ephemeralString = factory.getHistoryToken(id); context.persist().using(proxy).fire(new Receiver () { public void onSuccess(Void response) { String persistedString = factory.getHistoryToken(id); assert !ephemeralString.equals(persistedString); assert factory.getProxyId(ephemeral) == factory.getProxyId(persistedString); MyRequestFactory otherFactory = GWT.create(MyRequestFactory.class); assert factory.getProxyId(ephemeral) != otherFactory.getProxyId(ephemeral); // Throws IllegalArgumentException otherFactory.find(otherFactory.getProxyId(ephemeral)); } }); In the above demo, once you have persistedString , you can stash the value in a cookie or some other client-side persistence mechanism and re-create the id later to be used with a call to RequestFactory.find() . The second and third assertions demonstrate the "scope" of an ephemeral id. The ephemeral and persisted forms can be used interchangeably with the RequestFactory that created the object. If an ephemeral id is used with a newly-created instance of a RequestFactory (which would happen if an ephemeral id were bookmarked as a History token), you'll get an EntityProxyId , but it can't really be used for any useful purpose.
