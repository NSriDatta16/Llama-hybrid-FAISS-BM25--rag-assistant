[site]: stackoverflow
[post_id]: 927759
[parent_id]: 
[tags]: 
Really odd (mod)_python problem

this one is hard to explain! I am writing a python application to be ran through mod_python. At each request, the returned output differs, even though the logic is 'fixed'. I have two classes, classA and classB . Such that: class ClassA: def page(self, req): req.write("In classA page") objB = ClassB() objB.methodB(req) req.write("End of page") class ClassB: def methodB(self, req): req.write("In methodB") return None Which is a heavily snipped version of what I have. But the stuff I have snipped doesn't change the control flow. There is only one place where MethodB() is called. That is from __init__() in classA . You would expect the following output: In classA __init__ In methodB End of __init__ However, seemingly randomly either get the above correct output or: In classA __init__ In methodB End of __init__ In methodB The stacktrace shows that methodB is being called the second time from __init__ . methodB should only be called once. If it is called a second time, you would expect that the other logic in __init__ be done twice too. But nothing before or after methodB executes and there is no recursion. I wouldn't usually resort to using SO for my debugging, but I have been scratching my head for a while on this. Version: 2.5.2 r252:60911 thanks in advance Edit Some clues that the problem might be elsewhere .... The above changes to the snippet result in the weird output 1 in every 250 or so hits. Which is odd. The more output prior to printing "In methodB", the more it is printed subsequently incorrectly ... on average, not in direct ratio. It even does it in Lynx. Im going back to the drawing board. :( In response to answer It seems mod_python and Apache are having marital problems. A restart and things are fine for a few requests. Then it all goes increasingly pear-shaped. When issuing /etc/rc.d/init.d/httpd stop It takes a weirdly long amount of time. Also RAM is getting eaten up with requests. I am not that familiar with Apache's internals but it feels like (thanks to Nadia) that threads are staying alive and randomly butting in on requests. Which is plain bonkers. Moving to mod_wsgi as S.Lott and Nadia suggested thanks again!!
