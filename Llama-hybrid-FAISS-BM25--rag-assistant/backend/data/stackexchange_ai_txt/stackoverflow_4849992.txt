[site]: stackoverflow
[post_id]: 4849992
[parent_id]: 1289287
[tags]: 
To answer 2. I have had good results with markdown and GeSHI. I have no experience with Texy. What you must pay very good attention to, is the combination of filter-format settings, filter-format ordering, filter-format permissions. For your problem, I would suggest the following input formats. Basic HTML ( default ). Used for comments and so on. Markdown (For editors, does what you describe) Raw HTML (no filtering at all usefull for webmasters etc.) Then configure them as follows, in this order: Basic HTML: URL filter HTML filter. only allow inline styles em, strong, a . Maybe a very few more, but not br, p and such. linebreak filter. Markdown HTML filter: strips all tags, except the "code" tags for GESHI. Markdown filter. Geshi filter. This implies that markdown has no limits: people can use markdown to creat H1 tags, for example. If you want to limit the abilities in Markdown, you must place the HTML filter after the markdown filter. In that set-up, markdown will convert to full HTML, then the HTML-filters will strip the not-allowed filters. Since GeSHI requires non-standard code tags, you will want to let them fall-trough. Since GeSHI adds a bucketload of spans, divs and color-coded style-elements, you will always need to put this filter after the HTML-filter, to avoid these spans- etc to be removed again
