[site]: stackoverflow
[post_id]: 1420932
[parent_id]: 1420887
[tags]: 
As you have stated the problem, no you cannot do better that the solution you have proposed. However, if the distribution of the zeros in the numbers is skewed, you may be able to get better compression on average by using Huffman codes or a similar technique to represent the counts. Another possibility is to use delta coding if the zero distribution is strongly correlated from one 64bit value to the next. In either case, you will need to use a variable number of bits to represent the numbers of zeros. And if your assumptions about skewedness or correlation turn out to be false, you may end up using more bits on average than if you had done it the simple way.
