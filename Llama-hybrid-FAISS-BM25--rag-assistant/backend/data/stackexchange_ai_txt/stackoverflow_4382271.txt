[site]: stackoverflow
[post_id]: 4382271
[parent_id]: 4382219
[tags]: 
Your web server can not see the files outside the DocRoot, so it can not serve the files via the browser with direct links. You need to print their contents into the browser with readfile() with the headers properly set. To make this work, you need to change the configuration in indexer.php: // this way it works with accentuated letters in Windows $Root = utf8_decode("G:\test"); // define the directory the index should be created for (can also be located outside the webserver root) $AllowDownload = TRUE; // enclose file items with the anchor-tag (only makes sense when the files are in the webserver root) // you need to place download.php in the same directory as indexer.php $WebServerPath = dirname($_SERVER['SCRIPT_NAME']) . "/download.php?path="; // path where the indexed files can be accessed via a http URL (only required when $AllowDownload is TRUE) And you have to place a new file called download.php in the same directory as indexer.php , with this content: 0) die("Download from outside of the specified root directory is not allowed!"); } function forceDownload($path) { $realpath = realpath($path); if (!is_readable($realpath)) die("File is not readable: " . $path); $savename = (basename($path)); header("Pragmaes: 0"); header("Cache-Control: must-revalidate, post-check=0, pre-check=0"); header("Cache-Control: private", false); header("Content-type: application/force-download"); header("Content-Transfer-Encoding: Binary"); header("Content-length: " . filesize($path)); header("Content-disposition: attachment; filename=\"$savename\""); readfile("$path"); exit; } if (!isset($_GET['path'])) die("Path not specified!"); $fullPath = $Root . $_GET['path']; checkFileIsInsideRootDirectory($fullPath, $Root); forceDownload($fullPath);
