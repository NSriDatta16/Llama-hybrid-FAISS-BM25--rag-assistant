[site]: crossvalidated
[post_id]: 50466
[parent_id]: 
[tags]: 
Is there a more elegent solution for exponentially weighted-mean in R?

OK so I have a working code to do what I want but I am new to R and feel like my solution is very clunky and there is likely a more efficient way to get the same result. I have a set of data that contain records with a date, city, and quality score. For each city and each date, I want to create an exponentially weighted-average of that city's prior quality scores. (The first date for each city has no previous data, so it will always be NA.) My solution expands the original dataframe and calculates the means in a single pass. It does work but I view it as a bit inefficient and expanding the dataframe could be problematic with large data. As I am new to R, I would love to hear other approaches that get the same end result. Here is my code: #load in the data mydata mydata_expanded[,6],] mydata_expanded
