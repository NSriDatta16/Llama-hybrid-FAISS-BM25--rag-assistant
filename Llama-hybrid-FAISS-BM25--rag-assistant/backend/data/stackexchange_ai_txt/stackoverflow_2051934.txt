[site]: stackoverflow
[post_id]: 2051934
[parent_id]: 
[tags]: 
WPF Popup Control - Find X, Y Coordinates

I'm trying to get the X,Y coordinates of a popup control. I have tried: VisualTreeHelper.GetOffset(Popup); but the vector returned always contains (0,0) for X and Y. The parent of the popup is the layout root, which is a grid. The CustomPopupPlacementCallback also always returns 0,0 for it's Point parameter. The goal is to allow the user to drag the popup anywhere on the screen. I was going to try and accomplish this by getting the current popup and mouse position, and moving the popup in the same direction of the mouse moves. --------------------Update-------------------- Chris Nicol, I have tried your answer with the following code, but still receive 0,0 for rootPoint: Xaml: Code Behind: public partial class MainWindow : Window { public MainWindow() { this.InitializeComponent(); // Insert code required on object creation below this point. } private void Button_Click(object sender, RoutedEventArgs e) { GeneralTransform transform = Popup.TransformToAncestor(LayoutRoot); Point rootPoint = transform.Transform(new Point(0, 0)); } }
