[site]: stackoverflow
[post_id]: 2275944
[parent_id]: 2275887
[tags]: 
Are you checking the value of entity.Agent ? I suspect that the null comes from FirstOrDefault() when it encounters a query that returns no records. Even if the agent object has all of its values set, that won't matter if entity doesn't have a reference to the agent object.
