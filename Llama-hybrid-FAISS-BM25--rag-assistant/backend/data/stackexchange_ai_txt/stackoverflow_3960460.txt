[site]: stackoverflow
[post_id]: 3960460
[parent_id]: 
[tags]: 
How can I make my AS3/Air code better?

Hello everyone this is my little Frankenstein code, don't make fun of it, it works! So you would pass in the table name and a data as an Associative array which are objects. I'm pretty sure this is not good code as I was and still am learning ActionScript. So what can I change or how would you guys make it better? public function save(table:String,data:Object):void { var conn:SQLConnection = new SQLConnection(); var folder:File = File.applicationStorageDirectory; var dbFile:File = folder.resolvePath("task.db"); conn.open(dbFile); var stat:SQLStatement=new SQLStatement(); stat.sqlConnection=conn; //make fields and values var fields:String=""; var values:String=""; for(var sRole:String in data) { fields=fields+sRole+",:"; stat.parameters[":"+sRole]=data[sRole]; } //trim off white space var s:String=new String(fields); var cleanString:String=s.slice( 0, -2 ); //over here we add : infront of the values I forget why var find:RegExp=/:/g; var mymyField:String=new String(cleanString.replace(find,"")); cleanString=":"+cleanString; var SQLFields:String=mymyField; var SQLValues:String=cleanString; stat.text="INSERT INTO "+table+" ("+SQLFields+")VALUES("+SQLValues+")"; stat.execute(); }
