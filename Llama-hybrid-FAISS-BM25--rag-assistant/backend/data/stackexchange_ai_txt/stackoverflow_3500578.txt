[site]: stackoverflow
[post_id]: 3500578
[parent_id]: 3500545
[tags]: 
If all the lines have identical formatting (including whitespace), something as simple as this will do the trick: awk '{print $0, ++a[$0]}' I am not sure about the performance on GB size files, since this will need to store a number per unique row. If your data is sorted you can get away with a fixed amount of storage: awk '{ if ($0 != prev) n = 0; print $0, ++n; prev = $0 }'
