[site]: stackoverflow
[post_id]: 4470223
[parent_id]: 4470121
[tags]: 
If you don't want to copy/paste or reimplement chunks of the lsof code, and it doesn't build any useful libraries you could leverage, you can still open a pipe to an lsof process and peruse its output.
