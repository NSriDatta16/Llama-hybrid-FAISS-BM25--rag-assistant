[site]: stackoverflow
[post_id]: 3704969
[parent_id]: 3704717
[tags]: 
Using an answer given to a similar problem as a base, I could successfully solve this by creating a small helpers.py file to do act as a wrapper around transform.create_foreign_key : from google.appengine.api import datastore def create_foreign_key(kind, key_is_id=False): def generate_foreign_key_lambda(value): if value is None: return None if key_is_id: value = int(value) try: return datastore.Key.from_path(kind, value) except: return None return generate_foreign_key_lambda Once that file is in place in the same directory as your yaml bolk upload configuration file ( bulkloader.yaml ), you add this to that file: python_preamble: - (...) - import: helpers transformers: - kind: Group connector: csv connector_options: property_map: - property: __key__ external_name: key export_transform: transform.key_id_or_name_as_string - property: name external_name: name - property: section external_name: section import_transform: helpers.create_foreign_key('Group') # ^^^^^^^ we use the wrapper instead export_transform: transform.key_id_or_name_as_string With those changes, the bulk upload is now working correctly. Before using this, you should definitely modify the catch all except , and replace it with may be except BadValueError .
