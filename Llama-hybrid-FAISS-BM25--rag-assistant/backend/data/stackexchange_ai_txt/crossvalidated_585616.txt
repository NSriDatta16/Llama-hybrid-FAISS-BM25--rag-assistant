[site]: crossvalidated
[post_id]: 585616
[parent_id]: 
[tags]: 
Generalized additive models (GAMs) for time series with repeated measures - big data

I've spent countless hours reading up on the wonders of GAMs and believe the method is a great approach for my data and research questions: was the COVID-19 pandemic associated with increased hospital charges? The unit of analysis is at the hospital level (n ~ 5,000). I would like to determine if charges in 2020 were an anomaly. I'm using the mgcv package in R. The GAM I have so far is: gam_mod8 where occ = occupancy (continuous), discharge = number of discharges (cont.), out_rev is outpatient revenue (cont.), HHI = measure of competition (cont.), year is the year of the data (2010-2020), and prvdr_num is the identifier for the hospital. When I run this model on the full dataset, after several hours, R returns that the model has too many coefficients; however, it works on a random sample (n=1,000) of observations (rows). Any thoughts on how to best analyze the data with the research question in mind would be much appreciated.
