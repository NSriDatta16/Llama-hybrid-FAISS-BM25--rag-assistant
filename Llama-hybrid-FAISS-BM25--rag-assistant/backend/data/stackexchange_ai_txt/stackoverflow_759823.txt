[site]: stackoverflow
[post_id]: 759823
[parent_id]: 
[tags]: 
Delphi - How do I fix this strange TGrid behaviour?

Delphi 2007. I have a TGrid with more rows than will fit on the screen, and the height of the grid is such that there is a partially drawn row at the bottom. When I click on this partial row, it jumps up to be fully visible (via a procedure called 'ClampInView' in Grids.pas). But it doesn't stop. Since the mouse is now over a new partially drawn row, that jumps up too. The net effect is that clicking on the partially drawn row starts selecting cells in a vertical column, spinning all the way to the bottom (or until you release the mouse). I have replicated this on a fresh winforms project with just a single grid with 100 rows, and no code, so I'm pretty sure it's not something I'm doing in code wrong. It is bad for me because the form I have in real code has drag and drop type behaviour, so clicking and releasing ~0.1 seconds later on the partial row will pick up the item in the cell and drop it about 50 rows lower. This is definitely not what you expect to happen when you click on a cell. Any suggestions how to fix/work around this?
