[site]: stackoverflow
[post_id]: 1081350
[parent_id]: 1081342
[tags]: 
Why store them in a map at all? Is this so you have fast lookup to see if any given number is a prime? That would make sense and give you fast access. The cost of adding them can be mitigated (but not eliminated) by setting the initial capacity of the TreeMap. This will still incur tree rebalancing costs however. An alternative storage might be simply to sort them and put them in an array. This will give you O(log n) lookup with a bisection search but will make getting ranges trivial. You can use Arrays.binarySearch() .
