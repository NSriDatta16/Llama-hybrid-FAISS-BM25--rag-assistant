[site]: stackoverflow
[post_id]: 5272940
[parent_id]: 
[tags]: 
Receiving binary data through http

I am currently working on a server which will receive images uploaded from the client. The client can send the image through a http form as shown below. On my server side, I followed the beej tutorial on creating a socket and listening for connection. Upon uploading the image from the client side, this is what my server read from the buffer: POST / HTTP/1.1 Host: localhost:7074 User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.15) Gecko/20110303 Ubuntu/10.10 (maverick) Firefox/3.6.15 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: en-us,en;q=0.5 Accept-Encoding: gzip,deflate Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7 Keep-Alive: 115 Connection: keep-alive Content-Type: multipart/form-data; boundary=---------------------------13305569846927610321194789130 Content-Length: 3273 -----------------------------13305569846927610321194789130 Content-Disposition: form-data; name="myfile"; filename="0-adidas-logo.jpg" Content-Type: image/jpeg ���� From the received data, I presumed that the beginning portion is the http headers and the actual binary data for my image is after the line "Content-Type: image/jpeg". So I printed the rest of the buf to a file and save it as a jpeg file, but when I open it up, I get the error "Improper call to jpeg library in state 201. So I was wondering if there is anything wrong with the steps that I had mentioned earlier, as I am struck at this stage for quite some time.
