[site]: crossvalidated
[post_id]: 331268
[parent_id]: 331259
[tags]: 
This doesn't seem to be a dimensionality-reduction problem. The problem that I see is with your sampling method. To build your training set, as you said, you have sampled your data in such a way that $x_1$ and $x_2$ have different (opposite) correlations, compared to the test set. This is not a reliable (good representative) training set and your learning model won't be able to perform well on the test set, no matter how well your PCA managed to find the principal components. My guess for how to correct this is that perhaps you made a minor programming mistake when you divided your data into test and training, since $x_1$ and $x_2$ are still highly correlated, but oppositely. You can make sure by comparing their magnitude of correlation. If they are equal, then try to find the minor mistake.
