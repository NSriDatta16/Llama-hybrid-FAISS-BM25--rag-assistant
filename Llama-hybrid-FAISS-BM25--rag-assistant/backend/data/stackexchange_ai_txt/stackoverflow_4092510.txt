[site]: stackoverflow
[post_id]: 4092510
[parent_id]: 4092302
[tags]: 
You can execute multiple separate commands using && . Successive commands will only be executed if the previous one succeeds (i.e., errorlevel 0). If you want to force all commands to execute, just use a single & . e.g., printing "foo" and "bar" then pause %comspec% /c echo foo && echo bar && pause However in your case, when using runas , you need to wrap the entire command and command arguments in double quotes. Any double quotes in the arguments need to be escaped by a backslash. Other backslashes should be interpreted correctly without needing escaping. To run as another user with the variables loaded printing a greeting, you can do the following: %SystemRoot%\system32\runas.exe /netonly /user:domain\teamcityagent "%comspec% /k \"C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\vcvarsall.bat\" x86 && echo Hello %USERDOMAIN%\%USERNAME%"
