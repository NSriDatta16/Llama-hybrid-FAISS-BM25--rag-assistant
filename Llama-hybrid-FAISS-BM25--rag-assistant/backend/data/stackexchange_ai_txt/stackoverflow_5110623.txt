[site]: stackoverflow
[post_id]: 5110623
[parent_id]: 
[tags]: 
PHP: Modifying array with unknown structure at runtime; what is the most elegant solution?

PROBLEM I have a function that takes in a nested array where the structure and nesting of the array is unknown at run-time. All that is known is some of the target fieldnames and desired values of some of the leafs. QUESTIONS 1) I am hoping to modify this unknown structure and still have the code be readable and easily understood by fellow programmers. What (if any) solution will allow me to do things like this in PHP? // Pseudo-code for things I would like to be able to do // this is kinda like the same thing as XPATH, but for native PHP array // find *every* fname with value of "Brad" and change it to "Brian" $mydata->find_all('*:fname')->where_value_eq('Brad')->set_equal_to('Brian'); // find *the first* fave_color and set it to "Green" $mydata->find('*:fave_color')->get(0)->set_equal_to('Green'); 2) If there is nothing out there that will let me do this, is there something, anything, that at least comes close to the spirit of what I am hoping to accomplish here? SAMPLE ARRAY $mydata = array( 'people' => array( array('fname'=>'Alice'), array('fname'=>'Brad'), array('fname'=>'Chris'), ), 'animals' => array( array('fname'=>'Dino'), array('fname'=>'Lassie'), array('fname'=>'Brad'), ), 'settings' => array( 'user_prefs'=>array( 'localhost'=>array( 'fave_color'=>'blue', ), ), ), 'places' => array( array('state'=>'New york', 'cities'=>array( 'name'=>'Albany', 'name'=>'Buffalo', 'name'=>'Corning', ), 'state'=>'California', 'cities'=>array( 'name'=>'Anaheim', 'name'=>'Bakersfield', 'name'=>'Carlsbad', ), ), ), );
