[site]: stackoverflow
[post_id]: 4586077
[parent_id]: 4586002
[tags]: 
There is no safe and portable way to make that sort of thing work. You might be able to find some system-specific bits that are always a known value (say, the most significant n bits), but that's an extremely fragile and dangerous thing to rely on. You can't tell whether a pointer is "marked" or not unless some of the bits in the pointer have known values in the first place. A much better way to do this is to store an identifier in the structure the pointer points to.
