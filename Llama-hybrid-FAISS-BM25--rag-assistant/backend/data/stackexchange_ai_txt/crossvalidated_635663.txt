[site]: crossvalidated
[post_id]: 635663
[parent_id]: 
[tags]: 
Causal Inference When Treatment and Outcome Are Aggregated At Different Levels

Consider a scenario where a treatment is a U.S. state-level policy (some states adopted the policy while others did not) and the outcome are individual-level responses to a survey across American states. To make this scenario less abstract, let's say that the policy is gun-reform legislation and the outcome is individual perceptions of safety. As a result, treatment and outcome are aggregated at different levels. Immediately, I can see an issue with this approach as it relates to identifying confounders to adjust for. For example, ideology seems like a clear confounder in this case, but ideology aggregated in what way? The ideological make-up of the state will impact the probability of adopting gun-reform legislation and the ideology of an individual will impact their perception of safety, but the ideology of a state and the ideology of an individual are two separate (but related) concepts. Also, if this is the case, is "ideology" even a confounder? Naively, I can say that: Gun Reform $\leftarrow$ Ideology $\rightarrow$ Safety Perception But this isn't really true, is it? Because, what I'm actually assuming are two separate measures of ideology entirely: Gun Reform $\leftarrow$ State's Ideological Makeup Safety Perception $\leftarrow$ Individual's Ideology How might one handle situations such as these, where problems seem to be driven solely by the different level of aggregation between treatment and outcome? One obvious course might be to average the responses of the outcome and collapse to the state-level, but this has a serious drawback of severely reducing N. Is there any way to move forward without re-aggregating?
