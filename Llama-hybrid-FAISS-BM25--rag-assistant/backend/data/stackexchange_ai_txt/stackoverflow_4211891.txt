[site]: stackoverflow
[post_id]: 4211891
[parent_id]: 
[tags]: 
Is there an easy way to route IP packets from a user space Windows app to the network?

I am working on a project that involves a usb device, through which we will receive ip packets from a remote pc. We assign the remote pc its IP Address. I have been experimenting with sending raw ip packets via several methods: 1 - raw sockets: ping works fine, problems sending tcp 2 - tun/tap W32: I managed to get this working enough to send pings out and get pings back to the phy ethernet device, but could not read them using ReadFile(...) on the driver guid. 3 - winpcap: ping works, out going tcp shows up on wireshark(so I assume it is leaving the pc), but i never get an ack to my syn. Im also worried that if I did get an ack the windows TCP stack would send a rst. Our goal is to be a transparent pass through from the client pc to the network. Client [device] WinPC IpNetwork Its possible that im going about this wrong, seems like this should be easier. I realize that windows is prob not the ideal OS for this, however I have no control over the OS. thanks in advance
