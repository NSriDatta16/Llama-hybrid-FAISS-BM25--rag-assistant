[site]: stackoverflow
[post_id]: 3251387
[parent_id]: 3246351
[tags]: 
You can't rely on form submission to preserve the exact character data you include in the value of a hidden field. I've had issues in the past with Firefox converting CRLF ( \r\n ) sequences into bare LFs, and your experience shows that Chrome's behaviour is similarly confusing. And it turns out, it's not really a bug. Remember that what you're supplying here is an HTML attribute value - strictly, the HTML 4 DTD defines the value attribute of the element as of type CDATA. The HTML spec has this to say about CDATA attribute values: User agents should interpret attribute values as follows: Replace character entities with characters, Ignore line feeds, Replace each carriage return or tab with a single space. User agents may ignore leading and trailing white space in CDATA attribute values (e.g., " myval " may be interpreted as "myval"). Authors should not declare attribute values with leading or trailing white space. So whitespace within the attribute value is subject to a number of user agent transformations - conforming browsers should apparently be discarding all your linefeeds, not only the trailing one - so Chrome's behaviour is indeed buggy, but in the opposite direction to the one you want. However, note that the browser is also expected to replace character entities with characters - which suggests you ought to be able to encode your CRs and LFs as &#13; and &#10; , and even spaces as &#32; , eliminating any actual whitespace characters from your value field altogether. However, browser compliance with these SGML parsing rules is, as you've found, patchy, so your mileage may certainly vary.
