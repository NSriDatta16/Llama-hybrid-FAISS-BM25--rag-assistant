[site]: stackoverflow
[post_id]: 5278444
[parent_id]: 
[tags]: 
Adding a custom command with the file name as a target

I'd like to do something like add_custom_command , with the output file name as a target in the generated makefile. Is there an elegant way of doing this? All the examples I've seen (such as the CMake FAQ re: latex ) use add_custom_command to tell how to generate the desired output file, and then add_custom_target to create a target. For example.: add_executable (hello hello.c) add_custom_command(OUTPUT hello.bin COMMAND objcopy --output-format=binary hello hello.bin DEPENDS hello COMMENT "objcopying hello to hello.bin") add_custom_target(bin ALL DEPENDS hello.bin) However, the target name in the generated makefile is then bin rather than hello.bin . Is there a way to make hello.bin itself a target in the generated makefile? Some solutions I've tried that don't work: Changing to: add_custom_target(hello.bin ALL DEPENDS hello.bin) results in a circular dependency in the makefile.
