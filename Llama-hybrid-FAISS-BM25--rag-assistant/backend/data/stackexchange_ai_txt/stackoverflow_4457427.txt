[site]: stackoverflow
[post_id]: 4457427
[parent_id]: 
[tags]: 
touchesBegan and touchesEnded detected on another subview

i really got stuck in a week about this case. i have a UIBarButtonItem inside UINavigationItem, the hierarchy is like this The BarButtonItem is a wrapper of segmentedControl. The UIBarbuttonitem and UIsegmentedControl are made programmatically, but the others are made in IB. in this case, i want to show a view after pressing or touching the barbuttonitem. In several thread i read in this forum, i knew that UIBarbuttonItem didn't inherit UIResponder, so i choose the NavigationBar to get the touch, and i define a frame for it. this is the code i made : -(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event{ navBar = self.navigationController.navigationBar; int index = _docSegmentedControl.selectedSegmentIndex; NSLog(@"index di touches began : %d", index); CGFloat x; if (index == 0) { x = 0.0; }else if (index == 1) { x = widthSegment + 1; }else if (index == 2) { x = 2*widthSegment + 1; }else if (index == 3) { x = 3*widthSegment+ 1; }else if (in dex == 4) { x = 4*widthSegment + 1; } CGRect frame = CGRectMake(x, 0.00, widthSegment, 46.00); UITouch *touch = [touches anyObject]; CGPoint gestureStartPoint = [touch locationInView:navBar]; NSLog(@"gesturestart : %f, %f", gestureStartPoint.x, gestureStartPoint.y); if (CGRectContainsPoint(frame, gestureStartPoint)) { [NSObject cancelPreviousPerformRequestsWithTarget:self selector:@selector(segmentItemTapped:) object:[self navBar]]; NSLog(@"cancel popover"); } } the navBar was declare in myViewController.h and i set it as an IBOutlet. -(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event{ int index = _docSegmentedControl.selectedSegmentIndex; NSLog(@"index di touches ended : %d", index); navBar = self.navigationController.navigationBar; CGFloat x; if (index == 0) { x = 0.0; }else if (index == 1) { x = widthSegment + 1; }else if (in dex == 2) { x = 2*widthSegment + 1; }else if (index == 3) { x = 3*widthSegment+ 1; }else if (index == 4) { x = 4*widthSegment + 1; } CGRect frame = CGRectMake(x, 0.00, widthSegment, 46.00); UITouch *touch = [touches anyObject]; CGPoint gestureLastPoint = [touch locationInView:navBar]; NSLog(@"lastPOint : %d", gestureLastPoint); if (CGRectContainsPoint(frame, gestureLastPoint)) { if (touch.tapCount touchesBegan and touchesEnded was detected when i tap at the toolbar, NOT in the navbar. i did implemented the hitTest method like this : - (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event { UIView *touchedView = [super hitTest:point withEvent:event]; NSSet* touches = [event allTouches]; // handle touches if you need return touchedView; } but it still nothing get better. Somebody can decribe why this is happen? Regards -Risma-
