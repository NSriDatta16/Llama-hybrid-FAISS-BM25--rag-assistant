[site]: stackoverflow
[post_id]: 1164019
[parent_id]: 1147180
[tags]: 
The normalization step suggested would be useful (to have a connection table for the many-to-many item-spell relation). A disadvantage of the denormalized version is that spells of items have an implicit ordering, we always have to deal with all of them, when for example checking if an item have a specific spell or not. However, the storage engine optimizes the long sql with the 5 identical subquery, it shouldn't cause performance problems. An alternative phrasing would be, using the SQL '99 standard 'with' clause : WITH spellids(entry) AS SELECT entry FROM research.spell SELECT COUNT(*) FROM items WHERE spellid_1 NOT IN spellids OR spellid_2 NOT IN spellids OR spellid_3 NOT IN spellids OR spellid_4 NOT IN spellids OR spellid_5 NOT IN spellids ; Not much shorter, and unfortunately MySQL does not support the 'with' clause (see this question ) yet.
