[site]: stackoverflow
[post_id]: 1000992
[parent_id]: 1000943
[tags]: 
WITH cal(m) AS ( SELECT 1 UNION ALL SELECT m + 1 FROM cal WHERE m DATEADD(minute, m, @start) AND timestamp This will select averages for all minutes inside a given hour, even those for which there are no records.
