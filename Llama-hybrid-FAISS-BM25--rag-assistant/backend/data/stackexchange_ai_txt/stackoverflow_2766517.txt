[site]: stackoverflow
[post_id]: 2766517
[parent_id]: 2453047
[tags]: 
If you don't want to copy the TDA code (It is LGPL, after all) you can also use the Attach API to get data in the standard format. As far as I know, the only JVM built-in code to do the dump is native code in the Attach agent. String selfName = ManagementFactory.getRuntimeMXBean().getName(); final int selfPid = Integer.valueOf(selfName.substring(0, selfName.indexOf('@'))); HotSpotVirtualMachine vm = (HotSpotVirtualMachine) VirtualMachine.attach(Integer.toString(selfPid)); InputStream sDump = vm.remoteDataDump(new Object[]{"-l"}); // lowercase L for lock dump The data dump will return the dump in a stream of character data.
