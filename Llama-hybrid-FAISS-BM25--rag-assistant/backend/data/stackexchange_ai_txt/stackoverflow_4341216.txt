[site]: stackoverflow
[post_id]: 4341216
[parent_id]: 
[tags]: 
How to find ancestor-or-self that is a child of an element with particular attribute?

I'm working with a very generic XML structure, where everything is an item (well everything relevant to this question anyway). Based on knowing the item element I'm currently on and the item element that is the parent of the node I'm looking for, I need to find an item. I have a working xpath, but it's fairly resource intensive and I'm looking for something more elegant and cheaper. The item key=a node is the parent of the element I'm looking for (though it's not actually a child of the document root) XML: The actual XML is much deeper and with far more branching. So for instance, if I'm on the item with key=g, e or f I need to return the item with key=e. If I'm on the item with key b,c or d I need to return the item with key=b. I'm using this xpath, which is working, but going up and then back down the ancestor-descendant axis seems a far longer trip than I need. current() /ancestor-or-self::item[@key='a'] /item[descendant-or-self::* = current()] Is there a simpler way of doing this, bearing in mind that I only know 1) the node I'm on and 2) the key attribute of the parent of the node I'm looking for? Just for detail's sake: The XML is Sitecore generated, I'm not actually using the current() function, I'm using the sc_currentitem parameter to set the start node I need to begin processing at. Thanks in advance.
