[site]: stackoverflow
[post_id]: 1095091
[parent_id]: 1095046
[tags]: 
This system is not using a database but instead its using multiple flat files. This sounds like a multi-user system. How are you handing concurrent access issues? Your answer to that will greatly influence anything we tell you here. Since you aren't doing anything special with your other files to handle concurrent access, what I would do is add a new folder under your main data folder specifically for document storage, and write your user files there. Additionally, you need to worry about name collisions. To handle that, I'd name each file there with by appending the date and username to the original file name and taking the md5 or sha1 hash of that string. Then add a file to your other data files to map the hash values to original file names for users.
