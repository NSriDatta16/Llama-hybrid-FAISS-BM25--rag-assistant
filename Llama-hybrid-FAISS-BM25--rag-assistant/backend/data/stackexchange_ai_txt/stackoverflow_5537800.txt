[site]: stackoverflow
[post_id]: 5537800
[parent_id]: 5537299
[tags]: 
I am a bit confused by this part: Session handler in it's turn generates the session id from the settings it got injected. And from there injects the session id and other settings relevant to the that storage service. You already said that the session handler is dependent on the storage service. It would be a bad idea for the storage service to also have some dependency on session handler, because then your initialization process is way more complex and error prone than it needs to be. So here's the question: what settings does the storage service need from the session handler? Can you remove any or all of these dependencies from the storage service? If so, you should do so. As a practical example: let's say the storage service supports storage of data as named blobs (which may be implemented as files, or as rows in a database table, or whatever else). You use a name dependent on the session id to store the session data. What you need to do is not tell the storage service what the session id is, but have the session handler remember it instead and provide that information to the storage service only whenever it uses storage functionality. In other words, try to keep your data grouped logically. Is there a specific problem that prevents you from doing so?
