[site]: stackoverflow
[post_id]: 4564828
[parent_id]: 
[tags]: 
SQL Modeling / Query Question

I currently have this database structure: One entry can have multiple items of the type "file", "text" and "url". Everyone of these items has exactly one corresponding item in either the texts, urls or files table - where data is stored. I need a query to efficiently select an entry with all its corresponding items and their data. So my first approach was someting like SELECT * FROM entries LEFT JOIN entries_items LEFT JOIN texts LEFT JOIN urls LEFT JOIN files and then loop through it and do the post processing in my application. But the thing is that its very unlikely that multiple items of different types exist. Its even a rare case that more then one item exists per entry. And in most cases it will be a file. But I need It anways... So not to scan all 3 tables for eveyr item I thought I could do something like case/switch and scan the corresponding table based on the value of "type" in entries_items. But I couldn't get it working. I also thought about making the case/switch logic in the application, but then I would have multiple queries which would probabably be slower as the mysql server will be external. I can also change the structure if you have a better approach! I also having all the fields of "texts", "urls" and "files" in side the table entries_items, as its only a 1:1 relation and just have everything that is not needed null. What would be the pros/cons of that? I think it needs more storage space and i cant do my cosntraints as i have them now. Everything needs also to be null... Well I am open to all sorts of ideas. The application is not written yet, so I can basically change whatever I like.
