[site]: stackoverflow
[post_id]: 1594052
[parent_id]: 
[tags]: 
Writing an XML file using python

I have to write an xml file using python standard modules (not using elementtree, lxml etc) The metadata is a SAML identity provider metadata and is of the form - -----BEGIN CERTIFICATE----- MIIDnjCCAoagAwIBAgIBATANBgkqhkiG9w0BAQUFADBUMQswCQYDVQQGEwJGUjEP MA0GA1UECBMGRnJhbmNlMQ4wDAYDVQQHEwVQYXJpczETMBEGA1UEChMKRW50cm91 dmVydDEPMA0GA1UEAxMGRGFtaWVuMB4XDTA2MTAyNzA5MDc1NFoXDTExMTAyNjA5 MDc1NFowVDELMAkGA1UEBhMCRlIxDzANBgNVBAgTBkZyYW5jZTEOMAwGA1UEBxMF UGFyaXMxEzARBgNVBAoTCkVudHJvdXZlcnQxDzANBgNVBAMTBkRhbWllbjCCASIw DQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM06Hx6VgHYR9wUf/tZVVTRkVWNq h9x+PvHA2qH4OYMuqGs4Af6lU2YsZvnrmRdcFWv0+UkdAgXhReCWAZgtB1pd/W9m 6qDRldCCyysow6xPPKRz/pOTwRXm/fM0QGPeXzwzj34BXOIOuFu+n764vKn18d+u uVAEzk1576pxTp4pQPzJfdNLrLeQ8vyCshoFU+MYJtp1UA+h2JoO0Y8oGvywbUxH ioHN5PvnzObfAM4XaDQohmfxM9Uc7Wp4xKAc1nUq5hwBrHpjFMRSz6UCfMoJSGIi +3xJMkNCjL0XEw5NKVc5jRKkzSkN5j8KTM/k1jPPsDHPRYzbWWhnNtd6JlkCAwEA AaN7MHkwCQYDVR0TBAIwADAsBglghkgBhvhCAQ0EHxYdT3BlblNTTCBHZW5lcmF0 ZWQgQ2VydGlmaWNhdGUwHQYDVR0OBBYEFP2WWMDShux3iF74+SoO1xf6qhqaMB8G A1UdIwQYMBaAFGjl6TRXbQDHzSlZu+e8VeBaZMB5MA0GCSqGSIb3DQEBBQUAA4IB AQAZ/imK7UMognXbs5RfSB8cMW6iNAI+JZqe9XWjvtmLfIIPbHM96o953SiFvrvQ BZjGmmPMK3UH29cjzDx1R/RQaYTyMrHyTePLh3BMd5mpJ/9eeJCSxPzE2ECqWRUa pkjukecFXqmRItwgTxSIUE9QkpzvuQRb268PwmgroE0mwtiREADnvTFkLkdiEMew fiYxZfJJLPBqwlkw/7f1SyzXoPXnz5QbNwDmrHelga6rKSprYKb3pueqaIe8j/AP NC1/bzp8cGOcJ88BD5+Ny6qgPVCrMLE5twQumJ12V3SvjGNtzFBvg2c/9S5OmVqR LlTxKnCrWAXftSm1rNtewTsF -----END CERTIFICATE----- My code at present does this - >>> from xml.dom.minidom import Document >>> doc = Document() >>> entity_descriptor = doc.createElement("EntityDescriptor") >>> doc.appendChild(entity_descriptor) >>> entity_descriptor.setAttribute('xmlns', 'urn:oasis:names:tc:SAML:2.0:metadata') >>> entity_descriptor.setAttribute('xmlns:saml', 'urn:oasis:names:tc:SAML:2.0:assertion') >>> entity_descriptor.setAttribute('xmlns:ds', 'hxxp://xxx.w3.org/2000/09/xmldsig#') >>> entity_descriptor.setAttribute('entityID', 'hxxp://wsa.saas.com') >>> idpssodescr = doc.createElement('IDPSSODescriptor') >>> entity_descriptor.appendChild(idpssodescr) >>> keydescr = doc.createElement('KeyDescriptor') >>> keydescr.setAttribute('use', 'signing') >>> idpssodescr.appendChild(keydescr) >>> keyinfo = doc.createElement('ds:KeyInfo') >>> keyinfo.setAttribute('xmlns:ds', 'http://xxx.w3.org/2000/09/xmldsig#') >>> keydescr.appendChild(keyinfo) >>> x509data = doc.createElement('ds:X509Data') >>> keyinfo.appendChild(x509data) >>> x509cert = doc.createElement('ds:X509Certificate') >>> ptext = doc.createTextNode("This is a test!") >>> x509cert.appendChild(ptext) >>> x509data.appendChild(x509cert) >>> sso = doc.createElement('SingleSignOnService') >>> sso.setAttribute('Binding', 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect') >>> sso.setAttribute('Location', 'hxxx://idp5/singleSignOn') >>> idpssodescr.appendChild(sso) >>> print doc.toprettyxml(indent=" ") This is a test! I am little confused with the certificate part. Original is -----BEGIN CERTIFICATE---..... and mine is: This is the cert Sorry, I don't have much experience with XML. Is the code proper for the task intended. Thanks.
