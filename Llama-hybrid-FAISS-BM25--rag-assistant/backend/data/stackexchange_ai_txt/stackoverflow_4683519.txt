[site]: stackoverflow
[post_id]: 4683519
[parent_id]: 
[tags]: 
System.Web.Services.Protocols.SoapException: Server was unable to process the request -The device is not ready

I have implemented a web service (Classic .Net service, not WCF), to load the data and return to the user control. This webservice is being called from a user control that I have created. However, when I try to read the file using the web service, I am receiving an error instead of the byte array. As was before, all works perfectly in my local machine and all hell breaks loose in Development & Staging environments. As part of my testing, I have also changed the web service to return a simple byte array and that seems to work just fine in all three instances, validating that the webservice is working as expected. Copied below are the error and the code from the web service returning this error. Any thoughts? Note: The webmethod is called by passing in the absolute path of the file on the server and not relative path. ERROR: Webpage error details User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; MDDR; .NET4.0C) Timestamp: Thu, 13 Jan 2011 04:29:30 UTC Message: System.Web.Services.Protocols.SoapException: Server was unable to process request. ---> System.IO.IOException: The device is not ready. at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath) at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy) at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share) at TXTextControl.LoadSettings.?(String A_0, StreamType A_1, ? A_2, ? A_3) at TXTextControl.ServerTextControl.Load(String path, StreamType streamType) at DocumentManager.DocumentService.Document.Load(String documentLocation) in C:\Webs\AR\DocumentManager\DocumentManager\Document.asmx.vb:line 21 --- End of inner exception stack trace --- Line: 23 Char: 13 Code: 0 CODE: _ Public Function Load(ByVal documentLocation As String) As Byte() Dim serverTextControl As New TXTextControl.ServerTextControl() Dim documentData As Byte() = Nothing Dim docLocation As String = Server.UrlDecode(documentLocation) serverTextControl.Create() 'serverTextControl.Text = "This document has been loaded from the server " & System.DateTime.Now serverTextControl.Load(docLocation, textControlUtility.computeStreamType(documentLocation)) serverTextControl.Save(documentData, TXTextControl.BinaryStreamType.InternalUnicodeFormat) serverTextControl.Dispose() Return documentData End Function
