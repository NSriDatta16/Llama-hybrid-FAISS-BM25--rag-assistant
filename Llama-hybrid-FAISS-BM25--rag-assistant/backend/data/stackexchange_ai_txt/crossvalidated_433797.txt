[site]: crossvalidated
[post_id]: 433797
[parent_id]: 
[tags]: 
How to fill the bins?

Consider 1 million people earning money, sorted in increasing order. The kth decile, i.e. the kth 100,000 of them has an income share of $f(k)$ with $f(k) and $\sum_{k=1}^{10} f(k)=1$ . Let the total income be 10 billion units, so the average income is 10,000 units. Comprehensive data on income share per quintile resp. centile are given by the World Bank ("Distribution of income or consumption") and look like this: By cumulation one gets Lorenz curves from which the Gini index is calculated: Now consider some ten income bins, for example these 0 $\infty$ or these 0 $\infty$ Assume for all but the last bin that the average income in that bin is the middle of its range, i.e. 500 units for the first bin, 2,000 units for the second bin, and so on. Only for the last bin (with no specific upper bound) the average income in that bin cannot be estimated beforehand. My question: How do I fill the bins, i.e. do I distribute the number of 1 million people to the ten bins such that the decile data $f(k)$ result? I assume there is a unique solution (assuming specific averages per bin), but how to find, resp. to construct it is unclear to me? Which specific and efficient algorithm should I choose? (Some pseudo code would be awesome!)
