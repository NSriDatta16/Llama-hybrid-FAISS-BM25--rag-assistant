[site]: crossvalidated
[post_id]: 392300
[parent_id]: 
[tags]: 
Stratified bootstrapping and confidence intervals

Here's a toy data set that replicates my problem. I am interested in knowing the confidence intervals of an empirical distribution that is composed of the scores of each school at the proportion that student "A". set.seed(1) rows = 50 df In this example: student "A" has 3 scores from school "G" and 9 scores from school "F": > df[df$student=="A",] student school score 1 A F 3 5 A F 10 10 A F 10 11 A G 1 12 A F 6 22 A G 10 24 A F 8 25 A F 7 27 A G 10 34 A F 10 38 A F 10 47 A F 8 How do I generate bootstrap samples that would sample 12 scores at the correct proportion of student "A" school. I need to calculate the CI of the expected score of the average student scoring student "A"'s school proportions. I look through the "boot" package boot function help. There is an example of stratified bootstrap but I don't get what stype is doing. I understand stype="i" but I don't understand what happens with stype="w" or "f" and how to use them.
