[site]: stackoverflow
[post_id]: 5185105
[parent_id]: 5183179
[tags]: 
You probably don't have an accumulation buffer. But you don't need one anyway. Depth of Field effects are now done using shaders. The accumulation buffer method requires to render the same picture multiple times; not quite efficient. Shader Depth of Field is a postprocessing effect, that used the Z-buffer values to select the size of a blurring kernel. The idea is to do gather the values around the current fragment and add each neighbour fragment by the blurring kernel size determined by the Z-value. To keep the inner loop small you normally blur the whole image at several kernel sizes and put those into layers of a 3D texture. Then this 3D texture is used for a quick fetch of the desired blurring intensity.
