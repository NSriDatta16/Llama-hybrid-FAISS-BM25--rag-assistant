[site]: crossvalidated
[post_id]: 96622
[parent_id]: 96351
[tags]: 
Even though this question already has an accepted answer, I think I can still contribute to this. The Koenker (2005) book will really not get you far because developments in IV quantile regression started to pick up around that time. The early IV quantile regression techniques include the causal chain framework by Chesher (2003) , which was further developed in the weighted average deviations approach (WAD) by Ma and Koenker (2006) . In this paper they also introduce the control variate approach. A similar idea was used by Lee (2007) who derived an IV quantile regression estimator using control functions. All of these estimators make use of an assumed triangular error structure which is necessary for identification. The problem with this is that this triangular structure is implausible for endogeneity problems that arise due to simultaneity. For instance, you cannot use these estimators for a supply-demand estimation problem. The estimator by Abadie, Angrist and Imbens (2002), that Dimitriy V. Masterov mentioned, assumes that you have both a binary endogenous variable and a binary instrument. In general, this is a very restrictive framework but it extends the LATE approach from linear regression IV to quantile regressions. This is nice because many researchers, especially in economics, are familiar with the LATE concept and the interpretation of the resulting coefficients. The seminal paper by Chernozhukov and Hansen (2005) really kicked off this literature and these two guys have done a lot of work in this area. The IV quantile regression estimator (IVQR) provides a natural link to the 2SLS estimator in the quantile context. Their estimator is implemented via Matlab or Ox as Dimitriy pointed out but you can forget about that Kwak (2010) paper. This paper never made it to the Stata journal and also his code does not run properly. I assume he abandoned this project. Instead you should consider the smoothed estimating equations IVQR (SEE-IVQR) estimator by Kaplan and Sun (2012) . This is a recent estimator which is an improvement over the original IVQR estimator in terms of computational speed (it avoids the burdensome grid search algorithm) and mean squared error. The Matlab code is available here . The paper by Fr√∂lich and Melly (2010) is nice because it considers the difference between conditional and unconditional quantile regression. The problem with quantile regression in general is that once you include covariates in your regression, the interpretation changes. In OLS you can always go from the conditional to the unconditional expectation via the law of iterated expectations but for quantiles this is not available. This problem was first shown by Firpo (2007) and Firpo et al. (2009) . He uses a re-centered influence function in order to marginalize conditional quantile regression coefficients such that they can be interpreted as the usual OLS coefficients. For your purpose, this estimator won't help much because it allows for exogenous variables only. If you are interested, Nicole Fortin makes the Stata code available on her website. The most recent unconditional IV quantile regression estimator I know of is by Powell (2013) . His generalized (IV) quantile regression estimator allows you to estimate marginal quantile treatment effects in the presence of endogeneity. Somewhere on the RAND website he also makes his Stata code available, I couldn't find it just now though. Since you asked for it: in an earlier paper he had implemented this estimator in the panel data context (see Powell, 2012 ). This estimator is great because unlike all previous panel data QR methods this estimator does not rely on large T asymptotics (which you usually don't have, at least not in microeconometric data). Last but not least, a more exotic variant: the censored IVQR estimator (CQIV) by Chernozhukov et al. (2011) allows to take care for censored data - as the name suggests. It is an extension of the paper by Chernozhukov and Hong (2003) which I don't link because it's not for the IV context. This estimator is computationally heavy but if you have censored data and no other way around it, this is the way to go. Amanda Kowalski has published the Stata code on her website or you can download it from RePEc . This estimator (and, by the way, also the IVQR and SEE-IVQR) assume that you have a continuous endogenous variable. I have used these estimators in the context of earnings regressions where education was my endogenous variable which took between 18 to 20 values, so not exactly continuous. But in simulation exercises I could always show that this is not a problem. However, this is probably application dependent so if you decide to use this, double check it.
