[site]: stackoverflow
[post_id]: 2813672
[parent_id]: 
[tags]: 
gcov and switch statements

I'm running gcov over some C code with a switch statement. I've written test cases to cover every possible path through that switch statement, but it still reports a branch in the switch statement as not taken and less than 100% on the "Taken at least once" stat. Here's some sample code to demonstrate: #include "stdio.h" void foo(int i) { switch(i) { case 1:printf("a\n");break; case 2:printf("b\n");break; case 3:printf("c\n");break; default: printf("other\n"); } } int main() { int i; for(i=0;i I built with " gcc temp.c -fprofile-arcs -ftest-coverage ", ran " a ", then did " gcov -b -c temp.c ". The output indicates eight branches on the switch and one (branch 6) not taken. What are all those branches and how do I get 100% coverage?
