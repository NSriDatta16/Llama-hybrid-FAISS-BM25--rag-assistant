[site]: stackoverflow
[post_id]: 476493
[parent_id]: 476478
[tags]: 
Problem is, URLs could have parenthesis as part of them... ( http://en.wikipedia.org/wiki/Tropical_Storm_Alberto_(2006) ) . You can't treat that with regexp alone, since it doesn't have state. You need a parser. So your best chance would be to use a parser, and try to guess the correct close parenthesis. That is error-prone (the url could open parenthesis and never close it) so I guess you're out of luck anyway. See also http://en.wikipedia.org/wiki/, or ( http://en.wikipedia.org/wiki/) ) and other similar valid URLs.
