[site]: stackoverflow
[post_id]: 5029838
[parent_id]: 
[tags]: 
C++/CLI struct / class alignment

It seems I cannot make C++/CLI structures be aligned with less than 8 bytes. I have a struct of two Int32, allocate a million of them, and voil√†: 16 MB memory according to ".NET Memory Profiler" (plus the list data). I set the compiler option to /Zp4 (also tried /Zp1), to Minimize Size (/O1) and Small Code (/Os), just to make sure, I additionally put a "#pragma pack(1)" into my code, to no avail. My struct is still taking up 16 Bytes. I changed it to class, still the same. Why that? How to change? Ciao, Eike using namespace System; #pragma pack(1) ref struct myStruct { Int32 a; Int32 b; }; int main(array ^args) { System::Collections::Generic::List list; for (int i = 0; i a); return 0; }
