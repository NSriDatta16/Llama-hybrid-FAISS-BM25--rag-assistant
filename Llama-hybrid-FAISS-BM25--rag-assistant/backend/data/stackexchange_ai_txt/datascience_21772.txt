[site]: datascience
[post_id]: 21772
[parent_id]: 21769
[tags]: 
Thanks for the real-world problem! Interesting challenge there. Some thoughts: regex (regular expressions) may not work because " Whole Cheese " (the description) doesn't even contain " pizza " (the category)! the "case-when logic" you mentioned is SQL's equivalent of handling conditional (if/else) logic using SQL's CASE statement. This can be helpful but super-tedious due to the huge number of rules required. (And then what happens when you have misspelt descriptions e.g. pizzza ?) wrt the comment by @Spaceman, my thought is that using stringdist to calculate string distance to then perform clustering, which is unsupervised, wastes all the useful labelled data which can be used! My suggestion : Use a combination of "case-when logic" and classification algorithms, to generate a set of labelled data (the labels being the rollups) in which then you can perform some supervised classification for the unlabelled data. In your sample file, some categories have already been labelled. You can use that as training data for your supervised learning (e.g. SVM). This may require some text mining knowledge (e.g. DocumentTermMatrix , tokenizers). I refer you to the wonderful tm and RTextTools package in R .
