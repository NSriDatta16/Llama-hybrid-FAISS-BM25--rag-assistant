[site]: stackoverflow
[post_id]: 3712867
[parent_id]: 
[tags]: 
How do I correctly load and HTML embed password protected files?

I have an Apache password-protected directory filled with text files and movie files. Currently, I load the contents of the text files using cURL, passing the username and password information with CURLOPT_USERPWD . For the movies, I set the OBJECT and EMBED src's to http://username:password@example.com/file.mov . In both cases, the username and password are pulled from $_SERVER['PHP_AUTH_USER'] and $_SERVER['PHP_AUTH_PW'] , respectively. If that does not work, then the user is prompted to provide new credentials with a generic HTTP auth pop-up. Is there a more proper way to do this? Or is embedding password-protected movies just a buggy/bad idea? The above method results in two (related?) problems. First, (as far I can tell) randomly, it seems that the username:password@ part is not passed when embedding the movie, and thus the user is forced to enter their credentials again. This rarely occurs, and is only annoying, but would be nice to fix. Second, this causes Safari under Snow Leopard to crash. Safari, without fail, prompts the user for credentials, then freezes. Non-password-protected movies (or moving the password-protected movies to a non-password-protected directory) load fine. This problem did not exist pre-Snow Leopard, but I haven't tested it on older versions of Safari under Snow Leopard, so it could be one of the recent updates broke it. NOTE: Moving to another login system (thus negating the issue) sadly is not possible since other programs that use the files require Apache password protection.
