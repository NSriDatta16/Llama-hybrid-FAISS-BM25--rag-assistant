[site]: crossvalidated
[post_id]: 11398
[parent_id]: 
[tags]: 
Should the group decisions be independent in Wilcoxon rank sum test?

In case you want to compare the average income of a group of male employees against the average income of a group of female employees, the observations are clearly independent. Now, I have a network of a certain number of nodes. These nodes are linked by edges and I can characterize each node by the number of links it has to other nodes. (this is $k$: called the degree) I can also characterize the nodes by their average nearest neighbour degree. That is the sum of the degree of all nodes, to which one node is linked to. (this is $k_{nn}$; $k_{nn}$ of node i = $\sum k_j$ for any node $j$ that is linked to $i$). When I create a scatter plot of these nodes ($k$ vs $k_{nn}$) I can clearly distinguish two groups of nodes by a certain threshold value for $k$ and $k_{nn}$. My nodes also have a color. Now I want to test if a certain color in these two groups is overrepresented. I can do that using the Wilcoxon rank test, because the color is an independent observation. Fine. But is the color really an independent observation? Implicitly the association to a group is not only based on the node's own property, but also on the properties of the other nodes (because of $k_{nn}$). So can I really use the Wilcoxon rank test here? Actually, my question is: Does the Wilcoxon rank test require only an independent observation. Or does it also require an association to a group that is based on independent observations?
