[site]: stackoverflow
[post_id]: 861294
[parent_id]: 856958
[tags]: 
You probably want to use FOR UPDATE. With "LOCK IN SHARE MODE" the second user will still be able to read the value before it has been updated. From the MySQL docs: If you use FOR UPDATE with a storage engine that uses page or row locks, rows examined by the query are write-locked until the end of the current transaction. Using LOCK IN SHARE MODE sets a shared lock that allows other transactions to read the examined rows but not to update or delete them. So even though LOCK IN SHARE MODE prevents an update, if you operation depends on the read value, you may end up in an inconsistent state.
