[site]: stackoverflow
[post_id]: 4073242
[parent_id]: 
[tags]: 
calculate averages for 5 min intervals in mysql

I have a table log with columns id , myValue , myCategory and myTimestamp . Suppose the table is filled like this: ID MYVALUE MYCATEGORY MYTIMESTAMP 1 10 1 2010-11-1 10:00:00 2 20 1 2010-11-1 10:03:00 3 15 2 2010-11-1 10:15:00 4 05 2 2010-11-1 10:19:00 5 30 1 2010-11-1 10:24:00 6 12 1 2010-11-1 10:30:00 Now I would like to generate a table with an avg() for column myValue in 5 minute intervals for a specified myCheck , starting from the last check entry. The output for myCheck = 1 should be like: ID AVERAGE 1 12 2 30 3 15 The output for myCheck = 2 should be like: ID AVERAGE 1 10 What is the best way to approach this? I have basic knowledge of MySQL but this puzzles me. Part of the query will be like this I suppose (without the 5 min interval grouping): SELECT avg(myValue) FROM log WHERE myCheck = .. How can I use the timestamps to generate 5 min intervals averages? Any help is greatly appreciated.
