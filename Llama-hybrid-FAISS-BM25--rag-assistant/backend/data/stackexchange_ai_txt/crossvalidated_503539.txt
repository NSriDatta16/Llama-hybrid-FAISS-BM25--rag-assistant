[site]: crossvalidated
[post_id]: 503539
[parent_id]: 
[tags]: 
Probability of sampling the same values multiple times from two non-independent sets

There are two sets of integers of size $|K|=4$ , with the entries of the second set $j_k$ dependent on the entries in the first set $i_k$ . $n \in N,\ n \geq 2$ $K = \{ 0, \dots, 3 \}$ $i_k \in \{0, \dots, n-2\}\ \forall\ k \in K$ $j_k \in \{i_k + 1, \dots, n-1\}\ \forall\ k \in K$ Notice that it could happen that $i_0$ $j_0$ , $i_1 , but $i_1 > j_0$ . Let's say we sample $4$ values for $i_k$ ( $i_0, i_1, i_2, i_3$ ) and $4$ values for $j_k$ ( $j_0, j_1, j_2, j_3$ ) at random, with uniform distribution over the domain of $i_k$ and $j_k$ . What is the probability that both all the entries in $i_k$ are equal and all the entries in $j_k$ are equal as well? More precisely: what is $P(i_0 = i_1 = i_2 = i_3\ \wedge\ j_0 = j_1 = j_2 = j_3)$ ? Note: this is not a homework or a job interview question, it's merely a curiosity of mine that came up while working on a genetic algorithm project. Here's what I've tried so far. The probability that all $i_k$ s are equal to a specific number $m$ should be: $P(i_0 = i_1 = i_2 = i_3 = m) = \frac{1}{(n-1)^4}$ The probability that all $i_k$ s are equal in general should be: $P(i_0 = i_1 = i_2 = i_3) = \frac{1}{(n-1)^4} \cdot (n-1) = \frac{1}{(n-1)^3}$ I'm not sure how to compute the probabilities of $j_k$ , since they are dependent on $i_k$ : the following paragraph might contain errors. Let $i^{(m)}$ be a fixed value for all $i_k$ s. The probability that all $j_k$ s are equal to a specific number $q > m$ should be: $P(j_0 = j_1 = j_2 = j_3 = q) = \frac{1}{(n-1 - i^{(m)})^4}$ If we keep $i_m$ fixed and consider all the possible $q$ s, we should obtain the following probability: $P(j_0 = j_1 = j_2 = j_3) = \frac{1}{(n-1 - i^{(m)})^3}$ I could proceed by enumerating cases for $i^{(m)}$ : $(i^{(m)} = 0) \Rightarrow\ P(j_0 = j_1 = j_2 = j_3 = 1) = \frac{1}{(n-1)^4}$ $(i^{(m)} = 1) \Rightarrow\ P(j_0 = j_1 = j_2 = j_3 = 2) = \frac{1}{(n-2)^4}$ $\dots$ $(i^{(m)} = n-2) \Rightarrow\ P(j_0 = j_1 = j_2 = j_3 = n-1) = 1$ We should be able to rewrite this more concisely as: $P(j_0 = j_1 = j_2 = j_3 = i^{(m)}) = \frac{1}{((n-1)!)^4}$ And we could conclude with: $P(i_0 = i_1 = i_2 = i_3\ \wedge\ j_0 = j_1 = j_2 = j_3) = \frac{1}{(n-1)^3} \cdot \frac{1}{((n-1)!)^4} = \frac{1}{(n-1)^7 \cdot ((n-2)!)^4}$ Can someone please check my calculations and correct me where I did mistakes? Thank you.
