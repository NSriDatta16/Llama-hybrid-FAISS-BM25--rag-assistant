[site]: stackoverflow
[post_id]: 4156704
[parent_id]: 
[tags]: 
Drawing in Cocoa, wrong xy value

I'm trying to draw a bunch of rectangles in an NSView which is inside an NSScrollView. The code is working pretty well, but it seems like the computer is drawing at the wrong points. When I use NSLog() to log the current x and y the values are right, but when I look at my view, there is extra space added before the drawing coordinate. This is the code: // // CoverFlowView.m // iWatch // // Created by ief2 on 03/11/10. // // #import "CoverFlowView.h" #pragma mark Defaults #define COVER_HEIGHT2WIDTH(a) ((float)a / 1.4) #define COVER_HEIGHT (200.0) #define COVER_WIDTH (COVER_HEIGHT2WIDTH(COVER_HEIGHT)) #define COVER_SPACE_MIN (20.0) #pragma mark Private Methods @interface CoverFlowView (PrivateMethods) - (CGFloat)coverSpaceForMoviesPerLine:(NSUInteger *)n; - (void)frameDidChange; - (void)updateFrame; @end NSColor *RandomColor() { float red = (float)(rand() % 255) / 254.0; float green = (float)(rand() % 255) / 254.0; float blue = (float)(rand() % 255) / 254.0; NSColor *theColor = [[NSColor colorWithDeviceRed:red green:green blue:blue alpha:1.0] retain]; return [theColor autorelease]; } #pragma mark Implementation @implementation CoverFlowView #pragma mark Init and Dealloc - (void)awakeFromNib { srand(time(NULL)); NSMutableArray *colors = [[NSMutableArray alloc] initWithCapacity:100]; register int i; for(i = 0; i \ // s = space between -->The movies height and it's space above it // // p // f(x) = ------- // h + s double rows = ((dirtyRect.origin.y) / (COVER_HEIGHT + coverSpace)); // get the first movie that has to be drawn // could be half-draw // // (NSUInteger)rows * moviesPerLine NSUInteger index = (NSUInteger)rows * moviesPerLine; if(!(index and here you can find a screen shot of the running application: If someone can tell me what I'm doing wrong, I'd really appreciate it! Thank you, ief2 EDIT: Don't mind the wrong titles, I made mistake giving the files a name :-)
