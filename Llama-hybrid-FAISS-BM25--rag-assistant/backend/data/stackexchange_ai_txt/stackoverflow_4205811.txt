[site]: stackoverflow
[post_id]: 4205811
[parent_id]: 
[tags]: 
Moving tempfile to other folder makes it unaccessible

In my asp.net application on Windows Server 2008, I have code like this tempfile = Path.GetTempFileName() ... Write data to tempfile ... File.Move(tempfile, storageDir + fileName) This works just fine. The problem is afterwards when I am trying to access the file from outside of ASP.NET. I get access denied, even though the user I am accessing from have (recursive) read rights to the storageDir folder. It seems that the moved file doesn't inherit rights from the folder it is moved into. Is this correct, and if so, is there an easy way to fix that? Right now as a direct fix I have changed every instance of File.Move() in my ASP.NET application to File.Copy() + File.Delete(), which seems to fix the problem. But it feels like a very dirty way of doing things.
