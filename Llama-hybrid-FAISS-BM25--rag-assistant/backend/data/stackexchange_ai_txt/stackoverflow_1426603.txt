[site]: stackoverflow
[post_id]: 1426603
[parent_id]: 1426484
[tags]: 
You could have a registry with prototypes. A prototype of each class you want to be able to create (at a point in time) could be added to your registry object at runtime, these prototypes would each have their own unique integer id. When you want an object of id x , you just ask of your registry object to clone and return the prototype which id is x . (or null if no such prototype is currently registered). Internally the registry could be a (hash)map for quick retrieval, but it could just as easily be a list of prototypes (Do make sure of course that all prototypes implement a common interface the registry can work with). Best thing is, no need for reflection!
