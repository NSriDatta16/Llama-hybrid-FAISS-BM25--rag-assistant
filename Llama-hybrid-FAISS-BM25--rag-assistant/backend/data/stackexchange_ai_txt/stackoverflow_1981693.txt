[site]: stackoverflow
[post_id]: 1981693
[parent_id]: 1981107
[tags]: 
Seems like you've already accepted an answer but I'm gonna still post mine. First of all, you really don't need to use 100% in quality, a 90% or 85% value will do just fine while decreasing your processing time and image size (if you don't believe me just run some tests). I've also done some benchmarks with this image and a custom JPEG() function, first test case: JPEG('./original.jpg', null, '1024*774', './output/large.jpg'); JPEG('./original.jpg', null, '500*378', './output/medium.jpg'); JPEG('./original.jpg', null, '240*161', './output/small.jpg'); JPEG('./original.jpg', null, '100*76', './output/thumb.jpg'); JPEG('./original.jpg', null, '50*38', './output/small_thumb.jpg'); JPEG('./original.jpg', null, '75*75', './output/square.jpg'); This takes an average of 60 seconds on my slow slow computer. Second test case : JPEG('./original.jpg', null, '1024*774', './output/large.jpg'); JPEG('./output/large.jpg', null, '500*378', './output/medium.jpg'); JPEG('./output/medium.jpg', null, '240*161', './output/small.jpg'); JPEG('./output/medium.jpg', null, '100*76', './output/thumb.jpg'); JPEG('./output/medium.jpg', null, '50*38', './output/small_thumb.jpg'); JPEG('./output/medium.jpg', null, '75*75', './output/square.jpg'); This one takes "only" 16 seconds (my computer is really slow ATM :P ), almost 4 times faster. Here is the JPEG() function in case you want to make your own benchmarks: function JPEG($source, $crop = null, $scale = null, $destination = null) { $source = ImageCreateFromJPEG($source); if (is_resource($source) === true) { $size = array(ImageSX($source), ImageSY($source)); if (isset($crop) === true) { $crop = array_filter(explode('/', $crop), 'is_numeric'); if (count($crop) == 2) { $crop = array($size[0] / $size[1], $crop[0] / $crop[1]); if ($crop[0] > $crop[1]) { $size[0] = $size[1] * $crop[1]; } else if ($crop[0] = 1) { if (empty($scale[0]) === true) { $scale[0] = $scale[1] * $size[0] / $size[1]; } else if (empty($scale[1]) === true) { $scale[1] = $scale[0] * $size[1] / $size[0]; } } else { $scale = array($size[0], $size[1]); } } else { $scale = array($size[0], $size[1]); } $result = ImageCreateTrueColor($scale[0], $scale[1]); if (is_resource($result) === true) { if (ImageCopyResampled($result, $source, 0, 0, $crop[0] / 2, $crop[1] / 2, $scale[0], $scale[1], $size[0], $size[1]) === true) { return ImageJPEG($result, $destination, 90); } } } return false; }
