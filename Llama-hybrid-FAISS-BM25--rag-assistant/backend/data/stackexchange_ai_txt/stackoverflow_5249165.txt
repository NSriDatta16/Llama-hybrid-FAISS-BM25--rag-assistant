[site]: stackoverflow
[post_id]: 5249165
[parent_id]: 5249034
[tags]: 
UPDATE MyTable SET ave_cost=cost/num, ave_cost_category=t1.ave_cost_category FROM MyTable INNER JOIN ( SELECT category,avg(ave_cost) as ave_cost_category FROM MyTable GROUP BY category ) t1 on MyTable.category = t1.category The inner query in the JOIN calculates the average cost across the entire category.
