[site]: crossvalidated
[post_id]: 178189
[parent_id]: 177699
[tags]: 
Q1. The most concise approach is to use an interaction term. However, with enough complexity in what you introduce and analyze, you may find it easier to keep track of results if you build separate models by course. Also, if you want to gauge the effect of outliers, or study residuals, the second approach will give you more flexibility to assess. Q2. I'm not sure your use of "conditioning on..." is correct. In any case, including "repeating" as a predictor will not solve the problem of correlated observations. Your project is already ambitious, dependent on many assumptions, and thus fraught with a certain amount of risk for accuracy, validity, interpretability, and acceptance by your intended audience. Thus my suggestion is that in this respect you simplify by including only the first semester for any student. Q3. I admire your courage and resourcefulness in tackling these questions, but again I'd recommend excluding any courses beyond the first for any student. You won't be losing much solid explanatory information: consider the many factors that, aside from the treatment, could be accounting for outcomes at stages beyond the first semester (e.g., see An inventory: 11 issues with value-added studies ).
