[site]: stackoverflow
[post_id]: 4903591
[parent_id]: 392022
[tags]: 
It is probably better to kill the parent before the children; otherwise the parent may likely spawn new children again before he is killed himself. These will survive the killing. My version of ps is different from that above; maybe too old, therefore the strange grepping... To use a shell script instead of a shell function has many advantages... However, it is basically zhigangs idea #!/bin/bash if test $# -lt 1 ; then echo >&2 "usage: kiltree pid (sig)" fi ; _pid=$1 _sig=${2:-TERM} _children=$(ps j | grep "^[ ]*${_pid} " | cut -c 7-11) ; echo >&2 kill -${_sig} ${_pid} kill -${_sig} ${_pid} for _child in ${_children}; do killtree ${_child} ${_sig} done
