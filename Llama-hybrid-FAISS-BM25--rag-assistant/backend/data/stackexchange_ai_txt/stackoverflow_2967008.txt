[site]: stackoverflow
[post_id]: 2967008
[parent_id]: 2966941
[tags]: 
script.aculo.us ( source ) solves a similar problem. here is the relevant code var js = /scriptaculous\.js(\?.*)?$/; $$('script[src]').findAll(function(s) { return s.src.match(js); }).each(function(s) { var path = s.src.replace(js, ''), includes = s.src.match(/\?.*load=([a-z,]*)/); (includes ? includes[1] : 'builder,effects,dragdrop,controls,slider,sound').split(',').each( function(include) { Scriptaculous.require(path+include+'.js') }); }); (some parts of this like .each require prototype)
