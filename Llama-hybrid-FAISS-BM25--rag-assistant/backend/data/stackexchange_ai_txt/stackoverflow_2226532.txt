[site]: stackoverflow
[post_id]: 2226532
[parent_id]: 2226489
[tags]: 
You're using the Spherical Law of Cosines formula , not the Haversine Formula (which is slightly slower). Doing the math in MySQL will probably be much faster, I advise you to read this question I asked a while back, as for speed optimizations you should definitely read the excellent Geo Proximity Search with MySQL paper, pay special attention to pages 8-14 and 19 .
