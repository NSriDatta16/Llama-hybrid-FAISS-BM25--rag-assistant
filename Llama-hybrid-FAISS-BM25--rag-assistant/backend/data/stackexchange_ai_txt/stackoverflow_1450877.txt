[site]: stackoverflow
[post_id]: 1450877
[parent_id]: 
[tags]: 
Get element text from XML doc

I'm trying to extract some information from XML from Weather Underground. I can open the resource and pull out the desired elements, but I really want to return the element text as a variable, without the containing XML element tags, so I can manipulate it and display it on a web page. Perhaps there is a way to do this using regexp to strip off the tags, but I suspect/hope I can do this in a more elegant fashion directly in Nokogiri. Currently I am using irb to work out the syntax: irb>require 'rubygems' irb>require 'nokogiri' irb>require 'open-uri' irb>doc = Nokogiri::XML(open('http://api.wunderground.com/auto/wui/geo/WXCurrentObXML/index.xml?query=KBHB')) => => # [...] irb>doc.xpath('/current_observation/weather') => Clear irb(main):019:0> irb>doc.xpath('/current_observation/wind_dir') => North irb>doc.xpath('/current_observation/wind_mph') => 10 irb>doc.xpath('/current_observation/pressure_string') => 31.10 in (1053 mb) I need help with the specific syntax while using constructs such as: doc.xpath.element('/current_observation/weather') doc.xpath.text('/current_observation/weather') doc.xpath.node('/current_observation/weather') doc.xpath.element.text('/current_observation/weather') All return errors.
