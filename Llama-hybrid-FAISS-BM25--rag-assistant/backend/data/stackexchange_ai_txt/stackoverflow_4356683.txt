[site]: stackoverflow
[post_id]: 4356683
[parent_id]: 4356588
[tags]: 
Most (all?) of this video platforms provide oEmbed support. For example for the YouTube video http://www.youtube.com/watch?v=cXXm696UbKY it is http://www.youtube.com/oembed?url=http%3A//www.youtube.com/watch%3Fv%cXXm696UbKY . This will return a response which you can easily parse with json_decode . { "provider_url": "http:\/\/www.youtube.com\/", "title": "Auto-Tune the News #8: dragons. geese. Michael Vick. (ft. T-Pain)", "html": " ", "author_name": "schmoyoho", "height": 344, "thumbnail_width": 480, "width": 425, "version": "1.0", "author_url": "http:\/\/www.youtube.com\/user\/schmoyoho", "provider_name": "YouTube", "thumbnail_url": "http:\/\/i3.ytimg.com\/vi\/bDOYN-6gdRE\/hqdefault.jpg", "type": "video", "thumbnail_height": 360 } The interesting part is the html property. So all we have to do is search the text for the [YouTube=...] tag, extract the YouTube URL and retrieve the embed code via oEmbed. Here a working example: html; } $text = ' Hi There You gotta watch this video: [YouTube=http://www.youtube.com/watch?v=cXXm696UbKY] '; $matches = array(); // We scan the $text variable for all occurrences of "[YouTube= ]" if (preg_match_all('/\[YouTube=([^\]]+)\]/i', $text, $matches, PREG_SET_ORDER)) { foreach ($matches as $match) { // Eg. $match[0] is "[YouTube=http://www.youtube.com/watch?v=cXXm696UbKY]" // and $match[1] is "http://www.youtube.com/watch?v=cXXm696UbKY" $text = str_replace($match[0], getYouTubeCode($match[1]), $text); } } echo $text;
