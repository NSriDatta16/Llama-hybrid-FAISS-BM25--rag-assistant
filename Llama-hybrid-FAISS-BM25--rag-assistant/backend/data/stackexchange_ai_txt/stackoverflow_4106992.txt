[site]: stackoverflow
[post_id]: 4106992
[parent_id]: 
[tags]: 
Parallelize output using OpenMP

I've written a C++ app that has to process a lot of data. Using OpenMP I parallelized the processing phase quite well and, embarrassingly, found that the output writing is now the bottleneck. I decided to use a parallel for there as well, as the order in which I output items is irrelevant; they just need to be output as coherent chunks. Below is a simplified version of the output code, showing all the variables except for two custom iterators in the "collect data in related" loop. My question is: is this the correct and optimal way to solve this problem? I read about the barrier pragma, do I need that? long i, n = nrows(); #pragma omp parallel for for (i=0; i related; for (size_t j=0; j (I labeled this question c as I imagine OpenMP is very similar in C and C++. Please correct me if I'm wrong.)
