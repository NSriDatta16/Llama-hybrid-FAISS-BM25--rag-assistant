[site]: crossvalidated
[post_id]: 133894
[parent_id]: 
[tags]: 
Get groups in time series with categorical data in R for use in gts

I have sales data organised in a table with 6 columns (4 for the location and type data, and 2 for the dates and the quantity sold), and 24 rows for each category representing the sales over 24 months (there are 7104 rows, 24 for each of the 296 possibilities I have). I want to use hts.gts , but I need to create the group hierarchy and to change the format of the data for that. What would be the best way to do that in R? Additionally, is there a better way to store this data? EDIT: Here is how the data looks: PERIOD PRODUCT.TYPE BRAND SIZE CITY VALUE 1: 2012-01 A X 100 SOFIA 0.11134739 2: 2012-02 A X 100 SOFIA 0.02486429 3: 2012-03 A X 100 SOFIA 0.09738088 4: 2012-04 A X 100 SOFIA 0.11401330 5: 2012-05 A X 100 SOFIA 0.15660395 6: 2012-06 A X 100 SOFIA 0.21496220 I have a bunch of different products types, each having a different amount of brands and sizes, and which are not all being sold in every city.
