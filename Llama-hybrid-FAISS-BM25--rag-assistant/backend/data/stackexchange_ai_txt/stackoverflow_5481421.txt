[site]: stackoverflow
[post_id]: 5481421
[parent_id]: 
[tags]: 
IOException when trying to access SD card from android

everyone. I'm trying to save a picture with android to the public pictures directory on the sd card. However, I can't seem to get as far as opening a file for writing. Here is the code: boolean mExternalStorageWriteable = false; String state = Environment.getExternalStorageState(); if (Environment.MEDIA_MOUNTED.equals(state)) { mExternalStorageWriteable = true; } if(mExternalStorageWriteable){ File root_dir = Environment.getExternalStorageDirectory(); root_dir.mkdirs(); File pictures_directory = new File(root_dir, "/Pictures/"); pictures_directory.mkdirs(); File outputfile = new File(pictures_directory, "test_file.jpg"); try { outputfile.createNewFile(); FileOutputStream out = new FileOutputStream(outputfile); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } } My debugger always jumps to the catch block (caused by the createNewFile call) and the IOExceptions message is "Not a Directory". If I remove the createNewFile call, the FileOutPutStream constructor will throw a FileNotFound exception. Opening a fileoutput stream to the root of the file system or the pictures directory seems to work fine however. To dispense with the obvious, my manifest includes the tag. I'm using API level 5 and my emulator has a virtual SD card mounted to it. Any suggestions are greatly appreciated. SOLVED: There was a problem with the emulator filesystem. DDMS showed /Pictures/ being created as a file or a directory for some reason. Creating a new emulator solved the issue.
