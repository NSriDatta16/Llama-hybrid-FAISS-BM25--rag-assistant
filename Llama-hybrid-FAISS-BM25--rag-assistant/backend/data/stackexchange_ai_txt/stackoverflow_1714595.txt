[site]: stackoverflow
[post_id]: 1714595
[parent_id]: 1713482
[tags]: 
I don't understand the actual problem/requirement. But at least I can see the following: Your first SQL query is retrieving all cashrequisitions from the DB which have a status of "pending". Your second query updates the status for all of those obtained cashrequisitions to the selected value. So if you select "pending", effectively nothing will change. But if you select "cleared", effectively everything will be set to "cleared". You'll have no one row left with status "pending". Further on the uname variable is hanging a bit round. Don't you need the uname in your first query? What's the functional requirement after all? Do you maybe only want to change the status for the particular uname which is also a column of the cashrequisitions table? If so, you need to replace the both SQL queries with that: preparedStatement = connection.prepareStatement("UPDATE cashrequisitions set status=? where uname=?"); preparedStatement.setString(1, status); preparedStatement.setString(2, uname); This query will effectively update the status of all cashrequisitions with the specified uname to the specified status value. If you have a hard time in SQL (which looks so), I can recommend you this basic SQL tutorial . That said, your code is a bit .. uh .. unusual . You normally write Java code in Java classes, not in JSP files. Ignore those old fashioned 90's tutorials. The use of scriptlets is highly discouraged. The way you write the JDBC code is also far from efficient and very sensitive to resource leaks. To get the picture how to do the basic stuff the proper way, you may find this article useful.
