[site]: stackoverflow
[post_id]: 5752148
[parent_id]: 5380357
[tags]: 
A matching flaw appears to exists in 1.5.0.1 of Community Edition, in the CE version its a regression in the getSelectedCategoriesPathIds() method of Mage_Adminhtml_Block_Catalog_Product_Edit_Tab_Categories Reverting to the 1.4.* code for this method appears to fix it, all credit to rrroulio for tracking down this one on the magento boards: http://www.magentocommerce.com/boards/viewreply/316838/ The old 1.4 code for this method is as follows: public function getSelectedCategoriesPathIds($rootId = false) { $ids = array(); $collection = Mage::getModel('catalog/category')->getCollection() ->addFieldToFilter('entity_id', array('in'=>$this->getCategoryIds())); foreach ($collection as $item) { if ($rootId && !in_array($rootId, $item->getPathIds())) { continue; } foreach ($item->getPathIds() as $id) { if (!in_array($id, $ids)) { $ids[] = $id; } } } return $ids; }
