[site]: stackoverflow
[post_id]: 4391462
[parent_id]: 
[tags]: 
Catching ClassCastException when you store an object in session and try to access it after a new deployment?

I'm facing a situation where if I stored a form in session, after making a new deployment of a war and trying to access the form, I get a java.lang.ClassCastException. In order to make this transparent to the user, I wrote the following code: try { command = (ReservationOfBooksCommand) request.getPortletSession().getAttribute(RESERVATION_OF_BOOKS_COMMAND_SESSION_NAME); } catch (ClassCastException e) { request.getPortletSession().removeAttribute(RESERVATION_OF_BOOKS_COMMAND_SESSION_NAME); } But not sure if there is a more elegant alternative as I don't like catching RuntimeExceptions and don't want to restart the server every time I deploy a new war. Thanks.
