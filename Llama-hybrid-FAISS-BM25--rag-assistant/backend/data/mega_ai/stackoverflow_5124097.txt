[site]: stackoverflow
[post_id]: 5124097
[parent_id]: 
[tags]: 
Devise + Rails 3.0.4 ends session after AJAX request

I have an action triggered by an AJAX request generated by Ajax.InPlaceEditor or InPlaceCollectionEditor like this: new Ajax.InPlaceCollectionEditor('agent_email', 'inspections/ /update_field', { collection: [ ' ', ], okText: 'Update', cancelText: 'Never mind', savingText: 'Updating...' }); At the other end, the action contains this: def update_field --some code here-- if success puts "stored change" render :text => result else puts "did note change store" render :text => inspection.errors.to_json, :status => 500 end end Once any of the render methods are reached, the session expires, and next time the user send a request, Devise sends them to the logon on page. Even though I am exempting update_field from authentication ( before_filter :authenticate_user!, :except => :update_field ), the session is still getting reset. I have looked at the answer at a very similar question at Devise session immediately expiring on .js call [AJAX] , but it is not solving my particular problem. Any ideas?
