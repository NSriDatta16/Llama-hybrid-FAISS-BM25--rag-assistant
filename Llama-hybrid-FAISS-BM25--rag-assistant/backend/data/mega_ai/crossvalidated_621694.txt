[site]: crossvalidated
[post_id]: 621694
[parent_id]: 
[tags]: 
Using Interrupted Time Series for understanding impact of a treatment

I am trying to use interrupted time series analysis to figure out the impact of a groundwater recovery program on Well Depth initiated on March 1st. I am trying to understand the difference between using the actual well depth as the dependent variable and using the change in well depth as the dependent variable (which I should mention gives the result that makes more sense). The dataset has 2 data points per day from December to April. My code for the first regression: from statsmodels.formula.api import ols df['x'] = np.arange(len(df)) + 1 df['xt'] = np.concatenate((np.zeros(len(df[df["t"]==0])), 1+np.arange(len(df[df["t"]==1])))) model = ols("Well_Depth_to_Water ~ x + t + xt", data=df) results1 = model.fit() results1.summary() This shows that the treatment had a positive impact on groundwater. However, when I use Change in Well Depth as the dependent variable I get that the treatment had a negative impact. df["Change"] = df["Well_Depth_to_Water"] - df["Well_Depth_to_Water"].shift(1) model = ols("Change ~ x + t + xt", data=df) results2 = model.fit() results2.summary() Seeing this discrepancy, I plotted the predictions versus the actual values getting the following plots: fig, ax = plt.subplots() ax.plot(df["datetime"], df["Well_Depth_to_Water"]) ax.plot(df["datetime"], results1.predict(), linestyle="--") fig.autofmt_xdate() xfmt = mdates.DateFormatter('%m-%d-%y') ax.xaxis.set_major_formatter(xfmt) plt.show() fig, ax = plt.subplots() ax.plot(df["datetime"], df["Change"]) ax.plot(df["datetime"], results2.predict(), linestyle="--") fig.autofmt_xdate() xfmt = mdates.DateFormatter('%m-%d-%y') ax.xaxis.set_major_formatter(xfmt) plt.show() well_value = df["Well_Depth_to_Water"][1] predictions = [] for i in results2.predict(): well_value = well_value + i predictions.append(well_value) fig, ax = plt.subplots() ax.plot(df["datetime"], df["Well_Depth_to_Water"]) ax.plot(df["datetime"], predictions, linestyle="--") fig.autofmt_xdate() xfmt = mdates.DateFormatter('%m-%d-%y') ax.xaxis.set_major_formatter(xfmt) plt.show() I am confused why the second regression seems to give better predictions than the first. It seems to me that the first was not able to model the non-linearity of the data as well as the second, but I want to know why that is the case. Thank you very much for taking the time to read this; I would really appreciate your help!
