[site]: stackoverflow
[post_id]: 1049664
[parent_id]: 1049531
[tags]: 
I don't think you can answer this question until you've quantified how many times a client on average retrieves messages for a given device. If a given device is only queried for messages once in a blue moon, then it's fine to purge the message cache on each client request. However, if a given device's message queue is queried many times, then a preemptive caching on device sync is likely the best option; given the device syncs are less frequent then the client requests. Your best might be writing a system that adaptively caches based on load. If a given device's message queue is queried often, it refreshes the cache on device sync. If a device message queue is rarely queried, you refresh the cache on client request.
