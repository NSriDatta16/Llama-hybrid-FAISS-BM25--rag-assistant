[site]: stackoverflow
[post_id]: 3660496
[parent_id]: 
[tags]: 
How does NHibernate determine whether to Insert or Update a record?

When using Session.SaveOrUpdate(myEntity); how does NHibernate decide how whether to insert a new record or update an existing one? I am having trouble whilst saving one object in a S#arp project. It is retrieved from storage, then stored in session state for a couple of web requests, then saved back to the database with one property changed (not the S#arp [DomainSignature] ). I have, at runtime, compared the object that is about to be persisted with a freshly retrieved version straight from the database using the Equals() method and that returns true. However, the object still ends up creating a new row in the database. Elsewhere in the application this is working fine but I am hoping for a pointer on how NHib is working this out.
