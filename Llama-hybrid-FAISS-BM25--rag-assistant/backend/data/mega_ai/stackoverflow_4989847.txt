[site]: stackoverflow
[post_id]: 4989847
[parent_id]: 4982540
[tags]: 
There are a few flaws in your code: You read each byte from InputStream and then cast it into a char and appends it to string builder. If the stream is encoded characters, e.g. chinese, greek, any special characters, this will fail to properly decode the stream into readable string. Or if the stream is purely binary or ascii, string isn't the best to store your stream. This can easy happen when you submit a file multipart request. I am not an expert in concurrency (so I might be saying non sense here) but what would happen if there are more than one connection coming at the same time. You should becareful about this. From what I see, you want to deal with the header of the http request, so there is no reason you should not be using servlet filter as Alexey Sviridov suggested. You can implement your own filter to intercept the header and do something with it. The benefit of using filter is that you can let the servlet API to parse your requested header for you and you will not need to worry about when to read/write your input/output stream. However, if you intend to intercept the header of the request and decide whether the request should be passed onto your tomcat or servlet container, or doing anything which is not in the scope of servlet ability, you should look at the http proxy libraries. Here is example: http://proxies.xhaus.com/java/ There is a previous question about writting HTTP Proxy in Java on stack overflow. Regrettably, I don't want to encourage you to write your own http proxy. There are too many concerns you have to take into account.
