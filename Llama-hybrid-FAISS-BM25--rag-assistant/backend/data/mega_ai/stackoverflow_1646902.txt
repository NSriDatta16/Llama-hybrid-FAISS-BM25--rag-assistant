[site]: stackoverflow
[post_id]: 1646902
[parent_id]: 
[tags]: 
CreateProcess with WaitForSingleObject performance degradation

Everyone probably knows the code to run a program and wait for it to end: CreateProcess(... WaitForSingleObject(Process.hProcess, INFINITE It was used several times by myself. But recently I found that this call when it launches a program with a multimedia playback has worse performance than the same process being executed from a general file manager (Windows XP). That's ok with CPU consumption of my (parent) process, but while playing the fragment there are unexpected little stops. I made a little change to something like: CreateProcess ... do { Sleep(100); Res = WaitForSingleObject(Process.hProcess, 10); } while (Res == WAIT_TIMEOUT); And it helped. Now the child process plays the fragment without problems. So what's wrong with the first fragment and is it documented somewhere? As I see from the tests the second "wait" is more "relaxed" than the first one, but the first one doesn't eat CPU at least formally
