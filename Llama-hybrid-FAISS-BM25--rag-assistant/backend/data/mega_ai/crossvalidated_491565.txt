[site]: crossvalidated
[post_id]: 491565
[parent_id]: 
[tags]: 
Conditional probability greater than 1?

+-----+---------+------+----------+--------+ | Day | Outlook | Temp | Humidity | Beach? | +-----+---------+------+----------+--------+ | 1 | Sunny | High | High | Yes | +-----+---------+------+----------+--------+ | 2 | Sunny | High | Normal | Yes | +-----+---------+------+----------+--------+ | 3 | Sunny | Low | Normal | No | +-----+---------+------+----------+--------+ | 4 | Sunny | Mild | High | Yes | +-----+---------+------+----------+--------+ | 5 | Rain | Mild | Normal | No | +-----+---------+------+----------+--------+ | 6 | Rain | High | High | No | +-----+---------+------+----------+--------+ | 7 | Rain | Low | Normal | No | +-----+---------+------+----------+--------+ | 8 | Cloudy | High | High | No | +-----+---------+------+----------+--------+ | 9 | Cloudy | High | Normal | Yes | +-----+---------+------+----------+--------+ | 10 | Cloudy | Mild | Normal | No | +-----+---------+------+----------+--------+ Given this data, what is the probability of going to beach when Outlook=Sunny, Temp=High? I'm not talking about machine learning for now. I apply Bayes' theorem $ P(A\mid B) = \frac{P(B \mid A) P(A)}{P(B)} $ . $$ P(\textrm{Beach}\mid \textrm{Outlook}]=\textrm{Sunny}, \textrm{Temp}=\textrm{High}) \\[1em]= \frac{P(\textrm{Outlook}=\textrm{Sunny}, \textrm{Temp}=\textrm{High }\mid \textrm{Beach })\times P(\textrm{Beach})} {P(\textrm{Outlook}=\textrm{Sunny}, \textrm{Temp}=\textrm{High})} $$ I assume all attributes are independent, then I have $$ = \frac{P(\textrm{Outlook}=\textrm{Sunny}\mid \textrm{Beach })\times P(\textrm{Temp}=\textrm{High}\mid \textrm{Beach })\times P(\textrm{Beach})}{P(\textrm{Outlook}=\textrm{Sunny})\times P(\textrm{Temp}=\textrm{High})} $$ Plug in all values, I get $$ \begin{align*} =& \frac{\frac{3}{4}\times \frac{3}{4} \times \frac{4}{10}}{\frac{4}{10}\times \frac{5}{10}} = \frac{9}{8} \end{align*} $$ How can a probability be greater than 1? Where did I do wrong? Update After using gunes's total probability law, I get $P=\frac{27}{31}\neq 1$ . $$ \begin{align*} & \frac{P(\textrm{Outlook}=\textrm{Sunny}, \textrm{Temp}=\textrm{High }\mid \textrm{Beach })\times P(\textrm{Beach})}{P(\textrm{Outlook}=\textrm{Sunny}, \textrm{Temp}=\textrm{High})} \\[1em] =& \frac{P(O=S|B)\times P(T=H\mid B)\times P(B) \tag a}{P(O=S, T=H|B)\times P(B)+P(O=S, T=H|B')\times P(B') \tag b} \\[1em] =& \frac{P(O=S\mid B )P(T=H \mid B) P(B)}{P(O=S|B)P(T=H|B)P(B) +P(O=S|B')\times P(T=H|B')\times P(B') \tag a} \\[1em] = & \frac{\frac{3}{4}\times \frac{3}{4} \times \frac{4}{10}}{\frac{3}{4}\times \frac{3}{4}\times \frac{4}{10}+\frac{1}{6}\times \frac{2}{6}\times \frac{6}{10} } = \frac{27}{31} \end{align*} $$ a: assume conditional independence b: use total probability law Update 2 for Bounty Please show step-by-step calculation for probability of going to beach when Outlook=Sunny, Temp=High probability of not going to beach when Outlook=Sunny, Temp=High (do not use 1-p) probability of going to beach when Temp=Low, Humidity=High probability of not going to beach when Temp=Low, Humidity=High (do not use 1-p)
