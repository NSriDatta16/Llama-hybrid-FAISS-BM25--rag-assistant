[site]: stackoverflow
[post_id]: 1387321
[parent_id]: 1386477
[tags]: 
Here's my complete (working) code (essentially yours, but with more output), in hopes it will help: $url = 'www.yahoo.com'; $data['ip'] = $_SERVER['SERVER_ADDR']; $cookie_jar = sys_get_temp_dir() . 'cookiejar.txt'; $data['agent'] = 'Mozilla/5.0 (X11; U; Linux i686; pl-PL; rv:1.9.0.2) Gecko/20121223 Ubuntu/9.25 (jaunty) Firefox/3.8'; $fp = fopen('php://temp', 'r+'); $ch = curl_init(); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_INTERFACE, $data['ip']); curl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_jar); curl_setopt($ch, CURLOPT_COOKIEJAR, $cookie_jar); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); curl_setopt($ch, CURLOPT_USERAGENT, $data['agent']); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_VERBOSE, true); curl_setopt($ch, CURLOPT_STDERR, $fp); $page = curl_exec($ch); $errno = curl_errno($ch); $errmsg = curl_error($ch); $info = curl_getinfo($ch); curl_close($ch); rewind($fp); $verbose = fread($fp, 8192); fclose($fp); echo ' '; echo 'Error number: ' . $errno . ' '; echo 'Error message: ' . $errmsg . ' '; echo '------------------' . ' '; print_r($info); echo '------------------' . ' '; echo $verbose . ' '; echo '------------------' . ' '; echo htmlspecialchars($page); echo ' ';
