[site]: stackoverflow
[post_id]: 2801628
[parent_id]: 2801474
[tags]: 
The OSCache's idea of NeedsRefreshException is really flawed. First, this goes against the advice to use exceptions for usual execution flow (and yes, I do consider stale cache hit as a normal flow); secondly creating exception for this is really expensive. Now back to your question. If I was in your shoes, I would evaluate the possibility either to extend net.sf.ehcache.Element , or wrap your entry value into an object which would be able to check the timeToLive . But the main question is, why do you need to do that? If you are putting object into the cache and specifying the TTL, why bother checking the TTL on retrieval? The cache should be able to evict the object without any external help. Same applies for cases when you manually remove the entry (e.g. when the object has been changed). Maybe I am missing something here? The feature you're asking about is called read-through. How to do this is explained here: http://ehcache.org/documentation/concepts.html#read-through -- another unhappy OSCache user waiting to migrate to EHCache :(
