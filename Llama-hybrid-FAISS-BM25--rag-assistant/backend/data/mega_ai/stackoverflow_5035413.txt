[site]: stackoverflow
[post_id]: 5035413
[parent_id]: 
[tags]: 
Mongo data modeling/updates for voting (up and down)

There is an example on voting data model/update queries in Mongo: http://www.mongodb.org/display/DOCS/MongoDB+Data+Modeling+and+Rails#MongoDBDataModelingandRails-AtomicUpdates However I need both up and down votes (basically, one person can either cast up vote or down vote). Also, I want for voter to be able to change his mind and change upvote to downvote or vice-versa (so the list of voters and total number does not fit). What would be the best data model and corresponding update call? I see two possibilities, either do a 'votes': [{ 'user_id' : ... , 'vote': Â±1 }] or 'upvoters': [...], 'downvoters': [...] But I can't make an update query for the first one yet, and second one looks a bit weird (though it may be just me).
