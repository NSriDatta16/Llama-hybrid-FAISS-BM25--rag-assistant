[site]: stackoverflow
[post_id]: 5669886
[parent_id]: 5669084
[tags]: 
send and send off are built for asynchronous state changes. if you need synchronous updates then atoms are likely your best tool. since you need to preserve the order of requests you may have to use another data structure within a concurrency object (atom) can be syncrounoustly updated. It may work to put a persistent-queue inside an atom and have all your threads synchronousness add to that queue while your consumers synchronously pull entries from it. here is the super brief decission chart: more than one and synchronous: use a ref asynchronous one: use an agent asynchronous more than one: agents within a dosync synchronous and only one: use an agent.
