[site]: stackoverflow
[post_id]: 375209
[parent_id]: 375053
[tags]: 
This fixed my PHP warning: if($session->isAdmin()) { $authorized = true; } else { // split cwd at the first instance of /clients/ $dir = spliti('%(/|\\\\)clients(/|\\\\)%',getcwd(),2); if(count($dir) == 2) // if /clients/ was in cwd { // check if the second piece of cwd starts with the username. $authorized = (preg_match('%^'.$session->username.'*(/|\\\\)*.$%', $dir[1])); } else $authorized = false; } The problem is, spliti() is not splitting my cwd() return... The cwd() return I'm testing with is: c:\apache\htdocs\clients\mikey I want to be able to use either "/" or "\" which kind of forces me to use regex (to my knowlege.) Ruben's solution is less elegant (it seems to limit the directory depth allowed) but might work if I can't figure this out. I'm going to keep hammering away and see if I can sort out what's happening (it seems to all be a problem in my spliti() regex at this point.) input/feedback is always appreciated, even if it isn't a full solution to the problem (or even related. Let me know if my code sucks.) thanks! --Will (OP)
