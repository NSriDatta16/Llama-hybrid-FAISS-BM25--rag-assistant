[site]: stackoverflow
[post_id]: 5655772
[parent_id]: 3236791
[tags]: 
I found a rather elegant solution to this using the stringizer macro: #define stringify(s) tostring(s) #define tostring(s) #s #define mfspr(rn) ({unsigned int rval; \ asm volatile("mfspr %0," stringify(rn) \ : "=r" (rval)); rval;}) #define mtspr(rn, v) asm volatile("mtspr " stringify(rn) ",%0" : : "r" (v)) This is from the U-Boot code for the PowerPC.
