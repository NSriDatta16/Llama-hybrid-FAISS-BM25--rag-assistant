[site]: crossvalidated
[post_id]: 584208
[parent_id]: 
[tags]: 
How to assess effect of a treatment on different groups, if groups have an effect on the measured variable and each group only receives one treatment?

Let's say I want to assess the effect of a treatment (A or B) on a continuous variable measured on subjects. The subjects I want to experiment on are organized into "groups". It has been previously demonstrated that the "group" a subject is a part of can have an effect on the continuous variable I want to measure. Also, each member from the same group has to receive the same treatment. One thing I could do is calculate the average of each group, and test the averages of groups that received A vs the averages of the groups that received B (with t-test or non-parametric equivalent). However, this strikes me as "underpowered". Is there any method that, perhaps by taking into account the variance in each group, might be more powerful?
