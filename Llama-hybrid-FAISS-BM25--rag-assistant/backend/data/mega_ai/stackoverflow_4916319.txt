[site]: stackoverflow
[post_id]: 4916319
[parent_id]: 4916026
[tags]: 
I run both codes in a loop 1000 times. In average (but not always) the first vectorized code was 3-4 times faster. I cleared the result variables and preallocated before starting timer. x = rand(100,100); a = rand(100,100); K=1000; clear t1 t2 t1=zeros(K,1); t2=zeros(K,1); for k=1:K clear res tic res = x*a; t1(k) = toc; end for k=1:K clear res2 res2 = zeros(100,100); tic for i = 1:100 res2(:,i) = x*a(:,i); end t2(k) = toc; end So, never make a timing conclusion based on a single run.
