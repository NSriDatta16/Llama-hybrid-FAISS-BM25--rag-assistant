[site]: stackoverflow
[post_id]: 1225287
[parent_id]: 1015576
[tags]: 
The way I do it is less elegant that what it looks like you are shooting for: I preprocess the documents using a named entity recognizer and save all of the entities in a separate file. Then, when I am publishing to Solr, I just read the entities from this file and populate the entity fields (different for people, locations, and organizations). This could be simplified, but since I had already done the parsing for other work, it was easier to just reuse what already existed.
