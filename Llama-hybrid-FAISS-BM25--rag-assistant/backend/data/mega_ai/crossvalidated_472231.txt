[site]: crossvalidated
[post_id]: 472231
[parent_id]: 
[tags]: 
Can I use caret RFE result for subsequent random forest with CV?

I've been googling and reading alot about my issue but couldn't find a clear answer. In order to prevent data leakage, I use caret RFE for feature elimination: rfFuncs$summary This works well and tells me how many predictors I should use. Let's say I get the result that 60 features works best. However, according to plots and further analysis (e.g. pickSizeTolerance ) I know I can use the first 30 features and still having good performance of predictions. Now, can I use these 30 features (= features_rfe ) in a subsequent model training step (see code below) since I don't touch the test set until after this step? Or would I introduce data leakage with this step because the model gets trained with pre-selected best features? #---- random forest control rf_ctrl According to this answer here caret rfe variable selection and test prediction it seems to be ok to "Using feature selection on the training set and predicting the test set is fine.". But my feelings tell me "no". I hope you cann help me. Best, Troji
