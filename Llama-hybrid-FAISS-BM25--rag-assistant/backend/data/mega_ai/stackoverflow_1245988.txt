[site]: stackoverflow
[post_id]: 1245988
[parent_id]: 1245728
[tags]: 
The problem is that you are embedding the Popup inside the TreeViewItem , and somehow that is interfering with its built-in functionality. I don't think Popups are meant to be used that way, anyway. Because you can specify the PlacementTarget of a Popup, you can declare them anywhere and then open them at the location you want. The following mark-up demonstrates this with your example: Button inside popup Button outside popup As you can see, the Popup can be declared anywhere. You can then use PlacementTarget to put it right where you want. With this change, the ToggleButton works as expected.
