[site]: stackoverflow
[post_id]: 4216927
[parent_id]: 
[tags]: 
Problem saving as png a SVG generated by Raphael JS in a canvas

I'm trying to convert a SVG generated by Raphael JS (and the user, since you can drag and rotate the images). I followed this Convert SVG to image (JPEG, PNG, etc.) in the browser but still can't get it. It must be easy but I can't put my finger on what I get wrong. I got my svg in a div with #ec as id and the canvas's one is #canvas . function saveDaPicture(){ var img = document.getElementById('canvas').toDataURL("image/png"); $('body').append(' '); } $('#save').click(function(){ var svg = $('#ec').html(); alert(svg); canvg('canvas', svg, {renderCallback: saveDaPicture(), ignoreMouse: true, ignoreAnimation: true}); }); The alert gives me : Created with Raphael which is the xml of the svg and if I believe canvg documentation , it's good. Anyway, with this code, the variable img , which should have the converted image data, got the data of an empty png with the dimensions of the svg. The only thing I guess is that the svg generated by Raphael JS is not well formated for canvg (like, href of image should be xlink:href if I follow the W3C recommandations ) Anyone got an idea on this problem ? :D
