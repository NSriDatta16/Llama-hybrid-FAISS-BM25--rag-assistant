[site]: stackoverflow
[post_id]: 1575427
[parent_id]: 1575096
[tags]: 
Perl, 126 characters (115/122 with switches) Perl in 239 226 218 216 183 180 178 172 157 142 136 133 129 128 126 chars This 126 character solution in Perl is the result of a lengthy collaboration between myself and A. Rex. @o=($/)x10;$/=$";map{m[/];$p=4+(5-ord)%7; $_.=--$p?!($p&~3)*$'?16 ;print@o A. Rex also proposes a solution to run with the perl -ap switch. With 111(!) characters in this solution plus 4 strokes for the extra command-line switch, this solution has a total score of 115. $\="$: "x5;$p=4+(5-ord)%7,s#..##,$\=~s#(.)\K$#--$p? $_*!($p&~3)?"$1|".(16 The first newline in this solution is significant. Or 122 characters embedding the switches in the shebang line: #!perl -ap $\="$: "x5;$p=4+(5-ord)%7,s#..##,$\=~s#(.)\K$#--$p?$_*!($p&~3)?"$1|".(16 (first two newlines are significant). Half-notes can be supported with an additional 12 chars: @o=($/)x10;$/=$";map{m[/];$p=4+(5-ord)%7; $_.=--$p?!($p&~3)*$'?16 2?" @ ":" O ", $|--&&y@ @-@for@o}<>;print@o
