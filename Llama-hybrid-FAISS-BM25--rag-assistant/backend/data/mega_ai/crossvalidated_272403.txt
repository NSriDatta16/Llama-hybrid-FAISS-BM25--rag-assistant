[site]: crossvalidated
[post_id]: 272403
[parent_id]: 270889
[tags]: 
I just want to estimate the median of the population with a confidence interval using a non-parametric method. Note that the interval generated for the signed rank test is for the population version of the one-sample Hodges-Lehmann statistic (the pseudomedian), not the median. Under the assumption of symmetry (which is necessary under the null for the signed rank test, but not necessarily required under the alternative, which is what you're calculating a confidence interval under), the two population quantities will coincide. You may be happy to make that somewhat stronger assumption, but keep in mind that it's quite possible for the sample median to fall outside the CI this generates. How is the confidence interval shown above related to the Wilcoxon signed rank test? It's the set of values for the pseudomedian that would not be rejected by a signed rank statistic. You can actually find the limits that way; this is a pretty general way to arrive at confidence intervals for statistics you don't have a simpler way to do it for. There's a specific way to find the limits for the signed rank test that doesn't need you to do that, but you can use search methods to get there quite quickly with this general approach. The more specific approach for the signed rank test is based on a symmetric pair of order statistics of the Walsh averages (averages of each $(i,j)$ pair $\frac{1}{2}(X_i+X_j)$ , for $i \leq j$ ... i.e. including each point averaged with itself). The signed rank statistic is the number of positive $W$ s. Then if we label those averages $W_k, k=1, 2, ..., m$ where $m=n(n+1)/2$ , the corresponding interval will be the symmetric pair of order $(W_{(k)},W_{(m+1-k)})$ with $k$ chosen as small as possible but still leads to endpoints in the non-rejection region of the test. ( This pdf outlines that in some detail.)
