[site]: stackoverflow
[post_id]: 4834184
[parent_id]: 
[tags]: 
How Can I Display The Current Rating?

I was wondering if someone could post for me the changes I need to make to this code to get the current rating values to display on the page before the form is submitted as well as after, as it is written now. Thanks. Rating Tool Test '; if ( (!isset($_POST['submit'])) ) { echo ' Your Rating: '; for ($i = 1; $i $i "; } echo ' '; } else { $rate = isset ($_POST['rate']) ? $_POST['rate'] : 0; $filename = "ratings"; $alreadyRated = false; $totalRates = 0; $totalPoints = 0; $ip = getenv('REMOTE_ADDR'); $oldResults = file('results/'.$filename.'.txt'); foreach ($oldResults as $value) { $oneRate = explode(':',$value); if ($ip == $oneRate[0]) $alreadyRated = true; $totalRates++; $totalPoints += $oneRate[1]; } if ((!$alreadyRated) && ($rate > 0)){ $f = fopen('results/'.$filename.".txt","a+"); fwrite($f,$ip.':'.$rate."\n"); fclose($f); $totalRates++; $totalPoints+=$rate; } echo 'Total Average Rating: '.substr(($totalPoints/$totalRates),0,3).' Out Of 5. Total Votes: '.$totalRates.' '; for ($i=0;$i '; } echo ' '; } ?>
