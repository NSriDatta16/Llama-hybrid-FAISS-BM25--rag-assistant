[site]: stackoverflow
[post_id]: 5294080
[parent_id]: 
[tags]: 
How should I manage platform specific code in my Ruby gem?

I'm writing a gem that will have a platform specific (OSX, Windows and Linux) portion, as well as a platform independent portion. Each platform specific section will probably also depend on other platform specific gems. I'm not very sure how to organize this. Should I write a shared gem for the platform independent part, then three gems for the platform specific parts, and specify the shared gem as a dependency for each of them? Or is there a clever way to use the platform to set the (platform specific) dependencies in my gemspec? Or something else entirely?
