[site]: stackoverflow
[post_id]: 4302547
[parent_id]: 4302428
[tags]: 
A custom middleware would be best. If I understood your requirements, you want to both log how often the IP hits the web app and then to show the Captcha page for authorization. Keep in mind that this will keep Google and other search engine bots out as well if you won't add anything to deal with them specifically (e.g. User agent checking etc).
