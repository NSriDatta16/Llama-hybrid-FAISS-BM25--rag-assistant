[site]: crossvalidated
[post_id]: 502707
[parent_id]: 
[tags]: 
Comparing time series data with multiple pairs of time series, or difference-in-difference with continuous treatment conditions?

My dataset contains time-series for two variables ( $X$ and $Y$ ) from 2017 to 2020, for each of many different countries. Each country has its own time series for each variable (X_usa, X_india, Y_usa, Y_india, etc). My goal is to determine the general relationship between $X$ and $Y$ . The difficulty is that I don't know a good method to account for both country-effects, and time-effects. I could do a standard regression analysis, where each observation is a country's mean (over all times) values of $X$ and $Y$ . I could also do a Granger Causality Test, using just two time-series, where each date shows the mean of all the countries' $X$ and $Y$ values. The goal is to integrate information from BOTH dimensions. Standard regression, of course, fails to account for temporal effects present in time-series data (see, for instance, the start of this talk ). Meanwhile, taking the mean across countries would erase "spikes" or temporal patterns present in just some of the countries in the dataset. Is there a way to extend statistical tests for time-series (like Granger Causality) to multiple pairs of time-series data? Or, similarly, is there a way to use difference-in-difference (i.e., countries are treated at different points in time), but with a continuous set of measurements over time for each country, rather than just before/after, and with a continuous treatment variable? (I could, if needed, transform the "treatment," which is the amount of $X$ , into a single variable for each country, rather than a time-series).
