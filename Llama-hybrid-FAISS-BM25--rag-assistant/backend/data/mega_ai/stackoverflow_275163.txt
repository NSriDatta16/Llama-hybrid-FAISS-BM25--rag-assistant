[site]: stackoverflow
[post_id]: 275163
[parent_id]: 275038
[tags]: 
The config file format is sub-optimal, shall we say. That is, there are easier formats to parse and understand. [ Added : but the format is already defined by another program. Perl is flexible enough to deal with that.] Your code slurps the file when there is no real need. Your code only pays attention to the last line of data in the file (as Chris Charley noted while I was typing this up). You also have not allowed for comment lines or blank lines - both are a good idea in any config file and they are easy to support. [ Added : again, with the pre-defined format, this is barely relevant, but when you design your own files, do remember it.] Here's an adaptation of your function into somewhat more idiomatic Perl. #!/bin/perl -w use strict; use constant debug => 0; sub readConfigFile() { my %CONFIG; open(CON_FILE, "config") or die "failed to open file ($!)\n"; while (my $line = ) { chomp $line; $line =~ s/#.*//; # Remove comments next if $line =~ /^\s*$/; # Ignore blank lines foreach my $field (split(/>/, $line)) { my @arr = split(/=/, $field); $CONFIG{$arr[0]} = $arr[1]; print ":: $arr[0] => $arr[1]\n" if debug; } } close(CON_FILE); while (my($k,$v) = each %CONFIG) { print "$k => $v\n"; } return %CONFIG; } readConfigFile; # Ignores returned hash Now, you need to explain more clearly what the structure of the last field is, and why you have an 'ip' field without the key=value notation. Consistency makes life easier for everybody. You also need to think about how multiple lines are supposed to be handled. And I'd explore using a more orthodox notation, such as: pub=3;rec=0;size=3;adv=(1234,123,4.5);ip=6.00 Colon or semi-colon as delimiters are fairly conventional; parentheses around comma separated items in a list are not an outrageous convention. Consistency is paramount. Emerson said "A foolish consistency is the hobgoblin of little minds, adored by little statesmen and philosophers and divines", but consistency in Computer Science is a great benefit to everyone.
