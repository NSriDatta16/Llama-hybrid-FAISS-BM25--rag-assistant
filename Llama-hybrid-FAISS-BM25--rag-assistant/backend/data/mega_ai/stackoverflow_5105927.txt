[site]: stackoverflow
[post_id]: 5105927
[parent_id]: 
[tags]: 
Get ID of dynamically-created DIV not working in FireFox

I've tried everything to find this answer and it's now 1:00 in the morning and I have to go to bed and give up :( before my wife serves me with our second divorce ! :) My problem in short is this, I use google API's to (localsearch,imagesearch and websearch) to locate various strings that I incorporate into my site. They are loaded into a dynamic DIV and each set of results are given a div with an integer relating to it's number. For example, for (var i = 0; i " + letsseestreet + " " + letsseecity + " " + letsseeregion + " " + letsseecountr + " "; //var el = document.getElementById(attrname); LoopIn = i; // attach event onmouseclick to the created div tag if(isIE){ dv.onclick = new Function("SelectThis(attrname, attrname)"); } else{ dv.setAttribute("onclick", "SelectThis()"); } document.getElementById("foundresultsdiv").appendChild( dv ); } Now the problem is this. In both chrome, ie, safari and others I have no problem with the on-click component. IE, when the user clicks on one of the dynamically created divs, my script strips the content and loads them up into the form ready for the user to submit. The script that does this follows; function SelectThis(e) { var targ; if (!e) var e = window.event; if (!e) var e = elTags[e].getAttribute("name"); if (e.target) targ = e.target; else if (e.srcElement) targ = e.srcElement; if (!e) var e = window.event; if (e.target) targ = e.target; else if (e.srcElement) targ = e.srcElement; if (targ.nodeType == 3) // defeat Safari bug targ = targ.parentNode; theId=targ.id var TheStuffInside = document.getElementById(theId).innerHTML; var linebyline = TheStuffInside.split(" "); var searchname = document.getElementById('searchname') searchname.value = linebyline[0]; var stAddress = document.getElementById('stadd') stAddress.value = linebyline[1]; var suburb = document.getElementById('suburb') suburb.value = linebyline[2]; var stateLocal = document.getElementById('statelocal') stateLocal.value = linebyline[3]; var country = document.getElementById('country') country.value = linebyline[4]; } Now I can't brag here because I didn't write this script at all, and in the main it works well. EXCEPT in firefox. When I click on one of the dynamic divs in firefox NOTHING happens at all. In fact, the element returns an undefined result. I've tried heaps of variations from changing the code to adding event listeners on the on-load and I've had NO LUCK at all. Any advice here would be greatly appreciated. Who knows - you may even save my marriage !:) By the way, the // beat safari bug is technically incorrect but I didn't write it ok ! :) Any questions please let me know.
