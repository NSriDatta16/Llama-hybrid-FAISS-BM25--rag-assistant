[site]: stackoverflow
[post_id]: 2723650
[parent_id]: 2722293
[tags]: 
Another option is to use a psudo-terminal (ptty). You can also use TCP sockets, which have higher overhead than UNIX sockets, but would work. Bidirectional pipes are often discouraged because of the possibility of deadlock (prog1 is waiting on data from prog2 which is waiting on data from prog1 which is waiting on data from prog2 ...), but this can occur with any of the workarounds as well, and can occur with commonly used protocols like SMTP (simple mail transport protocol) as each side plays a role in a conversation. If you think that a deadlock could occur you may want to make at least one side has a timeout, which you can do by one of the poll functions (including poll, select, pselect, and epoll_*) or by arranging for an SIGALM to be delivered (with alarm or a few other functions which allow for shorter times and more control) so that your program can get kicked out of deadlock.
