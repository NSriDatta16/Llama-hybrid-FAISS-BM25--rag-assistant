[site]: stackoverflow
[post_id]: 3564391
[parent_id]: 3546165
[tags]: 
I'm not sure but what I know is that the hardware schedule and process fragments by block of 2x2 (for computing derivatives). This could be a reason that fxc try to unroll the for loop so that the shader program is executed in lockstep mode. Also did you try to use [loop] attribute for generating code that uses flow control?
