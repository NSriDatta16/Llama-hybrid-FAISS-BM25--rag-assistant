[site]: stackoverflow
[post_id]: 4469131
[parent_id]: 4455919
[tags]: 
Frankly speaking, I am going to create some kind of test suite for Magento to make possible writing test cases in your module without taking care of the initialization and so on. Of course I don't have enough time because of the projects, but I want to share the idea wich I am going to use considering database fixtures. I came up with creating a separate database for unit tests (copied from current by test case), because each test case will load initial data for it via fixture. The database connection credentials will be set up prior to Mage::app()->run() , so it will be possible to protect your development copy from possible changes by unit tests. You cannot rely on transactions, especially in case of saving product... There is set a commit callback for starting re-indexing process and it may cause unpredictable results if you haven't committed data to product tables. As well mysql server may gone away in this case, especially if you have a large database. UPDATE: The extension for it: http://www.ecomdev.org/2011/02/01/phpunit-and-magento-yes-you-can.html
