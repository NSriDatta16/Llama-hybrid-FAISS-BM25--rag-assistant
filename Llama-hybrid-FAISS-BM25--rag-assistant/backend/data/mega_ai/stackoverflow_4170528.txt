[site]: stackoverflow
[post_id]: 4170528
[parent_id]: 4167768
[tags]: 
In case you're not wanting keyword highlighting as battal suggested and are wanting to snip the relevant paragraph/content this is what I'd do: $snippets = array(); foreach ($matches as $i => $match) { $pos = strpos($match, $searchTerm); $buffer = 30; // characters before and after the search term is found // start index - 0 or 30 characters before instance of search term $start = ($pos - $buffer >= 0) ? $pos - $buffer : 0; // end index - 30 characters after instance of search term or the length of the match $end = $start + strlen($searchTerm) + $buffer; $end = ($end >= strlen($match)) ? strlen($match) : $end; $snippets[$i] = substr($match, $start, $end); }
