[site]: stackoverflow
[post_id]: 5308580
[parent_id]: 
[tags]: 
Android encryption/Decryption issue

I am doing an encryption decryption of file in android, for this purpose I am using following code private void encryptFile() { try { File f = new File(Environment.getExternalStorageDirectory() + "/images.jpg"); FileInputStream in = new FileInputStream(f); byte[] buffer = new byte[100]; int num = in.read(buffer, 0, 100); Encryption mEncryption = new Encryption("test"); File tempFile = new File(Environment.getExternalStorageDirectory() + "/temp.jpg"); FileOutputStream os = new FileOutputStream(tempFile); os.write(mEncryption.encrypt(buffer), 0, 100); while(in.read(buffer) != -1) { os.write(buffer); } in.close(); os.close(); } catch (Exception e) { e.printStackTrace(); } } private void decryptFile() { try { File f = new File(Environment.getExternalStorageDirectory() + "/temp.jpg"); FileInputStream in = new FileInputStream(f); byte[] buffer = new byte[100]; in.read(buffer, 0, 100); Encryption mEncryption = new Encryption("test"); File tempFile = new File(Environment.getExternalStorageDirectory() + "/images.jpg"); FileOutputStream os = new FileOutputStream(tempFile); os.write(mEncryption.decrypt(buffer), 0, 100); while(in.read(buffer) != -1) { os.write(buffer); } in.close(); os.close(); } catch (Exception e) { e.printStackTrace(); } } but when I decrypt file its giving me IllegalBlockSizeException: last block incomplete in decryption any Idea why its happening? Edit: I am using this Encryption class
