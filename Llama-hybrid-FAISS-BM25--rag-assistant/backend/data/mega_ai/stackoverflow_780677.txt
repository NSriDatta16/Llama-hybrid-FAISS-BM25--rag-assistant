[site]: stackoverflow
[post_id]: 780677
[parent_id]: 776861
[tags]: 
I would investigate if it's worth the trouble to build a limited-size buffer of your own. It's slow to write little bits to a TFileStream (especially when delayed-write has been disabled on the storage volume), because the disk driver would have to locate the sector to write to on each little bit. So if you use a buffer that's the size of a few sectors (a safe guess would be 512KB or 1MB), and write the buffer when it's full, it would speed up your work, without having to worry what to do with a gargantuously bloating TMemoryStream.
