[site]: stackoverflow
[post_id]: 1715257
[parent_id]: 
[tags]: 
XMPP chat sent/received message synchronization

Scenario : I am trying to develop a web site which features a chat widget. I am using ASP.NET, C#, agsXMPP library as my tools in achieving this purpose. I use Openfire jabber server for XMPP server. Problem : When I access the widget on the website and start chatting, I send a message with message type "chat" and thread set. I receive this message on the client in this case Spark. When I reply to this message, I see that the thread value is not the same as the one I sent? According to RFC 3921 section 2.1.2.3 , The value of the element is generated by the sender and SHOULD be copied back in any replies. However, I don't see this happening.This means, I cannot link the response with the message I sent. Can anyone help me with what I am missing? The following is the message sent and received. Sent Message : d6ddeebe-f23f-4854-a315-2a9de32906b8 Ramjee Ganti An Anonymous user via the web is attempting to contact you. Name: Ramjee Ganti Email: xxx@example.com Issue: Sample Test Received Message : Hello 42MtKq
