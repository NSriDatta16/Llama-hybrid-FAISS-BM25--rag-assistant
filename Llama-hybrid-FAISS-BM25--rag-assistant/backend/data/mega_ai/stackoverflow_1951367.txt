[site]: stackoverflow
[post_id]: 1951367
[parent_id]: 1876647
[tags]: 
Streams, as the name implies are intended for streamed text or binary processing. You are interested in reading blocks, so getting data into an string stream does't make much sense to me. An elegant approach would be to implement your own stream, using std::streambuf etc. as base. And then you will read and buffer blocks at the input, handling compression or not, and have a stream of data at the output, where you can properly read data with the usual operators into strings, integers etc. Otherwise you are stuck using the stream read method much like a system call to read data into a buffer. In this case I'd suggest reading data into a vector and not slowing things anymore by using an additional stringstream. You can find examples for implementing your own stream class around the net, such as gzstream. The book Standard C++ Iostreams and Locales book is useful too.
