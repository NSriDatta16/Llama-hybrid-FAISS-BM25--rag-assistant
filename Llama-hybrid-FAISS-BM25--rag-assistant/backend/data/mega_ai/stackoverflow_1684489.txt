[site]: stackoverflow
[post_id]: 1684489
[parent_id]: 
[tags]: 
How do you make sure WPF releases large BitmapSource from Memory?

System: Windows XP SP3, .NET 3.5, 4GB RAM, Dual 1.6gHz I have a WPF application that loads and transitions (using Storyboard animations) extremely large PNGs. These PNGs are 8190x1080 in resolution. As the application runs it appears to cache the images and the system Memory slowly creeps up. Eventually it chokes the system and throws the OutOfMemoryException. Here are the steps I am currently taking to try to solve this: 1)I am removing the BitmapSource objects from the app 2)I am setting the BitmapSource BitmapCacheOption to None when I load the BitmapSource 3)I am Freezing the BitmapSource once it's loaded. 4)I am deleting all references to the Image that uses the source as well as any references to the source itself. 5)Manually calling GC.Collect() after above steps have completed. Hoping to figure out why WPF is hanging onto memory for these images and a possible solution to ensure that the memory used to load them is properly recovered.
