[site]: stackoverflow
[post_id]: 1315642
[parent_id]: 1315581
[tags]: 
You want to get the number of unique visitors for each site per month? Something like this should work: SELECT COUNT(*), domain_id, m, y FROM ( SELECT ip, user_agent, COUNT(ID) AS hits, domain_id, DAY(date) as d, MONTH(date) as m, YEAR(date) as y FROM `stats` GROUP BY domain_id, ip, d, m, y ) AS tb GROUP BY tb.m, tb.y First it groups by day in the subquery, then it groups again by month in the surrounding query. I'm not entirely sure what your intention was, but you should be able to adapt this technique for your purpose. (edit: added year component to query)
