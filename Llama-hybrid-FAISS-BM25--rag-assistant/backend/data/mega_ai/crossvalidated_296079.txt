[site]: crossvalidated
[post_id]: 296079
[parent_id]: 294866
[tags]: 
I don't have the Prado & West book handy. I think, in your notation, the recurrence equations should be: $$ u_t = m_t + B_t( u_{t+1} - a_{t+1})$$ $$ H_t = C_t + B_t( H_{t+1} - R_{t+1})B_t'$$ Using different notation for the retrospective distribution's mean and variance parameters, if you have West, M., & Harrison, J. (1997). Bayesian forecasting and dynamic models (2nd ed.). New York: Springer. see Ch. 4.7 Filtering recurrences, Theorem 4.4 proof, page 115. Otherwise, see pages 102-103 of Bayesian risk management: a guide to model risk and sequential learning in financial markets by Matt Sekerke, John Wiley & Sons, 2015. Here, use notation $a_t,R_t$ for the (forward) filtering prior distribution parameters; and, $u_t,H_t$ for the (backward) smoothed state estimates. Store $\{a_t, R_t,m_t, C_t\} \quad\forall~ t=1 \ldots T$ for use below. For $t=T$, $$u_T = m_T \quad\text{and}\quad H_T = C_T\quad.$$ For $t=T-1, ~\ldots,~ 1$ $$u_t = m_t + B_t(u_{t+1} - a_{t+1})\quad\text{and}$$ $$H_t = C_t + B_t(H_{t+1} - R_{t+1}) B_t^{'}\quad.$$ The smoothed state distribution is $\Theta_t \sim N(u_t,H_t) \quad.$
