[site]: stackoverflow
[post_id]: 2757733
[parent_id]: 2660470
[tags]: 
"What exactly is going wrong?" Well, the error message is kinda self-explanatory. You called this method with title variable set to nil . To reproduce the error, try calling: slugify(nil) I suppose that it failed on this line: title = title.gsub(s, rep) To avoid this, you can either check for nil title at the beginning of the method: raise "wrong input!" if title.nil? or (IMHO more elegant) always convert title to string, which converts eventual nil to empty string: title = title.to_s # "any string" => "any string", nil => "" BTW your code could use some serious refactoring. For a start, try replacing: title = title.gsub(/a/,/b/) with title.gsub!(/a/,/b/) or use tr method instead of gsub for character-to_character replacement: "woot".tr("wt","WT") # => "WooT"
