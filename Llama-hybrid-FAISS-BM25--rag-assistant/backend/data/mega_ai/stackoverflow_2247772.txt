[site]: stackoverflow
[post_id]: 2247772
[parent_id]: 2247739
[tags]: 
You can just leverage the existing API instead of having to do all the dirty work yourself which cleans things up a lot: def self.write_to_file(data, mode, *path) path = File.expand_path(File.join(path.flatten), Rails.root) FileUtils.mkdir_p(File.dirname(path)) File.open(path, mode) do |fh| fh.print(data) end end There's a few things to note here. File.expand_path will resolve any "../" parts to the path. File.dirname is great at determining the directory of an arbitrary file path. Use File#print to write data to a file. File#puts appends a linefeed.
