[site]: stackoverflow
[post_id]: 1808874
[parent_id]: 
[tags]: 
How to do non-invasive profiling of a running ASP.NET application?

Situation: ASP.NET live website that's occasionally too busy. Adding full profiling to the code will be too heavy an impact on the performance. Using performance monitor, we've quickly find a saw-teeth figure in the "bytes in all heaps" counter, which pair with the GC counters. We consider certain pieces of code as being the culprit. Is there a way or possibility to temporarily "inject" profiling, either for certain pages, libs, functions or whatever? Preferably as lightweight as possible, as any additional overhead might bring down this fragile system. I'm aware that .NET does not support method callback hooks (as is common with AOP).
