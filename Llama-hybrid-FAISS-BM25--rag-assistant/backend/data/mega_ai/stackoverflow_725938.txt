[site]: stackoverflow
[post_id]: 725938
[parent_id]: 
[tags]: 
js/jQuery Drag'n'Drop, recalculate the drop targets

I have the following issue, I have a large tree which has subnodes which can be folded and unfolded on demand (the data within nodes gets fetched with AJAX). However, I use jquery.event.drop/drag to create my drag/drop targets. However, when I fold/unfold the drop targets change position and I need to recalculate. This is how I wanted to do that: function create_drop_targets() { $('li a') .bind('dropstart', function(event) { }) .bind('drop', function(event) { }) .bind('dropend', function(event) { }); } create_drop_targets() is called upon fold/unfold. However, this doesn't work. I have located the following within jquery.event.drop: var drop = $.event.special.drop = { setup: function(){ drop.$elements = drop.$elements.add( this ); drop.data[ drop.data.length ] = drop.locate( this ); }, locate: function( elem ){ // return { L:left, R:right, T:top, B:bottom, H:height, W:width } var $el = $(elem), pos = $el.offset(), h = $el.outerHeight(), w = $el.outerWidth(); return { elem: elem, L: pos.left, R: pos.left+w, T: pos.top, B: pos.top+h, W: w, H: h }; } Now I need to know how I can call the setup() method again so it repopulates $elements with the new positions for the droppables.
