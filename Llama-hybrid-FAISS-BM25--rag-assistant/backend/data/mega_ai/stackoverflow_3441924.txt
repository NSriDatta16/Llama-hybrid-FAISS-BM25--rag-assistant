[site]: stackoverflow
[post_id]: 3441924
[parent_id]: 3440905
[tags]: 
You have to maintain two heaps one max heap ( which contains the smallest N/2 elements seen till now) and one min heap ( which contains the largest N/2 elements). Store the extra element aside if N is odd. Whenever you call the function getNext(), If N becomes odd, save the new element as the extra element. If necessary, exchange that element with one from the min-heap or max-heap to satisfy the following condition max(max-heap) If N becomes even, do the same as above to get a 2nd extra element. Then, add the smaller one to the max-heap and the larger one to the min-heap. Insert should be O(log N) Get Median: O(1) If N is odd, the median is the extra element. If N is even, the median is the average between the tops of the 2 heaps
