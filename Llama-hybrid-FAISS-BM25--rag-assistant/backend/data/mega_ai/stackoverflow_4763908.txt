[site]: stackoverflow
[post_id]: 4763908
[parent_id]: 
[tags]: 
Bash: how to automatically insert spacing characters according to indent?

I've got lots of debug statements making for unreadable stacktraces (not my call) like this: 00:53:59,906 - j.util.indexing.FileBasedIndex - START INDEX SHUTDOWN 00:53:09,192 - .impl.stores.XmlElementStorage - Document was not loaded for $APP_CONFIG$/macros.xml 00:53:09,195 - s.impl.stores.FileBasedStorage - Document was not loaded for $APP_CONFIG$/quicklists.xml file is null 00:53:09,195 - .impl.stores.XmlElementStorage - Document was not loaded for $APP_CONFIG$/quicklists.xml 00:53:09,696 - ij.openapi.wm.impl.IdeRootPane - App initialization took 5584 ms 00:53:11,677 - TestNG Runner - Create TestNG Template Configuration 00:53:13,628 - indexing.UnindexedFilesUpdater - Unindexed files update started 00:53:15,370 - indexing.UnindexedFilesUpdater - Unindexed files update done 00:53:20,873 - tor.impl.FileEditorManagerImpl - Project opening took 10569 ms 00:53:31,862 - s.impl.stores.FileBasedStorage - Document was not loaded for $APP_CONFIG$/intentionSettings.xml file is null 00:53:31,862 - .impl.stores.XmlElementStorage - Document was not loaded for $APP_CONFIG$/intentionSettings.xml 00:54:00,723 - j.util.indexing.FileBasedIndex - END INDEX SHUTDOWN And I want them to look like this: 00:53:59,906 - j.util.indexing.FileBasedIndex - START INDEX SHUTDOWN 00:53:09,192 - .impl.stores.XmlElementStorage - Document was not loaded for $APP_CONFIG$/macros.xml 00:53:09,195 - s.impl.stores.FileBasedStorage - Document was not loaded for $APP_CONFIG$/quicklists.xml file is null 00:53:09,195 - .impl.stores.XmlElementStorage - Document was not loaded for $APP_CONFIG$/quicklists.xml 00:53:09,696 - ij.openapi.wm.impl.IdeRootPane - App initialization took 5584 ms 00:53:11,677 - TestNG Runner - Create TestNG Template Configuration 00:53:13,628 - indexing.UnindexedFilesUpdater - Unindexed files update started 00:53:15,370 - indexing.UnindexedFilesUpdater - Unindexed files update done 00:53:20,873 - tor.impl.FileEditorManagerImpl - Project opening took 10569 ms 00:53:31,862 - s.impl.stores.FileBasedStorage - Document was not loaded for $APP_CONFIG$/intentionSettings.xml file is null 00:53:31,862 - .impl.stores.XmlElementStorage - Document was not loaded for $APP_CONFIG$/intentionSettings.xml 00:54:00,723 - j.util.indexing.FileBasedIndex - END INDEX SHUTDOWN Now my code is formatted automatically so I know exactly how many characters there are in my source code for indent level. What I want to do is replace automatically every line in my code looking like: log.debug("some silly debug line"); with: log.debug(" " + "some silly debug line"); or: log.debug(" " + "some silly debug line"); depending on the number of indents before the log.debug line. I'm pretty sure some Bash/shell magic can do this automatically. Basically I'd start with a: find . -iname "*java" -exec ... then I'd like to insert " " on lines starting with log.debug depending on the indent level of these lines. How would I go about it? EDIT Damn: it needs to be able to run several times, without re-shifting the lines already containing log.debug(" " +) . It gets more complicated but now thanks to the good answer I've got something to start from :) Note : before yelling and shooting as to why this ain't a good idea, read my comment(s)
