[site]: stackoverflow
[post_id]: 1833088
[parent_id]: 
[tags]: 
What Gotchas have you discovered programming SMS/Alerts?

I am about to start building an SMS alerting function in my web application. The aim is to provide two services: Host pays - e.g. to send an SMS alerting users to the cancellation of an event User pays - e.g. to alert that an Email has been sent with, say, details of a new event (apparently a requirement from users when they are away from their EMail systems!) I also figure that there will be other user-pays scenarios such as if they have secondary mobile phones that they want alerting as the Host will only want to pay for a single phone per user. From my research: I can use a 3rd party SMS Gateway provider. Cost is about GBP 0.05 per message. I can either send an EMail to 999999999@TheGatewayProvider.com or I can use an HTTP request with suitable parameters in the URL. I can send an EMail to the user's network provider (I believe this is only available in the USA) EDIT : There are variations on how the various providers will handle the From/Subject and Message, so presentation of actual message sent may be hard to predict. I can set up my own Gateway (which I think is way beyond my ability, and may give grief at our data centre!) It strikes me that: EMail we send sometimes get delayed in my server's SMTP queue, let alone any downstream queues. Sending an email to the network provider's SMS gateway seems to often be treated as low priority. Therefore HTTP to a 3rd party SMS Gateway provider should give me shortest latency (important for "This afternoons event is cancelled because of bad weather") When I send SMS Text from my mobile occasionally they take days to arrive - I presume this is something we just have to live with? Having said that we will also have low priority informational messages and sending these by cheapest route is attractive! so I am planning to allow users to enter an EMail address for such messages - the intention being that they will use the email address for their mobile phone company's SMS redirect service, or similar (i.e. the email address of a device, not an inbox). I also wonder whether allowing the users to enter IM, Twitter or other such is likely to be well used and efficient in practice? From the 3rd party gateways I have looked at it seems: Some use higher grade networks than others, this may impact performance? (or is it just marketing hogwash?) Some provide better feedback than others. I need to keep the arguments over billing - and exactly how many "credits" the client has used up - to a minimum; getting an answerback of "OK" / "Phone number does not exist" therefore strikes me as important. One provider I found creates a text log file daily that can be downloaded and which I could reconcile with my outgoing log. I would appreciate your opinions and experiences on: Users will enter their mobile numbers as they know them. Do I need to enforce +9912345... so that I get the country code too? What happens if the mobile is foreign (I'm based in the UK) Does the recipient pay the international part? or does the gateway provider perhaps have local transmission services? What do I need to do with non alpha characters? The UK Pound sign "Â£" and CR / LF spring to mind. If these are encoded might that cause a message right on the length limit to exceed it once encoded (such that I need to build this in to the validation of the message creation form). Are new lines CR+LF or will just CR do? Do any gateways have simulations? such that I could test my application without incurring any actual costs of SMS texts. I plan to log the mobile numbers of any failed attempts and flag the user's record so that the next time they login I can encourage them to correct the number. Any other gotchas and suggestions you have would be much appreciated. Thanks.
