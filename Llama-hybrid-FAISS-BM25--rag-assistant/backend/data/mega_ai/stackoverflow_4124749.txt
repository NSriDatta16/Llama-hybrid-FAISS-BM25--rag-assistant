[site]: stackoverflow
[post_id]: 4124749
[parent_id]: 4124595
[tags]: 
You can ignore the gcc-specific thread-specific storage and use posix thead-specific storage. It should work and it's not gnu-specific. There's an example on the sun site . Here's a condensed example from ibm . Obviously you'd want to use more than one thread. pthread_key_t tlsKey = 0; int main(int argc, char **argv) rc = pthread_key_create(&tlsKey, globalDestructor); /* The key can now be used from all threads */ // Each thread can now use the key: char *myThreadDataStructure; void *global; myThreadDataStructure = malloc(15);//your data structure pthread_setspecific(tlsKey, myThreadDataStructure); /* Get the data back */ global = pthread_getspecific(tlsKey); free (myThreadDataStructure); rc = pthread_key_delete(tlsKey); }
