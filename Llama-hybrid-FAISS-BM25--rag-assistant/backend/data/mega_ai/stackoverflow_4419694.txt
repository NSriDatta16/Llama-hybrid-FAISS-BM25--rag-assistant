[site]: stackoverflow
[post_id]: 4419694
[parent_id]: 
[tags]: 
Using linux script, how to add or replace package statement in java source files

I have many Java source files which I need to change their package line with a custom one depending on the current directory structure. Some of these files don't have package lines, so I would want to replace them. Say the source file is in directory dirA and the current package header is package mypackage.myimpl; . I would like to change it to package dirA; . In the case where the source file had no package statement at all, I would like to add the package dirA; line. Is there an elegant one or two-liner in sed or awk?
