[site]: stackoverflow
[post_id]: 5693006
[parent_id]: 
[tags]: 
Drag and drop JavaScript query

//mouse down on dragged DIV element var flag = 0; function startdrag(t, e) { if (e.preventDefault) e.preventDefault(); //line for IE compatibility e.cancelBubble = true; t.style.position = "absolute"; window.document.onmousemove = dodrag; document.getElementById("resulttable").onmouseup = end; window.document.onmouseup = stopdrag; window.document.s = t; return false; } //move the DIV function dodrag(e) { //alert("dodrag"); if (!e) e = event; //line for IE compatibility t = window.document.s; if (t != null) { t.style.left = (t.offsetLeft + e.clientX - t.dragX) + "px"; posleft = (t.offsetLeft + e.clientX - t.dragX) + "px"; t.style.top = (t.offsetTop + e.clientY - t.dragY) + "px"; t.dragX = e.clientX; t.dragY = e.clientY; } return false; } //restore event-handlers function stopdrag(e) { if (flag == 1) window.document.s = null; else alert("outside valid range"); // code for setting object to original area return false; } function end(e) { flag = 1; return false; } // table from where we start dragging "> // target div where to put element Put whatever you want in here PROBLEM: When I start dragging, all statements of startdrag() are called and then dodrag() and so on. end() is not called even though we put element on target div, so flag remains as 0.
