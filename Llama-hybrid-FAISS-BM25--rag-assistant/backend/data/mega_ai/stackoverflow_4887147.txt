[site]: stackoverflow
[post_id]: 4887147
[parent_id]: 
[tags]: 
What headers do I send to cause a PHP script's output to be cached?

I'm using a PHP script to serve images (stored outside of webroot) to visitors who have provided credentials allowing them access. I'm sending the following headers: 'Content-Type', 'Last-Modified', 'Content-Length', 'Content-Disposition' (to set filename). I incorporated code to check $_SERVER['HTTP_IF_MODIFIED_SINCE'] and if appropriate, send a 'HTTP/1.1 304 Not Modified' and quit. But in Firebug I notice that the response headers for the request include this: Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0 Pragma: no-cache and the image does appear to be downloading anew every time I view the page. This is unnecessary; it makes sense for the images to be cached by the client. But I don't know what extra headers I should send to make this happen. What headers do I need to send? Edit: These are the header commands I ended up putting in the script: header('Cache-Control: private, max-age=0, must-revalidate'); header('Expires: Sat, 1 Jan 2000 12:00:00 GMT'); header('Pragma:');
