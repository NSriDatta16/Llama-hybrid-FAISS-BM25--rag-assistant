[site]: stackoverflow
[post_id]: 4044470
[parent_id]: 4044345
[tags]: 
This is not intended to be a definitive answer, but merely an example of you could accomplish this using stackalloc and unsafe code. public unsafe class Example { [DllImport("library.dll")] private static extern int CFunction(A* pointerToFirstElementOfArray, int NumberOfArrayElements); public void DoSomething() { A* a = stackalloc A[LENGTH]; CFunction(a, LENGTH); } } Also, pay attention to the packing of the struct that the API accepts. You may have to play around with the Pack property of the StructLayout attribute. I believe the default is 4, but some APIs expect 1. Edit: For this to work you will have to change the declaration of A from a class to a struct. public struct A { public int data; }
