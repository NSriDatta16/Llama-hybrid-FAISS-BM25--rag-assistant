[site]: stackoverflow
[post_id]: 4181974
[parent_id]: 
[tags]: 
How to get file size of multiple file download

I am writing an ASP.NET web application. I calculate the total size of my PDF file which is mentioned below. What does this return? When I download a 2KB file, it returns a size of 2KB, which is correct. But when I download 2 files each of size 2KB, then the total size it returns is 2.16KB. Is that correct? Should it return 4KB? StringReader reader = new StringReader(content); MemoryStream ms = new MemoryStream(); Document doc = new Document(PageSize.A4, 50, 50, 30, 30); HTMLWorker parser = new HTMLWorker(doc); PdfWriter.GetInstance(doc, ms); doc.Open(); try { parser.Parse(reader); } catch (Exception ex) { Paragraph paragraph = new Paragraph("Error! " + ex.Message); paragraph.SetAlignment("center"); Chunk text = paragraph.Chunks[0] as Chunk; if (text != null) { //text.Font.Color = iTextSharp.text.BaseColor.RED; } doc.Add(paragraph); } finally { doc.SetMargins(10, 10, 10, 10); doc.Close(); } Byte[] buffer = ms.GetBuffer(); if (buffer != null) { Response.ContentType = "application/pdf"; Response.AppendHeader("content-disposition", "attachment;filename=FileName.pdf"); //Response.AddHeader("content-length", buffer.Length.ToString()); Response.BinaryWrite(buffer); }
