[site]: stackoverflow
[post_id]: 4618103
[parent_id]: 4616671
[tags]: 
sounds like you should have the changeLocation() method in the model (hierarchicalObject i presume). just store the new location and the object in the command. for undo/redo you will need a list or two for commands. sound like your hierarchicalObject may be a http://en.wikipedia.org/wiki/Composite_pattern , so have a take a look at the macro command in the gang-of-four book. also review: http://en.wikipedia.org/wiki/Command_pattern . Christopher Alexander says: "Each pattern describes a problem which occurs over and over again in our environment, and then describes the core of the solution to that problem, in such a way that you can use this solution a million times over, without ever doing it the same way twice".
