[site]: stackoverflow
[post_id]: 4369063
[parent_id]: 
[tags]: 
Javascript firefox can't find values all other browsers do

function ganttChart(gContainerID) { this.gContainer = document.getElementById(gContainerID); // The container the chart this.gCurrentDragBar = -1; this.gIsDraggingBar = false; this.gMouseStartX = 0; this.gMouseStartY = 0; this.gBarStartX = 0; this.gBarStartY = 0; this.gBarBeingDragged; this.gCurrentMouseX; this.gCurrentMouseY; // On mouse move this.gAttatchMove = function(self) { self.gContainer.onmousemove = function(evt) { if (self.gIsDraggingBar) { self.gUpdateMousePos(evt); self.gBarBeingDragged.style.left = (self.gBarStartX - (self.gMouseStartX - self.gCurrentMouseX)) + "px"; //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% // PRINTS MESSAGE HERE document.getElementById("db").innerHTML = "Bar start: " + self.gBarStartX + " Mouse start:" + self.gMouseStartX + " Mouse current:" + self.gCurrentMouseX; //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% } }; self.gContainer.onmouseup = function() { self.gIsDraggingBar = false; }; } var self = this; this.gAttatchMove(self); // Update mouse coords this.gUpdateMousePos = function(evt) { if (window.event) { this.gCurrentMouseX = event.x; this.gCurrentMouseY = event.y; } else { this.gCurrentMouseX = evt.x; this.gCurrentMouseY = evt.y; } } // Sets up the bar mouse events gSetupMouseEvents = function(gBar, i, self) { gBar.onmouseover = function() { gBarHighlight(gBar, self.gData[i][1], self.gData[i][2]); }; gBar.onmouseout = function() { gBarUnHighlight(gBar, self.gData[i][1], self.gData[i][2]); }; gBar.onmousedown = function(evt) { // Initialise self.gCurrentDragBar = i; self.gBarBeingDragged = document.getElementById("gBar" + i); self.gIsDraggingBar = true; // Set initial positions self.gUpdateMousePos(evt); self.gMouseStartX = self.gCurrentMouseX; self.gMouseStartY = self.gCurrentMouseY; self.gBarStartX = self.gBarBeingDragged.offsetLeft; self.gBatStartY = self.gBarBeingDragged.offsetTop; }; } } The values printed out are: Firefox: Bar start: 0 Mouse start:undefined Mouse current:undefined Chrome Bar start: 0 Mouse start:163 Mouse current:165 IE Bar start: 1 Mouse start:3 Mouse current:19 I'm not worried about varying values between IE/Chrome I can debug that (just the way mouse position is interpreted) but firefox not picking any values is confusing me!
