[site]: stackoverflow
[post_id]: 1228934
[parent_id]: 
[tags]: 
Overwrite .data() if a condition is met

I am doing a image Tool tip (larger preview), it ads a .data() of the replaced source. but on .error i want the same data to have a different value. It seems like that doesn't overwrite the .data("lrgSrc") on .error $ImgTipCanid.each(function() { var t = $(this).attr("src"); var tt = t.replace(/medium/,"Large"); var ttt = t.replace(/medium/,"Full"); var noPic = t.indexOf("nopic"); if(noPic === -1) { $(this).addClass("hovelble").data("lrgSrc",tt) $(this).error(function(){ $(this).data("lrgSrc",ttt); }); } });
