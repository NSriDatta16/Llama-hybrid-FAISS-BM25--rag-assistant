[site]: stackoverflow
[post_id]: 339388
[parent_id]: 327985
[tags]: 
I recently wrote a script to do something very similar to this. It would traverse a project, find all module dependencies and add any missing import statements. I won't clutter this post up with the entire script, but I'll show how I went about modifying my files. import os from mmap import mmap def insert_import(filename, text): if len(text) Summary: This snippet takes a filename and a blob of text to insert. It finds the last import statement already present, and sticks the text in at that location. The part I suggest paying most attention to is the use of mmap. It lets you work with files in the same manner you may work with a string. Very handy.
