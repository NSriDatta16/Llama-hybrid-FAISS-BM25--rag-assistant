[site]: crossvalidated
[post_id]: 324668
[parent_id]: 
[tags]: 
How is this minimum variance worked out for this importance sampling estimator?

I was stuck with the function 17.13 in the open source book deep learning on page 590 . For short, the question is that, For the importance sampling estimator: $$\hat s_q = \frac{1}{n}\sum_{i=1, x^{i}\sim q}\frac{p(x^{(i)})f(x^{(i)})}{q(x^{(i)})}$$ and its variance can be represented as: $$Var[\hat s ] = Var[\frac{p(x)f(x)}{q(x)}]/n$$ I am not clear that why the minimum occurs when q is: $$q^*(x)=\frac{p(x)|f(x)|}{Z},$$ where $Z$ is the normalization constant, chosen so that $q^âˆ—(x)$ sums or integrates to 1 as appropriate. Any suggestions are highly appreciated. Thanks very much!
