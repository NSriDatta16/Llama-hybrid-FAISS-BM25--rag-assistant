[site]: stackoverflow
[post_id]: 3471529
[parent_id]: 
[tags]: 
ASIHTTPRequest Download cache problem - unable to save/load date in cache

I am trying to save data into cache using ASIHTTP ( http://allseeing-i.com/ASIHTTPRequest/How-to-use#using_a_download_cache ). I am not sure what I am doing wrong but it seems not to be storing data into cache. The output of the following code is this: 2010-08-12 15:44:13.801 TabBar[51728:207] Success is YES 2010-08-12 15:44:13.802 TabBar[51728:207] Success is NO 2010-08-12 15:44:13.804 TabBar[51728:207] Success is YES 2010-08-12 15:44:13.805 TabBar[51728:207] S----------- 2010-08-12 15:44:13.874 TabBar[51728:207] Success is YES 2010-08-12 15:44:13.874 TabBar[51728:207] Success is NO 2010-08-12 15:44:13.876 TabBar[51728:207] Success is YES Here is the code: [[ASIDownloadCache sharedCache] clearCachedResponsesForStoragePolicy: ASICacheForSessionDurationCacheStoragePolicy]; [[ASIDownloadCache sharedCache] setDefaultCachePolicy:ASIOnlyLoadIfNotCachedCachePolicy]; ASIHTTPRequest *request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:@"http://www.nytimes.com/"]]; [request setDownloadCache:[ASIDownloadCache sharedCache]]; [request startSynchronous]; request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:@"http://www.nytimes.com/"]]; [request setDownloadCache:[ASIDownloadCache sharedCache]]; [request startSynchronous]; BOOL success = ([request responseStatusCode] == 200); NSLog(@"Success is %@\n", (success ? @"YES" : @"NO")); success = [request didUseCachedResponse]; NSLog(@"Success is %@\n", (success ? @"YES" : @"NO")); success = ([[request responseData] length]); NSLog(@"Success is %@\n", (success ? @"YES" : @"NO")); NSLog(@"S-----------"); request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:@"http://www.nytimes.com/"]]; [request setDownloadCache:[ASIDownloadCache sharedCache]]; [request startSynchronous]; success = ([request responseStatusCode] == 200); NSLog(@"Success is %@\n", (success ? @"YES" : @"NO")); success = [request didUseCachedResponse]; NSLog(@"Success is %@\n", (success ? @"YES" : @"NO")); success = ([[request responseData] length]); NSLog(@"Success is %@\n", (success ? @"YES" : @"NO")); Can someone give me some code snippet on how to accomplish this? Thanks! ----------------------------------------------------------------------- NEW CODE REVISION: NSURL *url = [NSURL URLWithString:imageURL]; ASIHTTPRequest *request = [ASIHTTPRequest requestWithURL:url]; [request setDownloadCache:[ASIDownloadCache sharedCache]]; [request setCacheStoragePolicy:ASICachePermanentlyCacheStoragePolicy]; [request setCachePolicy:ASIOnlyLoadIfNotCachedCachePolicy]; [request setSecondsToCache:60*60*24*30]; // Cache for 30 days [request startSynchronous];//startAsynchronous]; BOOL success = [request didUseCachedResponse]; NSLog(@"------------>>>>>>> Success is %@\n", (success ? @"YES" : @"NO")); NSData *responseData = [request responseData]; UIImage *image = [[UIImage alloc] initWithData:responseData]; This only works with [request startSynchronous]; if I try Asynchronous method, it dosent call this function: - (void)requestFinished:(ASIHTTPRequest *)request
