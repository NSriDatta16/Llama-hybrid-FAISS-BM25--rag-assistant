[site]: stackoverflow
[post_id]: 2270377
[parent_id]: 2270271
[tags]: 
It seems you have the answers you need, but I thought I'd post this link, What is an Action Policy? , that I found to provide a much more elegant solution. Lokad has some rather labyrinthine implementations, but the guy's logic is pretty solid, and the end code you'd end up writing is pretty and simple.
