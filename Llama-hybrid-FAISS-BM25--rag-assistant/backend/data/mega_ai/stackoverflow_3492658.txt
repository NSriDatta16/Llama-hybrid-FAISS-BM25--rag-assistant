[site]: stackoverflow
[post_id]: 3492658
[parent_id]: 3492372
[tags]: 
See the DBIx::Class cookbook on the "Profiling" section for examples on how to do that. Simply enabling profiling via the DBIC_TRACE=1 environment variable will not do what you want, but you can sub-class DBIx::Class::Storage::Statistics (as per the linked cookbook example) and override query_start and query_end in a way that lets you count the SQL queries done. The linked example is very close to what you want to achieve.
