[site]: stackoverflow
[post_id]: 4847519
[parent_id]: 4847385
[tags]: 
Edit to match updated question Okay, let me start with a truism: don't try to parse HTML by yourself. HTML::TreeBuilder is your friend. For regular expressions, the perlfaq6 is a great source of knowledge. The following sample works with the following syntax: perl WebScan.pl --regex="information|writers" --filename=WebPage000.htm . It will print a list of paragraphs and their matches. #!/usr/bin/perl use warnings; use strict; use HTML::TreeBuilder; use Data::Dumper; use Getopt::Long; my @regexes; my $filename; GetOptions('regex=s' => \@regexes, 'filename=s' => \$filename); my $tb = HTML::TreeBuilder->new_from_file($filename); $tb->normalize_content; my @patterns = map { qr/$_/ } @regexes; my @all; foreach my $node ($tb->find_by_tag_name('p', 'pre', 'blockquote')) { my $text = $node->as_text; my @matches; foreach my $r (@patterns) { while ($text =~ /$r/gi) { push @matches, $&; } } push @all, { paragraph => $text, matches => \@matches } if @matches; } foreach (@all) { print "Paragraph:\n\t$_->{paragraph}\nMatches:\n\t", join(', ', @{$_->{matches}}), "\n"; } Hopefully, this can point you in the right direction.
