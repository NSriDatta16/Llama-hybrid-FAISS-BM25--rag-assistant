[site]: stackoverflow
[post_id]: 4383252
[parent_id]: 
[tags]: 
Embedding Google MapView crashes android app

model : zt180 firmware : android 2.1-update1-20101030 kernel : 2.6.32.9 usbandroid #1608 build number zt180-eng 2.1-update1 20101030 google maps : 4.5.1 Various crashes occur when embedding the google maps component into an android application. I'm connecting to a router via Wi-Fi for internet access. The stand-alone google maps app seems to work fine. To re-produce, start the maps app and begin scrolling around. Will fail within a couple of minutes, occasionally on start-up (in setContentView). Most of the errors are when drawing tiles in google code. Sometimes just an Android SEGV. NOTE : I've tested the same app on the Android developer phone 2 (os 1.6), and it works fine. My android app is as follows: import com.google.android.maps.MapActivity; import android.os.Bundle; public class Maps extends MapActivity { public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main); } protected boolean isRouteDisplayed() { return false; } } ========================= W/MapActivity( 2745): Recycling dispatcher com.google.googlenav.datarequest.DataRequestDispatcher@45ebcd30 V/MapActivity( 2745): Recycling map object. I/ActivityManager( 2010): Displayed activity com.brta.android.lite/.Maps: 720 ms (total 720 ms) I/MapActivity( 2745): Handling network change notification:CONNECTED E/MapActivity( 2745): Couldn't get connection factory client D/AndroidRuntime( 2745): Shutting down VM W/dalvikvm( 2745): threadid=3: thread exiting with uncaught exception (group=0x4001b168) E/AndroidRuntime( 2745): Uncaught handler: thread main exiting due to uncaught exception E/AndroidRuntime( 2745): java.lang.IncompatibleClassChangeError: interface not implemented E/AndroidRuntime( 2745): at com.google.googlenav.map.Map.checkPaintTimeExceeded(Unknown Source) E/AndroidRuntime( 2745): at com.google.googlenav.map.Map.drawMapBackground(Unknown Source) E/AndroidRuntime( 2745): at com.google.googlenav.map.Map.drawMap(Unknown Source) E/AndroidRuntime( 2745): at com.google.android.maps.MapView.drawMap(MapView.java:1048) E/AndroidRuntime( 2745): at com.google.android.maps.MapView.onDraw(MapView.java:486) I/Process ( 2745): Sending signal. PID: 2745 SIG: 9 I/ActivityManager( 2010): Process com.brta.android.lite (pid 2745) has died. I/WindowManager( 2010): WIN DEATH: Window{46112878 com.brta.android.lite/com.brta.android.lite.Maps paused=false} I/UsageStats( 2010): Unexpected resume of org.adw.launcher while already resumed in com.brta.android.lite` ====================================================================== I/MapActivity( 2863): Handling network change notification:CONNECTED E/MapActivity( 2863): Couldn't get connection factory client D/dalvikvm( 2863): GC freed 8114 objects / 577376 bytes in 86ms D/dalvikvm( 2863): GC freed 685 objects / 444384 bytes in 85ms D/dalvikvm( 2863): GC freed 3458 objects / 259456 bytes in 79ms I/ActivityManager( 2010): Displayed activity com.brta.android.lite/.Maps: 4407 ms (total 4407 ms) D/AndroidRuntime( 2863): Shutting down VM W/dalvikvm( 2863): threadid=3: thread exiting with uncaught exception (group=0x4001b168) E/AndroidRuntime( 2863): Uncaught handler: thread main exiting due to uncaught exception E/AndroidRuntime( 2863): java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 0 E/AndroidRuntime( 2863): at java.util.Vector.elementAt(Vector.java:331) E/AndroidRuntime( 2863): at com.google.googlenav.map.Map.drawTile(Unknown Source) E/AndroidRuntime( 2863): at com.google.googlenav.map.Map.drawMapBackground(Unknown Source) E/AndroidRuntime( 2863): at com.google.googlenav.map.Map.drawMap(Unknown Source) E/AndroidRuntime( 2863): at com.google.android.maps.MapView.drawMap(MapView.java:1048) E/AndroidRuntime( 2863): at com.google.android.maps.MapView.onDraw(MapView.java:486) E/AndroidRuntime( 2863): at android.view.View.draw(View.java:6535) E/AndroidRuntime( 2863): at android.view.ViewGroup.drawChild(ViewGroup.java:1531) E/AndroidRuntime( 2863): at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1258) E/AndroidRuntime( 2863): at dalvik.system.NativeStart.main(Native Method) I/Process ( 2010): Sending signal. PID: 2863 SIG: 3 I/dalvikvm( 2863): threadid=7: reacting to signal 3 I/dalvikvm( 2863): Wrote stack trace to '/data/anr/traces.txt' I/Process ( 2863): Sending signal. PID: 2863 SIG: 9 I/WindowManager( 2010): WIN DEATH: Window{460ac708 com.brta.android.lite/com.brta.android.lite.Maps paused=false} I/ActivityManager( 2010): Process com.brta.android.lite (pid 2863) has died. I/UsageStats( 2010): Unexpected resume of org.adw.launcher while already resumed in com.brta.android.lite W/InputManagerService( 2010): Got RemoteException sending setActive(false) notification to pid 2863 uid 10046 Basically, lots of bad things start happening...
