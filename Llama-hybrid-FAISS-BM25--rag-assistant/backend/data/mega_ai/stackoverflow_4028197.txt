[site]: stackoverflow
[post_id]: 4028197
[parent_id]: 4017897
[tags]: 
This is not a very elegant solution, but it does seem to work. Can someone please come up with something better? EDIT: Here's a jsFiddle with the code running: http://jsfiddle.net/Tobbe/JrkSN/3/ EDIT2: It works until I click on a date, then all the events disappears because the beforeShowDay callback isn't called in that case. How do I work around that? getEvents(); $(function() { $('#dateDiv').datepicker({ altField: '#dateInput', altFormat: 'yy-mm-dd', dateFormat: 'yy-mm-dd', firstDay: '1', showOtherMonths: 'true', beforeShowDay: beforeShowDay, onChangeMonthYear: getEvents }); }); var enqueuedDates = []; var tryCounter = 0; var events = []; function getEvents() { events = []; enqueuedDates = []; $.getJSON('events.json', function(json) { events = json; }); } function beforeShowDay(date) { enqueuedDates.push(new Date(date)); if (enqueuedDates.length == 35) { processEnqueuedDates(); } return [true, '', '']; } function processEnqueuedDates() { if (!events || events.length === 0) { tryCounter++; if (tryCounter ').attr('id', 'eventPopup'); $('body').append(popup); } var pos = $(this).offset(); popup.html(' ' + eventText + ' '). css('left', pos.left + 5 + 'px'). css('top', (pos.top - popup.height() - 2) + 'px'). bind('mouseenter', function() { clearTimeout(hideTimeoutID); hideTimeoutID = null; }). bind('mouseleave', function() { $(this).hide(); }). show(); } }(event.text)). bind('mouseleave', function(eventObject) { hideTimeoutID = setTimeout(function() { $('#eventPopup').hide(); }, 200); }); } } } function getEvent(events, date) { return events.filter(function(event, index, arr) { return date - $.datepicker.parseDate('yy-mm-dd', event.date) === 0; })[0]; }
