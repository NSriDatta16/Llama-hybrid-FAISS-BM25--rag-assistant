[site]: stackoverflow
[post_id]: 978810
[parent_id]: 
[tags]: 
How to strip whitespace-only text nodes from a DOM before serialization?

I have some Java (5.0) code that constructs a DOM from various (cached) data sources, then removes certain element nodes that are not required, then serializes the result into an XML string using: // Serialize DOM back into a string Writer out = new StringWriter(); Transformer tf = TransformerFactory.newInstance().newTransformer(); tf.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "yes"); tf.setOutputProperty(OutputKeys.ENCODING, "UTF-8"); tf.setOutputProperty(OutputKeys.INDENT, "no"); tf.transform(new DOMSource(doc), new StreamResult(out)); return out.toString(); However, since I'm removing several element nodes, I end up with a lot of extra whitespace in the final serialized document. Is there a simple way to remove/collapse the extraneous whitespace from the DOM before (or while) it's serialized into a String?
