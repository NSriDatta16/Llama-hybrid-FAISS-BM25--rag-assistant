[site]: stackoverflow
[post_id]: 4339713
[parent_id]: 4339576
[tags]: 
There's a lot of things wrong with this code. You increment begin only by one each time around the loop. This means you find the same href over and over again. I think you meant to move begin to after end ? The strncpy will normally copy 100 characters (as the HTML will be longer) and so will not nul-terminate the string. You want url[100] = '\0' somewhere Why do you allocate 1000 characters and use only 100? You search for end starting with begin. This means if there's a before the href="" you'll find that instead. You don't use end for anything. Why don't you search for the terminating quote at the end of the URL? Given the above issues (and adding the termination of URL) it works OK for me. Given " Email services " it prints URL = Email services URL = a href="/email_services.php">Email services URL = href="/email_services.php">Email services URL = href="/email_services.php">Email services Total URLs = 4 For the allocation of space, I think you should keep the result of the strstr of "href=\"" (call this start and then the size you need is end - start (+1 for the terminating NUL). Allocate that much space, strncpy it across, add the NUL and Robert's your parent's male sibling. Also, remember href= isn't unique to anchors. It can appear in some other tags too.
