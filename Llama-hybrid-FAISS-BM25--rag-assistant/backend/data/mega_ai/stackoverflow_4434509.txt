[site]: stackoverflow
[post_id]: 4434509
[parent_id]: 
[tags]: 
Database structure and querying hierarchal data and trees of data

Possible Duplicate: What is the most efficient/elegant way to parse a flat table into a tree? This I am finding rather tricky and would like some opinions on the matter. I am trying to store hierarchal data (tree like) with an unknown number of levels and branches. I am wanting to be able to add new ones and delete any at any time. I need to be able to query from any node in the hierarchy for all of the children id's in one go and efficiently due to large user base. Lets take a hypothetical example of a website where families socialise and update their status like in facebook and at any time you can be viewing a family members "Wall" which will also include all of the recent status updates form the people below them in the hierarchy in chronological order. Obviously the fetching posts once you have the array of family members id's who are children of this family members node is easy enough in a loop. Lets take an example simple table structure of: id | parentId | name ________________________ 1 | NULL | John 2 | 1 | Peter 3 | 1 | Bob 4 | 3 | Emma 5 | 2 | Sam 6 | 4 | Gill etc.... You get the idea. I need to be able to do the above with something like this unless you think the structure needs to be adapted. I have read up on mySql nested set model . This seems very fiddly and could be unreliable if something was not to update correctly and would mess everything up. I am used to using php and mysql but have been reading a bit on cassandra and thrift. Not sure if this would be easier?
