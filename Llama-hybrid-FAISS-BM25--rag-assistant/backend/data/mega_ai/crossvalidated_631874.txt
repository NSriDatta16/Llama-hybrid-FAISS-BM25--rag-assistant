[site]: crossvalidated
[post_id]: 631874
[parent_id]: 631870
[tags]: 
I assume that $p_{i,n}$ depends only on $n$ , the number of success (according to the title of the question). However, the answer below would be analogous even if $p_{i,n}$ would depends also on $i$ (the number of trials performed so far). A straightforward way to model this problem would be as a Markov Chain. It would consists of states $s_0,...s_K$ where the index denotes the amount of sucesses observed so far. The transition probability between the states are: P( $s_{n+1}$ | $s_n$ ) = $p_{n}$ , P( $s_{n}$ | $s_n$ ) = $1-p_{n}$ , and 0 for all other transitions. The state $s_0$ is the starting state. If you know the values of $p_n$ , you can then construct the transition matrix for the Markov Chain. Using it, you can compute the probability of ending up in any given state after K trials (to do that, you multiple the vector $[1,0,0,...0]$ representing the initial distribution over states with transition matrix raised to the $K$ -th power). Therefore, you would obtain a categorical distribution over the states (i.e. number of successes), from which you can compute any quantities of interest.
