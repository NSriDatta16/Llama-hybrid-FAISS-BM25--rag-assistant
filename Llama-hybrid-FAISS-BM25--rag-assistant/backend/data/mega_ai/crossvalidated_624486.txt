[site]: crossvalidated
[post_id]: 624486
[parent_id]: 614831
[tags]: 
Thank you for the interest in my book! I am the author, so let me try to give you a simple answer to your questions. In the paper, the cost function is defined with respect to a single measurement dataset ( $\mathbb{D}$ with my notation, and D with theirs). This is often the cost function one is interested in since one is usually interested in the problem defined by this particular dataset. For the case of the book, the purpose was to connect ideas of various types of state estimators with the cost function, and so I considered the additional averaging over $\mathbb{D}$ . This explains the additional data average sum, which involves the likelihood function for a correct statistical average over datasets. In short, these are two different cost functions, and the one considered in the book is by no means the only legitimate one. It is only an option to introduce estimators. The choice of which cost function to use really depends on your objective.
