[site]: stackoverflow
[post_id]: 3936566
[parent_id]: 
[tags]: 
elegant way to match two wildcarded strings

I'm OCRing some text from two different sources. They can each make mistakes in different places, where they won't recognize a letter/group of letters. If they don't recognize something, it's replaced with a ?. For example, if the word is Roflcopter , one source might return Ro?copter , while another, Roflcop?er . I'd like a function that returns whether two matches might be equivalent, allowing for multiple ? s. Example: match("Ro?copter", "Roflcop?er") --> True match("Ro?copter", "Roflcopter") --> True match("Roflcopter", "Roflcop?er") --> True match("Ro?co?er", "Roflcop?er") --> True So far I can match one OCR with a perfect one by using regular expressions: >>> def match(tn1, tn2): tn1re = tn1.replace("?", ".{0,4}") tn2re = tn2.replace("?", ".{0,4}") return bool(re.match(tn1re, tn2) or re.match(tn2re, tn1)) >>> match("Roflcopter", "Roflcop?er") True >>> match("R??lcopter", "Roflcopter") True But this doesn't work when they both have ?s in different places: >>> match("R??lcopter", "Roflcop?er") False
