[site]: crossvalidated
[post_id]: 525200
[parent_id]: 
[tags]: 
Longitudinal diff-in-diff for testing short-term treatment effect

I am having trouble coming up with a diff-in-diff setting for an experiment in mind and would appreciate any advice or guidance. Settings: We have a dataset containing the counts of daily activities (=outcome variable) of users for a time span between 2019-2020. At any time point within this 2-year period, a user (sample) could have received treatment or not, and we want to measure the treatment effect. We know that the treatment effect only lasts for a very short time (e.g., 1-2 days) and so we want to find out (1) whether the treatment has a significant effect and (2) how many days it lasts. For each treated user, we will consider the time series of seven days before and after the treatment. Each treated user has a matched user obtained through stratified PSM, and we will include the activities of the matched user during the same time period. Based on my understanding of this thread , I came up with the following equation $$Y_{i,t,s}=\beta_0Dummy_{s}+\beta_1Dummy_{t}+\beta_2Interaction+\epsilon$$ where $Y_{i,t,s}$ is the outcome at day $t \in \{t_s-7,t_s-6,...,t_s,...,t_s+7\}$ , $t_s$ is the day of treatment, $s$ is the strata of user $i$ and $Interaction$ is the indicator which is 1 only when (1) the user is in the treated group and (2) has received treatment ( $t>=t_s$ ). How can I improve this model so that I can measure treatment effects and its changes as the days pass by (e.g., effect at day 0 vs day 7)?
