[site]: stackoverflow
[post_id]: 3050454
[parent_id]: 3049580
[tags]: 
Hiya! I ended up rewriting the script, but made a working demo for you :) /* Return a unique array */ Array.prototype.getUnique = function(){ var u = {}, a = [], i, l; for(i = 0, l = this.length; i Update: Ok I finally understand what you mean by consolidated! YAY! You mean you only want the unique entries to show! I've updated the demo and I've also added a small script that grabs the letter variable from the URL, so you really don't need to use php for this: Note in the demo, I had to remove the select list, but you can change the selected letter (for the demo only) by modifying this line: var letter = getletter() || '0'; Change the '0' to whatever letter you want to display (for the demo only). In the live version, it'll grab the letter from the URL automatically. /* get letter from URL */ function getletter(){ var p = (new RegExp("[\\?&]letter=([^&#]*)")).exec(window.location.href); return (p===null) ? "" : p[1]; } /* Show paragraph containing first letter (or number if zero) */ function finish(){ var t, txt, found = []; // get letter from url or set to zero if it doesn't exist var letter = getletter() || '0'; // set letter to zero if it is any number if (letter.match(/\d/)) { letter = "0"; } $('p').each(function(){ // grab first 20 characters so we don't need to split the entire paragraph txt = $(this).text().substr(0,20).split(' '); // remove first element if it's "the" if (txt[0].toLowerCase() == 'the') { txt.shift(); } t = txt[0].match(/\d/) ? "0" : txt[0].substr(0,1).toLowerCase(); // set zero for digits or get first letter // show paragraph if unique and matches letter if ((found[$(this).text()] != true) && ((t == "0" && letter == "0") || t == letter.substr(0,1).toLowerCase())){ $(this).addClass('current-series').show(); found[$(this).text()] = true; } else { $(this).hide(); } }) }
