[site]: stackoverflow
[post_id]: 5260736
[parent_id]: 
[tags]: 
Can I handle different multi-tenancy with a global filter?

I have an asp.net mvc app which has membership implemented. So a user has to log in. Each user belongs to a organisation (multi-tenancy). How would I handle the organisation parameter globaly? I was thinking this could be a good thing for a global filter because all the data needs to be filtered for the given organisation. And the organisation is connected with the username but not in the same table. for example I have a index action like this public ActionResult Index() { var result = _repository.GetListByOrganisation(organisation); return View(result); } I was thinking about having a global attribute thats queries the db for an organisation based on a giving username. Since my controller already contains the authorize attribute I have the user name. It would be nice to cache the organisation (session, controllercontext) and not query the organisation from db on each request. Is this a way to implement something like this? Or are there other ways which would be better? And how can I set a property on the controller / controllercontext from whithin a filter? So any thoughts on this as well as comments would be great...
