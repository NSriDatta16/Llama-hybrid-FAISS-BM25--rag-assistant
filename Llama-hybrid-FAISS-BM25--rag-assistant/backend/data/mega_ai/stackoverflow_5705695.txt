[site]: stackoverflow
[post_id]: 5705695
[parent_id]: 
[tags]: 
How can I change SOAP Namespaces in PHP to match a WSDL?

I am currently working on a project for the company that I work for. The project will need to make a SOAP request to another company (by means of PHP). I have the SoapClient in my PHP code communicating with the SOAP server of the other company, but all I get is "INVALID XML." After examining their WSDL and the response I notice that their namespaces are different. I need to change my namespaces to match theirs. For example: The tags in my request show "ns1." and "env.", but theirs show "soap." How can I change this? Here is an example of my code, the request that is sent out and the response that is received. ---------------- CODE ---------------- $client = new SoapClient("http://ws.example.com/test/test.asmx?WSDL", array('soap_version'=>SOAP_1_2, 'trace' => 1)); $result = $client->TestFunction(array('Packet'=>' test@example.com examplepassword ')); $sessionid = $result->TestFunctionResult; print $sessionid; echo "REQUEST HEADER:\n" . htmlentities($client->__getLastRequestHeaders()) . "\n"; echo "REQUEST:\n" . htmlentities($client->__getLastRequest()) . "\n"; echo "RESPONSE HEADER:\n" . htmlentities($client->__getLastResponseHeaders()) . "\n"; echo "RESPONSE:\n" . htmlentities($client->__getLastResponse()) . "\n"; ------------ REQUEST SENT ------------- POST /test/test.asmx HTTP/1.1 Host: ws.example.com Connection: Keep-Alive User-Agent: PHP-SOAP/5.3.4 Content-Type: application/soap+xml; charset=utf-8; action="http://ws.example.com/test/TestFunction" Content-Length: 352 test@example.com examplepassword ---------- RESPONSE RECEIVED ---------- HTTP/1.1 200 OK Cache-Control: private, max-age=0 Content-Length: 450 Content-Type: application/soap+xml; charset=utf-8 Server: Microsoft-IIS/7.0 X-AspNet-Version: 2.0.50727 X-Powered-By: ASP.NET X-PBY: BEARWS2 Date: Mon, 18 Apr 2011 15:33:51 GMT Connection: close Invalid XML How can I get around this problem?
