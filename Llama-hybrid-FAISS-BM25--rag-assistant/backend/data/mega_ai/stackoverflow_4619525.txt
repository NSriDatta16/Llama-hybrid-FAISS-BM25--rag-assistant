[site]: stackoverflow
[post_id]: 4619525
[parent_id]: 4618965
[tags]: 
Pass in the element size as a separate parameter: int getMoreSpace(void **pnt, int size, int add, size_t eltSize) { void *tmp; if (tmp = realloc(pnt, (size+add)*eltSize)) { *pnt=tmp; return 1; } else return 0; } ... int *p = malloc(100 * sizeof *p); ... if (!getMoreSpace(&p, 100, 20, sizeof *p)) { // panic } It's the most straightforward solution, if not the most elegant. C just doesn't lend itself to dynamic type information. Edit Changed the type of pnt in response to Steve's comment. As caf points out, this won't work, even with the "fix" per Steve. R.'s right; don't do this.
