[site]: crossvalidated
[post_id]: 323941
[parent_id]: 323926
[tags]: 
In general your approach seems valid. You could specify a multilevel model in which you allow for random slopes for the relation between electrical stimulation level and subjective reports of pain. The model could be developed as follows. At the first level, you could model pain rating as a function of electrical stimulation: $$y_{ti}=\pi_{0i} + \pi_{1i}(Stim_{per})+e_{ti}$$ where $Stim_{per}$ is a variable composed of the repeated vector of stimulation percentage values (i.e., converted to proportions: .5, 1, 2, 3, 4) for each case in your data set. The random effects component in these models appears in the second level equations where it is possible to predict (or at least account for) individual variation in the level 1 estimates. In your case you are most interested in predicting the slope $\pi_{1i}$ which you can do as follows (still allowing for a random intercept is a good idea in this model): $$\pi_{0i}= \beta_{00}+r_{0i}$$ $$\pi_{1i}= \beta_{10}+\beta_{11}(CPT_{i})+\beta_{12}(HPT_{i})+r_{1i}$$ where $r_{0i}$ and $r_{1i}$ represent individual level random effects, and $CPT_{i}$ and $HPT_{i}$ represent cold pain threshold and heat pain threshold for the $i^{th}$ individual respectively. In practice it often makes sense to mean center predictors at this level to provide your intercept $\beta_{10}$ with a useful meaning (i.e., the predicted relation between stimulation percentage and pain ratings for an individual with average cold and heat pain thresholds). Additionally, you may want to consider controlling for the fact that individuals will identify different starting points for the stimulation levels. As this model can be thought of in some ways as a regression of a set of regressions (one for each individual in the study), the same basic assumptions of linear regression hold for these models. You will just need to check those assumptions at both levels of the model. HLM is a software specifically designed for these models. The lme4 package in R also is a popular choice. SPSS can perform these sorts of analyses, but I think most modelers tend to steer clear of it as it is sort of clunky to use. Mplus can also perform these sorts of models among other programs available out there.
