[site]: stackoverflow
[post_id]: 5461407
[parent_id]: 5460678
[tags]: 
The conservative approach is to erase first, then delete the pointer. Storing an invalid pointer value in a Standard Container may lead to undefined behavior, at least according to a common interpretation of the C++ Standard's paragraph [basic.stc.dynamic.deallocation]/4 , which prohibits any use of invalid pointer values (such as a container making a copy of the pointer internally), and [lib.container.requirements] , which mandates that objects stored in containers must be CopyConstructible and Assignable . The issue is somewhat contentious, however.
