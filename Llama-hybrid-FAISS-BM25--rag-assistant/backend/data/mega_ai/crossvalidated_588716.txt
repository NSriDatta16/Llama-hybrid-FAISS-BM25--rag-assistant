[site]: crossvalidated
[post_id]: 588716
[parent_id]: 587740
[tags]: 
The lmer function in the lme4 package allows you to specify an argument weights that gives weights used for fitting the model. From your description, it sounds like you want to give higher weight to observations which have a higher value for the n_speed variable, though you have not specified exactly how this variable should affect the weights for the observations, or how your DV measurement is derived from the different measurements taken. Depending on your particular theory and approach, one reasonable way to set the weights in a regression analysis is to use inverse-variance weighting based on your view of the likely effect of the number of speed measurements on the error variance. This is complicated, since the effect of the number of measurements may be mediated through the relationship of the explanatory variables to the response. Nevertheless, some crude methods can be used to start you off. Suppose that we are willing to treat the measurements as if they were independent measurements having errors with zero mean and fixed variance. Since you have not specified to the contrary, suppose furthermore that we treat your DV as an average of the different speed measurements. In this case the variance of the measurement error for the DV would be proportionate to $1/n_S$ where $n_S$ is the number of speed measurements in the analysis. Consequently, using inverse-variance weighting would mean that we would set the weights proportionate to $n_S$ . To do this, you would fit your model with a command like this: #Set model data and weights DATA This type of command will fit your model in a way that weights each data point according to the specified weights (set proportionate to n_speed in this example). The resulting estimates for the relationship between the explanatory variables and the response variable will take account of that weighting. This would be a reasonable starting point if you want to use inverse-variance weighting under the assumption that your DV measure is formed as a mean from independent measurements. If these assumptions do not hold then you can make appropriate adjustments to form a more sophisticated weighting. Ultimately, your view of the appropriate weights will depend on how the DV measure is formed from the different speed measurements and how these measurements relate to one another. I hope that this answer is enough to start you off on further research for your problem. I would recommend that you take some time to look at weighting methods in regression problems and the theory behind this. You should also take some time to look at relevant literature in your own field showing how weighting based on multiple measurements is usually done in this context.
