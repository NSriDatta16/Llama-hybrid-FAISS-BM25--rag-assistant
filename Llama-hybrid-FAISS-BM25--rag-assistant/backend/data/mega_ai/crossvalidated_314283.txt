[site]: crossvalidated
[post_id]: 314283
[parent_id]: 
[tags]: 
Translating MCMCglmm code to brms for variance partitioning

I have a 3-level repeated measures model with observations (level-1) nested within patients (level-2) nested within providers (level-3). My hope is to partition variance at both the patient and provider level, but also within each level based on the patient's racial-ethnic status (1 = rem, 0 = non-rem). I have 1,500 patients (400 rem, 1100 non-rem) and 40 providers (no patient saw multiple providers). I was able to run these separately in lme4 models by just subsetting the data by rem status, however, given the smaller sample sizes and robustness of bayesian methods with smaller sample sizes, I decided to use MCMCglmm. The below MCMCglmm code worked great: prior.3 However, I can't quite wrap my head around the prior specification in MCMCglmm and I find the brms package much easier to call and visualize priors. My one idea was to run the below code: data$rem However, this is going to take a long long time to run and I don't believe this will partition residual variance. Any suggestions? Again, the goal is to partition variance at both levels, but also within each level based on a dichotomous variable (patient rem status) by using the brms package.
