[site]: stackoverflow
[post_id]: 4979716
[parent_id]: 
[tags]: 
Adding an array in embedded x86 assembly?

I'm new to assembly coding and embedding it in C++, the thing I'm trying to do is add the integers in an array using assembly. This is the code i have so far: #include #include int x [] = {5,4,3,2,1}; int sumArray(int [5]); int main() { sumArray(x); printf_s("The sum of the array is %d"); } int sumArray(int [5]) { __asm { mov edi,OFFSET sumArray mov ecx,5 mov eax,0 L1: add eax,[edi] add edi, TYPE sumArray loop L1 } } An original problem I was having with was with mov ecx I had it as mov ecx,LENGTHOF sumArray but it wouldn't compile so I changed it to 5 and it compiled. So now when I run the program it breaks. I used F11 in Visual Studio to go line by line to see at what line the program breaks, and program breaks when its going through the loop a second time. So if anyone can help me figure out how I can go about fixing it I would appreciate it.
