[site]: stackoverflow
[post_id]: 2917658
[parent_id]: 2917652
[tags]: 
I think you are re-inventing the wheel. Consider using OpenFire or Tigase which are Java-based and very proven in this IM server space. All the boiler-plate can be leveraged. You tasks would be to add custom behaviors by writing plug-ins.
