[site]: stackoverflow
[post_id]: 3762842
[parent_id]: 3762666
[tags]: 
You might want to read this blog post by Jan Goyvaerts for some ideas on how to find URLs in text. To solve your immediate problem, you could add a negative lookbehind to your second regex: (? ensures that www... will only be matched if it is not preceded by http:// . However, ereg functions are deprecated and don't support lookaround, so you'll need to use preg_replace() . $text = preg_replace('/(? \1 ', $text); should work.
