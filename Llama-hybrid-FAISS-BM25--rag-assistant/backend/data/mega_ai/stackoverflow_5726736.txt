[site]: stackoverflow
[post_id]: 5726736
[parent_id]: 
[tags]: 
cocos2d box2d sprite position crash

I have the following code: for (b2Body* b = world->GetBodyList(); b; b = b->GetNext()) { if (b->GetUserData() != NULL) { CCSprite *itemSprite = (CCSprite*)b->GetUserData(); CGSize SpriteSize; SpriteSize.height = itemSprite.contentSize.height; SpriteSize.width = itemSprite.contentSize.width; CGPoint SpritePosition=[itemSprite position]; } } Just get the position of sprite, but this program crash sometimes in: SpriteSize.height = itemSprite.contentSize.height; and this line: CGPoint SpritePosition=[itemSprite position]; I am using cocos2d .99.5. Edit: here is my crash log: Exception Type: EXC_BAD_ACCESS (SIGBUS) Exception Codes: KERN_PROTECTION_FAILURE at 0x0000000f Crashed Thread: 0 Thread 0 Crashed: 0 libobjc.A.dylib 0x00002666 objc_msgSend_stret + 14 1 ShootTheMonkey 0x0004c066 -[LevelFour ccTouchBegan:withEvent:] (LevelFour.mm:1432) 2 ShootTheMonkey 0x00321bf0 -[CCTouchDispatcher touches:withEvent:withTouchType:] (CCTouchDispatcher.m:238) 3 ShootTheMonkey 0x00322454 -[CCTouchDispatcher touchesBegan:withEvent:] (CCTouchDispatcher.m:305) 4 ShootTheMonkey 0x003240ec -[EAGLView touchesBegan:withEvent:] (EAGLView.m:318) 5 UIKit 0x00053d72 -[UIWindow _sendTouchesForEvent:] + 254 6 UIKit 0x000536fe -[UIWindow sendEvent:] + 74 7 UIKit 0x0004f320 -[UIApplication sendEvent:] + 260 8 UIKit 0x0004ec8c _UIApplicationHandleEvent + 4772 9 GraphicsServices 0x00003b2c PurpleEventCallback + 660 10 CoreFoundation 0x00022d96 CFRunLoopRunSpecific + 2214 11 CoreFoundation 0x000224da CFRunLoopRunInMode + 42 12 GraphicsServices 0x000030d4 GSEventRunModal + 108 13 GraphicsServices 0x00003180 GSEventRun + 56 14 UIKit 0x0000342a -[UIApplication _run] + 374 15 UIKit 0x00001954 UIApplicationMain + 636 16 ShootTheMonkey 0x0000377e main (main.m:13) 17 ShootTheMonkey 0x0000373c start + 32
