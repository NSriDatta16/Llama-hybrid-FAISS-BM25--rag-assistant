[site]: crossvalidated
[post_id]: 252171
[parent_id]: 
[tags]: 
Warning in caret glm model - prediction from a rank-deficient fit may be misleading

I’m trying to use caret for glm model: lrFit However it returns warning like: In predict.lm(object, newdata, se.fit, scale = 1, type = ifelse(type == ... : prediction from a rank-deficient fit may be misleading I understand the dummy variable trap, or perfect collinearity. From lrFit$finalModel I can see coefficient of one predictor named IsIvf is NA. IsIvf is a dichotomous predictor with levels 0 and 1. If I remove that predictor IsIvf, the warning is gone. table(training$IsIvf) 0 1 1906 667 str(training) 'data.frame': 2573 obs. of 19 variables: $ InseminationTypeName.HALF : num 0 0 0 0 0 0 0 0 0 0 ... $ InseminationTypeName.ICSI : num 1 1 0 1 1 1 0 0 0 1 ... $ InseminationTypeName.IVF : num 0 0 1 0 0 0 0 1 1 0 ... $ InfertilityTypeName.X : num 1 1 1 1 1 1 0 1 0 1 ... $ InfertilityTypeName.Y : num 0 0 0 0 0 0 1 0 1 0 ... $ Age : int 34 40 37 32 34 37 29 30 32 39 ... $ PreganancyCount : int 3 2 3 4 2 2 1 1 1 2 ... $ DeliveryCount : int 1 1 1 1 1 1 1 1 1 1 ... $ GestationalAge : num 38.4 41.1 39 37.4 41.1 ... $ IsIvf : int 1 1 1 1 1 1 1 1 1 1 ... $ IsTubalInfertility : int 0 0 0 0 0 0 0 1 0 0 ... $ IsFemaleInfertility : int 0 0 1 1 0 1 1 1 1 1 ... $ HasPregnanceInducedHypertension: int 0 0 0 0 0 0 0 0 0 0 ... $ HasGestationalDiabetes : int 0 0 1 1 0 0 0 0 0 1 ... $ HasAnemia : int 0 0 0 0 1 1 1 1 1 1 ... $ HasPrematureRuptureOfMembranes : int 0 0 1 0 0 0 1 0 0 0 ... $ HasPostpartumHemorrhage : int 0 0 0 0 0 0 1 0 0 1 ... $ HasPlacentaPrevia : int 0 0 0 0 0 0 0 1 0 1 ... $ IsPrematureBirth : Factor w/ 2 levels "No","Yes": 1 1 1 1 1 1 1 1 1 1 ... The distribution of IsIvf is: Row [1 … 174]: all 1s. Row [175…868]: all 0s. Row [869 … 1362]: all 1s: Row [1363…2573]: all 0s. Switch rows, reduce the number of trainControl from 10 to 2 cannot fix the warning. If I deliberately randomly force IsIvf on 2 rows (say 1180 and 1185) in 1s group to 0: training[1180, 10] = 0 training[1185, 10] = 0 Then the warnings are gone. Can anybody help to explain this?
