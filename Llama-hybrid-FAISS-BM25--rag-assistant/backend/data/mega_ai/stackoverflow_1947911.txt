[site]: stackoverflow
[post_id]: 1947911
[parent_id]: 
[tags]: 
XSLT for transforming structure + Ruby for transforming values?

We have pretty big (~200mb) xml files from different sources that we want to transform into a common format. For structural transformations (element names, nesting, etc) we decided to use XSLT (1.0). Because it has to be fast (we receive a lot of those files), we chose Apache Xalan as the engine. Structural transformations might be quite complex (not just -> ), and are different for xml files from different sources. However, we also need to transform values of the elements. Transformations can be rather complex (i.e., some require access to Google Maps API, others require access to our database, etc...), so we decided to use a simple Ruby-based DSL, which is a list of "xpath selector" => transformer entities, i.e.: {"rss/channel/item" => {:class => 'ItemMutators', :method => :guess_location} However, keeping elements transformations apart from value transformations seems rather like a hack. Are there any better solutions? For example, with Java you can write extensions for xalan, and you can use them to transform the values. Is there something similar but for ruby? Thank you, guys! All the responses were very valuable. I am currently thinking :)
