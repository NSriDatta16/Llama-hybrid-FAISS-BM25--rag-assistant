[site]: stackoverflow
[post_id]: 1233514
[parent_id]: 1233486
[tags]: 
I'll start putting up some ideas and will update along the way: SqlDatabase sqlDb = new SqlDatabase("MyConnectionString"); - You should avoid new operators mixed up with logic. You should construct xor have logic operations; avoid them happening at the same time. Use Dependency injection to pass this database as a parameter, so you can mock it. I mean this if you want to unit test it (not going to the database, which should be done in some case later) IDataReader agentInformation = GetAgentFromDatabase(agentId) - Maybe you could separate the Reader retrieval to some other class, so you can mock this class while testing the factory code.
