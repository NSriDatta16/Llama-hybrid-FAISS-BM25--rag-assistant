[site]: crossvalidated
[post_id]: 626210
[parent_id]: 421060
[tags]: 
There are several reasons why the two sets of values you computed are not the same: $R_2$ contributions are not partial correlation or regression coefficients The package you use to compute Shapley values computes contribution to the $R^2$ . This is a value between 0 and 1. Ridge regression coefficients on standardized data are partial correlations and can take any value between -1 and 1. Accounting for this takes away a lot (but surely not all) of the discrepancies: ridge_coefs $finalModel, fit$ bestTune $lambda) shapley_vals lmg cor(ridge_coefs[-1], shapley_vals, method = "spearman") [1] -0.4505495 cor(abs(ridge_coefs[-1]), shapley_vals, method = "spearman") [1] 0.6703297 Perhaps you also want to take the square root of the Shapley, but for the Spearman correlation this will not matter. Computation of Shapley values differs from that of partial correlations Shapley values are not partial correlations. The Shapley value gives a weighted average of the increases in $R^2$ when a given predictor is added to all possible sets of predictors excluding that predictor (as computed by the package you use, note there are many ways to compute Shapley values, see e.g., Chen et al., 2022: Algorithms to estimate Shapley value feature attributions ). This procedure is different than the (penalized) partial regression coefficients (partial correlations in your case) computed in a ridge regression, which can be computed as follows once the value of $\lambda$ has been chosen: $$\hat{\beta} = (X^\top X + \lambda I)^{-1}X^\top y$$ Regularization The ridge coefficients are shrunken towards 0, the Shapley values you computed are not.
