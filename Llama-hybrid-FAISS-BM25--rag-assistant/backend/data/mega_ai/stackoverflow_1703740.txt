[site]: stackoverflow
[post_id]: 1703740
[parent_id]: 1703640
[tags]: 
If you can't constraint the problem to work for a line-based read, you need to resort to blocks. This should work: import sys needle = "needle" blocks = [] inf = sys.stdin if len(sys.argv) == 2: inf = open(sys.argv[1]) while True: block = inf.read() blocks.append(block) if len(blocks) >= 2: data = "".join((blocks[-2], blocks[-1])) else: data = blocks[-1] # attention, this needs to be changed if you are interested # in *all* matches separately, not if there was any match ata all if needle in data: print "found" blocks = [] blocks[:-2] = [] if block == "": break The challenge lies in ensuring that you match needle even if it's separated by two block-boundaries.
