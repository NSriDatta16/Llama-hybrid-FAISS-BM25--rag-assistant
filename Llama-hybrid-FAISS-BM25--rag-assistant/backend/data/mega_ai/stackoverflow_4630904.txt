[site]: stackoverflow
[post_id]: 4630904
[parent_id]: 
[tags]: 
Why can I clickthrough my form?

I am experimenting and trying to figure out DWM and Windows Aero. So far, I think I pretty much have it, all except for some strange reason, when I click the thicker part of my form, my click goes right through it, and I can't figure out how to stop it. using System; using System.Collections.Generic; using System.ComponentModel; using System.Data; using System.Drawing; using System.Linq; using System.Text; using System.Windows.Forms; namespace WindowsFormsApplication1 { public partial class Form1 : Form { int en; public Form1() { InitializeComponent(); DwmIsCompositionEnabled(ref en); if (en > 0 && System.Environment.OSVersion.Version.Major >= 6) { en = 0; MARGINS mg = new MARGINS(); mg.m_Buttom = 0; mg.m_Left = 0; mg.m_Right = 0; mg.m_Top = 25; DwmExtendFrameIntoClientArea(this.Handle, ref mg); this.BackColor = Color.Magenta; this.TransparencyKey = Color.Magenta; } } public struct MARGINS { public int m_Left; public int m_Right; public int m_Top; public int m_Buttom; } [System.Runtime.InteropServices.DllImport("dwmapi.dll")] public extern static int DwmExtendFrameIntoClientArea(IntPtr hwnd, ref MARGINS margin); [System.Runtime.InteropServices.DllImport("dwmapi.dll")] public extern static int DwmIsCompositionEnabled(ref int en); } }
