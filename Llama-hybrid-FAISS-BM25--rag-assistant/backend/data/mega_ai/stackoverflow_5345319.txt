[site]: stackoverflow
[post_id]: 5345319
[parent_id]: 
[tags]: 
Programmatically add character to TextInput when Hiragana IME is active

I'd like to be able to add a character to a TextInput programmatically (say when you press a button) even when using IMEs (I'm using a Japanese IME right now). Normally this would be super easy, i.e. protected function button_clickHandler(event:MouseEvent):void { ti.text = "k"; } where ti is a TextInput component. However, things get a little tricky when using an IME. The code above, for instance, adds a k in ti even if you're using the Hiragana IME. I looked at the IME documentation and tried something like this protected function button_clickHandler(event:MouseEvent):void { IME.setCompositionString("k"); } at first I thought this was doing the trick, but it seems like it always defaults to what looks like Half-Width Katakana (although I'm not 100% sure), even if the Hiragana conversionMode is currently selected, or if I set it right before setting the composition string. Unfortunately the IME library doesn't seem to be open source so I have no idea if this is a bug or not. Was wondering if anyone had any advice - I realize this is super specific so the odds are low, but thought I'd try. thank you! post-edit: here is some code to try out what I'm talking about. Note: you'll need Japanese IME setup on your machine. I'm using this on a Windows 7 box with Japanese IME setup, and running it on standalone Flash. It's hard to see the difference between typing a k in Hiragana and in Katakana, but if you look closely you should notice a difference (and if you type an 'a' right after you should see different results popping up).
