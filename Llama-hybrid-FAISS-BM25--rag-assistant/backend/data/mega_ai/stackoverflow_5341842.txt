[site]: stackoverflow
[post_id]: 5341842
[parent_id]: 5340775
[tags]: 
Delphi's FastMM memory manager works on top of the Windows memory system. It allocates large blocks of memory from the OS with VirtualAlloc, and then divides that up into smaller chunks for your program to work with. If you free large amounts of memory, it will give some of it back to the OS. If you free small amounts of memory, though, it's likely to hold on to it because you're likely to need it again soon. This is part of what makes FastMM fast, and it's not a memory leak. Any memory profiler that only watches VirtualAlloc and doesn't actually pay attention to what FastMM is doing is going to give you results that don't make sense. As David mentioned in the comment, if you want to track down real memory leaks, you need to use the FastMM tools. Download the full version of FastMM from SourceForge and read the documentation to find out how to enable FullDebugMode and leak reporting and logging, and you'll have a much easier time of it.
