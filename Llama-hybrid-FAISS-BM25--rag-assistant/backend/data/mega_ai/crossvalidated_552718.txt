[site]: crossvalidated
[post_id]: 552718
[parent_id]: 
[tags]: 
how to caculate 95% CI for AUC? try 384 times or Hanley et al. (1982) method?

I am working on a prediction task to predict heart disease risk. The data size is around 1500 and is splitted into train, validate and test datasets. I am use train dataset to train and use validate dataset to fine tune hyper parameters. Then, use test data and fine tuned model to caculate final AUC. The algorithm is random forest. I need to get the 95% CI of AUC, I find there are two ways to do that: 1, https://www.real-statistics.com/descriptive-statistics/roc-curve-classification-table/auc-confidence-interval/ this method only need do one classificaion test to get AUC. Then get 95% CI AUC by y_true, y_score. 2, Do prediction test 384 times (which can achieve 95% CI by simple random sampling), get mean and std(standard deviation) of 384 times AUC, and 95% CI AUC and be calculate by (mean - 1.96Xstd/19.60, mean + 1.96Xstd/19.60) The data size is small, the AUC result depends on the split result, when I try 10 times I can get AUC interval widly from 0.6~0.9. And if I fix split random seed as 42, I can get AUC around 0.8. But, I think the first method is not a good way to get a reliable 95% CI AUC even I fix the random seed into 42. I think if the dataset is big enoungh and AUC results are stable, we should use the method1, but the dataset is too small and AUC results are not stable, we should use the method2, am I right? Which one do you think is the right way to get 95% CI AUC in my task? Thank you so much!
