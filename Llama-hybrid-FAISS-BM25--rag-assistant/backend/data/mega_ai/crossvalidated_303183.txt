[site]: crossvalidated
[post_id]: 303183
[parent_id]: 303135
[tags]: 
There might be a mistake somewhere along the line, because the book should say: The expected number of returns is $$ \frac{p_i}{1 - p_i}.$$ But the main idea is still there. This is an invocation of the geometric series, which you can derive as follows: Consider the series $$S = \sum_{j=0}^N x^j$$ for any complex $x \ne 0.$ This series has an exact solution which you can obtain by both multiplying and dividing by $1-x$: $$ \begin{split} S &= \frac{1}{1-x} (1-x) S \\ &= \frac{1}{1-x} \sum_{j=0}^N x^j (1-x) \\ &= \frac{1}{1-x} \left[ \sum_{j=0}^N x^j - \sum_{j=1}^{N+1} x^j \right] \\ &= \frac{1 - x^{N+1}}{1-x}, \end{split} $$ where, in the last step, I simply subtracted all the identical terms from both sums. For $|x Now, if you have a Markov chain in state $i$ with probability $p_i$ of returning to state $i$ at least once at a later time, then it has a probability $p_i^n$ of returning to state $i$ at least $n$ times. The expected number of times to return to $i$ is just the sum over the number of possible times it can return to $i$ multiplied by the probability of returning to it that number of times. Because the probability of returning to state $i$ exactly $n$ times is $p_i^n (1 - p_i),$ then the expected number of times it will return to state $i$ is, $$ \begin{split} E(\text{num returns}) &= \sum_{j=0}^\infty j p_i^j (1 - p_i) \\ &= p_i (1-p_i) \sum_{j=0}^\infty j p_i^{j-1} \\ &= p_i (1-p_i) \frac{d}{d p_i} \sum_{j=0}^\infty p_i^j \\ &= p_i (1-p_i) \frac{d}{d p_i} \frac{1}{1-p_i} \\ &= \frac{p_i}{1 - p_i}. \end{split} $$ Your alternative proof is insufficient. To simply assert that $\lim_{N\rightarrow\infty}p(N\text{ returns}) = 0$ does not imply that the expected number of returns is finite. There are series' that diverge, where the terms still approach zero as the series progresses. For example, suppose the probability of hitting state $i$ exactly $N$ times is $6 / (\pi N)^2$ for $N>0$ and $0$ for $N=0$ (this is a valid probability mass function). The limit of the terms in this sequence is still $0$ for infinite $N$, however, the expected number of times the state returns to $i$ would be represented by a divergent series, and thus, would not be finite.
