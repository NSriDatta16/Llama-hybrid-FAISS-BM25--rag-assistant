[site]: stackoverflow
[post_id]: 4899085
[parent_id]: 4898829
[tags]: 
What do you want your output to look like? A list of all the unique devices occurring in the $inputfile. Or for every line in the $inputfile, output a line displaying which device it is? I'll answer the latter, since you can do a unique sort on it if needed. Also, looks like each UA has multiple devices. As a general approach, you can store the UA names as keys in your hash and the value could be either an array of device names or a character-delimited string of device names. If you know the device names are elements 2..10 you can use the slice and join operators to construct, for example, a comma-delimited string of device names. This string will be the value assigned to the UA name key. #!/usr/bin/perl use warnings; use strict; our $inputfile = $ARGV[0]; our $outputfile = "$inputfile" . '.devidx'; our $devid_file = "devid_master"; # the file that has the UA and the corresponding device info our %ua_list_hash = (); # Create a list of mobile user agents in the devid_master file open DEVID, "$devid_file" or die "can't open $devid_file"; while( ) { chomp; my @devidfile = split /\t/; my @slice = @devidfile[2..10]; my $deviceString = join(",", @slice); $ua_list_hash{$devidfile[1]} = $deviceString; } my $outputfilename = "output.txt"; open IN,"$inputfile" or die "can't open $inputfile"; open OUT,"$outputfilename" or die "can't open $outputfilename"; while( ) { chomp; my @hhfile = split /\t/; if(exists $ua_list_hash{$hhfile[24]}) { print OUT $ua_list_hash{$hhfile[24]}."\n"; } } close IN; close OUT;
