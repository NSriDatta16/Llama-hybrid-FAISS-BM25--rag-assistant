[site]: stackoverflow
[post_id]: 4191350
[parent_id]: 4191253
[tags]: 
Yes, you need to prepare two packets, each with their own IP header. If you put 1480 bytes of data in the first packet and 276 in the second, then the IP headers should be identical, except for these fields: Fragment Offset : set to 0 in the first packet, and 1480 in the second; Total Length : set to 1480 plus the header length in the first packet, and 276 plus the header length in the second packet; MF flag: set to 1 in the first packet and 0 in the second; Header Checksum : Recalculated over the different headers as appropriate.
