[site]: stackoverflow
[post_id]: 3268284
[parent_id]: 3267905
[tags]: 
I always use an atom rather than a ref when I see this kind of pattern - if you don't need transactions, just a shared mutable storage location, then atoms seem to be the way to go. e.g. for a mutable map of key/value pairs I would use: (def state (atom {})) (defn get-state [key] (@state key)) (defn update-state [key val] (swap! state assoc key val))
