[site]: crossvalidated
[post_id]: 611371
[parent_id]: 
[tags]: 
Estimating Average Marginal Effects from LASSO

I am conducting a prediction using the LASSO probit model with a dummy on the LHS and several interacted variables on the RHS. My question is: can I meaningfully estimate the Average Marginal Effect of my individual predictors if I also use the penalised coefficients for prediction? If yes, could you please recommend ways of implementing this in Stata or R? Currently, I am running the following in Stata: lasso probit y i.X1##i.X2##c.X3 if sample==1 predict y_hat local vars=e(allvars_sel) probit y`vars' if sample==1 margin, dydx(*) post But I am not sure if this is correct given that the second probit estimation doesn't use the penalised coefficients.
