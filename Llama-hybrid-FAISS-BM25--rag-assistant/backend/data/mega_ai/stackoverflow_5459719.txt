[site]: stackoverflow
[post_id]: 5459719
[parent_id]: 
[tags]: 
Renaming a Log4J log file during the program run

We're recently switched over to Log4J from JUL (java.util.Logging) because I wanted to add additional log files for different logging levels. We have the option in the program to optionally append a value and a date/time stamp to the log file name at the (for all intents and purposes) end of the program's execution. Because JUL seemed to open and close the file as needed to write to the file, it wasn't locked and we could simply use .renameTo() to change the filename. Now, using Log4J, that file is left open and is locked, preventing us from renaming the file(s). I can't decide the name of the file before I configure the logging because the property file containing the options for renaming is some time after the logging is needed (this is why we renamed it at the end of the program). Do you have any suggestions as to how this can be achieved? Would Logback and/or SLF4J help or hinder this? I have sort of worked around the issue by using a system parameter in the log4j properties file, setting the property and then reloading the property file. This allows me to change the name of the log file to something else at the end of the run, and then rename the old files. It's inelegant, and very much of a kludge, so I would like to avoid this as it also leaves these temporary files around after the run.
