[site]: crossvalidated
[post_id]: 320533
[parent_id]: 320431
[tags]: 
Since answers have already been provided, here is a short intro to conditional expectations as $L^2$ projections, i.e. for an alternative path to conditional expectations in which the question asked is taken more or less as definition. Intuitively, taking the expected value of $Y$ conditioned on $X$ means averaging $Y$ over events which produce the outcomes of $X$. If we think of the $\sigma$-algebra generated by $X$, $\sigma(X)$, as grouping events leading to the same outcomes of $X$, then we see that we want the conditional expectation $\mathbb{E}[Y|X]$ to be a r.v. over $\sigma(x)$, closest in some sense to the original $Y$. Therefore, if we work in $L^2(\Omega, \mathcal{A}, P)$, with $\mathcal{A}$ a $\sigma$-algebra over $\Omega$, then the conditional expectation $\mathbb{E}[Y|X]$ has a natural definition as the $L^2$ projection of Y onto $L^2$ of $\sigma(X)$ since $L^2(\Omega, \sigma(X), P)$ is a closed subspace of $L^2(\Omega, \mathcal{A}, P)$: $$\mathbb{E}[Y|X] = \operatorname{argmin}_g \mathbb{E}[(Y-g(X))^2]$$ over all Borel $g$ such that $g(X) \in L^2$ (recall that $Z$ is measurable wrt. $\sigma(X)$ iff there is some Borel $g$ such that $Z=g(X)$) The case $L^1$ is not so straightforward because we lack the Hilbert space structure, see e.g. "Jacod, Protter: Probability essentials", Chapter 23. Conditional expectations can be taken over any sub $\sigma$-algebra of $\mathcal{A}$. For a nice introduction starting from conditioning on $\sigma$-algebras and with pictures and intuition, see "Conditional Expectations without tears" .
