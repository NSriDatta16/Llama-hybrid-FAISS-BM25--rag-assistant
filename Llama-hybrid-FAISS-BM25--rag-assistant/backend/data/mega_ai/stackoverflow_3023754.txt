[site]: stackoverflow
[post_id]: 3023754
[parent_id]: 3021370
[tags]: 
My solution to that was to write a StorageManagerfactory that has a Map holding all EntityManagers I don't think a Map of EntityManager is a good idea. However, it should be possible to use Persistence.createEntityManagerFactory(String, Map ) to create N EntityManagerFactory pointing to N databases (the mentioned factory method allows to pass additional properties that override values that may have been configured elsewhere, for example a connection url) and to these EntityManagerFactory in a Map . Then, simply get the "right" EntityManagerFactory from the Map (use the whatever key you want) and get an EntityManager .
