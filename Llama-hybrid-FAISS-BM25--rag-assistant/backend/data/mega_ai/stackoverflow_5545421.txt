[site]: stackoverflow
[post_id]: 5545421
[parent_id]: 
[tags]: 
HTML5 Local Storage, how to pass variables?

Ok, here is my problem. I am writing a Chrome extension, it's almost done, but the problem is, for example: [Page popup.html] localStorage["code"] = "alert('Hello!');"; [File injection.js; which will be called everytime a page is loaded, content script I think] localStorage["code"] = (localStorage["code"] != undefined) ? localStorage["code"] : "alert('Default!');"; eval(localStorage["code"]); I have tried 2 methods, the first thing is to NOT OPEN THE POP UP, so that every page I load would run command alert("Default!"); and it works. Then I tried to load the popup first, and I realize that the variable localStorage["code"] is now up to the page I load, not to my extenstion anymore. In a quick explanation, in my extension, localStorage["code"] == "alert('Hello');"; but in http://google.com localStorage["code"] == ""; or in http://facebook.com localStorage["code"] == ""; . My question is, is there anyway to store localStorage["code"] from popup.html that injection.js can access?
