[site]: crossvalidated
[post_id]: 287105
[parent_id]: 285401
[tags]: 
Don't blindly try functions like cosine. Figure out what is most appropriate to solve your problem. In particular, wrt. missing data. You also need to decide whether you want squared errors, or not, or how to normalize, or not. I'd try something like $$d^2(x,y):=\sum_i \begin{cases} |x_i-y_i|^2 & \text{if }x_i\text{ and }y_i\text{ defined}\\ p^2 & \text{if either is a missing value}\\ \end{cases}$$ Where $p$ is a penalty term for missing values, e.g. the average difference of any two defined terms in the data set.
