[site]: stackoverflow
[post_id]: 2653225
[parent_id]: 2653118
[tags]: 
How many threads are you creating? Just 1 server instance in 1 thread? Or is 1 instance used in 2 threads? 1 instance/1 thread - your loop is processing serially, processing accepting 1 thread at a time. This isn't because of the semaphore, but rather because its just one thread. The other connections are being queued waiting for acceptance. 1 instance/2 threads - your code (the semaphore) is limiting your server up to processing accepting 2 connections simultaneously , but TCP/IP allows for connections to be queued to be accepted (I think the general default queue length is 5). The 3rd simultaneous request (a request that comes in before either of the 2 previous requests finish processing) would wait for a certain amount of time ( I don't recall how long clients wait by default). So would the 4th, 5th, etc. Either way : So your code would have unlimited connections, because the code is just limiting how many are accepted simultaneously. Once accepted, the connections remain until the server or the client closes the connection. Updated - in response to OP comments giving more information. process maintains a persistent connection with an infinite loop â€“ Robert 12 mins ago
