[site]: stackoverflow
[post_id]: 5451203
[parent_id]: 5128379
[tags]: 
You're not setting the User Agent. Some servers actually do not even respond to such requests (thus the client doesn't know the connection dropped). Add the following to your code: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER['HTTP_USER_AGENT']); Additionally, I use the following in my CURL functionality: curl_setopt($ch,CURLOPT_FOLLOWLOCATION,true); curl_setopt($ch,CURLOPT_MAXREDIRS,50); if(substr($url,0,8)=='https://'){ // The following ensures SSL always works. A little detail: // SSL does two things at once: // 1. it encrypts communication // 2. it ensures the target party is who it claims to be. // In short, if the following code is allowed, CURL won't check if the // certificate is known and valid, however, it still encrypts communication. curl_setopt($ch,CURLOPT_HTTPAUTH,CURLAUTH_ANY); curl_setopt($ch,CURLOPT_SSL_VERIFYPEER,false); }
