[site]: stackoverflow
[post_id]: 4041168
[parent_id]: 
[tags]: 
TeamCity: Failed to detect target in MSBuild project

I have some problems with the TeamCity MSBuild replacement I think. I've tried to compile a Delphi 2010 Project (MSBuild compliant) with NAnt using the MSBuild task (NAnt Contrib). Everything works fine, if I do it without TeamCity on the console. If I try it with TeamCity, I get the following error message: Failed to detect default target(s) in the project file F:\CI\TeamCity\TeamCity\buildAgent\work\892195dab42324a3\build\src.temp\TestProject\Test.dproj. Please define targets explicitly in the build configuration options on TeamCity Web UI. Project does not define DefaultTargets or InitialTargets. I've tried to explicitly set the target via the MSBuild /target switch pointing to the Rebuild target. So far no luck. Any Suggestions? Thanks in advance. Edit: The *.dproj file is a standard delphi 2010 project file (it's transformed with xsl but it's still a valid project file) Edit2: Thanks to s. ermakovich, I replaced the msbuild task (from NAnt contrib) with the direct call to NAnt, which does not produce the error on TeamCity server. Looks like TeamCity does only replace the call to NAnt contrib msbuild task. :-)
