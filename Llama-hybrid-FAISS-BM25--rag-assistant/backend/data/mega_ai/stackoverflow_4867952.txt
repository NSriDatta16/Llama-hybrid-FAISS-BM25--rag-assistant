[site]: stackoverflow
[post_id]: 4867952
[parent_id]: 
[tags]: 
Problem setting desktop wallpaper using SystemParametersInfo Function

I am just learning C++ and am trying to write a small program to change the desktop wallpaper. Using the documentation here , I wrote this program: #include #include #pragma comment(lib, "user32.lib") void main(){ BOOL success = SystemParametersInfo( SPI_SETDESKWALLPAPER, //iuAction 0, //uiParam "C:\\test.jpg", //pvParam SPIF_SENDCHANGE //fWinIni ); if (success){ printf("Success!\n"); }else printf("Failure =(\n"); } The program always fails when I try to specify a file path for pvParam. It will correctly clear the wallpaper if I set pvParam to "". What am I doing wrong? Thanks -Abhorsen
