[site]: crossvalidated
[post_id]: 622195
[parent_id]: 
[tags]: 
Robust clustered errors using the survey package

I want to test the hypothesis that the coefficient for tobacco use by age is greater in women than men using the couples data (CR) from the Demographic and Health Surveys (DHS), which has a complex survey design. Tobacco use (yes/no) and age data are sampled from couples in a household. Each row therefore includes columns: household_id, age_female, age_male, tobacco_use_female, tobacco_use_male, ... 12, 25, 32, 0, 1, ... 13, ... The survey design would be specified: library(survey) design However, to fit the logistic regression I want, I need to convert to long format: household_id, age, sex, tobacco_use, ... 12, 25, F, 0, ... 12, 32, M, 1, ... 13, ... 13, ... The regression model would be specified like so, with the interaction coefficient the term of interest: m But by converting to long format, observations are now clustered within households, thus requiring clustered robust errors or something equivalent. I know how to use the sandwich and lmtest packages with a standard glm model, but not with svyglm . I'm a beginner using complex survey designs in general, and the survey package in particular. Any guidance appreciated!
