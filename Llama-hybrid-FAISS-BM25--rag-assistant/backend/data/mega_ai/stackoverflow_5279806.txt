[site]: stackoverflow
[post_id]: 5279806
[parent_id]: 
[tags]: 
logging in a server-client data acquisition

I'm working on an update to a distributed data acquisition system. The current configuration has an acquisition "data server" that pushes a continuous stream of real-time data to clients over a persistent Ethernet connection. Currently, only the client side logs any of this data. This has worked well but now I must solve a new problem - have the client bring in and merge the server's data in case of a connection outage (this would occur after re-establishing a connection). Storage space on the acquisition side is not an issue. There are never any more than 4 clients connected at a time on this closed LAN. I'm looking for architecture or pattern that addresses this issue. Any suggestions? Should the server side always log as long as its on? Or just log when it has to (i.e., when there is network loss) - in that case, what is the best practice to handle merging the client's data with server's?
