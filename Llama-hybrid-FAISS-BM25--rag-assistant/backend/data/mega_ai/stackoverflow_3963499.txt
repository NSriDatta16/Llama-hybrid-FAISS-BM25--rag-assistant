[site]: stackoverflow
[post_id]: 3963499
[parent_id]: 
[tags]: 
Unable to parse the output from HTTPConnection.debuglevel

I am trying to programmability check the output of a tcp stream. I am able to get the results of the tcp stream by turning on debug in HTTPConnection but how do I read the data and evaluate it with say a regular expression. I keep getting "TypeError: expected string or buffer". Is there a way to convert the result to a string? thanks! SCRIPT: from urllib2 import Request, urlopen, URLError, HTTPError import urllib2 import cookielib import httplib import re httplib.HTTPConnection.debuglevel = 1 p = re.compile('abc=..........') cj = cookielib.CookieJar() proxy_address = '192.168.232.134:8083' # change the IP:PORT, this one is for example proxy_handler = urllib2.ProxyHandler({'http': proxy_address}) opener = urllib2.build_opener(proxy_handler, urllib2.HTTPCookieProcessor(cj), urllib2.HTTPHandler(debuglevel=1)) urllib2.install_opener(opener) url = "http://www.google.com/" # change the url req=urllib2.Request(url) data=urllib2.urlopen(req) m=p.match(data) if m: print "Match found." else: print "Match not found." RESULTS: send: 'GET hyperlink/ HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: www.google.com\r\nConnection: close\r\nUser-Agent: Python-urllib/2.6\r\n\r\n' reply: 'HTTP/1.1 303 See Other\r\n' header: Location: hyperlink:8083/3240951276 header: Set-Cookie: abc=3240951276; path=/; domain=.google.com; expires=Thu, 31-Dec-2020 23:59:59 GMT header: Content-Length: 0 send: 'GET hyperlink/3240951276 HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: hyperlink\r\nConnection: close\r\nUser-Agent: Python-urllib/2.6\r\n\r\n' reply: 'HTTP/1.1 303 See Other\r\n' header: Location: hyperlink header: Set-Cookie: abc=3240951276; path=/; expires=Thu, 31-Dec-2020 23:59:59 GMT header: Content-Length: 0 send: 'GET http://www.google.com/ HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: www.google.com\r\nCookie: abc=3240951276\r\nConnection: close\r\nUser-Agent: Python-urllib/2.6\r\n\r\n' reply: 'HTTP/1.1 200 OK\r\n' header: Date: Mon, 18 Oct 2010 21:09:32 GMT header: Expires: -1 header: cache-control: max-age=0, private, private header: Content-Type: text/html; charset=ISO-8859-1 header: Set-Cookie: PREF=ID=066bc785a2b15ef6:FF=0:TM=1287436172:LM=1287436172:S=mNiXaRhshpf8nLji; expires=Wed, 17-Oct-2012 21:09:32 GMT; path=/; domain=.google.com header: Set-Cookie: NID=39=ur3gnXL80kEy4shKAh8_-XV8PhmS4G83slPcX9OD3L6uthQZw-wq7RUnB0WKGYR3F_QGoyZAyEPCvjdi69EXXq23dzvpuZSl_KU2o7pqcTB7Vym4co1LOXmi9YQGpbkb; expires=Tue, 19-Apr-2011 21:09:32 GMT; path=/; domain=.google.com; HttpOnly header: Server: gws header: X-XSS-Protection: 1; mode=block header: Connection: close header: Content-Length: 4676 header: X-Con-Reuse: 1 header: Content-Encoding: gzip header: via: 1.1 HermesPrefetch (CID2627003316.AID3240951276.TID1) header: X-Trace-Timing: Start=1287436172845, Sched=0, Dns=2, Con=11, RxS=28, RxD=35 Traceback (most recent call last): File "C:\Documents and Settings\asdf\workspace\PythonScripts2\src\Test1.py", line 18, in m=p.match(data) TypeError: expected string or buffer
