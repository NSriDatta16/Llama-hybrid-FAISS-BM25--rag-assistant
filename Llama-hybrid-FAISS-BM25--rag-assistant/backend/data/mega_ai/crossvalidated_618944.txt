[site]: crossvalidated
[post_id]: 618944
[parent_id]: 
[tags]: 
How to calculate effect size to to use Power Analysis to get minimum sample size when standard deviation is not available (digital marketing AB test)?

TLDR : I can't find a way to calculate the effect size needed to be inputted to Power Analysis to get the minimum sample size needed to 90% statistical significance as I can't calculate standard deviation Hello everybody, I'm stuck with the following dilemma: I'd like to do an AB test for digital marketing activities and I want to know in advance what the minimum sample size would be in order to get statistical significance at 90%. The issue is that I’m struggling to figure out how to calculate the effect size needed as an input for Power Analysis. Considering the metric I'm assessing is the aggregated metric CPO (Cost per Order ; formula = money (€) spent on the digital marketing activities / n. of orders the campaigns provided), and considering that I'm going to introduce a certain change to these activities and then split those in 2 populations, my H0 is that CPO group of group A - CPO of Group B = 0; H1 is that CPO group of group A - CPO of Group B ≠ 0 (higher or lower than 0 so a 2 tailed test). I’m getting the data at user level, meaning that I’ll have something like below: All users have cost (“mkp_revenue_euro”) associated; Some users will carry out some orders, hence will have the “pc_sales” populated with 0, 1,2,3 etc. And then I am aggregating cost and orders by adset_version (so the name of the population: adset_a or adset_b), calculate the CPO, and I’m going to get something like: As you’ll see, it’s hard to calculate the effect size to be inputted in the Power Analysis formula (whether this is done through t-test, bootstrap, etc. Example with t-test in Python you need to specific power, alpha, ratio and effect_size is here: https://www.statsmodels.org/dev/generated/statsmodels.stats.power.TTestIndPower.solve_power.html#statsmodels.stats.power.TTestIndPower.solve_power ): Cohen’s d ( https://en.wikipedia.org/wiki/Effect_size#Cohen's_d ) needs both means (which proxy could be the CPO of group A and B) and standard deviation, which can’t be calculated at adset level (given that you only have 1 value per group). Calculating CPO at user level doesn’t seem right to me as we would be aggregating a metric that is aggregated and you don’t usually do average of averages ( https://lemire.me/blog/2005/10/28/average-of-averages-is-not-the-average/ ) Cohen’s h ( https://en.wikipedia.org/wiki/Cohen%27s_h ) can be used only for metrics following a Bernoulli distribution, which values are always 0 or 1; or it can be used for proportion, but CPO is not a proportion; All the other methods I have found around need standard deviation. Any idea how to calculate the effect size needed for Power Analysis ? Some extra info: I’m using Python; I'm doing hypothesis testing through the Bootstrap percentile method ( https://www.frontiersin.org/articles/10.3389/fpsyg.2019.02215/full#:~:text=Percentile%20Bootstrap%20Method, )%20(Efron%2C%201982) to calculate confidence intervals (and check whether 0 in included in the range or not; if not  stat.sign. has been achieved); I’m running a “fake” AB test before running the real one (the images above are coming from this), by randomly splitting the current digital marketing activities and then adding an expected delta to the test group (example: I expect the CPO from the test group being 5% lower than the control, so I’m going to multiply all the bootstrapped metrics of the test group by 0.95).
