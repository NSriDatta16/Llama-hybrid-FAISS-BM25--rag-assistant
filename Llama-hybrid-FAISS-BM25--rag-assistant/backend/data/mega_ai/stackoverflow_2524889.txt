[site]: stackoverflow
[post_id]: 2524889
[parent_id]: 2523155
[tags]: 
What is PRAGMA ? It is not standard. Maybe you mean PROGN (which is not even necessary since DEFUN supplies an implicit PROGN )? Why all the macros? Is there some reason to disallow a form like (reduce (lambda (r c) (* (ref-of A c) r)) (list :x :y :z) :initial-value 1) ? This seems like a case of premature optimization . Pillsy's answer is right on: when REF-OF is expanded (from the usage of ZERO-P ), its INDEXES will have the symbol INDEXES as its value, not the value passed into NORMALIZE (like wise INDEX will be I ).
