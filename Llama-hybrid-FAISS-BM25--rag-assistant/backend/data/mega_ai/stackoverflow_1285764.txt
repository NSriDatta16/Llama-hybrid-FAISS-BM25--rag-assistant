[site]: stackoverflow
[post_id]: 1285764
[parent_id]: 1285531
[tags]: 
Converting to Double is going to give up 12 bits of precision on both the dividend and the donominator out of 64. The majority of the time it will give you the correct answer, however it will occationally have rounding errors unless it's stored usng 80bit floating format. Edit: Unless I'm just too sleepy to see the error, I think wrang-wrang's answer will work. I got work in morning, 6 hour drive to customer's site. Ugg. night. Edit: One last thing. x86 uses 80bit internal representation. I think there are opcodes that will garentee int64 to float80 conversion, if you want to toss a couple asm instructions around. That would be a more elegant and certainly faster solution than a pure C implementation, although it wouldn't be portable.
