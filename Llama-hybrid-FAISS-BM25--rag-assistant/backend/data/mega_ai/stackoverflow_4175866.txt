[site]: stackoverflow
[post_id]: 4175866
[parent_id]: 4175754
[tags]: 
I would make your code less inelegant looking by refactoring it out a bit, so your complex data structures are read with a series of calls of its underlying types. I assume your code is pure C and not C++ because in the latter you would probably throw exceptions rather than using goto statements.
