[site]: stackoverflow
[post_id]: 1179077
[parent_id]: 1175687
[tags]: 
There are several ways to go about this. The most straight-forward is to have a login link somewhere in the navigation that appends the destination to the url. The code for this is something like: drupal_get_destination())); } ?> You can also set a custom access denied page at admin/settings/error-reporting that could either go to a callback that outputs the above code, or to a simple php node that outputs that code. Additionally, the user login block provided with Drupal core uses the same method to redirect a successful login back to the originating page. Edit : Note that the above methods will rarely work for registration, because there are more steps involved there. Specifically, when a user needs to verify an email address, passing the originating destination along via the email would involve modifying the core user registration process. It will potentially still work on a site configured to not verify email addresses. The idea then would be to provide 2 links: 1 for login and the other for registration, both passing along destination information. LoginToboggan may also be worth pursuing, although it doesn't yet offer the exact registration feature you're looking for .
