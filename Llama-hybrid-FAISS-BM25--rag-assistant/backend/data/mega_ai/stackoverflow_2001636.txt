[site]: stackoverflow
[post_id]: 2001636
[parent_id]: 
[tags]: 
Convert HttpResponse to an .apk file

The problem is this: I make an internet connection to some url and receive an HttpResponse with an app_example.apk. Then I want to create a file (an .apk) in the sdcard with this data so that this downloaded application can be installed later. How can I convert the HttpResponse to an .apk file? Let's clear some details: I have to get this apk file through an internet connection to my server I don't want to install this applications I receive on the sdcard All of this has to be done in my code, I cannot use android market I am currently writing to that file. What I'm doing is converting the HttpResponse to a byte[ ], then that byte[ ] is written to a file (an .apk) using an ObjectOutputStream. Like this: // byte[] appByteArray - already has the internet response converted in bytes try { file = new File(Environment.getExternalStorageDirectory()+"/"+appName+".apk"); file.createNewFile(); FileOutputStream stream = null; stream = new FileOutputStream(file, false); ObjectOutputStream objectOut = new ObjectOutputStream(new BufferedOutputStream(stream)); objectOut.writeObject(appByteArray); objectOut.close(); } catch (Exception e) { e.printStackTrace(); } In the end, the file is created and has the received content. When I try to install it, through a VIEW intent (using the default installer) I get a parse error saying that it could not find the AndroidManifest.xml. I think that in some step along the way, the received data is being corrupted. Do you have another method to solve this? Many thanks
