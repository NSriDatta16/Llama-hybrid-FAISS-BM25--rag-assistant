[site]: stackoverflow
[post_id]: 434424
[parent_id]: 
[tags]: 
Is there a way to get coordinates relative to the innermost NSView when the parent is not the window?

I have question about NSView: Imagine a Custom View where the mouseDown, mouseDrag and mouseUp methods are overriden so the user can drag a point (NSRect) on the screen. To drag it I need the mouse coordinates relative to the current view. This is not a problem when the parent of the view is the window, but how do I get them when the view is inside another view? @implementation MyView - (id)initWithFrame:(NSRect)frame { self = [super initWithFrame:frame]; if (self) { pointXPosition = 200.0f; pointYPosition = 200.0f; locked = NO; } return self; } - (void) drawRect:(NSRect)rect { NSRect point = NSMakeRect(pointXPosition, pointYPosition, 6.0f, 6.0f); [[NSColor redColor] set]; NSRectFill(point); } - (void)mouseDown:(NSEvent *)theEvent { NSPoint mousePos = [theEvent locationInWindow]; NSRect frame = [super frame]; CGFloat deltaX = mousePos.x - frame.origin.x - pointXPosition; CGFloat deltaY = mousePos.y - frame.origin.y - pointYPosition; if(sqrtf(deltaX * deltaX + deltaY * deltaY)
