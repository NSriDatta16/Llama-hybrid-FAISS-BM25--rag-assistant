[site]: stackoverflow
[post_id]: 4378519
[parent_id]: 4378176
[tags]: 
Normal for jsom, it's work in progress, the DOM API is gigantic and re-implementing all the Browser quirks takes a lot of time. But first of all your call jsdom.jsdom(body, {},{}).createWindow(); is wrong, second parameter should be a fully configure DOM object , if you don't provide one just pass null to make it fall back to a default one. But after that it's turtles all the way down. Twitter for example does this window.top.location , turns out that jsdom does not define window.top and BOOM! Fixing that... yeah, turtles. The errors don't stop, if you're interested in fixing it all the way down, open /jsdom/0.1.21/package/lib/jsdom/level2/languages/javascript.js there you can log the code and do fixes to the window object till it works.
