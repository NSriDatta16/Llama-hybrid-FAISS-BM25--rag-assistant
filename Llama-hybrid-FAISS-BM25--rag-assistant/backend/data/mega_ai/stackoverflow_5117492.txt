[site]: stackoverflow
[post_id]: 5117492
[parent_id]: 
[tags]: 
How to disable a MySQL query rollback in Magento after an unsuccessful payment operation?

I've coded a manual script in Magento to log my transactions in a payment process. The MySQL query works fine after a successful transaction and I can see the data in MySQL. But my query rollbacks (looks like inserted and deleted) after an unsuccesful payment. When I look into my MySQL table I can see the auto increment increases but no data. My code is below. How can I block Magento to rollback my query? $conn = Mage::getSingleton('core/resource')->getConnection('core_write'); $results = $conn->query("insert into pos_transactions(order_id, transaction_time, ip, type) values('$orderId', '$sysDate', '$ip', 'Auth')");
