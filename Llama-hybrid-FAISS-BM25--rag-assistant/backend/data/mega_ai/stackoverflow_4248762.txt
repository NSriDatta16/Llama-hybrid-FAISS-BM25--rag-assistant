[site]: stackoverflow
[post_id]: 4248762
[parent_id]: 4248621
[tags]: 
It's not very elegant... but it works. replace $locstripped = $locstrip[4]; with $locstripped = $locstrip[count($loc) - 1]; if(!$locstripped) $locstripped = $locstrip[count($loc) - 2]; $locstripped = str_replace('-', ' ', $locstripped);
