[site]: stackoverflow
[post_id]: 4831655
[parent_id]: 
[tags]: 
VARCHAR2 Content lost during call to Oracle from JBoss

Really weird. I have an Oracle function function highlightDesc(desc IN VARCHAR2, keyword IN VARCHAR2) return VARCHAR2 return 'paragraphtag' || REPLACE(desc, keyword, 'boldtag' || keyword || 'boldtag') || 'paragraphtag'; this gets called this way select a.*, highlightDesc(a.Desc) as highlightedDesc from tablea a The weird thing is that when I call this sql from within sqlplus or plsql developer the highlightedDesc column contains all the right markup. When I call it from Junit, I get all the right markup. When I call it from a struts2 app running on jboss(winxp/redhat) with the oracle thin drivers, I get the enclosing paragraphtag tags and the content but not the boldtag . Does that make sense? Any thoughts? Edit: I apologize, I cant log into SO from work. Lame I know. I am using the commons dbutils queryrunner (BeanListHandler) to execute the sql from a java class. My action is doing nothing but calling my service class and setting the value. I looked at the src for queryrunner, it ends up calling a class called BeanProcessor which gets the highlightedDesc column as a String via rs.getString(index); I thought it might be an encoding problem??? so I tried to change the jvm encoding and also the jboss encoding, but it had no effect. I think I might see if converting the character set in oracle has any effect? Thanks.
