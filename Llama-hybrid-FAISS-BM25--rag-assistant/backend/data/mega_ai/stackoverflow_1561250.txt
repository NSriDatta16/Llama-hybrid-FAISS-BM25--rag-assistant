[site]: stackoverflow
[post_id]: 1561250
[parent_id]: 
[tags]: 
Custom ServiceBus and "adapter" for it using WCF

Currently im developing a server for satelite monitoring of objects. In its current state it is very efficient and stable in hi load scenarios. Server must be able to handle 50+mln messages per day, or more if load balancing is used. It consists of gps data gateway(singleton), "databroker"(singleton), which is responsible for persisting data, providing it on request, and alerting subscribers about new data, login service(per call) and client service(per session), responsible for subscription and working with web interface and rich client. At this state i can forsee those problems: Growing complexity if new services are added. Tight coupling. Hard to configure. Lots of low level code for handling subscriptions etc in future bl services(reporting for example). To solve those problems i want to use something like ServiceBus. MS solutions are to expensive for our customers, NServiceBus is frightening me a bit, due to its open source origins(and Class1 in source code=D) and CIO asked to avoid using it. So i decided to write my own simple bus, and encountered problems with adressing and subscribing diffirent types of services(singleton, per session, per call) and also there is a requirement for load balancing. I found quite elegant solution for this: use "adapters" for bus - wcf services for incapsulating some specific issues of working with services - like loadbalancing. So bus will only see adapters and route messages between them and they will forward messages further. But im concerned about perfomance and whole idea.. Will be very grateful to hear thoughts about all of this stuff=) PS Bus and adapters use MSMQ for communication between them, but other services can use http,tcp bindings. PS2 Sorry for my english, its not my native language=)
