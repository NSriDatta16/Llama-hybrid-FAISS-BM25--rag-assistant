[site]: stackoverflow
[post_id]: 326942
[parent_id]: 
[tags]: 
How can I get my bash script to work?

My bash script doesn't work the way I want it to: #!/bin/bash total="0" count="0" #FILE="$1" This is the easier way for FILE in $* do # Start processing all processable files while read line do if [[ "$line" =~ ^Total ]]; then tmp=$(echo $line | cut -d':' -f2) count=$(expr $count + 1) total=$(expr $total + $tmp) fi done Is there another way to modify this script so that it reads arguments into $1 instead of $FILE ? I've tried using a while loop: while [ $1 != "" ] do .... done Also when I implement that the code repeats itself. Is there a way to fix that as well? Another problem that I'm having is that when I have multiple files hi*.txt it gives me duplicates. Why? I have files like hi1.txt hi1.txt~ but the tilde file is of 0 bytes, so my script shouldn't be finding anything. What i have is fine, but could be improved. I appreciate your awk suggestions but its currently beyond my level as a unix programmer. Strager: The files that my text editor generates automatically contain nothing..it is of 0 bytes..But yeah i went ahead and deleted them just to be sure. But no my script is in fact reading everything twice. I suppose its looping again when it really shouldnt. I've tried to silence that action with the exit commands..But wasnt successful. while [ "$1" != "" ]; do # Code here # Next argument shift done This code is pretty sweet, but I'm specifying all the possible commands at one time. Example: hi[145].txt If supplied would read all three files at once. Suppose the user enters hi*.txt; I then get all my hi files read twice and then added again. How can I code it so that it reads my files (just once) upon specification of hi*.txt? I really think that this is because of not having $1.
