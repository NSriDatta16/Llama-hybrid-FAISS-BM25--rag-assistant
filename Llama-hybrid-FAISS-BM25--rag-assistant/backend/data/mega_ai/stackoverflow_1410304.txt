[site]: stackoverflow
[post_id]: 1410304
[parent_id]: 1406995
[tags]: 
It seems the easiest way is to run a moderately complex functor over the colelction: struct CountAllAverages { typedef std::pair average_t; std::map averages; void operator()(mystruct& ms) { average_t& average = averages[ms.a]; average.second++; average.first += ms.b; } float getAverage(float a) { return averages[a].first/averages[a].second; } };
