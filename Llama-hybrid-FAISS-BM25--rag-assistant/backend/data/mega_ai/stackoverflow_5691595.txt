[site]: stackoverflow
[post_id]: 5691595
[parent_id]: 5691552
[tags]: 
A #comment runs to the end of a line, but the use of = is rewritten as a function call, like puts() If we rewrite as puts(@page_title || 'Pragmatic Bookshelf' #magic @page_title; a if a is true, else b) It becomes clear that the closing parenthesis ) is part of the comment, and therefore the statement can't be parsed correctly. To work around this, we can just use a separate ERB comment block, like so: As a final note, using the || operator to coalesce nil variables is a very common Ruby idiom, and does not need a comment at all. As Steve McConnell says in Code Complete , comments should explain why something is done, not how something is done.
