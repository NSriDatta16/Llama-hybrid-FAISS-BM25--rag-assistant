[site]: stackoverflow
[post_id]: 5170256
[parent_id]: 
[tags]: 
What makes a good autowarming query in Solr and how do they work?

This question is a follow up to this question about infrequent, isolated read timeouts in a solr installation. As a possible problem missing / bad autowarming queries for new searchers were found. Now I am confused about how good autowarming queries should "look like". I read up but couldnt find any good documentation on this. Should they hit a lot of documents in the index? Or should they have matches in all distinct fields that exist in the index? Wouldnt just *:* be the best autowarming query or why not? The example solr config has theese sample queries in it: solr 0 10 rocks 0 10 I changed them to: george 0 10 Why? Because the index holds film entities with fields for titles and actors. Those are the most searched ones. And george appears in titles and actors. I don't really know whether this makes sense. So my question is: What would be good autowarming queries for my index and why? What makes a good autowarming query? This is an example document from the index. The index has about 70,000 documents and they all look like this (only different values of course): example document: Tommy Lee Jones Will Smith Rip Torn Lara Flynn Boyle Johnny Knoxville Rosario Dawson Tony Shalhoub Patrick Warburton Jack Kehler David Cross Colombe Jacobsen-Derstine Peter Spellos Michael Rivkin Michael Bailey Smith Lenny Venito Howard Spiegel Alpheus Merchant Jay Johnston Joel McKinnon Miller Derek Cecil amazon Men in Black II MIB 2 MIIB Men in Black 2 Men in black II (Hombres de negro II) Hombres de negro II Hommes en noir II false US Agent J (Will Smith) muss die Erde wieder vor einigem Abschaum bewahren, denn in Gestalt des verführerischen Dessous-Models Serleena (Lara Flynn Boyle) will ein Alien den Planeten unterjochen. Dabei benötigt J die Hilfe seines alten Partners Agent K (Tommy Lee Jones). Der wurde aber bei seiner "Entlassung" geblitzdingst, und so muß J seine Erinnerung erst mal etwas auffrischen bevor es auf die Jagd gehen kann. Barry Sonnenfeld 120912 Action Komödie Science Fiction 120912 /media/search/filmcovers/105x/kf/false/F6Q1XW.jpg 120912 2011-03-01T18:51:35.903Z Men in Black II 3238 0 amazon dvd 49 meninblack 1 /film/Men-in-Black-II-Barry-Sonnenfeld-Tommy-Lee-Jones-F6Q1XW/ 2002 Most queries are exact match queries on actor fields with some filters in place. Example: INFO: [] webapp=/solr path=/select/ params={facet=true&sort=score+asc,+malus+asc,+year+desc&hl.simple.pre= starthl &hl=true&version=2.2&fl=*,score&facet.query=year:[1900+TO+1950]&facet.query=year:[1951+TO+1980]&facet.query=year:[1981+TO+1990]&facet.query=year:[1991+TO+2000]&facet.query=year:[2001+TO+2011]&bf=div(sub(10000,malus),100)^10&hl.simple.post= endhl &facet.field=genre&facet.field=country&facet.field=blockbuster&facet.field=affiliate&facet.field=product_type&qs=5&qt=dismax&hl.fragsize=200&mm=2&facet.mincount=1&qf=actor^0.1&f.blockbuster.facet.mincount=0&f.genre.facet.limit=20&hl.fl=actor&wt=json&f.affiliate.facet.mincount=1&f.country.facet.limit=20&rows=10&pf=actor^5&start=0&q="Josi+Kleinpeter"&ps=3} hits=1 status=0 QTime=4
