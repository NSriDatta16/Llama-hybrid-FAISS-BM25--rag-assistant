[site]: stackoverflow
[post_id]: 4223877
[parent_id]: 4223711
[tags]: 
There is a more elegant way when using TCP: use a message header. You know the (fixed) size of the header, so you can read this in a fixed size buffer. Inside the header, there is a message size, so you can use that to allocate your buffer and read the number of bytes as specified in the header. Mind you that using this, you might need some techniques for secial cases like fragmenting for long messages.
