[site]: stackoverflow
[post_id]: 253403
[parent_id]: 
[tags]: 
How to prevent a user from seeing previous users' info by hitting the "Back" button

I am developing a java web app using servlet, in order to prevent user from hitting the back button to see previous users' info, I have the following code : protected void processRequest(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException { HttpSession session=request.getSession(true); response.setContentType("text/html"); response.setHeader("Cache-Control","no-cache,no-store"); response.setDateHeader("Expires",0); response.setHeader("Pragma","no-cache"); ...... // if (!User_Logged_In) session.invalidate(); } Besides I also have the following code in the file : web/WEB-INF/web.xml ...... ResponseHeaderFilter ResponseHeaderFilter Cache-Control private,no-cache,no-store Pragma no-cache Expires 0 And the ResponseHeaderFilter.java looks like this : import java.io.*; import javax.servlet.*; import javax.servlet.http.*; import java.util.*; public class ResponseHeaderFilter implements Filter { FilterConfig fc; public void doFilter(ServletRequest req,ServletResponse res,FilterChain chain) throws IOException,ServletException { HttpServletResponse response=(HttpServletResponse)res; for (Enumeration e=fc.getInitParameterNames();e.hasMoreElements();) // Set the provided HTTP response parameters { String headerName=(String)e.nextElement(); response.addHeader(headerName,fc.getInitParameter(headerName)); } chain.doFilter(req,response); // Pass the request/response on } public void init(FilterConfig filterConfig) { this.fc=filterConfig; } public void destroy() { this.fc=null; } } So far it's still not working correctly. The back button will bring up a warning window saying the data has expired, it asks if the user wants to repost it. If you choose yes, it will still display the previous pages info. What am I doing wrong? What's the fix ? Frank Yes, I am developing a web app for a PC in public place, if user B hits the back button he might see user A's private info. I was trying to use session id with servlet, but how to do it, any sample code ? I also tried the following : ... ...... // Clear current credentials : Requires IE6 SP1 or later // document.execCommand("ClearAuthenticationCache"); document.execCommand("ClearAuthenticationCache","false"); ...... It works for IE but but Firefox.
