[site]: stackoverflow
[post_id]: 1985541
[parent_id]: 1985509
[tags]: 
Node is an interface. You have to have a concrete class for implementation. And getClass() returns that concrete class. Edit in response to comment: Sorry, I didn't pay attention to the instanceof. Looking at the source code , it appears that TinyNodeImpl doesn't implement org.w3c.dom.Node . And looking at the JDK docs, it appears that it doesn't have to: the doc for javax.xml.XPath refers you to XPathConstants for the result type, and it refers to the "The XPath 1.0 NodeSet data type" (which, if you look at the XPath 1.0 spec, is not defined). So, it seems that returns from the XPath API are only required to be consistent when used within that API. Not exactly what you wanted to hear, I'm sure. Can you use the built-in JDK implementation? I know that it returns org.w3c.dom objects.
