[site]: stackoverflow
[post_id]: 2971405
[parent_id]: 2968731
[tags]: 
i don't know how you're checking for the user agent, but i'd do this way: checking directly in the user request seems to be the most consistent way to verify the user browser. And the request.env is avaliable in your controller and views, so you could pass this to rjs if needed.
