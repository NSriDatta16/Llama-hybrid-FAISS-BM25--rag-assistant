[site]: stackoverflow
[post_id]: 423248
[parent_id]: 
[tags]: 
What size should I allow for strerror_r?

The OpenGroup POSIX.1-2001 defines strerror_r , as does The Linux Standard Base Core Specification 3.1 . But I can find no reference to the maximum size that could be reasonably expected for an error message. I expected some define somewhere that I could put in my code but there is none that I can find. The code must be thread safe. Which is why strerror_r is used and not strerror. Does any one know the symbol I can use? I should I create my own? Example int result = gethostname(p_buffy, size_buffy); int errsv = errno; if (result From the documents: The Open Group Base Specifications Issue 6: ERRORS The strerror_r() function may fail if: [ERANGE] Insufficient storage was supplied via strerrbuf and buflen to contain the generated message string. From the source: glibc-2.7/glibc-2.7/string/strerror.c:41: char * strerror (errnum) int errnum; { ... buf = malloc (1024);
