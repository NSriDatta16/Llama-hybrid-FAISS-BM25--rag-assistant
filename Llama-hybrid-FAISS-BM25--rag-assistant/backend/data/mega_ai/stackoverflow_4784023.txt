[site]: stackoverflow
[post_id]: 4784023
[parent_id]: 4783871
[tags]: 
The typical XSLT style would be: Note : Pattern matching instead of xsl:for-each and named templates, xsl:apply-templates instead of xsl:call-template , current() function to reference context node. EDIT : In order to look more like your incomplete stylesheet fragment... Note : Using xsl:key because you wrote "millons of records", xsl:for-each with singleton root node in order to change context node for fn:key() function, using outer most scope variable $xml_A for cross reference key value. The mode is there just in case there is conflic with other rules of the stylesheet you didn't provide.
