[site]: stackoverflow
[post_id]: 497179
[parent_id]: 
[tags]: 
How does one get the instance of a Ruby class running in the current RB file? (Embedding Ruby in C++)

I have embedded Ruby inside my C++ application. I have generated the bindings using SWIG. Basically, I run the ruby file and then Ruby takes over and calls my C++ class. Based on my previous question, I would like to get the current instance of the class that is defined in the ruby file back to the C++ class so that I may execute instance methods. I execute the ruby file as follows: rb_eval_string_protect( , &status ); rb_funcall(Qnil, rb_intern("main"), 0); The global main method in the script creates an instance of the defined class in the file. That's the instance I am after. If I have to, I will add a parameter or another function to pass the instance back, however, I'm not sure how to define that in C++ so that when SWIG generates the binding, it all works ok. Any help would be appreciated. Previous Question: Calling Ruby class methods from C++
