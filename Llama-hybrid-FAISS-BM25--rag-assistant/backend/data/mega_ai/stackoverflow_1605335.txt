[site]: stackoverflow
[post_id]: 1605335
[parent_id]: 1605084
[tags]: 
winsock doesn't support reporting the discovered MTU, even though other TCP/IP stacks do (e.g. AIX through a socket option IP_GETPMTU). As winsock cannot report that, .NET can't provide an API (which would have to be on top of winsock). I recommend sending data in chunks of 64kiB. This is the maximum IP packet size, and likely larger than the MTU, so the stack will send several full segments. The last fragment may be smaller, but then, the system may delay sending it (because it still needs to receive acknowledges for earlier data), so if you follow up quickly with the next send of 64kiB, the system will combine the chunks again into packets using the path mtu.
