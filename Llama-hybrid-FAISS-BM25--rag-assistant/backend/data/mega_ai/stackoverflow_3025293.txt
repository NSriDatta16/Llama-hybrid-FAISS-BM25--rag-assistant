[site]: stackoverflow
[post_id]: 3025293
[parent_id]: 
[tags]: 
parser with scopes and conditionals

I'm writing a C/C++/... build system (I understand this is madness ;)), and I'm having trouble designing my parser. My "recipes" look like this: global { SOURCE_DIRS src HEADER_DIRS include SOURCES bitwise.c \ framing.c HEADERS \ ogg/os_types.h \ ogg/ogg.h } lib static ogg_static { NAME ogg } lib shared ogg_shared { NAME ogg } (This being based on the super simple libogg source tree) # are comments, \ are "newline escapes", meaning the line continues on the next line (see QMake syntac). {} are scopes, like in C++, and global are settings that apply to every "target". This is all background, and not that relevant... I really don't know how to work with my scopes. I will need to be able to have multiple scopes, and also a form of conditional processing, in the lines of: win32:DEFINES NO_CRT_SECURE_DEPRECATE The parsing function will need to know on what level of scope it's at, and call itself whenever the scope is increased. There is also the problem with the location of the braces ( global { or global{ or as in the example). How could I go about this, using Standard C++ and STL? I understand this is a whole lot of work, and that's exactly why I need a good starting point. Thanks! What I have already is the whole ifstream and internal string/stringstream storage, so I can read word per word.
