[site]: stackoverflow
[post_id]: 1783892
[parent_id]: 1783844
[tags]: 
You are using an uninitialised pointer, hence the segfault. Catching this kind of error is possible, if you turn on some more warnings, using -Wall for example You need to use -Wall in conjonction with some optimisation (-On) for the warning to appear. For instance, compiling your code with gcc -Wall -O2 -c test.c resulted in the following error message : test.c: Dans la fonction «main» : test.c:10: attention : «test» is used uninitialized in this function While using french word, this compiler message is not an insult but a warning ;) See below for a code allocating memory for your test pointer int main () { struct Wrapper *test; test = malloc(sizeof(struct Wrapper)) if(test == NULL) { /* error handling */ } test->value = 5; free(test) return 0; }
