[site]: stackoverflow
[post_id]: 4768571
[parent_id]: 
[tags]: 
how do I access the main class's stage? + Can I pass functions as arguments like this?

There are two files in my actionscript project named "TestAPP", TestAPP.as and Draggable.as TestAPP.as: package { import flash.display.Sprite; import flash.display.Stage; public class TestAPP extends Sprite { var _mainStage:Stage; public function TestAPP()//This is where we test the UI components. { var sp:Sprite = new Sprite(); _mainStage = stage; _mainStage.addChild(sp); sp.graphics.beginFill(0x00FF00); sp.graphics.drawCircle(0,0,10); sp.graphics.endFill(); sp.x = 50; sp.y = 50; var draggable1:Draggable = new draggable(sp,_mainStage,limitingfunc); } public function limitingfunc(x:Number,y:Number):int{ return 0; } } } And for the draggable.as: package { import flash.display.Sprite; import flash.display.Stage; import flash.events.MouseEvent; public class Draggable { private var _limitingFunc:Function; private var _which:Sprite; private var _MouseSavedX:Number; private var _MouseSavedY:Number; private var _stage:Stage; public function Draggable(which:Sprite,stage:Stage,limitingfunc:Function) { _limitingFunc = limitingfunc; _which = which; _stage = stage; _which.addEventListener(MouseEvent.MOUSE_DOWN,begin_drag); } //limiting func: returns 0 when the object is free to move that place. //returns -1 when the user wants to block X coordinate changes (but maintain Y free) //returns -2 when the user wants to block Y ... //returns -3 or less when the user wants to block both X and Y from changing. //returns private function Return_0(x:Number = 0,y:Number = 0):int{ return 0; } private function begin_drag(ev:MouseEvent):void{ var xTo:Number = _stage.mouseX - _MouseSavedX + _which.x; var yTo:Number = _stage.mouseY - _MouseSavedY + _which.y; var limitingFuncReturnValue:int = _limitingFunc(xTo,yTo); if(limitingFuncReturnValue == 0){//free to move. _which.x = xTo; _which.y = yTo; } else if(limitingFuncReturnValue == -1){//free to move Y _which.y = yTo; } else if(limitingFuncReturnValue == -2){ _which.y = yTo; } //else:do nothing. } } } In "my actionscript theory", I'm supposed to see a circle that follows the mouse when I click it. (The draggable is not fully implemented) But the circle doesn't even budge :( ...I've been trying to figure out how to access the main class's stage property. I've googled for it, but still no progress. Please help this helpless newb!!! I'll really appreciate your help:) Thank you!
