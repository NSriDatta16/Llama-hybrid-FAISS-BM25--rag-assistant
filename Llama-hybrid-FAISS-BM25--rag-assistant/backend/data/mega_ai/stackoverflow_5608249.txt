[site]: stackoverflow
[post_id]: 5608249
[parent_id]: 
[tags]: 
Javascript Variable Scope Confusion

In the following code snippet I've declared the variable "id" within the submit function. I attempt to assign a value to it within a nested function but it doesn't appear to be within scope and I don't know why. $(document).ready(function() { if (typeof(localStorage) == 'undefined' ) { alert('Your browser does not support HTML5 localStorage. Try upgrading.'); } else { $("#logForm").submit(function(){ var id; chrome.bookmarks.getRecent(1, function(mostrecent) { getLastId(mostrecent); }); function getLastId(mostrecent) { mostrecent.forEach(function(mostrecent) { lastId = mostrecent.id; alert(lastId + ' was last id'); id = lastId; }) } alert(id + ' outside function'); Bonus Question - If you know a better way to pull the last-used id from chrome for a bookmark would love to know what it is. I had to pull recent which doesn't account for the possibility of an added and then deleted last bookmark which would have incremented the index.
