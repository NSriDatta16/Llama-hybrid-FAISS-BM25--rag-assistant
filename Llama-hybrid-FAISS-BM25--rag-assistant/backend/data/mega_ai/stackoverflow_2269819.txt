[site]: stackoverflow
[post_id]: 2269819
[parent_id]: 
[tags]: 
How does the app know whether it's ok to send XMPP messages to the user in App Engine?

I've read this paragraph from the App Engine documentation a dozen times and still am completely in the dark about how chat invitations work: Invitations Google Talk and other chat servers will only accept messages for users that are "subscribed" to the sender, either because the user invited the sender to chat or because the user accepted an invitation to chat sent by the sender. An App Engine app can send chat invitations using the service API. As with sending email, a best practice is to send a chat invitation only when the user asks, such as by clicking a button on a web page. Alternatively, the app can ask the user to send an invitation to the app's XMPP address to enable receiving of messages. App Engine accepts all chat invitations automatically, and does not communicate invitations to the application. App Engine will route all chat messages to the application, regardless of whether the sender previously sent an invitation to the app. Maybe the problem is I haven't used chat so I'm not familiar with how invitations work in practice. But the first issue is how/why/whether an application needs/gets permission to chat with a user. The paragraph above seems to say the following: The application needs permission to send XMPP messages to the user ( and the user needs permission to send XMPP messages to the app? ), so The user has to send an invitation to the app to allow it to send messages to the user ( and the app has to send an invitation to the user to allow the user to send messages to the app? ) App Engine receives the chat invitation but does not communicate it to the app Question: How does the app know whether it's ok to send messages to the user since App Engine does communicate anything to app about the user's response to the invitation?
