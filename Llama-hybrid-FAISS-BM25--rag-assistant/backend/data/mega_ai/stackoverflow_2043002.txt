[site]: stackoverflow
[post_id]: 2043002
[parent_id]: 2042976
[tags]: 
There is the volatile keyword for this. Whether it's safe without it depends on the scenario. But the compiler can do funny stuff , such as reorganize order of operation. So even read/write to one field may be unsafe.
