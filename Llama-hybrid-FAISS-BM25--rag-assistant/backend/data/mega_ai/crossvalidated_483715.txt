[site]: crossvalidated
[post_id]: 483715
[parent_id]: 
[tags]: 
Measuring magnitude of proportional difference between two items: cannibalisation and halo effects of products relative to promotions

I am trying to understand cannibalisation/halo effect between products when a promotion event occurs for one product and not another, this data is based in time, and the promotion status occurs at irregular intervals. What I have done is compared product A to B (cannibal) when B is either on promotion (pr) or not (np), we always have a promotional condition for product B but not always A. Although, there is usually a value for promotional condition for both. I also have forecasted values for each condition (if product A has a promotional condition) of both items. Apologies for the poor equation style, below. I have followed a calculation method I have seen elsewhere online, but this appears to develop a poor metric, as you will see below. magnitude of cannibalisation/halo = (A - Bnp)/sum(A + Bnp) / (A - Bpr)/sum(A + Bpr) My issue with this is that when I test these values I get several issues. No cannibalisation: ((10-4)/14) / ((10-4)/14) = 1 Small increase to cannibalisation: ((10-4)/14) / ((10-8)/18) = 3.86 Large increase to cannibalisation: ((10-4)/14) / ((10-30)/40) = -0.86 Halo effect (reserved): ((4-10)/14) / ((10-4)/14) = -1 Small increase to halo effect: ((4-10)/14) / ((4-2)/6) = -1.29 Large increase to halo effect: ((40-100)/140) / ((40-2)/42) = -0.47 I know I can apply 1 to each side of the division to reverse the proportions to make the metric easily explainable, but this does not resolve the key issues. You can see the magnitude and sign for the cannibalisation do not make sense between the large and small cannibalisation. As I want to see the proportional difference in product A as an increase or decrease from the proportion of sales when B is on sale. Is this a halo (increase in proportion sales) or cannibalisation (decrease in sales). The proportional differences for large effects are closer to 1, while smaller effects are larger. I hope this makes sense, I don't have much experience with this kind of feature engineering (difference), and feel there is something simple/fundamental I am missing but I can't think how to resolve this. I would appreciate any answer/advice that helps me resolve and understand these issues. I am using R for my coding, if you want to demonstrate what to do in a practical example.
