[site]: stackoverflow
[post_id]: 4171137
[parent_id]: 
[tags]: 
Database design: credit top-ups and transactions

We're in the business of lead generation. Customers receive leads from us. They view basic information about the lead and decide whether to accept the lead or reject. If they accept the lead, they are deducted 1 credit (for each lead) and they can view the detail info of the lead. So each lead costs 1 credit (which is tied to some monetary value). We have different type of customers: insurance agents, real estate agents, credit card companies, clubs, etc. They pay different price for 1 credit. Customers can be prepaid or postpaid. I have the following tables for all of the above: Customers (id, name, address, is_postpaid, customer_type_id) CustomerTypes (id, name, credit_price) // name: insurance agent, real estate agent, etc TransactionTypes (id, name) // add to or deduct from credit balance CustomerTransactions (id, customer_id, quantity, transaction_type_id, credit_balance, credit_unit_price, date_created) Questions: What do you think about the overall approach? This design is OK for prepaid customers. But what about postpaid? Any feedback and criticism is appreciated. Update: : I've updated above tables to include the FK in Customers table.
