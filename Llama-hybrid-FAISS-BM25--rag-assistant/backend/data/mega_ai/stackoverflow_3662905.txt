[site]: stackoverflow
[post_id]: 3662905
[parent_id]: 3662130
[tags]: 
You can get the owner document via $anyDOMNode->ownerDocument Maybe it's not necessary to clone and insert the nodes into another document. If you split the archive into a) a skeleton xml document and b) an xml fragment that is included as an external entity into the document it suffices if you just append the xml string representation of the node to the end of the fragment file. E.g. as the skeleton ]> &entries; and then the php script $doc = new SimpleXMLElement(' 0 1 2 3 4 5 6 7 8 9 X Y '); $move = ''; for($i=10; $i b); $i++) { $move .= $doc->b[$i]->asXML(); } file_put_contents('archive.fragment', $move, FILE_APPEND); for($i=count($doc->b)-1; $i>9; $i--) { unset($doc->b[$i]); } echo $doc->asXML('current.xml');
