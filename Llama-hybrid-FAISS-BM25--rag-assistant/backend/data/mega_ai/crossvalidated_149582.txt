[site]: crossvalidated
[post_id]: 149582
[parent_id]: 
[tags]: 
probability of a success?

This is related to a simple greenhouse effect simulation. A photon of infrared radiation starts at the surface of the planet. On its path into space, it can have in its path 1, 2, or 3 molecules of CO2 that will absorb and then emit the photon. These molecules are along a line. Each time a photon hits a CO2 molecule, there is a 0.5 probability (coin flip heads) that it will be emitted toward space and a 0.5 probabiliy (tails) that it will be emitted toward Earth. So, if there is only 1 CO2 molecule, then the chance of the photon returning to Earth is 50%. If there are 2 CO2 molecules, then it becomes more difficult. There is a 50% chance that the photon hits the first CO2 molecule and is directed toward earth. That would be a failure. There is a 25% chance that the photon hits the first CO2 molecule is emitted toward space and is emitted by the 2nd molecule to space is then "lost" (a success in terms of planetary cooling). Obviously, though, the photon can bounce around for a while between these two molecules before finally hitting Earth or ending up in space. For instance, there is a 12.5% chance of a failure along this path (toward space, toward Earth, toward Earth). You can just keep considering rarer and rarer cases, obviously. The number of paths to take into account increases with the more molecules present. I am looking at Bernouli trials and negative binomial distributions to wrap my head around how to analyze this problem and understand it. But with no luck so far. I could write a program that would carry this simulation out many times to get a % success/% failure for millions of trials (millions of photons simulated) but that seems inelegant. Can someone get me started on how to view this? Perhaps a general area of study I am missing? I am not familiar with how to think of an unknown number of subtrials (coin flips) that determine the overall trial (a photon).
