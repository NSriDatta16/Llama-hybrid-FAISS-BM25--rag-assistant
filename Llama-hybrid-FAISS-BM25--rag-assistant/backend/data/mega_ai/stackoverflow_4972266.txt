[site]: stackoverflow
[post_id]: 4972266
[parent_id]: 
[tags]: 
Calling a multithreaded (openmp) c++ routine from a Fortran routine

I have a c++ routine standalone_c.cpp and a wrapper for this in fortran standalone_f.f90 which wraps standalone_c.cpp. standalone_c.cpp is multithreaded using a openmp pragma. I am able to compile both standalone_c.cpp and the wrapper standalone_f.f90. However when I try to link these two, I get errors like undefined reference to omp_get_thread_num, undefined reference to omp_get_num_procs. Does anyone have any experience calling multithreaded c or c++ code from a fortran routine? Can anyone guess why this is happening? I can post some pseudo code if there is enough interest. Edit: Compiling commands: gcc-4.3.3/bin/g++ -O -openmp $(IFLAGS) -c standalone_c.cpp fce/10.1.015/bin/ifort -g -O0 standalone_f.f90 fce/10.1.015/bin/ifort $(LFLAGS) standalone_c.o standalone_f.o -o standalone IFLAGS are for some libraries that I need, LFLAGS are the linker flags for those libraries.
