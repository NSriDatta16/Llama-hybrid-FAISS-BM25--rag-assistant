[site]: stackoverflow
[post_id]: 2331927
[parent_id]: 
[tags]: 
LINQ to XML, replace child nodes but keep state

I've got the following XML passed as an IQueryable to a method, i.e. XML: Some Text Some Text This is pullquote Some Text Some Text Method: public static string CreateSection(IQueryable section) { var bodySection = from b in articleSection.Descendants("body") select b; //Do replacement here. var bodyElements = bodySection.Descendants(); StringBuilder paragraphBuilder = new StringBuilder(); foreach (XElement paragraph in bodyElements) { paragraphBuilder.Append(paragraph.ToString()); } return paragraphBuilder.ToString(); } What I want to accomplish is to replace the with a (and maybe add attributes). My problem is not the actual replacement (XElement.ReplaceWith()) but the fact that after the replacement the changes does not reflect the bodySection variable that gets used by the StringBuilder. How would I go about getting this to work?
