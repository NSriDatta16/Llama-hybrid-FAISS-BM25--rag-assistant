[site]: stackoverflow
[post_id]: 5725634
[parent_id]: 
[tags]: 
android saving image twice to SD-card

I have a code that downloads an image from a website and saves it on the SD-card. When I send 2 web addresses for some reason, it only downloads the first image 2 times and saves them both with the second image name so if there is image1 and image2 on the website the code will only download image1 two times and save it on SD-card as image2 can please someone tell me what am I doing wrong? public String getLocalLink(String image_URL, String imageName){ /** This is what we do with this method: * Go online, according to the link, get the content, call the method to save. */ ImageLink = image_URL; URL ImageLinkURL; try { ImageLinkURL = new URL(ImageLink); //URL url = new URL(strURL); if (!hasExternalStoragePublicPicture(imageName)) { isImage = false; new DownloadImageTask().execute(ImageLinkURL); Log.v("log_tag", "if"); isImage = true; File sdImageMainDirectory = new File(Environment .getExternalStorageDirectory(), getResources() .getString(R.string.directory)); sdImageMainDirectory.mkdirs(); File file = new File(sdImageMainDirectory, imageName); Log.v("log_tag", "Directory created"); } } catch (MalformedURLException e) { Log.v(TAG, e.toString()); } return ("/sdcard/Hanud/‚Äù+imageName+".jpg"); } private class DownloadImageTask extends AsyncTask { // This class definition states that DownloadImageTask will take String // parameters, publish Integer progress updates, and return a Bitmap protected Bitmap doInBackground(URL... paths) { URL url; try { url = paths[0]; HttpURLConnection connection = (HttpURLConnection) url .openConnection(); int length = connection.getContentLength(); InputStream is = (InputStream) url.getContent(); byte[] imageData = new byte[length]; int buffersize = (int) Math.ceil(length / (double) 100); int downloaded = 0; int read; while (downloaded
