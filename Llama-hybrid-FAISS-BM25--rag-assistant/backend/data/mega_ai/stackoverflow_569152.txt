[site]: stackoverflow
[post_id]: 569152
[parent_id]: 569137
[tags]: 
I don't know of any libraries, but the string manipulation of domain names is easy enough. The hard part is knowing if the name is at the second or third level. For this you will need a data file you maintain (e.g. for .uk is is not always the third level, some organisations (e.g. bl.uk, jet.uk) exist at the second level). The source of Firefox from Mozilla has such a data file, check the Mozilla licensing to see if you could reuse that.
