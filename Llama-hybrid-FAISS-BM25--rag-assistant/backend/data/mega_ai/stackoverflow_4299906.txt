[site]: stackoverflow
[post_id]: 4299906
[parent_id]: 4299811
[tags]: 
RewriteRule ^([a-z][a-z](-[A-Z][A-Z])?)/(.*) /$3?ln=$1 [L] You don't need to do anything for fragments (eg: #7 ). They aren't sent to the server. They're handled entirely by the browser. Update: If you really want to treat zh-CN as a special case, you could do something like: RewriteRule ^zh-CN/(.*) /$1?ln=zh-CN [L] RewriteRule ^cn/(.*) /$1?ln=zh-CN [L] RewriteRule ^([a-z][a-z])/(.*) /$2?ln=$1 [L]
