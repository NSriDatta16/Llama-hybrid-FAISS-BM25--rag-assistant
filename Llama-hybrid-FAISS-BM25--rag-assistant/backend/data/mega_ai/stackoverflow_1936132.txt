[site]: stackoverflow
[post_id]: 1936132
[parent_id]: 
[tags]: 
getSelection() for iPhone bookmarklet

I've done a bit of research but can't seem to find a definitive answer regarding getting the currently selected text via getSelection() in an iPhone bookmarklet. Is this still possible? It seems that from various searches there are a number of bookmarklets available that use a similar behaviour, but none appear to work for me. I'm simply selecting some text on my iPhone, waiting for the draggable box to appear (along with the Copy button) and then tapping the Bookmark icon in MobileSafari and selecting the bookmarklet of my choice. To grab the currently selected text I'm doing something like this: encodeURIComponent( window.getSelection ? window.getSelection()+'' : (document.getSelection) ? document.getSelection()+'' : (document.selection ? document.selection.createRange().text+'' : 0) ) Does anyone have any experience with this?
