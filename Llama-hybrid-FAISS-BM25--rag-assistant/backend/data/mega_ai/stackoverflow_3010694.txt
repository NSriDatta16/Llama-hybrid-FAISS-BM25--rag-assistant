[site]: stackoverflow
[post_id]: 3010694
[parent_id]: 3010677
[tags]: 
Assuming you're using an AJAX style page like Gmail. Keep a boolean flag in the page level but outside localstorage and outside any particular refresh area. var bIsInited = false; The flag will be false whenever the entire page is reloaded whether it's by the user clicking refresh or the page loading for the first time (i.e. after the browser being rebooted). If this flag is false upon UI interaction then restore your UI's state from localstorage and set the flag to true. Continue persisting new changes to localstorage (unless, like before, the flag has been set to false by some means, in which case it's the same signal to read localstorage into the UI before writing the UI back to localstorage). There are many variations on this flow but that's the gist of it.
