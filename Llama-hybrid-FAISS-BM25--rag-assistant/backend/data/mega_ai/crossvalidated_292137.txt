[site]: crossvalidated
[post_id]: 292137
[parent_id]: 285889
[tags]: 
I think there is a much more elegant way to solve your problem without going through all the calculations. Given a sample size of $n$ you could model the mutual counts in each of the bins of the histogram as a multinomial random variable. Let $f_i$ and $f_j$ be the number of observations falling in bin $i$ and $j$ respectively and let $w_i$ and $w_j$ their associated probabilities. It is then well known from the multinomial distribution that: \begin{align*} -nw_iw_j & = cov(f_i,f_j) = \mathbb{E}(f_if_j) -\mathbb{E}(f_i)\mathbb{E}(f_j) = \mathbb{E}(f_if_j) -nw_i n w_j\\ \Rightarrow \qquad & \mathbb{E}(f_if_j)= -nw_iw_j + n^2w_iw_j = nw_iw_j(n-1). \end{align*} For your given example this gives $\mathbb{E}(f_if_j) =0.0001235676$, which "coincides" (but is not identical - rounding errors?!) with your calculations/simulation. (Note however that in your handwritten notes there is likely a mistake: the situation is symmetric for $i$ and $j$ and it doesn't make a lot of sense why one probability should be squared in the end result while the other isn't)
