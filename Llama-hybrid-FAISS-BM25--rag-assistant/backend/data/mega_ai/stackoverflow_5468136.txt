[site]: stackoverflow
[post_id]: 5468136
[parent_id]: 
[tags]: 
Android SensorManager.java getOrientation and getRotationMatrix algorithm

I am trying to figure out how getRotationMatrix() and getOrientation() work exactly. So far I've known that in getRotationMatrix() function it crossproducts the gravity vector with the magnetic vector to get the new vector pointing to the East. And then , it crossproducts the East vector with the gravity vector again to get the vector pointing to the magnetic north. According to this article said, now we have three orthogonal vectors and we can form a rotation matrix. Here is my first question : Why we should crossproduct the East vector with gravity vector again to get a vector pointing the magnetic north? Isn't the original magnetic vector pointing the magnetic north? what are the difference between new vector and the original magnetic vector? Speaking about the getOrientation() , here is my second question : how do the azimuth, roll and pitch come out? Are there any equations or formula for explanation? you can go to this website to see the code very appreciated for your attention. Thanks a lot!
