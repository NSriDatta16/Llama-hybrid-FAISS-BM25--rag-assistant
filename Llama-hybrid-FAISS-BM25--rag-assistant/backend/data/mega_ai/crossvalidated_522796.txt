[site]: crossvalidated
[post_id]: 522796
[parent_id]: 
[tags]: 
Average treatment effect on the treated from propensity score in matching procedure?

I am considering the case of a matching procedure used to estimate the average treatment effect on the treated (ATET) of a binary treatment applied to the data. The sample size equal to N, with Nt treated units and Nc = N - Nt controls. The two potential outcomes are Y1 for the treated units and Y0 for the non-treated. The variable representing the assignment, T, is equal to 1 if the unit is treated and to 0 if non-treated. The set of covariates affecting the assignment to the treatment group is denoted X and the conditional independence assumption is verified. The propensity score is denoted as p(x), is defined by: p(x) = Pr[ T = 1|X=x]. I know that, when the overlap condition, 0 \begin{equation} ATET = \frac{1}{Pr(T=1)}E[Y\frac{T-p(x)}{1-p(x)}] \end{equation} But I do not know how to prove it. My only guess is that it could have something to do with the law of iterated expectations, which implies that: \begin{equation} E[TY_{1}] = E[E[TY_{1}|x]] \end{equation} Can someone help me demonstrate this?
