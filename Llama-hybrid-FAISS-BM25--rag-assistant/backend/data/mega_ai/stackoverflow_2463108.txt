[site]: stackoverflow
[post_id]: 2463108
[parent_id]: 
[tags]: 
Weird swing heavyweight & lightweight mixing problem

We have a problem in our swing based application since we've upgraded our java version from 6u5 to 6u18 (The application runs over WinXP). Our application contains a Canvas object which resides in a JFrame. The application draws things on the canvas. Every time we drag a lightweight swing object (popup or another frame) over the canvas, it has a refresh problem. It blinks - becomes black. The problem only resolves after we move the swing component away from the canvas and click on it again. We think this problem is related to the fact the the canvas is a heavyweight object. And we know there were changes done in the new versions of java on the mixing of heavyweight and lightweight objects issue. Some more details: Our problem reproduces in java 6u14 and 6u16. Everything works fine in java 6u5. Another strange thing: We have 2 types of stations running our application. The first type has a ATI FireGL7100 PCI-E graphics card. The second type has a Matrox G450 PCI graphic card. The problem does not reproduce on the Matrox based station in any java version. One more thing: https://bugs.java.com/bugdatabase/view_bug?bug_id=6829858 - looks similar to our problem. Is our problem familiar? Do you have any suggestions (workarounds, ideas how the difference in graphics cards is connected to this problem) Hope I was clear enough, Yoav
