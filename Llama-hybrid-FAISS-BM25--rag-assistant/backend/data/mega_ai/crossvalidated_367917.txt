[site]: crossvalidated
[post_id]: 367917
[parent_id]: 367910
[tags]: 
I am converting the comments into an answer because it seems better than leaving lots of comments. From comments: Unlike for median values, for mean values the difference of means is the mean-value of differences. Suggest you look at the mean value of differences. One can construct a moving average of differences and test for when that is significantly different from zero. In that case, one could, I suppose, also examine which moving average works best. Also, if one wants to extract when this difference becomes significant, a stationary smooth (for example, a 1,4,6,4,1 smooth is stationary, where the current sample-time has a relative weight of 6) rather than a moving average may be more appropriate. Such a smooth (read as "an averaging") would be a symmetric Laplacian smooth or a Gaussian kernel smooth or other symmetric kernel smoother . More comment: Now if one uses an asymmetric moving average, rather than a symmetric smooth, and that average becomes significantly different at some time, then the actual occurrence time precedes the detection time corresponding to the last data time averaged. That is, the time of detection of a significant difference would lag its occurrence time. This can be corrected for by calculating that lag time and subtracting it from the moving average. For example, for a 1,1 moving average, the occurrence time is midway between the last two times, and not at the last sample time. Let us show an example of what a moving average does from a signal processing POV. To see the effects more clearly, we use continuous functions rather than discrete sample times. The figure below shows data in the form of $\sin (2 \pi x)$ (black). Next, we simulate a uniform distribution moving average of width $\dfrac{\pi}{6}$ , which is the function $$\frac{6}{\pi } \int_{x-\frac{\pi }{6}}^x \sin (2 \pi t) \, dt=\frac{3}{\pi ^2} \left\{\cos \left[2 \pi \left(x-\frac{\pi }{6}\right)\right]-\cos (2 \pi x)\right\}$$ (red). Notice that the amplitude of the red curve has been reduced, and the average curve (red) is shifted to the right. Next, we shift the moving average curve to the left by $\dfrac{\pi}{12}$ , or $\dfrac{1}{2}$ of the averaging width. This yields $$\frac{6 \sin \left(\frac{\pi ^2}{6}\right)}{\pi ^2} \sin (2 \pi x)\,.$$ This new curve (blue) still has reduced amplitude due to averaging of a factor of $\frac{6 \sin \left(\frac{\pi ^2}{6}\right)}{\pi ^2}\approx0.606257$ , but now has the same sine phase, i.e., zero, and frequency, i.e., $2\pi x$ , as the original "data" curve; $\sin(2\pi x)$ . Finally, the figure illustrates that using a uniform distribution averaging "window" we know a priori what the time delay of detection is. However, the fractional reduction of curve magnitude from a moving average is generally dependent upon the local curve shape of the data, which for a random variable is only known a posteriori . Not shown in the figure is the improvement in signal to noise ratio that averaging yields. Generally, signal averaging decreases the magnitude of higher frequency signal components of the random variable data more severely than the lower frequencies, and there is a trade off between the window temporal width increase in signal to noise ratio and the magnitude of signal reduction for the detection of significance of difference. Now a single lag time only corrects for first order lag effects. When multiple frequencies or non-linear features are present in the data, the lag time becomes itself a function of time. For example, let us model $\sin (\pi x)+\sin (2 \pi x)$ , which has two different frequencies, and its first order lag correction $\frac{12}{\pi ^2} \left[\sin \left(\frac{\pi ^2}{12}\right)+\sin \left(\frac{\pi ^2}{6}\right) \cos (\pi x)\right]\sin (\pi x)$ . Below is a plot of this with the local curve minimums and maximums marked with vertical line segments. This clearly shows that there are small differences of phase angle for different $x$ -axis values for the lag corrected moving average (cor. in blue) versus the original signal (data in black), which are second order lag effects. Thus, we have illustrated how frequency changes lag effects. Such changes are sometimes examined using Bode plots . There is another, somewhat related, approach to this same problem using control charts as pointed out by @whuber. For example, using exponentially weighted moving averages .
