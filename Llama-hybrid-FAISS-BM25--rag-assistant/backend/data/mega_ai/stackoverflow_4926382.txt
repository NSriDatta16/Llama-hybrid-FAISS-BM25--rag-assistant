[site]: stackoverflow
[post_id]: 4926382
[parent_id]: 4926239
[tags]: 
What you're looking to do is get a list of 'Use's from the ur table. For each 'use', you're looking to get the sum of the 'mon' field in the my table that has the same use. Putting your second query inside the while loop will work, but the better idea would be to leverage the power of the sql database you're using to do the filtering for you. What you're looking for is a join or an in statement (both work, and are, for the most part, functionally equivalent). The answer given by Joe Stefanelli gives one possible query solution (joining and grouping), another is this: select my.use, sum(my.mon) as mon_sum from my where my.use in (select use from ur where user = 'Gue') group by my.use This would also work. The idea is that you group by use and get the sum, and then filter out only the ones you need using the sub-query in the in statement.
