[site]: stackoverflow
[post_id]: 2306918
[parent_id]: 2305370
[tags]: 
show how would you design such a thing in Haskell from scracth (Browser-like API with possibility to have several independent instances)? Please, give a code snippet. I would use one (Haskell) thread at each point, have all threads running in the State monad with a record type of whatever resources they need, and have results communicated back to the main thread over a channel. Add more concurrency! That's the FP way. If I recall correctly, there's a design here for gangs of link checking threads communicating over channels: http://hackage.haskell.org/package/urlcheck Also, make sure not to use Strings, but Text or ByteStrings -- they'll be much faster.
