[site]: stackoverflow
[post_id]: 3378675
[parent_id]: 3378622
[tags]: 
The fragment __success(return >= 0) is a SAL annotation, which gives a clue to the PreFast tool about what the intended semantics of the macro are. This is used to do static analysis and identify potential bugs. The NT_SUCCESS macro tests for >= 0 because there are success codes other than STATUS_SUCCESS . Some success codes include extra information about the outcome of the operation, although at the moment I can only think of S_FALSE , which notifies the caller that the operation succeeded, but the result was false. As a rule, success codes are equal to or greater than zero, and failure codes are less than zero. [Strictly speaking, S_FALSE is an HRESULT , not an NT_STATUS , though the two types have the same size and similar conventions.]
