[site]: stackoverflow
[post_id]: 5171738
[parent_id]: 5168398
[tags]: 
It seems scrubyt is not ruby 1.9-ready, as jcode was used in 1.8 to deal with encoding issues . As of 1.9, ruby has a better encoding support (esp. utf-8) and therefore doesnâ€™t need jcode anymore. With 1.9.2: sebastien@greystones:~/dev$ rvm 1.9.2-head sebastien@greystones:~/dev$ ruby -v ruby 1.9.2p94 (2010-12-08 revision 30140) [x86_64-linux] sebastien@greystones:~/dev$ ruby -e 'require "rubygems"; require "scrubyt"' /home/sebastien/.rvm/gems/ruby-1.9.2-head/gems/scrubyt-0.4.06/lib/scrubyt.rb:1: warning: variable $KCODE is no longer effective; ignored :29:in `require': no such file to load -- jcode (LoadError) With 1.8.7: sebastien@greystones:~/dev$ rvm 1.8.7-head sebastien@greystones:~/dev$ ruby -v ruby 1.8.7 (2010-12-23 patchlevel 330) [x86_64-linux] sebastien@greystones:~/dev$ ruby -e 'require "rubygems"; require "scrubyt"' sebastien@greystones:~/dev$ I tried to change the Scrubyt files as follows to work around that issue: unless "".respond_to? :each_char $KCODE = "u" require "jcode" end and got further problems... So more work would need to be done to get Scrubyt to run with ruby 1.9. FWIW, your use case is more than likely more complicated, but your example can be done with Mechanize (which Scrubyt uses internally): require 'rubygems' require 'mechanize' a = Mechanize.new { |agent| agent.user_agent_alias = 'Mac Safari' } a.get('http://google.com/') do |page| puts page.title() end
