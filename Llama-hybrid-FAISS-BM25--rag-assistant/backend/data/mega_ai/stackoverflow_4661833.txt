[site]: stackoverflow
[post_id]: 4661833
[parent_id]: 4640038
[tags]: 
The answer from jasonbar is actually almost there. All it lacks is dealing with the .php extension as you described: RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_URI} !^/module RewriteCond %{REQUEST_URI} [.]php$ RewriteRule (.*)[.]php$ /module/$1 That being said, I'd strongly encourage you to consider a front controller paradigm (as you eluded to in your problem description) as doing so allows for much greater control, encourages an MVC approach, etc. =o) EDIT: I corrected a few neglected points and added proper processing of the PHP extension. Note that the [L] argument at the end causes further processing to cease, making these code blocks useful as logical structures within your .htaccess file (i.e. by preventing any processing that follows); remove that argument if such functionality is not desired. I've also added a line to specifically check that the php file being requested actually exists. RewriteEngine On # if the uri matches a directory in the module dir, redirect to that. Disable # this block if you don't wish to have either directory browsing or to have the # default apache file load. RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{DOCUMENT_ROOT}/module%{REQUEST_URI} -d RewriteCond %{REQUEST_URI} !^/includes RewriteCond %{REQUEST_URI} !^/assets RewriteCond %{REQUEST_URI} !^/module RewriteRule (.*) /module/$1 [L] # if the uri matches a file sans the .php extension in the module directory, # then redirect to that. RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{DOCUMENT_ROOT}/module%{REQUEST_URI}.php -f RewriteCond %{REQUEST_URI} !^/includes RewriteCond %{REQUEST_URI} !^/assets RewriteCond %{REQUEST_URI} !^/module RewriteRule (.*) /module/$1.php [L] EDIT: To also allow files that end in ".php" to be served from the module directory, add the following to your .htaccess file: # if the uri matches a file with the .php extension in the module directory, # then redirect to that. RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{DOCUMENT_ROOT}/module%{REQUEST_URI} -f RewriteCond %{REQUEST_URI} !^/includes RewriteCond %{REQUEST_URI} !^/assets RewriteCond %{REQUEST_URI} !^/module # note that the following line restricts access to php files only. comment out # the following line to allow any existing file under module director to be # accessed (or modify the following to allow other file extensions to be read) RewriteCond %{REQUEST_URI} [.]php$ RewriteRule (.*) /module/$1 [L]
