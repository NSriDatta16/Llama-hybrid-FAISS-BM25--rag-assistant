[site]: stackoverflow
[post_id]: 4827190
[parent_id]: 
[tags]: 
Exception at start of request - ClientAuth SSL

I have an application embedding Jetty. I would like to use client cert authentication in SSL and when I enable that; I am getting the following exception at start of request. But the request is getting served properly after that. This exception comes only when accessed from IE or Chrome. It does not come when accessed from Firefox. We have our custom SSLConnector extending SslSocketConnector. I am trying to debug it; but wanted to know if there is any specific place/code where I can start checking. javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:808) at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1112) at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1139) at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1123) at org.mortbay.jetty.security.SslSocketConnector$SslConnection.run(SslSocketConnector.java:631) at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451) Caused by: java.io.EOFException: SSL peer shut down incorrectly at com.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:333) at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:789) Update: I enabled SSL debug option and was getting this exception on a read immediately after the ServerHelloDone message. This is the message where server sends its cert along with request for client certificate i believe. I am not sure whats happening in first read. Any help is deeply appreciated. *** ClientHello, TLSv1 **** %% Created: [Session-1, TLS_RSA_WITH_AES_128_CBC_SHA] *** ServerHello, TLSv1 *** Certificate chain *** *** CertificateRequest Cert Types: RSA, DSS Cert Authorities: *** ServerHelloDone WRITE: TLSv1 Handshake, length = 703 received EOFException: error handling exception: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake Update: Updated JDK to latest, 23 and tried with the two properties enabled/disabled. Still gettting the same behavior. More info: TLSv1 and SSLv3 are enabled in all browsers. The communication is happening properly without client-auth enabled. With client auth, always we get exception on first handshake and the next is getting properly done and proceeding without exceptions. Using jetty version 6.1.14 at server side
