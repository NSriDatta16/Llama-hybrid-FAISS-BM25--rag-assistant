[site]: crossvalidated
[post_id]: 554142
[parent_id]: 
[tags]: 
"Automatically" detect biased subsets in probability distribution

Background: Suppose we have a model generating probabilities conditional on a state vector - for simplicity we can just assume the outcome is 0 or 1 (imagine for example simple logistic regression): $P(X = 1|S = s) = f(s)$ . An obvious sanity check is to make sure the model is "globally" unbiased by which I mean the following. Suppose we have a set of datapoints $\{(S_i, X_i)\}_{i=1}^N$ . Then we want $\sum_{i=1}^N \mathbb{1}_{\{X_i = 1\}} \approx \sum_{i=1}^N f(S_i)$ . But even if this holds, there could be subsets of $T \subset S$ for which it does not, i.e. conditional on the state residing in $T$ we have a bias: $\sum_{\{i: s_i \in T\}} \mathbb{1}_{\{X_i = 1\}} \not\approx \sum_{\{i: s_i \in T\}} f(S_i)$ . Question: What are the kinds of algorithms that apply to superficially healthy multiclass data that can identify problematically biased subsets? I have some ideas for how one could go about this, but I wonder if there are some standard algorithms to find such subsets. Update: From the answers I got it seems a more concrete version of the problem would help. Assume $S \in \mathbb{R}^k$ and our $f$ was obtained by logistic regression, i.e. for $s = \{s_j\}_{j=1}^{k}$ $f(s) = \frac{1}{1 + e^{-\sum_{j = 1}^k \beta_j s_j} }$ where the $\beta_j$ are obtained by maximum likelihood as usual. And I want to find subsets as natural as possible where the model has a significant bias and hence might be problematic. Question 1: What do I mean by "significant" bias? Answer 1: Given a subset $T \subset S$ , we can view it as us having a null hypothesis that we have a collection of Bernoulli variables $\{ \text{Bern}(f(s_i)) \}_{\{i: s_i \in T\}}$ and we can compute in which percentile the observed number of variables having value 1 (call it $\text{prc}(T))$ resides given this null hypothesis - the more extreme the percentile, the more "significant" the bias. Question 2: What do I mean by "natural" subsets? Answer 2: Anything that is describable in terms of the state space really. Imagine e.g. that inside a hypersphere or radius $R$ we have a large bias, $T = \{ S : \sum_i s_i^2 \leq R^2 \}$ . My first idea was basically to use a greedy approach applied to regression/classification trees. This would yield rectangular areas where the bias is potentially large. But I'm curious of other approaches, and in particular which are the most commonly used for this type of - in my opinion - very natural problems.
