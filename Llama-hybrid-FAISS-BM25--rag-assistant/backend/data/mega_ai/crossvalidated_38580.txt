[site]: crossvalidated
[post_id]: 38580
[parent_id]: 
[tags]: 
What formula is needed to calculate the average adjusted gross income by zip code?

Here is an example of one zip code I'm working on: A00100 is the Adjusted Gross Income (aka AGI), agi_class is the size of the adjusted gross income. This ranges from 1 to 7: 1 = 'Under $10,000' 2 = '$10,000 under $25,000' 3 = '$25,000 under $50,000' 4 = '$50,000 under $75,000' 5 = '$75,000 under $100,000' 6 = '$100,000 under $200,000' 7 = '$200,000 or more ' "Number of Returns" is the Number of tax returns for that agi_class. mysql> select A00100,zipcode,agi_class,N1 as 'Number of Returns' from taxbyzip2008 where zipcode="10021"; +-------------+---------+-----------+-------------------+ | A00100 | zipcode | agi_class | Number of Returns | +-------------+---------+-----------+-------------------+ | -954234 | 10021 | 1 | 3589 | | 43243455 | 10021 | 2 | 2521 | | 149940475 | 10021 | 3 | 3939 | | 243853640 | 10021 | 4 | 3936 | | 262995399 | 10021 | 5 | 3025 | | 751195421 | 10021 | 6 | 5333 | | 10677437299 | 10021 | 7 | 7477 | +-------------+---------+-----------+-------------------+ I'm trying to get at the Average AGI. But the Number of Returns has to have a weight in this because the agi_class of 7 has 7477 returns while the agi_class of 2 only has 2521. If I had individual data for each return this would be easy, to add them up and divided by the number of total returns. But I only have the total AGI for each agi_class. What math formulas are needed to solve this? Update: I'm trying to arrive near this number of $393,870 as the Average AGI as seen here for 2008 of Zip Code 10021: http://www.melissadata.com/lookups/TaxZip.asp?Zip=10021&submit1=Submit Note: The total number of returns from Melissadata for 2008 of zip code 10021 is 29,492. While the current data for 2008 directly from the IRS website shows a total number of returns as being 29,820. In the IRS document is states that in 2011 they adjusted the data. So it could be that the Melissadata numbers are from before this adjustment. I'm just guessing why the total number of returns for the same years and zip code derived from the same source might be different.
