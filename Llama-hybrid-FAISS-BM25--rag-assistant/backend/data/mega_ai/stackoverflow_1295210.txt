[site]: stackoverflow
[post_id]: 1295210
[parent_id]: 
[tags]: 
XSL: Combining grouping and call-template

I've read with interest the techniques available on the web to extract a unique list of items from a XML file containing duplicates using XSL. These range into 2 categories: 1) The Muenchian method (example: http://www.jenitennison.com/xslt/grouping/ ) 2) Or the previous-sibling look-up These both rely on an XPath expression to select the data to group by. However, in the XML file that I'm trying to work out, the data is not present "natively" in the XML file. I am using a xsl:template to compute some aggregated data from my elements. And I would like to group based on the aggregated data. For example I have: Star Wars John:Good, Mary:Good Indiana Jones John:Good, Mary:Bad, Helen:Average Titanic John:Bad, Helen:Good I know that the structuration of data is not perfect and that by creating sub-elements I could do something easier, but I cannot change the data source easily, so let's take this as a challenge. And I would like to build a recap where I have John's distinct ratings: John's ratings: Good Bad I have a xsl:template that can take a record element and return John's rating for this record: Example: I can just call it under a xsl:for-each to get the exhaustive list of John's review. But I cannot combine this call with any of the methods to get unique values. Do I have to use an intermediary XSL to convert my XML file to a more structured way? Or can I do in a single step? Many thanks Gerard
