[site]: stackoverflow
[post_id]: 2847350
[parent_id]: 2847310
[tags]: 
shared_ptr allows you do specify a custom deallocator. However, looking at the documentation cvReleaseMemStorage() doesn't have the right form ( void f(T*) ) and you need a wrapper: void myCvReleaseMemStorage(CvMemStorage* p) { cvReleaseMemStorage(&p); } shared_ptr sp(cvCreateMemStorage(), &myCvReleaseMemStorage);
