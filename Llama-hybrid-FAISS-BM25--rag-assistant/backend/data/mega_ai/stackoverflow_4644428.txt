[site]: stackoverflow
[post_id]: 4644428
[parent_id]: 
[tags]: 
How to properly create and link a one-to-one relationship in single POST request with OData

In the OData:Operations documentation, section 2.4 fourth paragraph down, it reads when creating an entity with POST it is also possible to create a link within the same request. However, I'm having trouble trying to make this work. A similar question has been asked about many-to-many linking while creating and it looks like that particular scenario isn't possible without a batch request. Below is the scenario I'm trying to create using this sample OData read write service . Create a new Product named "Test Product" and link it to Category(0) in a single POST using JSON. I have tried... POST /OData/OData.svc/Products HTTP/1.1 Accept: application/json Content-Type: application/json { "ID": 99, "Name": "Test Product", "Description": "Simple Test", "ReleaseDate": "\/Date(1210204800000)\/", "DiscontinuedDate": null, "Rating": 3, "Price": "99.99", "Category":"http://services.odata.org/OData/OData.svc/Categories(0)" } and ... POST /OData/OData.svc/Products HTTP/1.1 Accept: application/json Content-Type: application/json { "ID": 99, "Name": "Test Product", "Description": "Simple Test", "ReleaseDate": "\/Date(1210204800000)\/", "DiscontinuedDate": null, "Rating": 3, "Price": "99.99", "Category": {"uri": "http://services.odata.org/OData/OData.svc/Categories(0)"} } Both which result in failures. Another example using atom format... 2010-02-27T21:36:47Z 99 New Product 1992-01-01T00:00:00 4 2.5 The above results in a 201 created, yet no association is created for the new Product linking to the existing Category. Any help would be appreciated. Thanks in advance.
