[site]: stackoverflow
[post_id]: 5597546
[parent_id]: 
[tags]: 
Help with hotel queries

Hello I have a database in Microsoft SQL Server with tables relevant to a reservation system for a hotel/villa and need help creating a few queries to obtain relevant data: To be able to find out a list of guests checking out on a specific date, grouped by villa type and providing a total number for that day (i.e. a count). For that query I think I'd have to use 2 relevant tables a guest reservation and reservation table: create table guest_reservation(confirm_no int, agent_id int, g_name varchar (30), g_phone varchar (10)); create table reservation( confirm_no int, credit_card_no char (16), res_checkin_date datetime, res_checkout_date datetime, default_villa_type char (1), price_plan char (1)); I thought using a query like this would help, but it didn't seem to: SELECT g_name, villa_type, COUNT(*) FROM guest_reservation, reservation WHERE guest_reservation.confirm_no = reservation.confirm_no AND res_checkout_date = ‘insert date for when you would want to check out here’ GROUP BY villa_type; Ideas/help? EDIT: I think I figured out the 1st question... Another query I wanted help on was that if a guest wanted a certain type of room then if that type of room would be available on the dates they wanted to stay on. I used JUST the Reservation table but I'm not sure if that quite would do what I want, here's what I currently had: Select villa_type from reservation where res_check_in_date not between '2011-10-08' and '2011-10-09' and res_check_out_date not between '2011-10-08' and '2011-10-09'
