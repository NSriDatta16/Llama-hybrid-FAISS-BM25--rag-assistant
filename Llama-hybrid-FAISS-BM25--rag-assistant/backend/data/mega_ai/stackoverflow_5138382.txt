[site]: stackoverflow
[post_id]: 5138382
[parent_id]: 4939575
[tags]: 
Wrap your C Object* in a __block storage C++ type. Something like so: Class: template class ObjectPtr { public: T* ptr; public: ObjectPtr(T* val) : ptr(val) { Object_Retain(ptr); } virtual ~ObjectPtr() { Object_Release(ptr); } }; Usage: struct Object* blah = Object_New(); __block ObjectPtr obj = ObjectPtr (blah); Object_Release(blah); b = ^void(void){obj.ptr;}; b = Block_copy(b); // ... b(); Block_release(b);
