[site]: crossvalidated
[post_id]: 362262
[parent_id]: 362214
[tags]: 
The logistic regression model maintains $P(Y_i=1|X_i=x_i)=\pi_i=\frac{\exp(\beta X +\epsilon)}{1+\exp(\beta X +\epsilon)}$ where $\pi_i=E(Y_i)$, $\beta$ and $X$ are respectively a vector of the regression coefficient and a matrix of independent variables. To generate data of logistic regression model, we set up $\beta$, $X$, and $\epsilon$. For example, with your model of interest, b1=1 b2=1 x1=rnorm(1000000,10,2) x2=x1^2 e=rnorm(1000000,0,200) pi=exp(b1*x1+b2*x2+e)/(1+exp(b1*x1+b2*x2+e)) y=rbinom(1000000,1,prob = pi) summary(glm(y~x1+x2,family="binomial")) Here, the error term helps mitigate the issue resulted from large $\pi$. Alternatively, adding an intercept term would also help, b0=-100 b1=1 b2=1 x1=rnorm(1000,10,2) x2=x1^2 e=rnorm(1000,0,10) pi=exp(b0+b1*x1+b2*x2+e)/(1+exp(b0+b1*x1+b2*x2+e)) y=rbinom(1000,1,prob = pi) summary(glm(y~x1+x2,family="binomial")) It would always be good to check $y$ before model fitting to ensure that there are two classes (preferably of balanced number). If $y$ is of single class, then the model will not converge. If $y$ is of classes with (extremely) imbalanced number, the estimation of coefficients won't be accurate (note that because your model inherently violates the assumption of logistic regression, the parameter estimation are "doomed" from the start...). Here, the error term/the intercept term helps to ensure that not all $y$ would be of a single class. The variance of the error term or the value of the intercept can be determined based on the range of $x_2$ so that $\pi$ would be of higher variance. However, it is worth noting that it would be very difficult, if not impossible, to obtain accurate estimate of $\beta$s given the specified model of $y=\beta_1 X_1+\beta_2 X_1^2+\epsilon$. The model estimates do not match the specified generative value because $X_1^2$ and $X_1$ are highly collinear, which results in violation of the assumption that the predictors should be independent. I suppose derivation can be done to show how the $\beta$ estimates would change under this particular model given the generative regression coefficients and the simulation can probably follow the derivation to achieve more accurate recovery of the parameters.
