[site]: stackoverflow
[post_id]: 4411207
[parent_id]: 
[tags]: 
How to enforce uniqueness for big (BLOB) database field

I'm designing a database (SQLite, SQL Server and DB2), where a table holds a 32kB blob that must be unique. The table will typically hold about 20,000 rows. I can think of two solutions, 1 - Make the blob a unique index. 2 - Calculate a hash index of the blob, use that as a non unique index, and write code that enforces the blob's uniqueness. Solution 1 is safer, but is the storage space overhead and performance penalty bad enough to make solution 2 a better choice?
