[site]: stackoverflow
[post_id]: 5022677
[parent_id]: 
[tags]: 
php curl post not working

My POST curl works from command line, but not from php. It's just not sending the POST data in PHP. (I already checked to see if it's rewriting as GET and it's not doing that either althought GET works if I use GET) command line: curl -d "something=true" file.php php: error_reporting(E_ALL); $ch = curl_init(); $post = 'something=true'; $arr = array(); array_push($arr, 'Accept: application/json, text/javascript, */*; q=0.01'); array_push($arr, 'Accept-Language: en-us,en;q=0.5'); array_push($arr, 'Accept-Encoding=gzip,deflate'); array_push($arr, 'Accept-Charset=ISO-8859-1,utf-8;q=0.7,*;q=0.7'); array_push($arr, 'Keep-Alive: 115'); array_push($arr, 'Connection: keep-alive'); array_push($arr, 'Content-Type: application/json; charset=utf-8'); array_push($arr, 'x-request-with: XMLHttpRequest'); array_push($arr, 'Content-Length: ' . strlen($post)); curl_setopt($ch, CURLOPT_HTTPHEADER, $arr); curl_setopt($ch, CURLOPT_URL, 'http://mydomain.com/file.php'); curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13'); curl_setopt($ch, CURLOPT_POSTFIELDS, $post); curl_setopt($ch, CURLOPT_RETURNTRANSFER, false); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 0); curl_exec($ch); Please refer to: php curl post json
