[site]: crossvalidated
[post_id]: 15290
[parent_id]: 14974
[tags]: 
Specifically, it sounds like an N-armed bandit problem . And you have a score-based allocation strategy in your code. It appears to differ a bit from the classic set up because you claim to know rather have to estimate 'arm' (class) probabilities, but I can't quite tell from the description. As Ludo suggests, this sounds near enough to classic OR territory. The machine learning literature is also interested in this sort of problem, particularly those into adversarial or worst case online learning procedures. I'd guess your 'issue' stems from the discrepancy between your assumed and the actual scoring function / class distribution. Or perhaps from your greedy allocation strategy. Both might be clarified by being a bit clearer about what is estimated, what is known, and what the allocation code is supposed to be doing. In any case, this is guesswork in the absence of an example. Even a toy one would be helpful.
