[site]: stackoverflow
[post_id]: 4144160
[parent_id]: 
[tags]: 
How do I define an exception for line breaks in Vim?

I edit files in Vim were I log terminal command lines along with descriptions of what I did. All my command lines start with $, so my files look like this: This is a description of what this command does, it can be quite long and should have line breaks. $ ./the_command.sh These are actually Viki files, but I guess this question should apply to any file type. I have filetype detection on and the files are correctly identified. The question now is: I want (hard) line breaks to be inserted into all the text except for the actual copies of command lines, which could be easily identified by the leading $. Is it possible in Vim to define an exception for applying the line break rule based on a pattern? Would I do that in the syntax file for viki files? UPDATE Using a combination of what Herbert and Jefromi suggested, I now have this in my .vimrc: au CursorMovedI *.viki call SetTextWidth() function! SetTextWidth() if getline(".")=~'^\$' set textwidth=1000 else set textwidth=80 endif endfunction It does exactly what I want. Thanks guys!
