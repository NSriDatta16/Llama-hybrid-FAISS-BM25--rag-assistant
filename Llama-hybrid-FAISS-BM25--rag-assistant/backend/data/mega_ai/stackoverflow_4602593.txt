[site]: stackoverflow
[post_id]: 4602593
[parent_id]: 
[tags]: 
I can't use FileDownloadHandler on TeamCity agent

I have some trouble to run the FileDownloadHandler on my TeamCity agent. Configuration: windows server 2003 internet explorer 7 TeamCity Agent run as console I have a very simple test: using (new UseDialogOnce(Browser.DialogWatcher, handler)) { Browser.Button(Find.ById("ButtonExportReport")).Click(); handler.WaitUntilFileDownloadDialogIsHandled(10); handler.WaitUntilDownloadCompleted(20); } When I am logged with TeamCity user (so my status is Active in the task manager user tab), everything works. If I disconnect (without logging off, so my status is Disconnected in the task manager user tab), it doesn't work. I get WatiN.Core.Exceptions.WatiNException: Has not shown dialog after 10 seconds. Do you know what I could do ? I give up about investigating in WatiN source code, I try now to setup my server so the user session is always Active . Do you know else what I could do ?
