[site]: stackoverflow
[post_id]: 5517753
[parent_id]: 
[tags]: 
best/most elegant way to share objects between a stack of rack mounted apps/middlewares?

What is the best idiom to share an object between rack mounted applications/middlewares? For example, this config.ru has two Sinatra apps mapped to differents endpoints: class App1 Now if these two applications need to share an object, be it a database connector or any other object, what would be the best idiom for this? I see basically two options: 1- Create a constant at the config.ru level and simply refer to that constant within the apps. For example: SHARED_OBJECT = "hello world" class App1 2- Create a singleton object at the config.ru level and use it within the apps. For example: class SharedObject include Singleton def test @test ||= "hello world" end end class App1 Comments/suggestions? Colin
