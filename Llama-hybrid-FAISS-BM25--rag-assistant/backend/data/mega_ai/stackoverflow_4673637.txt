[site]: stackoverflow
[post_id]: 4673637
[parent_id]: 4672890
[tags]: 
Your problem sounds similar to a common scenario for determining user rights. A User may belong to some Group that has Rights associated with it or the User may be assigned Rights individually. In your case, the User is the Gateway, the Group is the Department, and the Rights are the Classes. A Gateway can then be linked to any number of Departments and/or Classes. Using this model, you just need to add the gateway_classes table as you describe along with a gateway_departments table. You could then use UNION to merge the "gateway classes" query with the "gateway departments" query (or perhaps something more elegant) but I think this schema will do want you need without introducing any redundant information.
