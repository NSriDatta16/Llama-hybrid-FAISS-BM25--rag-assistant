[site]: stackoverflow
[post_id]: 3446453
[parent_id]: 3446409
[tags]: 
I've used a template class based on ideas from STLSoft's auto_buffer (I cobbled together my own implementation from Matthew Wilson's Imperfect C++ book along with some ideas from the STLSoft implementation). It allocates the array by default on the stack (or embedded in the class object) if it's small enough (based on a template parameter you provide). If your runtime allocation is larger than that, the array storage comes from the heap. http://www.stlsoft.org/doc-1.9/classstlsoft_1_1auto__buffer.html So the nice thing about this class is that for smaller small sizes, the allocation is essentially a no-op.
