[site]: crossvalidated
[post_id]: 94503
[parent_id]: 94472
[tags]: 
Well, there are a lot of ways to treat this and the best answer may depend on what you're going to do with it (which is true with many questions on this board.) One of the most flexible ways though would be to use a thin-plate spline with the response as either a Poisson or a Bernoulli (i.e. a logistic regression spline). There are a number of packages that will implement those, but one of the best is the gss package in R. (The documentation for that package should have some good examples, but the gssanova command is the one you're looking for.) The benefit of a thin-plate spline is that it will allow the "surface" representing propensity to purchase as a function of geography to be very flexible in its shape (compared with a linear model, where it would be a plane). The primary downsides are a) if you have a lot of data, you will want to limit the number of knots to something reasonable for computation (which the package can do), and b) it's non-parametric, so any hypothesis testing you'd like to do will have some extra steps involved and if you need to explain this to a business person, you'll want to rehearse your wording. Splines like this sometimes go by different names, like Kriging or spatial interpolation. It's the same idea though. If you're not familiar with splines, they're akin to a weighted-nearest-neighbors method where the weights decrease with distance (inverse-linearly, IIRC, though I'd have to check). Generally though, this method is most ideal if your location information is somewhat continuously distributed throughout the geography you're looking at, and where you expect that the propensity for sales at nearby geographies to be similar, (like a website that sold something weather related and the where geography points were addresses, for example). If you were, say, a department store, with few locations relative to the geography covered, this might work but it's likely that clustering the stores and examining each cluster separately would work better. But that's another way you could handle it, just cluster geographic points in a large enough grid and examine the grid one piece at a time. Beyond that, if you have specific goals you're trying to accomplish there may be other ways that are preferable. Splines are very flexible though, they're just a little involved. If you have any specific questions about how to implement them, let me know and I can try to comment further.
