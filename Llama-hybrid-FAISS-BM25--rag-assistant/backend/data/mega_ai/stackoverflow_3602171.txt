[site]: stackoverflow
[post_id]: 3602171
[parent_id]: 3602079
[tags]: 
Binary search MIGHT save a few cycles, depending on the processor architecture. inline int len(uint32 val) { if (val & 0xffff0000) return (val & 0xff000000)? 4: 3; return (val & 0x0000ff00)? 2: 1; } Or, finding out which is the most common case might bring down the average number of cycles, if most inputs are one byte (eg when building UTF-8 encodings, but then your break points wouldn't be 32/24/16/8): inline int len(uint32 val) { if (val & 0xffffff00) { if (val & 0xffff0000) { if (val & 0xff000000) return 4; return 3; } return 2; } return 1; } Now the short case does the fewest conditional tests.
