[site]: stackoverflow
[post_id]: 1809048
[parent_id]: 1809007
[tags]: 
The magic bytes for the ZIP format are 50 4B . You could test the stream (using mark and reset - you may need to buffer ) but I wouldn't expect this to be a 100% reliable approach. There would be no way to distinguish it from a US-ASCII encoded text file that began with the letters PK . The best way would be to provide metadata on the content format prior to opening the stream and then treat it appropriately.
