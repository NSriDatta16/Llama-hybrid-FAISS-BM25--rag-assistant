[site]: stackoverflow
[post_id]: 5340245
[parent_id]: 
[tags]: 
Coldfusion cfc returnning json data errors and problems

I have two servers, development and production, both running IIS7 and Coldfusion 8 Standard. However on production the whole website is on ssl, all pages except for the login are ssl. I was working on a half coldfusion/half ajax powered site search. Everything ran smoothly on our dev server, when moved to production, I started to get really odd errors. Like the fact that the data wasn't returnning data in json format, even though returntype=json, and i had serializejson around the array that was returnning the data. Then when I tried removing the returntype=json, it would always say invalid token. When the ajax is called, it makes sure to specify the datatype of json, and returnformat in the url say's json. And all of this works fine on our dev server, but the ajax part refuses to work on production. At first I thought it was because there was the ssl issue, which if the ajax url is ssl, then it error's out saying access-origin same-origin policy, so then I change the ajax url to non-ssl, and then it does the either the data is not json being returned back or it says invalid token. In my cfc, I have a main cfc that get's all the data i need, format's it in the various way's I need, then put's those results into different position's inside an array. Then run's then I have tried taking away the returntype=json on the cffunction command, and that seems to work when I try to view the cfc in the url directly. But when ajax calls it, either it says invalid token. When I run the same code on dev, no errors, all ajax works 100%. Any suggestions for what the issue can be? Thanks
