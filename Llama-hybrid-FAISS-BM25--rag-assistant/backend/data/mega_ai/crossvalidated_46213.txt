[site]: crossvalidated
[post_id]: 46213
[parent_id]: 
[tags]: 
Question about Hausman-test for endogeneity with two endogenous regressors with potential heteroscedasticity

First question: Is the following example of computing the Hausman-test for endogeneity with two endogenous regressors adequate? Second question: Is it true that in case of heteroscedasticity, i.e. I'll get a significant result for the Breusch-Pragan-Test, I need to run a Durbin-Watson-Wu-Test for endogeneity with heteroscedastic robust standard errors? Is this not just the same thing if i instead run a regression with heteroscedastic robust standard errors, i.e. of HC4-type, and then perform the usual Wald or F-test? Or even choose a GLS-approach to control for the heteroskedasticity? Consider this example (sorry for all the R-code but you can just run this "thing" and see for yourself) To set things up I generate three variables with a desired correlation. To do this I use my CorrNorm2 function CorrNorm2 Now I set up my sample design n The first step of the Hausman test for endogeneity is to calculate the reduced form errors for the endogenous regressors. In my case for the variables $y_2$ and $y_3$ # reduced form of y2 mod2 Next I plug the estimated residuals of these reduced form errors, i.e. res2 and res3 , into the structural form: $y_1$ i.e. into $y_1 = b_1y_2 + b_2y_3 + b_3x_1 + u_1$. haus1 Then I perform a F-test for the joint significance of res2 and res3 . For this I need to derive the sum of squared residuals for the unrestricted ($SSR)$) and the restricted ($SSR_{H0}$) form. The unrestricted sum of squared residuals is just the the sum of squared residuals of the model which includes the reduced form residuals. The restricted model is the OLS-Regression without the reduced form residuals. # sum of squared residuals for the unrestricted model SSR Now I perform the usual F-Test on a $\alpha=0.05$ level F qf(0.95, 2, n - length(b)) [1] TRUE Hence I can reject the $H_0$ to $\alpha=0.05$. So at least one of the variables, i.e. $y_2$ or $y_3$ are indeed endogenous.
