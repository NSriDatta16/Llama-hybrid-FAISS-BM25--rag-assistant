[site]: stackoverflow
[post_id]: 3127514
[parent_id]: 
[tags]: 
I am trying to correct this error code in T-SQL that states that I have an invalid column

This was my original question: “What would be the correct syntax and join (if any) of a subquery that would return all of the employees first and last name from the employee’s table, and return their department name from the department table, but only those employees who more than the average salary for their department? Thanks for your answers” After using Mitch Wheat’s example (and taking his well deserved admondishment), I added a column to my DEPARTMENT table in my database and implemented this code: ALTER TABLE DEPARTMENTS ADD Salary money GO select First_Name, Last_Name, department_Name from Employees e join (select Department_Name,AVG(Salary) AS averageSalary from DEPARTMENTS d join Employees e ON e.Department_Id=d.Department_Id group by Department_Name) ds on ds.averageSalary=e.Employee_Id where e.salary>ds.AverageSalary However, I still got this error: Msg 207, Level 16, State 1, Line 8 Invalid column name 'salary'. Why does SALARY continues to be an invalid column name?
