[site]: crossvalidated
[post_id]: 612680
[parent_id]: 612638
[tags]: 
The integration by parts formula still holds for general distribution functions (under appropriate technical conditions). For example, Theorem 18.4 in Probability and Measure by Patrick Billingsley (do not confuse $F, G$ in this theorem with $F, G$ in your question): Let $F$ and $G$ be two nondecreasing, right-continuous functions on an interval $[a, b]$ . If $F$ and $G$ have no common points of discontinuity in $(a, b]$ , then \begin{align} \int_{(a, b]}G(x)dF(x) = F(b)G(b) - F(a)G(a) - \int_{(a, b]}F(x)dG(x). \tag{1} \end{align} Equation $(1)$ is a good start for proving the result of your interest -- if we can extend the integral region $(a, b]$ to $\mathbb{R}$ . To this end, we would need to impose integrability conditions of $u$ (of course, for $(1)$ to hold, we need to also assume that $u$ and $F$ / $G$ have no common discontinuity in $\mathbb{R}$ and $u$ is right-continuous): \begin{align} \int_{\mathbb{R}}|u(x)|dF(x) By $(1)$ , for every $n$ : \begin{align} & \int_{(-n, n]}u(x)dF(x) = F(n)u(n) - F(-n)u(-n) - \int_{(-n, n]}F(x)du(x). \tag{3} \\ & \int_{(-n, n]}u(x)dG(x) = G(n)u(n) - G(-n)u(-n) - \int_{(-n, n]}G(x)du(x). \tag{4} \end{align} It then follows by $(3), (4)$ and $F(x) \geq G(x)$ for all $x \in \mathbb{R}$ that \begin{align} & \int_{(-n, n]}u(x)dF(x) - \int_{(-n, n]}u(x)dG(x) \\ =& u(n)(F(n) - G(n)) - u(-n)(F(-n) - G(-n)) - \int_{(-n, n]}[F(x) - G(x)]du(x) \\ \leq & u(n)(F(n) - G(n)) - u(-n)(F(-n) - G(-n)). \tag{5} \end{align} If $u$ is non-negative, then the right-hand side of $(5)$ is bounded by $u(n)(F(n) - G(n))$ , which can be rewritten as $u(n)(1 - G(n)) - u(n)(1 - F(n))$ , which converges to $0$ as $n \to \infty$ by the integrability of $F, G$ and the monotonicity of $u$ . Similarly, if $u$ is non-positive, then the right-hand side of $(5)$ is bounded by $-u(-n)(F(-n) - G(-n))$ and converges to $0$ as $n \to \infty$ (see the next paragraph for a more detailed derivation). If $u$ takes both negative and positive values, it follows by the monotonicity of $u$ that for sufficiently large $N$ , $u(N) > 0$ and $u(-N) , whence for all $n > N$ , again by monotonicity of $u$ : \begin{align} 0 \leq u(n)(1 - F(n)) \leq \int_n^\infty u(x)dF(x), \; \int_{-\infty}^{-n}u(x)dF(x) \leq u(-n)F(-n) \leq 0. \tag{6} \end{align} By condition $(2)$ and Lebesgue's dominated convergence theorem (DCT), $(6)$ implies that $u(n)(1 - F(n)) \to 0$ and $u(-n)F(-n) \to 0$ as $n \to \infty$ . Similarly, $u(n)(1 - G(n)) \to 0$ and $u(-n)G(-n) \to 0$ as $n \to \infty$ . Therefore, the right-hand side of $(5)$ always converges to $0$ as $n \to \infty$ for $u$ that is nondecreasing and integrable. Now the result follows by passing $n \to \infty$ on both sides of $(5)$ (note that condition $(2)$ and DCT imply the left-hand side of $(5)$ converges to $E_F[u] - E_G[u]$ ).
