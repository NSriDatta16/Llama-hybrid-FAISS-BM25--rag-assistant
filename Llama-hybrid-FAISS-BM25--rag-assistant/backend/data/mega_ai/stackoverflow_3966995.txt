[site]: stackoverflow
[post_id]: 3966995
[parent_id]: 
[tags]: 
Moving through JSON data in iPhone app

I'm afraid I'm a newbie to objective-c programming, and I am having a problem that I have spent all day trying to figure out and I cannot, so I am humbly asking you guys if anyone can help. I am trying to read the details from a JSON page online (for instance a local services directory) and have installed the JSON library into Xcode and it seems to work fine. I'm developing for the iPhone by the way, and have the latest versions all installed. The problem is, what with me being a newb and all, I seem unable to retrieve all the information I need from the JSON file. the JSON data I am testing with is this: "testlocal_response" = { header = { query = { business = newsagent; location = brighton; page = 1; "per_page" = 1; "query_path" = "business/index"; }; status = ok; }; records = ( { address1 = "749 Rwlqsmuwgj Jcyv"; address2 = " "; "average_rating" = 0; "business_id" = 4361366; "business_keywords" = " "; "business_name" = "Gloucester Newsagents"; "data_provider_id" = " "; "display_details" = " "; "distance_in_miles" = "0.08"; fax = " "; gridx = "169026.3"; gridy = "643455.7"; "image_url" = " "; latitude = "50.82718"; "logo_path" = Deprecated; longitude = "-0.13963"; phone = 97204438976; postcode = "IY1 6CC"; "reviews_count" = 0; "short_description" = " "; "touch_url" = "http://www.test.com/business/list/bid/4361366"; town = BRIGHTON; url = " "; } ); }; } Now, in my code ViewController.m page, in the 'connectionDidFinishLoading' area I have added: NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding]; [responseData release]; // make sure JSON has all been pulled in NSLog(@"This is from the JSON page:\n"); NSLog(responseString); NSError *error; SBJSON *json = [[SBJSON new] autorelease]; // using either of these seems to make no difference? NSDictionary *touchDirect = [json objectWithString:responseString error:&error]; //NSArray *touchDirect = [json objectWithString:responseString error:&error]; [responseString release]; if (touchDirect == nil) label.text = [NSString stringWithFormat:@"JSON parsing failed: %@", [error localizedDescription]]; else { NSMutableString *text = [NSMutableString stringWithString:@"Test directory details:\n"]; [text appendFormat:@"%@\n", [[[[touchDirect objectForKey:@"testlocal_response"] objectForKey:@"header"] objectForKey:@"query"] objectForKey:@"business"]]; label.text = text; Testing this I get the value for the business ('newsagent') returned, or location ('brighton') which is the correct. My problem is, I cannot go further into the JSON. I don't know how to pull out the result for the actual 'records' which, in the test example there is only one of but can be more divided using brackets '(' and ')'. As soon as I try to access the data in these record areas (such as 'address1' or 'latitude' or 'postcode') it fails and tells me 'unrecognized selector sent to instance' PLEASE can anyone tell me what I'm doing wrong?! I've tried so many different things and just cant get any further! I've read all sorts of different things online but nothing seems to help me. Any replies deeply appreciated. I posted up a question on iPhone SDK too but havent had a useful response yet. many thanks, -Robsa
