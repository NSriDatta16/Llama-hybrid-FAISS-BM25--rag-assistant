[site]: crossvalidated
[post_id]: 522268
[parent_id]: 
[tags]: 
GridsearchCV() gives optimum criterion for Decision Tree should be entropy, but why am I getting better accuracy with Gini?

I ran this code sc = StandardScaler() pca = decomposition.PCA() decisiontree = tree.DecisionTreeClassifier() pipe = Pipeline(steps=[('sc',sc), ('pca',pca), ('decisiontree', decisiontree)]) n_components = list(range(1,x.shape[1]+1,1)) criterion = ['gini', 'entropy'] max_depth = [4,6,8,12] parameters = dict(pca__n_components = n_components, decisiontree__criterion = criterion, decisiontree__max_depth = max_depth) clf = GridSearchCV(pipe, parameters) clf.fit(X_train,Y_train) # Viewing The Best Parameters print('Best Criterion:', clf.best_estimator_.get_params()['decisiontree__criterion']) print('Best max_depth:', clf.best_estimator_.get_params()['decisiontree__max_depth']) print('Best Number Of Components:', clf.best_estimator_.get_params()['pca__n_components']) print(); print(clf.best_estimator_.get_params()['decisiontree']) This gives me an output as below: Best Criterion: entropy Best max_depth: 6 Best Number Of Components: 15 DecisionTreeClassifier(class_weight=None, criterion='entropy', max_depth=6, max_features=None, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=1, min_samples_split=2, min_weight_fraction_leaf=0.0, presort=False, random_state=None, splitter='best') However when I then try scaling features, then applying PCA & then Decision tree using all above arguments except criterion = 'gini' I get aa better accuracy score. clf2 = DecisionTreeClassifier(class_weight=None, criterion='gini', max_depth=6, max_features=None, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=1, min_samples_split=2, min_weight_fraction_leaf=0.0, presort=False, random_state=None, splitter='best') clf2.fit(X_train, Y_train) print(clf2.score(X_test, Y_test)) This gives a result as 0.5974025974025974 where as with entropy it gives 0.5324675324675324. Then why GridsearchCV suggests a non-optimum criterion?
