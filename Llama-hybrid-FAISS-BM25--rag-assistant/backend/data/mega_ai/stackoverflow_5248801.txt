[site]: stackoverflow
[post_id]: 5248801
[parent_id]: 
[tags]: 
IPSEC tool Racoon Crashes and can't restart it

I'm using a PowerBook Pro running Mac OSX 10.6.6 (Snow Leopard). I have been connecting to a client server using the built in VPN connector for months. Yesterday my connection wouldn't connect and was timing out. I checked with other remote developers and they had the same issue. The resolved it by killing the "racoon" process. I did the same and VPN connected. I googled Racon to discover that it is an IPsec tool ( http://ipsec-tools.sourceforge.net/ ) This morning I had the same issue. I decided to first try to flush the info by using the racoonctl app to run: sudo racoonctl flush-sa ipsec That didn;t work, so I decided to just kill the process. Sadly, I do not have a racoon process running now. So I rebooted. Still not process. I rebooted again and ran fsck. Still nothing. I looked in the logs and it seems that racoon is crashing every 10 seconds (see below). Anybody have any ideas on what I need to do to get this back up and running? This has seemed to happen out of the blue and it is eating up my time seriously at this point. System Error: __TEXT [0x100000000 - 0x10008f000) __eh_frame [0x1000821e8 - 0x10008eff8) /usr/sbin/racoon Mar 9 12:35:11 pmolaro com.apple.launchd[1] (com.apple.racoon[2458]): Job appears to have crashed: Segmentation fault Mar 9 12:35:11 pmolaro com.apple.launchd[1] (com.apple.racoon): Throttling respawn: Will start in 10 seconds Mar 9 12:35:11 pmolaro com.apple.ReportCrash.Root[2454]: 2011-03-09 12:35:11.638 ReportCrash[2454:301b] Saved crash report for racoon[2458] version ??? (???) to /Library/Logs/DiagnosticReports/racoon_2011-03-09-123511_localhost.crash Crash Report: Process: racoon [720] Path: /usr/sbin/racoon Identifier: racoon Version: ??? (???) Code Type: X86-64 (Native) Parent Process: launchd [1] Date/Time: 2011-03-09 10:42:19.831 -0500 OS Version: Mac OS X 10.6.6 (10J567) Report Version: 6 Exception Type: EXC_BAD_ACCESS (SIGSEGV) Exception Codes: 0x000000000000000d, 0x0000000000000000 Crashed Thread: 0 Thread 0 Crashed: 0 dyld 0x00007fff5fc01723 dyld::setNewProgramVars(ProgramVars const&) + 64 1 dyld 0x00007fff5fc0d8d9 ImageLoaderMachO::setupLazyPointerHandler(ImageLoader::LinkContext const&) + 297 2 dyld 0x00007fff5fc18a19 ImageLoaderMachOCompressed::doBind(ImageLoader::LinkContext const&, bool) + 57 3 dyld 0x00007fff5fc0b5a2 ImageLoader::recursiveBind(ImageLoader::LinkContext const&, bool) + 122 4 dyld 0x00007fff5fc0c81b ImageLoader::link(ImageLoader::LinkContext const&, bool, bool, ImageLoader::RPathChain const&) + 171 5 dyld 0x00007fff5fc04d48 dyld::link(ImageLoader*, bool, ImageLoader::RPathChain const&) + 118 6 dyld 0x00007fff5fc068d6 dyld::_main(macho_header const*, unsigned long, int, char const**, char const**, char const**) + 2822 7 dyld 0x00007fff5fc016d2 dyldbootstrap::start(macho_header const*, int, char const**, long) + 799 8 dyld 0x00007fff5fc01052 _dyld_start + 42 Thread 0 crashed with X86 Thread State (64-bit): rax: 0x0000000000000001 rbx: 0x00000001000003c8 rcx: 0x0000000000000000 rdx: 0x0921b00000000100 rdi: 0x000000010008fac0 rsi: 0x00007fff5fc277c1 rbp: 0x00007fff5fbfdac0 rsp: 0x00007fff5fbfdac0 r8: 0x00007fff5fc444b0 r9: 0x0000000000000001 r10: 0x00007fff893d5d3f r11: 0x00007fff5fc0d6aa r12: 0x00000001000002e0 r13: 0x0000000000000002 r14: 0x0000000100000000 r15: 0x00007fff5fc43be8 rip: 0x00007fff5fc01723 rfl: 0x0000000000010206 cr2: 0x000000010008f048 Binary Images: 0x100000000 - 0x10008eff7 +racoon ??? (???) /usr/sbin/racoon 0x1000a0000 - 0x1000a5fef libipsec.A.dylib 300.0.0 (compatibility 1.0.0) /usr/lib/libipsec.A.dylib 0x7fff5fc00000 - 0x7fff5fc3bdef dyld 132.1 (???) /usr/lib/dyld 0x7fff80008000 - 0x7fff8000dfff libpam.2.dylib 3.0.0 (compatibility 3.0.0) /usr/lib/libpam.2.dylib 0x7fff8125e000 - 0x7fff8141ffff libSystem.B.dylib 125.2.1 (compatibility 1.0.0) /usr/lib/libSystem.B.dylib 0x7fff81528000 - 0x7fff817aefff com.apple.security 6.1.1 (37594) /System/Library/Frameworks/Security.framework/Versions/A/Security 0x7fff817d8000 - 0x7fff81815fff com.apple.LDAPFramework 2.0 (120.1) /System/Library/Frameworks/LDAP.framework/Versions/A/LDAP 0x7fff81c85000 - 0x7fff81c89ff7 libmathCommon.A.dylib 315.0.0 (compatibility 1.0.0) /usr/lib/system/libmathCommon.A.dylib 0x7fff81fcf000 - 0x7fff81fefff7 com.apple.DirectoryService.Framework 3.6 (621.9) /System/Library/Frameworks/DirectoryService.framework/Versions/A/DirectoryService 0x7fff8259a000 - 0x7fff82617fef libstdc++.6.dylib 7.9.0 (compatibility 7.0.0) /usr/lib/libstdc++.6.dylib 0x7fff82618000 - 0x7fff827d6fff libicucore.A.dylib 40.0.0 (compatibility 1.0.0) /usr/lib/libicucore.A.dylib 0x7fff82831000 - 0x7fff82952fe7 libcrypto.0.9.8.dylib 0.9.8 (compatibility 0.9.8) /usr/lib/libcrypto.0.9.8.dylib 0x7fff829cf000 - 0x7fff82a85fff libobjc.A.dylib 227.0.0 (compatibility 1.0.0) /usr/lib/libobjc.A.dylib 0x7fff82cca000 - 0x7fff82cebfff libresolv.9.dylib 41.0.0 (compatibility 1.0.0) /usr/lib/libresolv.9.dylib 0x7fff84b80000 - 0x7fff84b91ff7 libz.1.dylib 1.2.3 (compatibility 1.0.0) /usr/lib/libz.1.dylib 0x7fff84c47000 - 0x7fff84c59fe7 libsasl2.2.dylib 3.15.0 (compatibility 3.0.0) /usr/lib/libsasl2.2.dylib 0x7fff85fb4000 - 0x7fff86000fff libauto.dylib ??? (???) /usr/lib/libauto.dylib 0x7fff862a8000 - 0x7fff862e2fff libssl.0.9.8.dylib 0.9.8 (compatibility 0.9.8) /usr/lib/libssl.0.9.8.dylib 0x7fff86ac2000 - 0x7fff86ac3ff7 com.apple.TrustEvaluationAgent 1.1 (1) /System/Library/PrivateFrameworks/TrustEvaluationAgent.framework/Versions/A/TrustEvaluationAgent 0x7fff8735e000 - 0x7fff87374fef libbsm.0.dylib ??? (???) /usr/lib/libbsm.0.dylib 0x7fff87375000 - 0x7fff8746dff7 libiconv.2.dylib 7.0.0 (compatibility 7.0.0) /usr/lib/libiconv.2.dylib 0x7fff87593000 - 0x7fff875d4fff com.apple.SystemConfiguration 1.10.5 (1.10.2) /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration 0x7fff87ae1000 - 0x7fff87c58fe7 com.apple.CoreFoundation 6.6.4 (550.42) /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation 0x7fff87e02000 - 0x7fff87ebbfff libsqlite3.dylib 9.6.0 (compatibility 9.0.0) /usr/lib/libsqlite3.dylib 0x7fff883a0000 - 0x7fff8844ffff edu.mit.Kerberos 6.5.10 (6.5.10) /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos 0x7fffffe00000 - 0x7fffffe01fff libSystem.B.dylib ??? (???) /usr/lib/libSystem.B.dylib
