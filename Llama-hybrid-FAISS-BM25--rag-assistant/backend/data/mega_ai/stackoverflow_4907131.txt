[site]: stackoverflow
[post_id]: 4907131
[parent_id]: 
[tags]: 
How to change the href attribute using prototype js?

I have this php code.. helper('catalog/image')->init($_product, 'image'); $_img_a = ' htmlEscape($this->getImageLabel()).'">'; $_img_b = ' helper('catalog/image')->init($_product, 'image').'" alt="'.$this->htmlEscape($this->getImageLabel()).'" title="'.$this->htmlEscape($this->getImageLabel()).'" /> '; ?> I want to change the value of href using prototype.. $('swapper').writeAttribute('href', url); but it won't change.. Am I missing something here? thanks! by the way here's the whole code from magento media.phtml getProduct(); $_helper = $this->helper('catalog/output'); $_gallery = $this->getGalleryImages(); $_resize = 350; ?> .product-img-box .more-views li.slide-current a{ border:2px solid #aaa; } .product-img-box .product-image-zoom img { cursor: pointer; } #slide-loader{ visibility:hidden; position:absolute; top:auto; left:auto; right:2px; bottom:2px; width: 25px; height: 25px; } function slide(url,num,gallery){ if (typeof slide.loading == 'undefined') slide.loading = false; if(slide.loading) return false; var loader = new Image(); $(loader).observe('load', function(){ $('slide-loader').setStyle({'visibility':'hidden'}); $$('div.more-views li').each(function(el,i){ (i==num) ? el.addClassName('slide-current') : el.removeClassName('slide-current'); }); var swap_link = new Element var dummy = new Element('img', { src: url }).setOpacity(0); new Insertion.After('image', dummy); new Effect.Opacity(dummy, { duration:.5, from:0, to:1.0 }); new Effect.Opacity($('image'), { duration:.5, from:1.0, to:0, afterFinish: function(){ $('image').writeAttribute('src',url).setOpacity(1).observe('click',function(){ //Event.stop(e); $('swapper').writeAttribute('href', url); }) dummy.remove(); slide.loading = false; } }); }); $('slide-loader').setStyle({'visibility':'visible'}); loader.src=url; slide.loading = true; return false; } helper('catalog/image')->init($_product, 'image'); $_img_a = ' htmlEscape($this->getImageLabel()).'">'; $_img_b = ' helper('catalog/image')->init($_product, 'image').'" alt="'.$this->htmlEscape($this->getImageLabel()).'" title="'.$this->htmlEscape($this->getImageLabel()).'" /> '; ?> productAttribute($_product, $_img_a.$_img_b, 'image') ?> getSkinUrl('images/lightbox/loading.gif') ?>" /> 0): ?> __('More Views') ?> helper('catalog/image')->init($this->getProduct(), 'image', $_image->getFile()); ?>" onclick="slide(' helper('catalog/image')->init($this->getProduct(), 'image', $_image->getFile()) ?>', ,' getGalleryUrl($_image) ?>'); return false;"> helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(65); ?>" alt=" htmlEscape($_image->getLabel()) ?>" title=" htmlEscape($_image->getLabel()) ?>" />
