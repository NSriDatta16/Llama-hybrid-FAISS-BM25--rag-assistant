[site]: stackoverflow
[post_id]: 1748877
[parent_id]: 1746614
[tags]: 
Straight from one of my scripts: use LWP::UserAgent; my($ua) = LWP::UserAgent->new; if ($opts->{'proxy'}) { my($ip) = Sys::HostIP->hostip; if (($ip =~ m{^16\.143\.}) || ($ip =~ m{^161\.}) || ($ip =~ m{^164\.})) { $ua->proxy(http => 'http://localhost:8080'); } else { $ua->proxy(http => ""); } } else { $ua->env_proxy; } #***** get current entry ***** my($req) = HTTP::Request->new(GET => "http://stackoverflow.com/questions/1746614/use-proxy-with-perl-script"); my($raw) = $ua->request($req)->content;
