[site]: crossvalidated
[post_id]: 545294
[parent_id]: 545273
[tags]: 
What I am answering I felt your key statement was: I cannot reconcile these few concepts together, likely due to a gap in statistical rigour. so my answer if based around addressing the difference between mathematical and statistical implications of class imbalance on AUCROC. Recap of AUCROC The AUCROC is calculated based on the area under the curve for the receiver operators characteristics curve. This curve plots 1-sensitivity vs specificity for a series of thresholds (e.g. each actualised value in the dataset). Sensitivity/recall is the ratio of TP to all actual positives $TP/(TP+FN)$ or $TP/Cases$ . There is no consideration for the actual negatives in the calculation of sensitivity. Specificity is the ratio of true negatives to all actual negatives $TN/(TN+FP)$ or $TN/Controls$ . There is no consideration for the actual positive group in the calculation of specificity Mathematical and Statistical Interpretation Since the AUCROC is directly calculated from these two metrics and neither metric takes into consideration the other group there is no mathematical link between group balance and the expected AUCROC. However, it is critical to note that ' expected ' has a precise statistical meaning, in the form of the value you would expect the metric to converge to over a very very (read infinite) long run experiment. The critical thing about statistics is that we not only consider the long range expected value, but also consider the short range variability/reliability/confidence of an actual result based on finite sampling. The confidence that we have in a actual realised result is proportional to $\pm \frac{\sigma}{\sqrt{n}} $ where $\sigma$ is the standard deviation of the data and $n$ is the total number of samples. If $n_1>>n_2$ then $\sqrt{n_1}>\sqrt{n_2}$ . The points in the ROC are displaced by errors in both specificity and sensitivity so the area under that curve is a composite of those errors and the combined impact on overall confidence is proportional to $$\pm\sqrt{ (\frac{\sigma_1}{\sqrt{n_1}})^2 + (\frac{\sigma_2}{\sqrt{n_2}})^2}$$ . If $n_1 \sim n_2$ then group prevalence will be balanced and neither group will skew the confidence in the calculated result. If $n_1>>n_2$ then the confidence will be more limited by the low prevalence group. Summary The expected long range AUCROC value is not influenced by class prevalence, but statistical confidence is dragged down by low prevalence classes.
