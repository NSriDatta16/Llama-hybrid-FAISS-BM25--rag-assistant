[site]: stackoverflow
[post_id]: 4092985
[parent_id]: 
[tags]: 
DataContractSerializer problem in Windows Phone 7

This happens only sometimes, but makes my files unreadable. The problem is that the DataContractSerializer adds a couple of >>> at the end of the XML files when serializing. Making them useless when trying to deserialize. Has anyone had this problem? Example: >> Thanks. Edit: Actually no, that's not the problem. The file is fine this time, this is what it looks like: XXX true And this is the error I get when trying to deserialize it: "There was an error deserializing the object of type TicketingWP7.Preferences.FavoriteClubManager. Root element is missing." But I don't see anything wrong with the file. Code Saving: using (IsolatedStorageFile file = IsolatedStorageFile.GetUserStoreForApplication()) { try { using (IsolatedStorageFileStream stream = new IsolatedStorageFileStream(_fileName, FileMode.Create, file)) { DataContractSerializer serializer = new DataContractSerializer(typeof(FavoriteClubManager)); serializer.WriteObject(stream, this); } } catch (Exception ex) { MessageBox.Show("There was an error saving your favorite clubs. " + ex.Message); } } Loading: using (IsolatedStorageFile file = IsolatedStorageFile.GetUserStoreForApplication()) { if (file.FileExists(_fileName)) { try { using (IsolatedStorageFileStream stream = new IsolatedStorageFileStream(_fileName, FileMode.Open, file)) { DataContractSerializer serializer = new DataContractSerializer(typeof(FavoriteClubManager)); FavoriteClubManager temp = serializer.ReadObject(stream) as FavoriteClubManager; stream.Close(); } _isLoaded = true; } catch (Exception ex) { MessageBox.Show("There was an error loading your favorite clubs. " + ex.Message); } } }
