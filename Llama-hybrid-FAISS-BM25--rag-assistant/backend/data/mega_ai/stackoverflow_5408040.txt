[site]: stackoverflow
[post_id]: 5408040
[parent_id]: 5406326
[tags]: 
What if is entered as , or , or has an attribute added, or is given using the empty tag syntax ? Pyparsing's HTML tag support handles all of these variations: from pyparsing import makeHTMLTags, replaceWith, withAttribute mystring = 'This is a test ' p,pEnd = makeHTMLTags("P") emptyP = p.copy().setParseAction(withAttribute(empty=True)) null_paragraph = emptyP | p+pEnd null_paragraph.setParseAction(replaceWith("&nbsp;")) print null_paragraph.transformString(mystring) Prints: This &nbsp; is a test &nbsp;&nbsp;&nbsp;
