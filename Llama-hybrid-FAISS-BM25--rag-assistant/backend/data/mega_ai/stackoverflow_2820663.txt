[site]: stackoverflow
[post_id]: 2820663
[parent_id]: 2658664
[tags]: 
I'm not sure I see a graph theory analogy, but you can speed things up by pre-computing an area integral. This feels like a multi-scale thing. A[i,j] = Sum[Sum[p[u,v], {u, 0, i}, {v, 0, j}]]; Then the average brightness of a rectangular (a,b), (c,d) region is (A[c,d] - (A[c,b] + A[a,d]) + A[a,b])/((c-a)(d-b)) Overflow is probably not your friend if you have big numbers in your cells.
