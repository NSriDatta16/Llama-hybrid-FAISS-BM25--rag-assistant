[site]: crossvalidated
[post_id]: 506390
[parent_id]: 504987
[tags]: 
I am no expert on random forests, so I can't comment on their specific use, but it is definitely possible to perform matching on the predicted values of a model trained by regressing the outcome on the covariates. The predicted values are called prognostic scores , and this method is called prognostic score matching . I go into some detail on the advantages and disadvantages of using this method in this post . To summarize, prognostic scores often perform better than propensity scores as matching variables, and prognostic and propensity scores can be used together highly effectively. Prognostic score matching breaks the separation between the design and analysis of an observational study and does so in a potentially suboptimal way; if you're going to fit a model to the outcome, it can be better to just use that model to generate counterfactuals and use them to estimate the effect rather than to use them in matching. You will have to bootstrap the entire process of model fitting, matching, and effect estimation to get remotely valid standard errors. If you want to read more about this, I provide a few citations in my linked answer. Some citations I missed in that answer are Leacy and Stuart (2014) , who discuss the joint use of propensity and prognostic scores for matching and which I discuss briefly here , and Waernbaum (2012) , who compares the robustness properties of several methods including prognostic score matching.
