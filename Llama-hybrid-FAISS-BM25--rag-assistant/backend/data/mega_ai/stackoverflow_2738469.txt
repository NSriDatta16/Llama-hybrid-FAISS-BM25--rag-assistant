[site]: stackoverflow
[post_id]: 2738469
[parent_id]: 
[tags]: 
PHP SOAP problems with response

since a few days I am experiencing problems with my developed php soap (php soap extension, NOT nusoap) search interface to the PubMed literature service using their eutils wsdl service (Entrez Utils). Before the problems arised I used the returned array from the low level function __soapcall(), it worked well, extracting some information for my fuzzy agent module, converting it to xml and passing it to my xml/xsl template engine. Last week, for some reason, I get exceptions like 'seems like we got no xml document' from the __soapcall() function with some search terms. So I decided to switch on exceptions and trace options in the SoapClient call and started to use the low level function __getLastResponse() to see what's happening. As a result I get fewer errors but still have problems with certain searches. The returned xml string is cut and therefore incomplete, it looks like the returned string is to large (sometimes over 180kb). I can not process the result further more because the DomDocument functions throw exceptions with the incomplete and unvalid xml response. I also tried to set the parameters to compress (SOAP_COMPRESSION_ACCEPT | SOAP_COMPRESSION_GZIP) with no success because I thought it could also be chunked data returned as a response. Well, I have no clue how to fix that problem, this is day 3 now. I reduced the search result amount to 10 results per request (formerly 20 results), the behavior gets better but still have errors here and there, because the xml response is truncated. My basic question is, what is limiting the string length of __getLastResponse(). I did not update or upgrade any package, nor did I make software changes in the code until the problems arised. On my development server and also on the production server (literatur.ucb.de) is giving me the same problems. I emailed Pubmed for help or information if they made changes to the eutils, up to now no answer, also on their homepage are no announces of any changes. Any hints what else I could try to get the Pubmed Soap requests running stable again please let me know. I appreciate any hint. Platform (Development) is Ubuntu Linux mit PHP 5.2.4-2ubuntu5.10.
