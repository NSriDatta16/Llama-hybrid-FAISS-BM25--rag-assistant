[site]: stackoverflow
[post_id]: 4842313
[parent_id]: 
[tags]: 
How should I update indicies after an item was deleted?

I am working on the contacts module of my Google chrome extension. The user can add and delete contacts. Everything is done with JavaScript and jQuery. This question is more about the logic so don't be discouraged by the code. This is how a contact is added: function addContact(name){ var n = incContactNum(); chrome.extension.getBackgroundPage().setItem('contact'+n+'', name); contacts[n] = name; } The total number of contact should be incremented, so we have n contacts now. Besides we update the contacts array. So the SQLite item table looks like this: ------------------------ | key value | ------------------------ | contactNum 3 | ------------------------ | contact1 Test1 | ------------------------ | contact2 Test2 | ------------------------ | contact3 Test3 | ------------------------ When a row is deleted, e.g. row 2 the table looks like this: ------------------------ | key value | ------------------------ | contactNum 2 | ------------------------ | contact1 Test1 | ------------------------ | contact3 Test3 | ------------------------ Like you can see contactNum is decremented. We now have two items but the second has 3 as index but it should be changed from contact3 to contact2. You might realize the problem when you see my delete function: function removeContact(value){ contacts = new Array(getValue("contactNum")); for(i = 1; i An item is deleted by value. So I search for the corresponding index to delete the row. Since the number of contacts is now 2, the index 3 is never reached. My idea: the first removal works, so after that the indices should be rebuild. From the one that was deleted decrement all indices. Any idea how to do that?
