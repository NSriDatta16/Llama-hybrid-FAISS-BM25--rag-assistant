[site]: stackoverflow
[post_id]: 872743
[parent_id]: 872580
[tags]: 
To me you should avoid the string manipulation functions as derobert already stated. In php the code should be similar to the following one: Just two multiply and a subtraction (plus a function call to round) are quite economic, and the code is quite readable too.
