[site]: crossvalidated
[post_id]: 131380
[parent_id]: 
[tags]: 
Identifying values responsible for producing inequality or concentration within a distribution

(This may be a dumb question I simply don't know enough to know is dumb, but it's foxing a surprisingly large chunk of my social circle) I have a dataset web requests - specifically, the page, and the user agent. I'm looking for specific agents with very high concentrations; in other words, agents that massively skew the distribution of agents on a page. (the idea is to use it as a very, very basic heuristic for identifying undeclared automata. However many people use IE9, if a page receives thirty thousand hits and IE9 makes up 29k of them, /something/ is up). I've been using the Herfindahl and Geni measures pretty successfully: every time they've displayed values above/below a certain threshold, hand-coding reveals that something is definitely going on in an identifiable way, so that bit is solved. The next step, however, is extracting the agents responsible for this massive skewing. The simplest way of doing that would be to order the agents by number of appearances, and continue dropping the top one and recalculating the measures until the produced value hits a certain threshold: say, 0.5 on the Herfindahl. This is also a really incorrect way of doing it, because you're going to be running the calculations over different datasets each time: the inequality/concentration values produced are not comparable. To use a particularly basic example, if you have three agents with 103,7 and 1 appearances, respectively, the concentration is 0.86. Definitely above the threshold, so drop the top one: now you have 7 and 1 appearances. Which produces a value of 0.78, even though the seven appearances are totally irrelevant from the perspective of the actual data . You'd end up adding the agent with 7 appearances to the list of problematic agents, even though it's actually a drop in the bucket. I've thought about a couple of approaches - one very basic one would be replacing 103 with a sequence of the value 1 and length 103, to keep the overall dataset sum but remove the prominent value - but I'm not knowledgeable enough about the maths to tell if this is an equally dumb way of going about it. So my question, now that I've made absolutely sure my thought process is down on paper, is: how would one go about extracting the values responsible for a particular inequality or concentration index, in a dynamic fashion?
