[site]: stackoverflow
[post_id]: 4647842
[parent_id]: 4646149
[tags]: 
My main advice would be to steer clear of the HAVING clause (see below): WITH HighEarners AS ( SELECT EmpId, DeptId FROM EMPLOYEE WHERE Salary > 1000 ), DeptmentHighEarnerTallies AS ( SELECT DeptId, COUNT(*) AS HighEarnerTally FROM HighEarners GROUP BY DeptId ) SELECT DeptName FROM DEPARTMENT NATURAL JOIN DeptmentHighEarnerTallies WHERE HighEarnerTally > 2; The very early SQL implementations lacked derived tables and HAVING was a workaround for one of its most obvious drawbacks (how to select on the result of a set function from the SELECT clause). Once derived tables had become a thing, the need for HAVING went away. Sadly, HAVING itself didn't go away (and never will) because nothing is ever removed from standard SQL. There is no need to learn HAVING and I encourage fledgling coders to avoid using this historical hangover.
