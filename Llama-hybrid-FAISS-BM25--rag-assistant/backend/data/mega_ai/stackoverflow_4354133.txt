[site]: stackoverflow
[post_id]: 4354133
[parent_id]: 4350346
[tags]: 
I'm guessing you need to remove wpautop for your hr shortcode as it gets wrapped in a paragraph? If so, just use your shortcode like so; Some text in my editor. [hr] A bit more text. See the line break spacing? WordPress will automatically ensure that shortcode 'by itself' won't get wrapped in paragraphs. I'd strongly advise going down the route you are at the moment - if what I've mentioned above isn't the problem, what is ? Let's look at tackling it rather than re-inventing the wheel! For the record, if you need to apply nested shortcode, from the codex ; If the enclosing shortcode is intended to permit other shortcodes in its output, the handler function can call do_shortcode() recursively: function caption_shortcode( $atts, $content = null ) { return ' ' . do_shortcode($content) . ' '; }
