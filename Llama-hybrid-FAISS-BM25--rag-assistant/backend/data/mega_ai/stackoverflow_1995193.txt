[site]: stackoverflow
[post_id]: 1995193
[parent_id]: 
[tags]: 
Compiling the cal3d demo "cally" (3d model library with boned animations)

I think this is a question about automake. http://home.gna.org/cal3d/ I'm struggling with the cally demo of Cal3D. The first problem I ran into was that the Cal3D code base is missing #include and #include in a lot of places . Doing this every time I got an error in any source file in Cal3d was enough to let me compile it. The cally demo also needed some #include Now my problem is that HAVE_SDL_H is not defined when tick.cpp is compiled. The configure and makefile seems to accept that SDL is installed on my system, but the macros in src/tick.cpp doesn't. I guess there is some kind of bug in the configure.in or something, but I don't seem to find out just what it is. if g++ -DHAVE_CONFIG_H -I. -I. -I.. -O3 -ffast-math -funroll-all-loops -g -O2 -I/usr/include -I/usr/local/include -I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT -MT tick.o -MD -MP -MF ".deps/tick.Tpo" -c -o tick.o tick.cpp; \ then mv -f ".deps/tick.Tpo" ".deps/tick.Po"; else rm -f ".deps/tick.Tpo"; exit 1; fi tick.cpp:144:5: error: #error "no timer implemented for your plateform" Edit: I've finally compiled the demo. When I compiled cal3d I added #include to the following files: src/cal3d/hardwaremodel.cpp src/cal3d/platform.cpp src/cal3d/renderer.cpp src/cal3d/submesh.cpp src/cal3d_converter.cpp When I compiled cally I added #include to the following files: src/demo.cpp src/model.cpp In model.cpp I changed line 640 from glBindTexture(GL_TEXTURE_2D, (GLuint)pCalRenderer->getMapUserData(0)); to glBindTexture(GL_TEXTURE_2D, *(GLuint*)pCalRenderer->getMapUserData(0)); I also did some uglier changes to get src/tick.cpp to compile. In src/tick.cpp I removed everything that had anything to do with SDL. I also removed a macro if clause checking for __i386__ or __ia64__, so that Tick::getTime() could also be compiled. I know that this is not a proper fix, so improvements are very much welcome. 64-bit OpenSuSE with a 2.6.27 kernel. GCC: 4.3.2 GNU Automake: 1.10.1 GNU Autoconf 2.63 64-bit versions of the SDL library is installed with zypper (through the GUI). Solution In configure.in change AC_CHECK_HEADERS([SDL.h]) to AC_CHECK_HEADERS([SDL/SDL.h]) (then run autoreconf and ./configure) in tick.cpp change all checks for HAVE_SDL_H to HAVE_SDL_SDL_H This is all due to a restructuring in the sdl library.
