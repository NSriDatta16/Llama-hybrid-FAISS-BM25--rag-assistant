[site]: crossvalidated
[post_id]: 627334
[parent_id]: 
[tags]: 
semPower: Accounting for Clustered Standard Errors in SEM Power Analysis with Fixed Effects Model

I am planning to analyse clustered data with a structural equation model and as I am planning on submitting my project as a registered report, I am first trying to do an in-depth power analysis (it is a secondary registered report, so the data already exist, but I have not analysed them). Since my data are clustered in only eight groups, multilevel modelling would not be appropriate as the sample size at L2 would be too low (McNeish & Stapleton, 2016). So, instead I decided to model clustering as fixed effects, i.e., introduce dummy variables for each cluster, and manually alter the standard errors (McNeish & Kelley, 2019). I am aware that this only accounts for clustering in the structural model but not the measurement model, but we assume that the measurement model will be similar in all clusters. Now, I can build a model in lavaan that has exogenous dummy variables to represent each cluster as a fixed intercept. However, the second part of using such a fixed effects model would be to modify the standard errors for clustering, which in this Fixed Effects Model approach works like this: "In an attempt to remedy this issue, we propose that standard error estimates output by software for effects estimated with linear combinations of regression coefficients be multiplied by the DEFT, which is the square root of the unconditional design effect. […] The DEFT is calculated as DEFT = sqrt(1 + (m − 1) × ICC), where m is the average cluster size and ICC is the intraclass correlation calculated from the unconditional model." (McNeish & Stapleton, 2016). Now, to conduct a power analysis for SEM (power for local hypothesis testing) I would normally use semPower and feed it two lavaan models with fixed parameters, one of which has the parameter of interest set to zero. So I can set up my SEM including the clustering dummy variables, no problem. However, I have found no way to adjust standard errors in semPower to properly account for clustering. Does anyone have an idea how I could accomplish this? McNeish, D. M., & Kelley, K. (2019). Fixed effects models versus mixed effects models for clustered data: Reviewing the approaches, disentangling the differences, and making recommendations. Psychological Methods, 24(1), 20–35. https://doi.org/10.1037/met0000182 McNeish, D., & Stapleton, L. M. (2016). Modeling clustered data with very few clusters. Multivariate Behavioral Research, 51(4), 495–518. https://doi.org/10.1080/00273171.2016.1167008
