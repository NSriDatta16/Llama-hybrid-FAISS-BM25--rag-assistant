[site]: crossvalidated
[post_id]: 538610
[parent_id]: 
[tags]: 
Student's T-test for A\B testing of a mobile widget

I would like to run a t-Test (Two sampling assuming equal variances) in order to evaluate the lift observed in an A\B test of a mobile ad campaign. My main KPI is Revenue per 1000 views. My data consist of the following dimensions: Date, Publisher, Group_name (the variation of the test) . I have two questions: 1. Is it correct to have my t-test run on an aggregated pivot of the data, while calculating the average KPI per day? for example: date A B 2019-02-23 2.64 3.37 2019-02-24 2.89 3.92 2019-02-25 3.70 5.21 2019-02-26 3.57 4.06 2019-02-27 2.78 3.86 2019-02-28 3.12 3.57 AVERAGE of RPM 3.12 4.00 Considering the underlying data has also Publisher level of details, I'm trying to figure out what Average should I use in the pivot - Weighted Average or Simple Average. Following the above example of the simple average, here's the pivot of weighted average: date A B 2019-02-23 1.41 1.71 2019-02-24 1.27 1.54 2019-02-25 1.31 1.63 2019-02-26 1.46 1.58 2019-02-27 1.35 1.71 2019-02-28 2.15 2.33 AVERAGE of RPM 1.49 1.74 Which one, if any, is the correct method? Thanks EDIT : More details regarding my design: My product is a mobile widget which shows recommendations for other content on the internet, which could be either organic or promoted content. The Widget is embedded at the bottom of several publishers sites, and I generate revenue when customers click on any of the content. I have two possible setups for the widget - the current (Group A) - shows 1 organic recommendation and 2 promoted recommendations; and the new setup (Group B) shows 2 promoted recommendations and then 1 organic recommendation. I now run an experiment and splitting my traffic equally and randomly between the two groups for 7 days. After concluding the experiment, I'm calculating my Revenue per 1,000 page views (my KPI), and I noticed a lift of 17% in favor of Group B. Trying to statistically test my results, I'm trying to run a Two-Sample Assuming Equal Variances T-test in Excel. Question is, What array of values should I input to the excel in order to get my results? I now understand that aggregating the results by date is probably not the way, however, I cannot just test "Mean A" vs. "Mean B" in this test. My raw data looks like this: | date | publisher_id | platform | group_name | page_views | revenue | Revenue_per_1k_page_views | |------------|--------------|----------|------------|------------|---------|---------------------------| | 2019-02-23 | 106 | Mobile | A | 30,494 | 82.93 | 2.71 | | 2019-02-23 | 106 | Mobile | B | 30,079 | 100.82 | 3.35 | | 2019-02-24 | 106 | Mobile | A | 24,098 | 87.79 | 3.64 | | 2019-02-24 | 106 | Mobile | B | 22,846 | 100.00 | 4.37 |
