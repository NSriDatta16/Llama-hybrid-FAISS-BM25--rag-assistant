[site]: stackoverflow
[post_id]: 1125785
[parent_id]: 1125601
[tags]: 
If you have access to PHP 5.3, you can use the CURL_PROGRESSFUNCTION option, which results in a much more elegant solution (no parsing output). Here's an example of how to use it: function callback($download_size, $downloaded, $upload_size, $uploaded) { $percent=$downloaded/$download_size; // Do something with $percent } $ch = curl_init('http://www.example.com'); // Turn off the default progress function curl_setopt($ch, CURLOPT_NOPROGRESS, false); // Set up the callback curl_setopt($ch, CURLOPT_PROGRESSFUNCTION, 'callback'); // You'll want to tweak the buffer size. Too small could affect performance. Too large and you don't get many progress callbacks. curl_setopt($ch, CURLOPT_BUFFERSIZE, 128); $data = curl_exec($ch);
