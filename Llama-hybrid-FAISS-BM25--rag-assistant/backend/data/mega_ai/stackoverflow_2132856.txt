[site]: stackoverflow
[post_id]: 2132856
[parent_id]: 
[tags]: 
Whatâ€™s wrong with this code

Why doesn't the while loop return anything? I assume this has something to do with .NET. I have .NET 2.0. The problem is that the while statement will execute one time then exit, as though there are no nodes with that name, when there definately are. Here is an example of the XML: ... ... ... ... User greeting ... http://... Voicebox number: 1 Free Conference Call User greeting ... http://... Voicebox number: 1 Free Conference Call Here is the code: HttpWebRequest webreq = (HttpWebRequest)WebRequest.Create (reqURL); // Set some reasonable limits on resources used by this request webreq.MaximumAutomaticRedirections = 4; webreq.MaximumResponseHeadersLength = 4; //==================== // Set credentials to use for this request. webreq.Credentials = CredentialCache.DefaultCredentials; HttpWebResponse response = (HttpWebResponse)webreq.GetResponse (); //==================== // Get the stream associated with the response. receiveStream = response.GetResponseStream (); //==================== // Pipes the stream to a higher level stream reader with the required encoding format. readStream = new StreamReader(receiveStream, Encoding.UTF8); resXML = readStream.ReadToEnd(); readStream = new StreamReader(receiveStream, Encoding.UTF8); //==================== Console.WriteLine(resXML); Stream XMLStream = receiveStream; readStream = new StreamReader(XMLStream, Encoding.UTF8); XmlReaderSettings settings = new XmlReaderSettings(); settings.ConformanceLevel = ConformanceLevel.Fragment; settings.IgnoreWhitespace = true; settings.IgnoreComments = true; XmlReader reader = System.Xml.XmlReader.Create(readStream, settings); while(reader.EOF == false) { reader.ReadToFollowing("link"); Console.WriteLine("link: " + reader.Value); //======================================= reader.ReadToFollowing("description"); Console.WriteLine("descrip: " + reader.Value); }
