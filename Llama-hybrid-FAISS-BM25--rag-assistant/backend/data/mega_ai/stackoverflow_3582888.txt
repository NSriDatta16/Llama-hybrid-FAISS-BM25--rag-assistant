[site]: stackoverflow
[post_id]: 3582888
[parent_id]: 
[tags]: 
ActiveRecord association not found - but only on second load

I recently upgraded from Rails 2.0.2 to 2.3.8 and have been ironing out the kinks. This one is baffling me. I have a page that runs fine in production, but in development mode it runs fine on first load, then on reload it crashes with: ActiveRecord::ConfigurationError - Association named 'average_prices' was not found; perhaps you misspelled it? It's a nested eager-load call: list_user.bookmarks.visible_to_user(logged_in_user_id).find(:all, :conditions=>filter, :include=>[:user, {:gift=>:average_prices}, :tags, :product_image]) My feeling is that the error isn't strictly related to the real problem... aside from the fact that the code runs correctly (in production) I have also observed other errors sporadically in my app to the effect of: A copy of [one of my helper classes] has been removed from the module tree but is still active! Googling for this has resulted in much discussion of marking classes as "unloaded" and using "require_dependency" instead of "require"... but I've tried a number of things without any luck. Does anyone have any clues here? Something seems funky to me with regard to loading/reloading classes. NOTE: I think what I'm seeing is likely the same as this , but the fix posted here didn't work for me.
