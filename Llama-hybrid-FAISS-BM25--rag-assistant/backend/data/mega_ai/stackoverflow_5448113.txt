[site]: stackoverflow
[post_id]: 5448113
[parent_id]: 5447755
[tags]: 
We don't know what will happen. The language standard doesn't say. When you write a program, there is an implied contract between you and the compiler. If you write a correct program, it has to produce an executable that does exactly what the source code said. When you use code like stateof* un = (stateof*)&storage; you are telling the compiler "I know for sure that &storage actually points to a stateof union. Trust me, I know what I am doing!". And the compiler thinks "If you say so...", and acts accordingly. But as you have then broken the contract, it is free to do just about anything. We just don't know what the output could be, or if there would even be one.
