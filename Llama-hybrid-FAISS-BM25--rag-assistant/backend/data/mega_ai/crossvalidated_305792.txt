[site]: crossvalidated
[post_id]: 305792
[parent_id]: 139292
[tags]: 
Your statement of the test you wish to conduct does not line up with proper frequentist inference of non-inferiority trials. Non-inferiority does not reverse null-hypothesis significance testing. NI trials allow the analyst to conclude that an investigational treatment is/is not non-inferior to a standard of care . If you are not using this language, then the whole analysis is called into question. 1) A quaint formula for sample size calculation for analysis of binary outcomes is given here by: $$n = \frac{f(\alpha, \beta) \left(\pi_s (100-\pi_s) + \pi_e (100-\pi_e)\right)} { (\pi_s - \pi_e - d)^2}$$ Where $n$ is the target sample size, $\alpha$ is the false positive error rate, $\beta$ is the desired power, $\pi_s$ is the risk of death in the Standard Of Care group, $\pi_e$ is the risk of death in the investigational treatment group, $d$ is the acceptable margin of difference between the two treatments. $f$ is the squared sum of the normal quantile function for the type 1 error rate and the power. Unfortunately, this introduces a second component to your answer: what's the connection between analysis of binary outcomes and time-to-event? You can reasonably approximate the power of the Cox model by considering the proportion failing at the end of follow-up, making reasonable estimates of attrition/loss to follow-up. You can of course, use simulation with a variety of baseline hazard functions to verify this. 2) Stratification can be done 1 of two ways in a Cox model: via covariate adjustment or by estimating separate baseline hazard functions. Again, the analogous analysis of bivariate data is adjustment logistic regression versus Mantel-Hanszel analysis. In both cases, power/precision is gained by clumping treated/untreated participants into groups defined by risk, but more is spent giving a more general expression of the stratum specific hazard/risk. With full stratification, you use the formula in 1 twice and simply split the power between the two or power strata, then add together the separate $n$ for a total sample size, or (better) use each $n$ for targeted recruitment/blocked randomization.
