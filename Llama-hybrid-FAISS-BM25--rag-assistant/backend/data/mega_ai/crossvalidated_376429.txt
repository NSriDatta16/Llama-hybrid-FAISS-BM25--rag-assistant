[site]: crossvalidated
[post_id]: 376429
[parent_id]: 376408
[tags]: 
The decomposition you propose is correct: \begin{align*} \mathbb{E} (\delta(X) - p)^2 &= \mathbb{E}[ \mathbb{E}[(\delta(X) - p)^2|p]]\\ &= \mathbb{E}[ \underbrace{\text{var}_p(\delta(X)) + (\mathbb{E}[\delta(X)]-p)^2}_\text{Pythegorean theorem}]\\ &= \mathbb{E}\left[\frac{np(1-p)}{(a+b+n)^2}+\left( \frac{a+np}{a+b+n}-p\right)^2\right]\\ &=\frac{A\mathbb{E}[p^2]+B\mathbb E[p] +C}{(a+b+n)^2} \end{align*} from which you should be able to extract a rather simple expression by recovering $A,B,C$ from the decomposition of the squares. If not, the example is processed in my book, The Bayesian Choice [Examples 4.4 and 4.5].
