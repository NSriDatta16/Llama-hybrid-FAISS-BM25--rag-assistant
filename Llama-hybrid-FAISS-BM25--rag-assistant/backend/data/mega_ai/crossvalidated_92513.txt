[site]: crossvalidated
[post_id]: 92513
[parent_id]: 
[tags]: 
Modelling points in basketball match as a Markov chain with Poisson regression

I am modelling a simple model of how many points are scored in total in basketball matches. I have a dataset of 500 matches. Pre-game I know which team are favorite to win, for all the matches in my dataset. For every minute of the matches, I observe the difference in score. The difference in score is a factor: X for draw, H for home team leading and A for away team leading. The favorite team variable is also a factor, either Home or Away. I actually have specified more factors in my model for different types of home and away lead, but for simplicity this is how I present it. So I want to use Poisson regression to model how many points are scored, with difference in score and which team are favorite as explanatory variables: $$ \log(\mu)=\log(t_x)+\beta_0 +\beta_1\text{Favorite} +\beta_2\text{Diff_score} +\text{interaction_favorite/diff_score} , $$ or, basketball where $t_x$ is the offset. So $Y$ is scaled with a time vector $t_x$ for minute $x$ , such that we are looking at points scored after minute $x$ until end of match. For example, if $t_4=1.1$ , and points scored after minute 4 is 120, then the observation for minute 4 would be ( $120/1.1,X_4$ ), where $X_4$ is the state of the match (explanatory variables) at minute 4. More specifically, I treat the basketball matches as Markov chains. For every minute, of every basketball match, I look at the state in which the game is in (favorite, score difference) and look at the outcome at the end of the game. So, for every game, I have 48 observations (48 minutes in a basketball match) and 48 outcomes (points) on which I perform the poisson regression. For example, if I look at just match number 1: $Y/t_1$ is the number of points at the end of the match, scaled with some $t_1$ , and $X_1$ is the state at minute 1. I have this set of observations (for just match number 1): ( $Y/t_1$ , $X_1$ ),( $Y/t_2$ , $X_2$ ),...,( $Y/t_{48}$ , $X_{48}$ ). I do this for all the matches, and perform poisson regression on 48*500 datapoints. Obviously the states of the matches are dependent on each other, but I include this with the interaction term in the glm function in R. And I view the outcome (points at the end) as only dependent on the state which you are currently in. But I am not sure if I am "allowed" to do this. The middle and right plot seems to look "OK", but the left plot worries me ...
