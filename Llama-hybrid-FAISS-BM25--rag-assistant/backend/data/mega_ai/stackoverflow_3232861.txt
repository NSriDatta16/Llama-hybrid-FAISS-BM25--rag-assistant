[site]: stackoverflow
[post_id]: 3232861
[parent_id]: 
[tags]: 
Common table expression functionality in SQLite

I need to apply two successive aggregate functions to a dataset (the sum of a series of averages), something that is easily and routinely done with common table expressions in SQL Server or another DBMS that supports CTEs. Unfortunately, I am currently stuck with SQLite which does not support CTEs. Is there an alternative or workaround for achieving the same result in SQLite without performing two queries and rolling up the results in code? To add a few more details, I don't think it could be easily done with views because the first set of aggregate values need to be retrieved based on a WHERE clause with several parameters. E.g., SELECT avg(elapsedTime) FROM statisticsTable WHERE connectionId in ([lots of values]) AND updateTime > [startTime] AND updateTime And then I need the sum of those averages.
