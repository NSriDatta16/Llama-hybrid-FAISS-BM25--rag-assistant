[site]: crossvalidated
[post_id]: 625689
[parent_id]: 
[tags]: 
How to transform basis functions to satisfy a restriction

I am trying to find a way to methodically transform a set of basis functions to satisfy a restriction so that the coefficient of the first basis function at a specific value of $x$ can have a special interpretation. The ultimate goal is so that I can put a Bayesian prior on the effect of treatment at a given value of $x$ when $x$ interacts with treatment. For example, consider an ordinary regression model with a cubic polynomial in a covariate $x$ and a treatment variable $T$ (a binary grouping) taking on values $A$ and $B$ . Treatment is allowed to interact with $x$ in a general (nonlinear) way. $[u]$ is Knuth's notation, i.e., an indicator variable that is 1 when $u$ is true, 0 otherwise. $$ \begin{array}{ll} E(Y | T, x) = & \beta_{0} + \beta_{1}[T=B] + \beta_{2}x + \beta_{3}x^{2} + \beta_{4}x^{3} + \beta_{5}x[T=B] \\ &+ \beta_{6}x^{2}[T=B] + \beta_{7}x^{3}[T=B] \end{array} $$ The B:A treatment effect is the $x$ -specific $B - A$ difference in means $E(Y | T=B, x) - E(Y | T=A, x)$ which is $$ \beta_{1} + \beta_{5}x + \beta_{6}x^{2} + \beta_{7}x^{3} $$ If I wanted to put a prior on the treatment effect of $x$ on $y$ at $x=10$ I would just subtract 10 from $x$ before fitting the model and I would have it as $\beta_{1}$ , so I could set my informative prior on $\beta_{1}$ . The question is how to arrive at transformed basis functions more generally. The particular need I have is to use a linear spline to allow for sharp changes at three $x$ values. If there are 3 knots (points at which the slope of $x$ changes) at $x=t_{i}, i=1,2,3$ , convenient basis functions are $$ x, (x-t_{1})_{+}, (x-t_{2})_{+}, (x-t_{3})_{+} $$ where $(w)_{+}$ denotes $w$ if it is positive and zero otherwise. These basis functions enforce zero-order continuity, i.e., the fitted piecewise linear function will not have vertical jumps. I have been unable to to translate these basis functions so that the treatment effect is isolated to $\beta_{1}$ as in the regular polynomial case. Is there a general manipulation that can be used here, or another linear spline basis function that will do the trick? Because of software considerations I don't want to create special terms in the model that combine main effects and interactions but would like to find a solution if possible that allows a special basis function in $x$ to interact with $T$ in the usual multiplicative way. Update : A more general solution for my Bayesian purpose is to specify priors for linear combinations of $\beta$ s. This is not hard to do: https://discourse.mc-stan.org/t/putting-priors-on-transformed-parameters/2488/8 . But I would still would appreciate learning about basis function tricks. Update 2 : I've fully implemented the Stan approach for the priors here
