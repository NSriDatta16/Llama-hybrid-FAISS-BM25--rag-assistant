[site]: crossvalidated
[post_id]: 496876
[parent_id]: 
[tags]: 
Interpreting interaction metrics in xgboost model

I am attempting to understand interactions in an xgboost model. I have the following reproducible example in R where I create a model with the diamonds dataset and calculate the interaction metrics for all variables along with the 2-way interactions. My question is: how do I determine what constitutes a "high" or "significant" interaction. The EIX package will produce a plot of the interactions Gain score, and color-code them by strength, but does not describe what the cutoff for "high" is. Furthermore, the Gain of an individual variable when only individual variables are considered is greater than the Gain when interactions are also considered, and I assume this is because the additional Gain from the interactions are included in the totals for the individual variable in the former case. However, the total Gain for all interactions is much larger than the difference in total gain attributed to all individual variables plus interactions minus the total Gain attributed to just individual variables. I seem to be missing a key piece of understanding. Any help or insights from others with more experience would be much appreciated. Thank you! library(EIX) library(recipes) library(xgboost) library(caret) library(tidyverse) options(scipen = 9999) d $cut cut) d $color color) d $clarity clarity) # set up a recipe to one hot encode categorical variables rec % recipes::step_dummy(cut, color, clarity) # prep recipe to make metadata for data preprocessing rec_prep % sample_n(2000) # set up data for xgboost df_m $Feature, importance$ sumGain) # y has sumGain = 27780000000 total_gain_both $Feature, importance_vars$ sumGain) # gain greater for individual vars here compared to what's listed above # y has sumGain = 27970000000, is this because the sumGain includes the amounts attributed to the interactions above? total_gain $Feature, importance_ints$ sumGain) total_gain_ints ```
