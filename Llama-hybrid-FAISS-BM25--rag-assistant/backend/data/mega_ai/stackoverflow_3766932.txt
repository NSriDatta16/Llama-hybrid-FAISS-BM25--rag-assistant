[site]: stackoverflow
[post_id]: 3766932
[parent_id]: 3766337
[tags]: 
You should also consider checking http://drupal.org/project/logintoboggan . Logintoboggan is a module that tweaks and changes Drupal's default login by adding a lot of features. You can see how they achieved certain functionalities by reading the code. That will help you when you write your own code.
