[site]: crossvalidated
[post_id]: 279446
[parent_id]: 
[tags]: 
trough detection in time series

I have time series (daily readings), which can trend downwards. I would like to introduce a dichotomous dummy variable that indicates when the time series contains a trough (dummy=1) or not (dummy=0). A trough occurs if the current time series is n% (e.g. 80%) below past values but future values go up again to 100% relative to the current value. I can look x steps into the past and y steps into the future and take the max of retrospective and future values. This works OK-ish for short troughs (i.e. where the length of the trough is shorter than for example x). Did anyone attempt something like this in the past? Any pointers would be very much appreciated.
