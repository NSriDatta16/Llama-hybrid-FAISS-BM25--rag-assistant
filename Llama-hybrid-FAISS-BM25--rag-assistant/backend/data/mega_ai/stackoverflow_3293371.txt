[site]: stackoverflow
[post_id]: 3293371
[parent_id]: 
[tags]: 
Convert XML file to CSV in Java

Here is an example XML (case 1) : 4504216603 10:00:10.000Z 10:00:30.000Z http://url .... Here is an example XML (case 2) : 4504216604 10:30:10.000Z value1 9823 9112 value2 11:00:10.000Z http://url .... I borrowed this XML from Google. My objects are not always the same, sometimes there are extra elements like in case2. Now I'd like to produce CSV like this from both cases: ItemID,StartTime,EndTime,ViewItemURL,AverageTime,AveragePrice 4504216603,10:00:10.000Z,10:00:30.000Z,http://url 4504216604,10:30:10.000Z,11:00:10.000Z,http://url,value1,value2 This 1st line is header it should also be included in csv. I got some useful links to stax today, I don't really don't know what is the right/optimal approach for this, and I am seeking ideas. Update 1 I forgot to mention this is a huge XML, file up to 1gb. Update 2 I'm looking for more Generic approach, meaning that this should work for any number of nodes with any depth, and sometimes as in the example XML, it can happen that one item object has greater number of nodes than the next/previous one so there should be also case for that (so all columns and values match in CSV). Also it can happen that nodes have the same name/localName but different values and attributes, if that is the case then new column should appear in CSV with appropriate value. (I added example of this case inside tag called category )
