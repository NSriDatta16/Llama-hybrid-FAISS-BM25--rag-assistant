[site]: stackoverflow
[post_id]: 3903011
[parent_id]: 
[tags]: 
EF4 Inheritance issues using Table per Type

I'm having quite a bit of trouble trying to get inheritance to work in EF4. The original model is quite large, however I have managed to replicate it in a model of just two entities. Essentially the two tables are "Asset" and "Questionnaire". Questionnaire inherits Asset (i.e. Questionnaire is an Asset). They do this by Questionnaire having an AssetID linking back to the Asset. Technically the design may not be the best however I'm trying to make this work for a 10 year old database without any major redesigns... So given that, the tables are: Asset AssetID uniqueidentifier NOT NULL - the primary key of this table Other irrelevant columns Content_Questionnaire Id uniqueidentifier NOT NULL - the primary key of this table AssetID uniqueidentifier NOT NULL - foreign key to Asset.AssetID Other irrelevant columns The model for this is extremely simplistic - essentially it is: The EDMX file for this is: Now my problem is that no matter what I've tried - I'm getting two error messages: Error 1 Error 3002: Problem in mapping fragments starting at line 87:Potential runtime violation of table Content_Questionnaire's keys (Content_Questionnaire.Id): Columns (Content_Questionnaire.Id) are mapped to EntitySet Assets's properties (Assets.Id) on the conceptual side but they do not form the EntitySet's key properties (Assets.AssetID). Error 2 Error 3003: Problem in mapping fragments starting at line 87:All the key properties (Assets.AssetID) of the EntitySet Assets must be mapped to all the key properties (Content_Questionnaire.Id) of table Content_Questionnaire. How on earth do I get rid of these errors? It is probably something completely obvious that I am missing - however ANY help or even a nudge in the right direction would be greatly appreciated. I've been getting a few grey hairs trying to work through this one today! Thanks in advance for any help you may be able to shed.
