[site]: stackoverflow
[post_id]: 5280320
[parent_id]: 
[tags]: 
Starting Tornado with Nginx on Ubuntu 10.04 automatically with domain name

I've managed to set up my nginx.conf file and it looks like this: root www www; worker_processes 1; worker_rlimit_nofile 8192; events { worker_connections 8000; accept_mutex off; } error_log logs/error.log; pid logs/nginx.pid; http { # Set the mime-types include mime.types; # And the fallback mime-type default_type application/octet-stream; # Format for our log files log_format main '$remote_addr - $remote_user [$time_local] $status ' '"$request" $body_bytes_sent "$http_referer" ' '"$http_user_agent" "$http_x_forwarded_for"'; # Click tracking! access_log logs/access.log main; # ~2 seconds is often enough for HTML/CSS, but connections in # Nginx are cheap, so generally it's safe to increase it keepalive_timeout 5; # You usually want to serve static files with Nginx sendfile on; tcp_nopush on; # off may be better for Comet/long-poll stuff tcp_nodelay off; # on may be better for Comet/long-poll stuff # Enable Gzip gzip on; gzip_http_version 1.0; gzip_comp_level 2; gzip_min_length 1100; gzip_buffers 4 8k; gzip_proxied any; gzip_types text/html text/plain text/xml application/xml application/xml+rss text/css text/javascript application/javascript application/json; gzip_static on; gzip_proxied expired no-cache no-store private auth; gzip_disable "MSIE [1-6]\."; gzip_vary on; server { # listen 80 default deferred; # for Linux # listen 80 default accept_filter=httpready; # for FreeBSD listen 80 default; # e.g. "localhost" to accept all connections, or "www.example.com" # to handle the requests for "example.com" (and www.example.com) server_name _; # Path for static files root /srv/www/example.com/public_html/src/static; expires 1M; # Static assets location ~* ^.+\.(manifest)$ { expires -1D; root /srv/www/example.com/public_html/src/; access_log /srv/www/example.com/logs/static.logs; } location ~* ^.+\.(ico|ogg|ogv|svg|svgz|eot|otf|woff|mp4|ttf|css|rss|atom|js|jpg|jpeg|gif|png|ico|zip|tgz|gz|rar|bz2|doc|xls|exe|ppt|tar|mid|midi|wav|bmp|rtf)$ { # Only set expires max IFF the file is a static file and exists if (-f $request_filename) { expires max; root /srv/www/example.come/public_html/src/static; access_log /srv/www/example.com/logs/static.logs; } } } } My questions for nginx file is: 1) I would want to host my application with the domain name : www.example.com, which line of the nginx.conf file do i change? My nginx.conf file is found in the same folder as app.py. 2) When I was trying to start nginx by typing /etc/init.d/nginx start, I received the following error message: Error Message: Starting nginx: [emerg]: bind() to 0.0.0.0:80 failed (98: Address already in use) [emerg]: bind() to 0.0.0.0:80 failed (98: Address already in use) [emerg]: bind() to 0.0.0.0:80 failed (98: Address already in use) [emerg]: bind() to 0.0.0.0:80 failed (98: Address already in use) [emerg]: bind() to 0.0.0.0:80 failed (98: Address already in use) [emerg]: still could not bind() nginx. I have not done any configuration to the nginx.conf file found at /etc/nginx My questions for this part are: 3) How do i fix the error? 4) How do i start nginx automatically? I've tried running my Tornado app by typing python app.py Than I navigate to http://xxx.xx.xxx.xxx:8888 , and my app works correctly. However, should I close my terminal ( killing the process ) , my tornado app is no longer active. My question here is: 5) how do i start tornado app automatically? 6) How do i run tornado on a domain name? Thank you all for your kind patience. Best Regards.
