[site]: stackoverflow
[post_id]: 1020305
[parent_id]: 
[tags]: 
Deleting Multiple Nodes in Single XQuery for SQL Server

I have: a table with an xml type column (list of IDs) an xml type parameter (also list of IDs) What is the best way to remove nodes from the column that match the nodes in the parameter, while leaving any unmatched nodes untouched? e.g. declare @table table ( [column] xml ) insert @table ([column]) values (' 1 2 3 ') declare @parameter xml set @parameter = ' 1 2 ' -- this is the problem update @table set [column].modify('delete (//i *where text() matches @parameter*)') The MSDN documentation indicates it should be possible (in Introduction to XQuery in SQL Server 2005 ): This stored procedure can easily be modified to accept an XML fragment which contains one or more skill elements thereby allowing the user to delete multiple skill nodes with a single invocation of stored procedure.
