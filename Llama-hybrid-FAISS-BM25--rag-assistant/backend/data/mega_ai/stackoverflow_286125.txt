[site]: stackoverflow
[post_id]: 286125
[parent_id]: 286093
[tags]: 
Here is what I just did (as recommended by Ray Houston ). I would still appreciate a more elegant solution... [Test] public void just_once() { var key = "id_of_something"; var source = MockRepository.GenerateStub (); // set a positive expectation source.Expect(x => x.GetSomethingThatTakesALotOfResources(key)) .Return(new Something()) .Repeat.Once(); var client = new Client(soure); client.GetMeMyThing(key); // set a negative expectation source.Expect(x => x.GetSomethingThatTakesALotOfResources(key)) .Return(new Something()) .Repeat.Never(); client.GetMeMyThing(key); }
