[site]: crossvalidated
[post_id]: 235129
[parent_id]: 
[tags]: 
Online estimation of variance with limited memory

I am creating a component that aims to calculate the average and variance of a metric associated with events happening during time but with a limited internal memory. Imagine that the events are visitors entering in a shop and the metric is their age. During time, my component receives events with the age of each visitor. I don't want my component to memorize the history of each ages. Ideally, I would like a light component storing only: the average A , the variance V and the number of events N . After each event with age E , I want to update those three values : N What for V ? I am thinking of something like : V I know it is not exact as my previous V is using the old A which is no more the average. Q1 - Is there an exact formula? Q2 - If not, is my proposal a good estimate? Is it biased? Will it converge correctly when N increases? Q3 - Is there a better formula?
