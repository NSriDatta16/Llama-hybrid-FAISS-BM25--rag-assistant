[site]: stackoverflow
[post_id]: 2194783
[parent_id]: 2177523
[tags]: 
As you said, the single query that you are showing in your question is not a real problem. You have to detect real problem before solving it. "it takes very long with 10 connections" is not enough. Explain analyze that you posted is useless - show the real query with WHERE condition. The times (in explain analyze output) prove only that your server is simply overloaded at the moment. 5 seconds time for a query on 40k rows? - that's really tragic. You need to detect queries which consume most server resources. To achieve this, do workload statistics with a tool like pgfouine . it takes some time but it's worth it. I'd also have a look at your system stats (IO usage, memory, CPU) before guessing any more. If this is going to be a production server, setup a monitoring tool - if you don't have one yet. I'd recommend munin , quite easy to get up and running in 15 minutes (comes packaged for some linux distros).
