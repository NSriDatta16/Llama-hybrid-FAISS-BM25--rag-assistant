[site]: stackoverflow
[post_id]: 4211135
[parent_id]: 4211114
[tags]: 
It's called Duff's device. It uses switch statement to implement state machines in C. In this particular case it performs one branch per 8 iterations of memcopy. Read this for additional info: http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html The second function swaps two integers. The third just computes the average of two numbers, because sum can be written as a + b = (a ^ b) + ((a & b) and by using ((a ^ b) >> 1) + (a & b) instead of (a + b >> 1) we can avoid possible overflows.
