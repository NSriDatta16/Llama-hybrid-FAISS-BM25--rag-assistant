[site]: stackoverflow
[post_id]: 3545208
[parent_id]: 
[tags]: 
Adding Richfaces to a Maven Project being Deployed to JBoss AS 6

I'm having trouble with adding Richfaces to my Maven project, which is deploying to JBoss AS 6. Here is my pom.xml 4.0.0 com.test WyreBase war 1.0-SNAPSHOT Wyre Base http://maven.apache.org /home/drew/Development/Servers/jboss/ 1.0.0.Alpha2 4.0.0.20100715-M1 java.net2 Repository hosting the jee6 artifacts http://download.java.net/maven/2 jboss-public-repository-group JBoss Public Maven Repository Group https://repository.jboss.org/nexus/content/groups/public/ jboss-public-repository-group JBoss Public Maven Repository Group https://repository.jboss.org/nexus/content/groups/public/ org.richfaces.ui richfaces-components-bom ${org.richfaces.ui.version} import pom org.jboss.spec jboss-javaee-6.0 1.0.0.Beta5 pom provided org.hibernate hibernate-validator 4.1.0.Beta1 jar provided org.richfaces.ui richfaces-components-ui mysql mysql-connector-java 5.1.12 org.jasypt jasypt 1.6 org.slf4j slf4j-log4j12 1.6.1 org.jboss.arquillian arquillian-junit ${arquillian.version} test junit junit 4.8.1 test org.apache.maven.plugins maven-compiler-plugin 1.6 1.6 org.codehaus.mojo jboss-maven-plugin 1.4 ${jbossHome} default target/${project.artifactId}.war ${project.artifactId} jbossas-local-60 org.jboss.arquillian.container arquillian-jbossas-local-60 1.0.0.Alpha2 test org.jboss.jbossas jboss-server-manager 1.0.3.GA test org.jboss.jbossas jboss-as-client 6.0.0.20100429-M3 pom test Here are the, hopefully, more relevant portions of the stack trace (too big to put it all in here.) 02:30:57,314 INFO [javax.enterprise.resource.webcontainer.jsf.config] Initializing Mojarra 2.0.2 (FCS b10) for context '/WyreBase' 02:30:57,831 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] Unable to process annotations for url, vfs:/home/drew/Development/Servers/jboss-6.0.0.20100429-M3/server/default/deploy/WyreBase.war/WEB-INF/lib/richfaces-core-impl-4.0.0.20100715-M1.jar/META-INF/initialization-listener.faces-config.xml. Reason: java.util.zip.ZipException: error in opening zip file 02:30:57,831 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] : java.util.zip.ZipException: error in opening zip file at java.util.zip.ZipFile.open(Native Method) [:1.6.0_18] at java.util.zip.ZipFile. (ZipFile.java:131) [:1.6.0_18] at java.util.jar.JarFile. (JarFile.java:150) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile. (URLJarFile.java:85) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile$1.run(URLJarFile.java:232) [:1.6.0_18] at java.security.AccessController.doPrivileged(Native Method) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile.retrieve(URLJarFile.java:216) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:68) [:1.6.0_18] at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:86) [:1.6.0_18] at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122) [:1.6.0_18] at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89) [:1.6.0_18] at com.sun.faces.config.AnnotationScanner.processClasspath(AnnotationScanner.java:290) [:2.0.2-FCS] at com.sun.faces.config.AnnotationScanner.getAnnotatedClasses(AnnotationScanner.java:215) [:2.0.2-FCS] at com.sun.faces.config.ConfigManager$AnnotationScanTask.call(ConfigManager.java:765) [:2.0.2-FCS] at com.sun.faces.config.ConfigManager$AnnotationScanTask.call(ConfigManager.java:736) [:2.0.2-FCS] at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [:1.6.0_18] at java.util.concurrent.FutureTask.run(FutureTask.java:166) [:1.6.0_18] at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:329) [:2.0.2-FCS] at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:223) [:2.0.2-FCS] at org.jboss.web.jsf.integration.config.JBossJSFConfigureListener.contextInitialized(JBossJSFConfigureListener.java:72) [:6.0.0.20100429-M3] ...more 02:30:57,842 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] Unable to process annotations for url, vfs:/home/drew/Development/Servers/jboss-6.0.0.20100429-M3/server/default/deploy/WyreBase.war/WEB-INF/lib/richfaces-components-ui-4.0.0.20100715-M1.jar/META-INF/behaviors-handler-delegate.faces-config.xml. Reason: java.util.zip.ZipException: error in opening zip file 02:30:57,843 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] : java.util.zip.ZipException: error in opening zip file at java.util.zip.ZipFile.open(Native Method) [:1.6.0_18] at java.util.zip.ZipFile. (ZipFile.java:131) [:1.6.0_18] at java.util.jar.JarFile. (JarFile.java:150) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile. (URLJarFile.java:85) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile$1.run(URLJarFile.java:232) [:1.6.0_18] at java.security.AccessController.doPrivileged(Native Method) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile.retrieve(URLJarFile.java:216) [:1.6.0_18] at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:68) [:1.6.0_18] at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:86) [:1.6.0_18] at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122) [:1.6.0_18] at sun.net.www.protocol.jar.JarURLConnection.getJarFile(JarURLConnection.java:89) [:1.6.0_18] at com.sun.faces.config.AnnotationScanner.processClasspath(AnnotationScanner.java:290) [:2.0.2-FCS] at com.sun.faces.config.AnnotationScanner.getAnnotatedClasses(AnnotationScanner.java:215) [:2.0.2-FCS] at com.sun.faces.config.ConfigManager$AnnotationScanTask.call(ConfigManager.java:765) [:2.0.2-FCS] at com.sun.faces.config.ConfigManager$AnnotationScanTask.call(ConfigManager.java:736) [:2.0.2-FCS] at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [:1.6.0_18] at java.util.concurrent.FutureTask.run(FutureTask.java:166) [:1.6.0_18] at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:329) [:2.0.2-FCS] at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:223) [:2.0.2-FCS] at org.jboss.web.jsf.integration.config.JBossJSFConfigureListener.contextInitialized(JBossJSFConfigureListener.java:72) [:6.0.0.20100429-M3] ...more 02:30:57,849 INFO [javax.enterprise.resource.webcontainer.jsf.config] Unsanitized stacktrace from failed start...: com.sun.faces.config.ConfigurationException: Factory 'javax.faces.application.ApplicationFactory' was not configured properly. at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:305) [:2.0.2-FCS] at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:220) [:2.0.2-FCS] at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:335) [:2.0.2-FCS] at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:223) [:2.0.2-FCS] at org.jboss.web.jsf.integration.config.JBossJSFConfigureListener.contextInitialized(JBossJSFConfigureListener.java:72) [:6.0.0.20100429-M3] ...more Caused by: javax.faces.FacesException: org.jboss.weld.integration.webtier.jsf.WeldApplicationFactory at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:593) [:2.0.2-FCS] at javax.faces.FactoryFinder.getImplementationInstance(FactoryFinder.java:472) [:2.0.2-FCS] at javax.faces.FactoryFinder.access$400(FactoryFinder.java:139) [:2.0.2-FCS] at javax.faces.FactoryFinder$FactoryManager.getFactory(FactoryFinder.java:796) [:2.0.2-FCS] at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:306) [:2.0.2-FCS] at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:303) [:2.0.2-FCS] ... 70 more Caused by: java.lang.IllegalArgumentException: argument type mismatch at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [:1.6.0_18] at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [:1.6.0_18] at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [:1.6.0_18] at java.lang.reflect.Constructor.newInstance(Constructor.java:532) [:1.6.0_18] at javax.faces.FactoryFinder.getImplGivenPreviousImpl(FactoryFinder.java:586) [:2.0.2-FCS] ... 75 more 02:30:57,854 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/WyreBase]] Exception sending context initialized event to listener instance of class org.jboss.web.jsf.integration.config.JBossJSFConfigureListener: com.sun.faces.config.ConfigurationException: CONFIGURATION FAILED! argument type mismatch at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:354) [:2.0.2-FCS] at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:223) [:2.0.2-FCS] at org.jboss.web.jsf.integration.config.JBossJSFConfigureListener.contextInitialized(JBossJSFConfigureListener.java:72) [:6.0.0.20100429-M3] at org.apache.catalina.core.StandardContext.contextListenerStart(StandardContext.java:3733) [:6.0.0.20100429-M3] at org.apache.catalina.core.StandardContext.start(StandardContext.java:4197) [:6.0.0.20100429-M3] ...more Caused by: java.lang.IllegalArgumentException: argument type mismatch at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [:1.6.0_18] at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [:1.6.0_18] ... more 02:30:57,858 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/WyreBase]] Exception sending context initialized event to listener instance of class com.sun.faces.config.ConfigureListener: java.lang.ClassCastException: com.sun.faces.config.WebConfiguration cannot be cast to com.sun.faces.config.WebConfiguration at com.sun.faces.config.WebConfiguration.getInstance(WebConfiguration.java:170) [:2.0.2-FCS] at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:161) [:2.0.2-FCS] at org.apache.catalina.core.StandardContext.contextListenerStart(StandardContext.java:3733) [:6.0.0.20100429-M3] at org.apache.catalina.core.StandardContext.start(StandardContext.java:4197) [:6.0.0.20100429-M3] ... more 02:30:57,860 ERROR [org.apache.catalina.core.StandardContext] Error listenerStart 02:30:57,860 ERROR [org.apache.catalina.core.StandardContext] Context [/WyreBase] startup failed due to previous errors 02:30:57,863 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] Unexpected exception when attempting to tear down the Mojarra runtime: java.lang.IllegalStateException: Application was not properly initialized at startup, could not find Factory: javax.faces.application.ApplicationFactory
