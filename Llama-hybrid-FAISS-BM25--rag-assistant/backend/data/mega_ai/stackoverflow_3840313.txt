[site]: stackoverflow
[post_id]: 3840313
[parent_id]: 3819697
[tags]: 
I had to create a similar field (referred_by in this case) for an Enterprise customer, so here's how that went: First, I created a module that would house all this fun. I added my own entity setup entry for customer, so that I wouldn't have to rely on the default customer one or rewrite any models unnecessarily (as time goes on, you start to conflict with yourself on rewrites). Your entity code seems to work, so it's up to you if you want to refactor that. Then I added the field to the customer fieldsets, which seems to help Magento understand what data to save in the database: 1 0 customer_referred_by I then added the field to the customer form, similarly to the way you did above. In checkout, I was forced to add an overriding model to the onepage checkout to save the data during checkout (in my case, only during billing): class Company_Module_Model_Checkout_Type_Onepage extends Mage_Checkout_Model_Type_Onepage { public function saveBilling($data, $customerAddressId) { if (isset($data['referred_by'])) { // set referred for later use. $session = Mage::getSingleton("customer/session"); $session->setData("referred_by", $data['referred_by']); } return parent::saveBilling($data, $customerAddressId); }//end saveBilling } And: Company_Module_Model_Checkout_Type_Onepage After that, the data was saved correctly in the database. Hurrah! Hope that helps! Thanks, Joe
