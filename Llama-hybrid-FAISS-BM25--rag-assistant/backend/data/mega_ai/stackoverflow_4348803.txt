[site]: stackoverflow
[post_id]: 4348803
[parent_id]: 
[tags]: 
one-off grails script for populating database

Update: as of Grails 1.3.6 one has access to the full domain from Gant scripts. From the Grails 1.3.6 release notes : You can now run one or more Groovy scripts from the commandline using the run-script command, e.g. grails run-script [path-to-script-1] [path-to-script-2]...[path-to-script-n] This works around the issue in Gant scripts where you can't conveniently access application classes since they're not available in the classpath when the scripts start. Hi all, I am new to using Grails (in a real project) and I have a one-off script I need to execute that reads a file and then populates my database. I wanted the script to run in the context of my grails app, so I used the create-script command. I now understand that makes it a 'Gant' script. The reason for doing so was that I thought it would allow me easy access to all the grails domain good-ness, so that i would be able to do something like this easily: Car car = new Car(model: 'bar', brand: 'Ford') car.save() Here, Car is one of my domain classes and the strings 'bar' and 'Ford' I have retrieved from my file. The start of my script looks like this: import com.foo.Car grailsHome = Ant.project.properties."environment.GRAILS_HOME" includeTargets Surprisingly, groovy gives me a java.lang.NoClassDefFoundError: com.foo.Car when I execute the script with the command grails LoadCars Am I taking the wrong approach, or is there something more simple I am doing wrong? Any help is appreciated
