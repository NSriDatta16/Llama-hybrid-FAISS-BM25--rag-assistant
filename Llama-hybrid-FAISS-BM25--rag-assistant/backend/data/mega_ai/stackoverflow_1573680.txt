[site]: stackoverflow
[post_id]: 1573680
[parent_id]: 1474289
[tags]: 
Justin's answer had the correct outline, but I needed more details about the implementation. Each test suite starts and ends by explicitly generating an AWR snapshot so it knows the starting and ending snapshot ID and so that you can generate AWR reports for each suite individually. You run AWR reports for each test suite You review the AWR reports looking in particular at the various Top SQL sections I explicitly generate the snapshots by calling dbms_workload_repository.create_snapshot, the result gets saved off for later. select dbms_workload_repository.create_snapshot() as snap_id from dual In order to get the report, I need the database id and the instance number. Those are easily obtained from v$database and v$instance. select d.DBID, i.instance_number as inst_num from v$database d, v$instance i The report is available as text (dbms_workload_repository.awr_report_text) or html (dbms_workload_repository.awr_report_html). The arguments are the same in both cases, including a options flag which will include information from the Automatic Diagnostic Database Monitor (ADDM). It wasn't immediately obvious to me that I could leverage the ADDM results, so I turn that off. The return value is a column of varchar, so the function call gets wrapped select output from table(dbms_workload_repository.awr_report_html(1043611354,1,5539,5544,0)) This result is easily written to a file, which is assembled with the other artifacts of the test. Documentation of these methods is available online
