[site]: stackoverflow
[post_id]: 4223743
[parent_id]: 4223711
[tags]: 
I don't believe so [a more elegant way?]. Fundamentally, you need to have more than enough characters in the buffer to recv many bytes; then once you've read them, if you want the buffer to only contain the received bytes you need to resize downwards. What you've shown is probably similar to how I would approach things. You are correct that reserve is not sufficient. You cannot write to elements that don't exist and have only had storage allocated for them in advance.
