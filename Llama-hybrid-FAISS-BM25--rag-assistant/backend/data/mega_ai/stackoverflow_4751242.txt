[site]: stackoverflow
[post_id]: 4751242
[parent_id]: 
[tags]: 
TreeView recursion without collections

if your data is organized in collections, you can populate a TreeView by using HierarchicalDataTemplates. But i have some data, saved in few well known classes, that needs to be displayed in a TreeView. Here is a code example: using System; using System.Collections.Generic; using System.Linq; using System.Text; using System.Collections.ObjectModel; namespace Test { public class GroupWithList { public string Name { get; set; } public ObservableCollection Items { get; set; } public GroupWithList(string name) { this.Name = name; this.Items = new ObservableCollection (); } } public class GroupWith2Children { public string Name { get; set; } public ObservableCollection Groups { get; set; } public GroupWithList First { get { return this.Groups[0]; } } public GroupWithList Second { get { return this.Groups[1]; } } public GroupWith2Children() { this.Name = "GroupWith2Children"; this.Groups = new ObservableCollection (); GroupWithList g; g = new GroupWithList("Letters"); g.Items.Add("u"); g.Items.Add("a"); g.Items.Add("t"); this.Groups.Add(g); g = new GroupWithList("Numbers"); g.Items.Add("12"); g.Items.Add("153"); this.Groups.Add(g); } } } public partial class MainWindow : Window { public static readonly DependencyProperty ItemsProperty = DependencyProperty.Register("Items", typeof(ObservableCollection ), typeof(MainWindow), new FrameworkPropertyMetadata(new ObservableCollection ())); public ObservableCollection Items { get { return (ObservableCollection )this.GetValue(ItemsProperty); } set { this.SetValue(ItemsProperty, value); } } public MainWindow() { InitializeComponent(); this.Items.Add(new GroupWith2Children()); this.Items.Add(new GroupWith2Children()); } } And here is the xaml-code: The example works fine, but you can't select the items which are generated in the DataTemplate for GroupWith2Children. It seems that the TreeView treats the entire template as one item. You can only select the root node and the entire subtree "GroupWith2Children". To replace GroupWith2Children with a collection is not an option for me. any ideas, what i'm doing wrong?
