[site]: stackoverflow
[post_id]: 3145423
[parent_id]: 3144839
[tags]: 
I think you have to post more code and it's not clear what exactly you wish to achieve: What's your actual "command" function, I don't see any and not a single function from the controller looks like "public void fun()" or "public PageReference fun()" - I especially mean the part about taking no input arguments. Your code does not compile, I've replaced Book__c with Account and Coverage with Contact, but for example the "blacklist" variable in if(!blacklist.contains(n)){ is undefined. I can assume that this is same as "result", but you know... garbage in, garbage out. We might need just the part you've omitted ;) Also - can you replicate the problem using standard Salesforce objects so it's easier to test for us? "selectedBooks" is read in the page but you never set value? Not even to the simplest selectedBooks = new String[]... The uninitialized variable a is solution to similar problem discussed on Salesforce message board. Just a random thought - for bookIDs() function you might be better using Map or Map . The first one can even be instantiated directly from [SELECT Id, Name FROM Book] if you need it. You want set of IDs - use the keySet() method afterwards. You want a list of books - use the values().
