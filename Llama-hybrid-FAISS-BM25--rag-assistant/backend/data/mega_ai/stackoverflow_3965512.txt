[site]: stackoverflow
[post_id]: 3965512
[parent_id]: 3907192
[tags]: 
OK, if MongoDB and CouchDB don't work for you, then you basically have one problem: not enough power . Let's look at the laundry list: It must scale up to O(10^8) tokens. How much RAM do you have? You're talking about hundreds of millions of tokens and you're talking about streaming out a 7zip file. If you want to issue "increments" quickly, you need to be able to keep the entire data structure in memory or the whole thing will go very slowly. The final result needs to be queried very fast! How fast? Microseconds, Millisecond, hundreds of Milliseconds? If you want to query into 500M records on a machine with 8GB of RAM, you're pretty much hooped. The data just won't fit, doesn't matter what DB you're using. Dataset > 2Tb OK, let's assume that your computer can average about 50MB / second of sustained throughput and that your proc can actually decompress data at that pace. At that pace you're talking about 11+ hours of processing time just to stream the data (you wanted this done in a weekend?) 50MB/s of throughput for 11 hours is not small potatoes, that's a real drive. And if you try to write anything to the disk while that's happening (or the OS swaps), then that is going to degrade fast. Look from a DB perspective, MongoDB can handle both the front-end updating and the back-end querying. But it needs to flush to disk every minute or so and that's going to significantly extend your 11-hour run time. That total run-time is just going to get worse and worse unless you can handle the entire DB in memory and the entire stream in memory. My point... is pretty simple, you need more power. If you're not running this operation with 24GB+ of RAM, then everything you do is going to feel slow. If you don't have 24GB+ of RAM, then your final dataset is not going to be "lightning-quick", at best it will be "200 ms-quick". You just can index 500M rows and expect to find an entry unless you can keep an index in RAM. If you're not running this operation with awesome HDDs, then the opration is going to seem slow. I mean, you're talking about hours and hours of high-throughput sustained reads (and probably writes). I know that you want help, I know that you've put a bounty on this question, but it's really hard to fix the following problem: I have been trying CouchDB and MongoDB without too good results. when it sounds like you haven't really gotten together the right gear to solve the problem.
