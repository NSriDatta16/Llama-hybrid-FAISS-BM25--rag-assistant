[site]: stackoverflow
[post_id]: 3287914
[parent_id]: 3287801
[tags]: 
I'm not sure whether it's guaranteed, but in practice storage.reserve(needed_size) should make sure no reallocations occur. But why don't you store indexes? It's easy to convert indexes to iterators by adding them to the begin iterator ( storage.begin()+idx ) and it's easy to turn any iterator into a pointer by first dereferencing it, and then taking its address ( &*(storage.begin()+idx) ).
