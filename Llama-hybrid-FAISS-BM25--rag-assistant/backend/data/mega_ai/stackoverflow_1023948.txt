[site]: stackoverflow
[post_id]: 1023948
[parent_id]: 
[tags]: 
Rotate normal vector onto axis plane

I have a set of data points in 3D space which apparently all fall onto a specific plane. I use PCA to compute the plane parameters. The 3rd component of PCA gives me the normal vector of the plane (weakest component). What I want to do next is to transform all the points onto said plane and look at it in 2D. My idea was to do the following: Find a center point (average point) on the plane Substract it from all data points to arrange them around the origin Rotate the normal so that it becomes (0,0,-1) Apply this rotation to all data points Use orthogonal projection (basically, skip z axis) Now I'm stuck at finding the right rotation operation. I tried working with acos or atan and setting up two rotation matrices. Seems both methods (using acos, using atan) give me the wrong result. Perhaps you can help me out here! Matlab code follows: b = atan(n(1) / n(2)); rotb = [cos(b) -sin(b) 0; sin(b) cos(b) 0; 0 0 1]; n2 = n * rotb; a = atan(n(1) / n(3)); rota = [cos(a) 0 sin(a); 0 1 0; -sin(a) 0 cos(a)]; n3 = n2 * rotaows: I expect n2 to have y component of zero. However that fails already for the vector (-0.6367, 0.7697, 0.0467).
