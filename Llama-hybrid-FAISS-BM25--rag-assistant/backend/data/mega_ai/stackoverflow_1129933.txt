[site]: stackoverflow
[post_id]: 1129933
[parent_id]: 
[tags]: 
Error while inserting the date data

i am inserting patient details to the database. but when i am submiting the details getting this error "Implicit conversion from data type datetime to int is not allowed. Use the CONVERT function to run this query." Here is all my coding: PatientProperty.cs public class PatientProperty { private string Pdisease; private string Pname; private string Pcategory; private string Paddr; private DateTime Dateofjoining; private int Page; public PatientProperty(string PDisease, string PName, string PCategory, string PAddr, DateTime DateOfJoining, int PAge) { this.Pdisease = PDisease; this.Pname = PName; this.Pcategory = PCategory; this.Paddr = PAddr; this.Dateofjoining = DateOfJoining; this.Page = PAge; } public string PDISEASE { get { return Pdisease; } set { Pdisease=value; } } public string PNAME { get { return Pname; } set { Pname = value; } } public string PCATEGORY { get { return Pcategory; } set { Pcategory = value; } } public string PADDRESS { get { return Paddr; } set { Paddr = value; } } public DateTime DATEOFJOINING { get { return Dateofjoining; } set { Dateofjoining = value; } } public int PAGE { get { return Page; } set { Page = value; } } } PatientRegistration.cs public class PatientRegistration { string str = ConfigurationManager.ConnectionStrings["HealthCare"].ConnectionString.ToString(); public void InsertPatient(PatientProperty obj) { using (var con = new SqlConnection(str)) { using (var com = new SqlCommand("PatientRegister", con)) { com.CommandType = CommandType.StoredProcedure; com.Parameters.AddWithValue("Pdisease", obj.PDISEASE); com.Parameters.AddWithValue("Pname", obj.PNAME); com.Parameters.AddWithValue("Pcategory", obj.PCATEGORY); com.Parameters.AddWithValue("Paddr", obj.PADDRESS); com.Parameters.AddWithValue("Dateofjoining", obj.DATEOFJOINING); com.Parameters.AddWithValue("Page", obj.PAGE); con.Open(); com.ExecuteNonQuery(); con.Close(); } } } } PatientRegistrationBussiness.cs public class PatientRegistrationBussiness { public void AddPatient(PatientProperty obj) { PatientRegistration PR = new PatientRegistration(); PR.InsertPatient(obj); } } protected void Button1_Click(object sender, System.EventArgs e) { //int id = Convert.ToInt32(TextBox1.Text); string name = TextBox2.Text; string address = TextBox3.Text; string category = RadioButtonList1.Text; int age =Convert.ToInt32(TextBox4.Text); string disease = TextBox5.Text; DateTime date =Convert.ToDateTime(TextBox6.Text); try { PatientRegistrationBussiness obj = new PatientRegistrationBussiness(); PatientProperty PP = new PatientProperty(disease, name, category, address, date, age); obj.AddPatient(PP); Response.Write("Patient details have been successfully added"); TextBox2.Text = string.Empty; TextBox3.Text = string.Empty; TextBox4.Text = string.Empty; TextBox5.Text = string.Empty; TextBox6.Text = string.Empty; RadioButtonList1.SelectedIndex = 0; } catch (Exception ex) { ex.Message.ToString(); } finally { obj = null; } } In database date field taken as DateTime. Pls somebody modify it. Thanks, Sumit
