[site]: stackoverflow
[post_id]: 3434086
[parent_id]: 
[tags]: 
Code coverage fails with PHPUnit and the Zend Framework

I have some issues with code coverage reports in PHPunit and the zend framework. Whenever I run a phpunit test the code coverage fails returning the following message: PHPUnit 3.4.15 by Sebastian Bergmann. I.......III.I................................IIIIIIIIIIIIIII 60 / 93 IIII....I....I..II..II.....IIIIII Time: 4 seconds, Memory: 22.25Mb OK, but incomplete or skipped tests! Tests: 93, Assertions: 174, Incomplete: 36. Generating code coverage report, this may take a moment.PHP Fatal error: Cannot redeclare class Klunde_Auth in /Users/kristianlunde/workspaces/private/klunde/Library/Klunde/Auth.php on line 9 Fatal error: Cannot redeclare class Klunde_Auth in /Users/kristianlunde/workspaces/private/klunde/Library/Klunde/Auth.php on line 9 My phpunit.xml file looks like this: ./application/ ./Library/Klunde ../application ../Library/Klunde ../application/ ../application/Bootstrap.php ../application/controllers/ErrorController.php I did a var_dump(get_included_files()); at the top of the Auth file and it did try to include the file more than once before it failed. I have also tried to remove the Klunde_Auth.php file just to see if it was a one file issue, but then the error is triggered on the next file in the Library/Klunde directory. I am running OSX Snow Leopard, with PHP 5.3.1, XDebug 2.1.0beta3 and PHPUnit 3.4.15 All help and assistance will be highly appreciated. Thanks.
