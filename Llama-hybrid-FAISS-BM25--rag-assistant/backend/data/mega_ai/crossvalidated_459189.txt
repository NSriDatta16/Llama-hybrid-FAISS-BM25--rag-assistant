[site]: crossvalidated
[post_id]: 459189
[parent_id]: 
[tags]: 
Partitioning data into train and test sets in generalized linear mixed models

please excuse my probable lack of knowledge in machine learning - I am a vet trying hard to find my way around in this somewhat new world. The data I am analyzing was collected on 5 different farms, with about 400 animals in total across all farms. The aim is to predict the animals' claw health status (lame/not lame) on a given day based on behavioural and performance parameters. I have a dataset (mydat) containing ~73000 observations and 40 variables, where each observation is a given day for a given animal on a given farm. I am now working in RStudio on a generalized linear mixed model which includes the animal number as a nested random effect of the farm (X1, X2 and X3 being different parameters, F is the farm and ID the animal's ID): mod Now my actual question regards the partitioning of the data. So far I had been splitting the data into 2/3 training and 1/3 test data using a custom function to randomly distribute the observations bewteen test and training sets based on the grouping factors "farm" and "animal ID". If there were an observation for Farm1, Animal100 on day 02.01.2017 in the training set, and then an observation Farm1, Animal100 and day 03.01.2017 in the test set, would this be considered data leakage? Should I split my data so that the test set contains only observations for animals that were not included in the training dataset? I have tried doing the latter and as I expected the AUC for the model on test data was lower than in the first case (random farm/animal split for training/test). Is there some sort of best practice regarding model validation for grouped data? I have been reading up on the topic but seem to find many different opinions on the matter. Also - should I be including the date as a random effect and grouping accordingly?
