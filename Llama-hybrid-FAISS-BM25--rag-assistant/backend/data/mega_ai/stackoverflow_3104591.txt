[site]: stackoverflow
[post_id]: 3104591
[parent_id]: 3104543
[tags]: 
You'll need to add your own check. According to §20.4.​1.1/8, deallocate requires: p shall be a pointer value obtained from allocate(). n shall equal the value passed as the first argument to the invocation of allocate which returned p. allocate throws an exception when storage can't be given (§20.4.​1.1/7). In other words, allocate never returns 0, and therefore deallocate should never get a 0. Passing a 0 would lead to undefined behavior.
