[site]: stackoverflow
[post_id]: 4056058
[parent_id]: 4053756
[tags]: 
I've managed to solve it myself. The problem was with the following lines of my jquery: $('html, body').stop().animate({ scrollTop: $($anchor.attr('href')).offset().top Whilst that did allow smooth scrolling to take place on the page, it navigated to the anchor without updating the url with the fragment identifier. If anybody is interested in how to accomplish the same thing then the below code should help. I modified it for my own needs but credit has to go to Arial Flesler (http://www.learningjquery.com/2007/10/improved-animated-scrolling-script-for-same-page-links) function filterPath(a) { return a.replace(/^\//, '').replace(/(index|default).[a-zA-Z]{3,4}$/, '').replace(/\/$/, '') } var e = filterPath(location.pathname); var f = scrollableElement('html', 'body'); $('a[href*=#]').each(function () { var b = filterPath(this.pathname) || e; if (e == b && (location.hostname == this.hostname || !this.hostname) && this.hash.replace(/#/, '')) { /*var anchor1 = window.location.hash; */ var c = $(this.hash), target = this.hash; if (target) { var d = c.offset().top; $(this).click(function (a) { a.preventDefault(); $(f).animate({ scrollTop: d }, 1000,'easeInOutExpo', function () { location.hash = target $("div#headerNav ul li a").removeClass('on'); $n = target.substring(target.length-1,target.length); $("div#headerNav ul li:nth-child(" + $n + ") a").addClass('on'); }) }) } } });
