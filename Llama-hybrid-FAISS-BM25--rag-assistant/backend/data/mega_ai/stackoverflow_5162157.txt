[site]: stackoverflow
[post_id]: 5162157
[parent_id]: 
[tags]: 
Different results when invoking a python script from the command line or in the web server

I am writing a python script to run on a apache web server. My first goal is to list the network interfaces that are available and, after, for each one, build a form to input some parameters of interest. My problem is that when I run the following script from the command line I get the expected result (a formatted html web page with form(s)) while if I assess it from the web, i.e. putting the script in my web server and remotely access it through http://myipaddr/cgi-bin/myscript.py , I get only the submission button and not the form(s). #!/usr/bin/python # import required modules import re import cgi from subprocess import * var=Popen("ifconfig", stdout=PIPE, shell=True).stdout.read() result = re.findall("wlan[1-9]", var) def DisplayForm(): HTMLFormL1= '\n\nInterface: \n' HTMLFormL2= 'Number of packets to send: \n' HTMLFormL3= 'Transmission channel: \n' HTMLFormL4= 'Sleep time in usec: \n' HTMLForm = HTMLFormL1 + HTMLFormL2 + HTMLFormL3 + HTMLFormL4 HTMLStart = ' \n \n' for num in range(len(result)): HTMLForm_idx = HTMLForm % (num, num, num, num) HTMLStart = "%s%s" % (HTMLStart, HTMLForm_idx) HTMLBody = HTMLStart + '\n \n \n' print "Content-Type: text/html\n\n" HTMLHeader =' \n \n \n \n CAOS \n \n ' HTMLFooter =' \n ' print HTMLHeader print HTMLBody print HTMLFooter #--- Begin of "main" form = cgi.FieldStorage() try: key = form["key"].value except: key = None if key != "process": DisplayForm() I have looked for a similar problem, but I could not find anything similar on the web. Most likely I'm doing something stupid, but I cannot figure it out myself. I would very happy if someone could point me the right direction. Cheers, bman
