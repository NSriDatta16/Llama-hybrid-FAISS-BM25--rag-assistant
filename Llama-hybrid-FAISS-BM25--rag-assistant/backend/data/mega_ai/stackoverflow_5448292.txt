[site]: stackoverflow
[post_id]: 5448292
[parent_id]: 5448176
[tags]: 
Rather than doing this using regex, you could use parse_url() to do this. For example: $url = parse_url("http://www.example.com/ab/abc.html?a=b#xyz"); if(!isset($url['path'])) $url['path'] = '/'; $surl = $url['scheme']."://".$url['host'].$url['path'].'?'.$url['query'].'#'.$url['fragment']; echo $surl;
