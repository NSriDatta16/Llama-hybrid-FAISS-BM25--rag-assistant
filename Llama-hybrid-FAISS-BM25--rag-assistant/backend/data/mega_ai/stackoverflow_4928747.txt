[site]: stackoverflow
[post_id]: 4928747
[parent_id]: 
[tags]: 
Eclipse Plugin: JS Editor with non-file IEditorInput

I'm using Helios. We're writing a plugin that contains a FormEditor . In one of the tabs of this editor is a nested JS editor. Within that JS editor, we'd like our object model to show up in auto-complete. I've figured out how to add the JS Nature and our library to the JS build path of the current project automatically when one of our files is opened (this behavior can be disabled). We have the JSDoc stubs, a, IJsGlobalScopeContainerInitializer , a SystemLibraryLocation , and so forth. public class LibInitializer extends JsGlobalScopeContainerInitializer implements IJsGlobalScopeContainerInitializer { //... public int getKind() { return IJsGlobalScopeContainer.K_SYSTEM; } public boolean canUpdateJsGlobalScopeContainer(IPath containerPath, IJavaScriptProject project) { return true; } static class LibLocation extends SystemLibraryLocation { //... LibLocation() { super(); } public char[][] getLibraryFileNames() { // what's plural of "chars"? return LibInitializer.LIBRARY_FILE_CHARSES; } public IPath getWorkingLibPath() { // stash our libraries in our state location for Easy Access. return WebFormsUIPlugin.getDefault().getStateLocation().append( "jsLib" ); //$NON-NLS-1$ } The code gets called when our JS editor is initialized. All the paths returned appear valid. But I cannot for the life of me figure out why our objects don't appear in auto-complete or JSDoc or anything. The JS Editor's debug options aren't terribly helpful. There's no exception in the logs or console output (that I can find). How can I determine if my library files are being parsed correctly? Is there a way to dump all the available JS classes? EDIT Further details: The JS Editor is acting on a ByteArrayStorageEditorInput (that we wrote), rather than the usual FileEditorInput. In this project (JS nature and JS include path are project level settings), if I create a JS file, all the code completion info is present from any and all libraries in the include path, including ours. But within our editor, I see NO code completion info. Not from our library. Not from any other standard libraries. Not even "ECMAScript builtin library". So it looks like the only way to get this working is to use a file. This would also get problem markers working within our editor: no file means no listing in the problems tab. So this looks like an IEditorInput issue, rather than a JS library issue.
