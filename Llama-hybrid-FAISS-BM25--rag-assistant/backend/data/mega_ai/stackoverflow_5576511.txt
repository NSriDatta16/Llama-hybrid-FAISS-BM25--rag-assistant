[site]: stackoverflow
[post_id]: 5576511
[parent_id]: 
[tags]: 
Django StaticFiles APP and Wsgi

It's not so easy questions as others.. at least. it's not a problem to setup simple one-dir-based static files location.. https://bitbucket.org/sirex/django-starter/src There's such an interesting project in here.. this one is using distribute and buildout for making whole project and django with modules in one dir. you can migrate from dev to production mode easy and etc.. all you need is just to rename dir, and type "make" in it, and that's it =) there's manual in there... Situation which works with python server, and don't work with apache mod_wsgi: Default static files location is: "var/htdocs/static". This can be overridden with one static dir location for example apps/myapp/myapp/static/. This works with python webserver but doesn't work with wsgi/apache. wsgi can't see anything apart default directory.. example: http://localhost:8000/static/css/main.css works but with apache same url doesn't work. and this file lies in myproject/apps/myapp/myapp/static/css/main.css although default static dir is var/htdocs/static =) As far as I understand this overriding made with StaticFiles application in settings.py STATIC_URL = '/static/' STATIC_ROOT = os.path.join(BUILDOUT_DIR, 'var', 'htdocs', 'static') STATICFILES_DIRS = ( os.path.join(BUILDOUT_DIR, 'project', 'static'), # maybe this one is incorrect, I don't know but with py-server this works. apache vhost works with default location.. and setuped to "var/htdocs/static". Maybe problem is in wsgi script? #!/usr/local/bin/python2.6 import os,sys sys.path[0:0] = [ '/usr/local/lib/python2.6/site-packages/', '/www/webapp/visimes/eggs/PIL-1.1.7-py2.6-freebsd-8.1-RELEASE-amd64.egg', '/www/webapp/visimes/eggs/South-0.7.3-py2.6.egg', '/www/webapp/visimes/eggs/django_annoying-0.7.6-py2.6.egg', '/www/webapp/visimes/eggs/coverage-3.4-py2.6-freebsd-8.1-RELEASE-amd64.egg', '/www/webapp/visimes/eggs/django_debug_toolbar-0.8.4-py2.6.egg', '/www/webapp/visimes/eggs/django_extensions-0.6-py2.6.egg', '/www/webapp/visimes/eggs/django_test_utils-0.3-py2.6.egg', '/www/webapp/visimes/eggs/ipdb-0.3-py2.6.egg', '/www/webapp/visimes/eggs/ipython-0.10.1-py2.6.egg', '/www/webapp/visimes/eggs/djangorecipe-0.21-py2.6.egg', '/www/webapp/visimes/eggs/zc.recipe.egg-1.3.2-py2.6.egg', '/www/webapp/visimes/eggs/zc.buildout-1.5.2-py2.6.egg', '/www/webapp/visimes/eggs/BeautifulSoup-3.2.0-py2.6.egg', '/www/webapp/visimes/eggs/setuptools-0.6c12dev_r88795-py2.6.egg', '/www/webapp/visimes/parts/django', '/www/webapp/visimes', '/www/webapp/visimes/project', # I added last 4 lines by my self. because I couldn't start apache.. I'm guessing that djangorecipe.wsgi should handle everything else with staticFile override.. anyway please, check out that package, if you on linux or mac, and try it by your self. it must work ps. (btw bin/django need to dublicated as bin/django.wsgi and etc/apache.conf is generated vhost for apache) I'd really apriciated if somebody would try to launch this "Starter" manually with wsgi... then you'd understand everything.=) Edit: Any information about how can WSGI understand where he needs to search static files apart default location from django settings, is REALLY appreciated =)
