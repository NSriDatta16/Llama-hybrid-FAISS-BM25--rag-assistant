[site]: stackoverflow
[post_id]: 2031451
[parent_id]: 
[tags]: 
TV guide written in PHP - problems with datetime() and database functions

I'm creating a TV Guide which lists programmes coming up (and on some listings, previous airings from the past), with all data stored in a database. It runs in PHP, my version being 5.28 (upgrading to 5.30 or 6 soon). Below is a script which works (note the field airdate is stored as DATETIME in the database): [Disclaimer: The script isn't mine, but a generic one I downloaded, and modified to suit my own needs.] $programme showing on $channel "; echo " $airdateFormatted $episode $setreminder "; } ?> That displays all the episodes coming up, and if there's any coming up the next year, it displays them with the year, like this: TV Programme showing next on Channel1 December 30th, 2009 - 6:00pm "Episode 1 - Photosynthesis" Set Reminder TV Programme showing next on Channel1 January 6th - 2:45pm "Episode 2 - Behind the Music" Set Reminder TV Programme showing next on Channel1 January 7th - 8:00pm "Ultimate Car Crimes" Set Reminder However, what I would like it to do is remove certain records after a period of time has expired (but that would have to be set somewhere in the script, since programme lengths vary) rather than me manually deleting them from the database. Some programmes are 30 minutes long, others 60 minutes... lengths vary, basically. What I would like it to do is this (notice that the first listing does not show the date as it is the current date.): TV Programme showing next on Channel1 6:00pm "CCTV Cities - Wigan" Set Reminder TV Programme showing next on Channel1 January 9th - 2:45pm "Roman Empire - A History of its People" Set Reminder TV Programme showing next on Channel1 January 10th - 8:00pm "Celebrity 100 Worst Moments" Set Reminder but I don't know how to configure it to do this with PHP or the date() function. It works fine with the dates, and showing them. I don't have access to cron jobs since this is on a localhost Apache installation on Windows Vista Home Edition. If anyone could help me figure this out it would be much appreciated - all help is much appreciated. I haven't put this as a live site, since it's "in development hell" right now, and I want to get things right as much as possible.
