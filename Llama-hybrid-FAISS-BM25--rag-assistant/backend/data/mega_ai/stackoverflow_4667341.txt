[site]: stackoverflow
[post_id]: 4667341
[parent_id]: 4661903
[tags]: 
Your error is probably here: Mat data; data.create(2,1, img2_roi.type()); data.row(0) = img_roi; data.row(1) = img2_roi; PCA expects a matrix with the data vectors as rows. However, you never scale the images to the same size so that they have the same number of pixels (so the dimension is the same), also data.create(2,1,...) - the 1 needs to be the dimension of your vector, i.e. the number of your pixels. Then copy the pixels from the crop to your matrix.
