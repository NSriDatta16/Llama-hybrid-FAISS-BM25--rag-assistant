[site]: crossvalidated
[post_id]: 435341
[parent_id]: 435242
[tags]: 
$E(Var(Y\mid X))=E\left((Y-E(Y\mid X))^2\right)$ so you want to find a function $f(x)$ that converges to $E(Y\mid X=x)$ for every $x$ as your sample size goes to infinity. Loosely speaking, with such an $f$ , $E\left((E(Y\mid X)-f(X))^2\right)$ would vanish, and the sample analog of $E\left((Y-f(X))^2\right)$ would get you an asymptotically unbiased estimate of the irreducible error. If the true conditional mean is linear in $X$ , a linear regression will do to get a suitable $f$ . If it is not linear, a nonparametric method such as a random forest could work.
