[site]: stackoverflow
[post_id]: 2258133
[parent_id]: 
[tags]: 
json_encode on class with magic properties

I am trying to json_encode an array of objects who all have magic properties using __get and __set . json_encode completely ignores these, resulting in an array of empty objects (all the normal properties are private or protected ). So, imagine this class: class Foo { public function __get($sProperty) { if ($sProperty == 'foo') { return 'bar!'; } return null; } } $object = new Foo(); echo $object->foo; // echoes "foo" echo $object->bar; // warning echo json_encode($object); // "{}" I've tried implementing IteratorAggregate and Serializable for the class, but json_encode still doesn't see my magic properties. Since I am trying to encode an array of these objects, an AsJSON() -method on the class won't work either. Update! It seems the question is easy to misunderstand. How can I tell json_encode which "magic properties" exist? IteratorAggregate didn't work. BTW: The term from the PHP documentation is "dynamic entities". Whether or not the magic properties actually exist is arguing about semantics.
