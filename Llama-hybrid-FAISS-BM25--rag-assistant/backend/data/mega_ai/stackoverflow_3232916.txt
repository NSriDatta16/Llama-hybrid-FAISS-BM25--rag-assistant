[site]: stackoverflow
[post_id]: 3232916
[parent_id]: 3232861
[tags]: 
As you've mentioned, SQLite doesn't support CTEs, window functions, or any of the like. You can, however, write your own user functions that you can call inside SQLite by registering them to the database with the SQLite API using sqlite_create_function() . You register them with the database, and then you can use them in your own application code. You can make an aggregate function that would perform the sum of a series of averages based on the individual column values. For each value, a step-type callback function is called that allows you to perform some calculation on the data, and a pointer for holding state data is also available. In your SQL, then, you could register a custom function called sum_of_series_of_averages and have: SELECT sum_of_series_of_averages(columnA,columnB) FROM table WHERE ... For some good examples on how those work, you should check out the SQLite source code, and also check out this tutorial (search for Defining SQLite User Functions ).
