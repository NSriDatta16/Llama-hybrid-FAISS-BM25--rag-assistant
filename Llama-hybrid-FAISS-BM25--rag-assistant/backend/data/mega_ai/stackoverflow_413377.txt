[site]: stackoverflow
[post_id]: 413377
[parent_id]: 
[tags]: 
Sparse data: efficient storage and retrieval in an RDBMS

I have a table representing values of source file metrics across project revisions, like the following: Revision FileA FileB FileC FileD FileE ... 1 45 3 12 123 124 2 45 3 12 123 124 3 45 3 12 123 124 4 48 3 12 123 124 5 48 3 12 123 124 6 48 3 12 123 124 7 48 15 12 123 124 (The relational view of the above data is different. Each row contains the following columns: Revision, FileId, Value. The files and their revisions from which the data is calculated are stored in Subversion repositories, so we're trying to represent the repository's structure in a relational schema.) There can be up to 23750 files in 10000 revisions (this is the case for the ImageMagick drawing program). As you can see, most values are the same between successive revisions, so the table's useful data is quite sparse. I am looking for a way to store the data that avoids replication and uses space efficiently (currently the non-sparse representation requires 260 GB (data+index) for less than 10% of the data I want to store) allows me to retrieve efficiently the values for a specific revision using an SQL query (without explicitly looping through revisions or files) allows me to retrieve efficiently the revision for a specific metric value. Ideally, the solution should not depend on a particular RDBMS and should be compatible with Hibernate . If this is not possible, I can live with using Hibernate, MySQL or PostgreSQL-specific features.
