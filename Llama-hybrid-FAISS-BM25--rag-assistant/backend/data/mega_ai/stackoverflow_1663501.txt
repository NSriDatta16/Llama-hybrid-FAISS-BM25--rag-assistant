[site]: stackoverflow
[post_id]: 1663501
[parent_id]: 1663370
[tags]: 
I don't see what's especially wrong with your original solution, except that I don't know why you're using the eval() function. That doesn't seem necessary to me. You can also use an apply function, such as lapply. Here's a working example. I created dummy data as a zoo() time series (this isn't necessary, but since you're working with time series data anyway): # x
