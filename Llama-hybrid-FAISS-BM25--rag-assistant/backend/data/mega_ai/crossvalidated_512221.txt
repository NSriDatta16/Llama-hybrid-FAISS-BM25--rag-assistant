[site]: crossvalidated
[post_id]: 512221
[parent_id]: 
[tags]: 
Creating transition states for a second order Markov Chain for Attribution

I'm pretty new to Markov Chains, and I'm exploring them for attribution. I'd like to play around with higher orders but I'm a little confused on how to do this. Most resources I can find show a second order transition matrix like: A B AA - - AB - - BA - - BB - - However I am struggling to understand this. If the path could be for example "B" -> "A" -> "B" -> "B" -> Convert would I not want the transition to the next pair? So in the example, the user has gone from B to A, so they would be at "BA". Would the possible next states (/columns) not be AA (if moved to A), AB (if moved to B) and Convert (if they convert)? Assuming the same probability for each transition from the state, a transition matrix like below makes sense to me: start A B AA AB BA BB Convert start 0. 0.5 0.5 0. 0. 0. 0. 0. A 0. 0. 0. 0.2 0.2 0.2 0.2 0.2 B 0. 0. 0. 0.2 0.2 0.2 0.2 0.2 AA 0. 0. 0. 0.2 0.2 0.2 0.2 0.2 BB 0. 0. 0. 0.2 0.2 0.2 0.2 0.2 BA 0. 0. 0. 0.2 0.2 0.2 0.2 0.2 BB 0. 0. 0. 0.2 0.2 0.2 0.2 0.2 Convert 0. 0. 0. 0. 0. 0. 0. 1. Would that be correct (though probably able to simplified)? Also, do I have to consider the final state of a pair to be the first state of the next pair, or should they not overlap? e.g. for path A -> B -> C -> B -> C -> Convert , should that be: AB -> CB -> CConvert (-> stays in Convert) or, A -> AB -> BC -> CB -> BC -> Convert
