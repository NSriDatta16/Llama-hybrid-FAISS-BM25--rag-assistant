[site]: stackoverflow
[post_id]: 1907548
[parent_id]: 
[tags]: 
Mapping special null constant values into DBNull in a DataTable

I'm working with an existing object framework that uses special values to represent NULL for primitives int, DateTime, long. Data containing these values are added to a DataTable and displayed in third-party controls such as XtraGrid. All is fine, except when aggregates are applied to the data. In this case, obviously the special values are processed instead of the NULL entries. So I think the best solution is to map the values to/from DBNull when putting into the DataRow. I thought about subclassing the DataTable and DataRow, but the base classes don't allow overriding of the accessors. I could add extra Get/Set functions to the subclasses but this relies on remembering to use them. I could add static helper functions instead of subclassing, but this has the same problem. Is there a more elegant solution? Update It's the grid itself that is doing the aggregation, as it has flexible controls to let the user define summaries at run-time. So I think the only real solution is to map to/from DBNull somehow, just looking for an elegant way of doing this.
