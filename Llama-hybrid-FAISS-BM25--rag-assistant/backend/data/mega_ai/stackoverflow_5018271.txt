[site]: stackoverflow
[post_id]: 5018271
[parent_id]: 
[tags]: 
SQL with condition on calculated value

I have a table with products, their amount and their price. I need to select all entries where the average price per article is between a range. My query so far: SELECT productid,AVG(SUM(price)/SUM(amount)) AS avg FROM stock WHERE avg>=$from AND avg If do this, it tells me avg doesn't exist. Also I obviously need to group by because the sum and average need to be per wine
