[site]: stackoverflow
[post_id]: 3425121
[parent_id]: 767175
[tags]: 
the following function will copy a Document and preserve a basic , which is not true of the use of Transformer . public static Document copyDocument(Document input) { DocumentType oldDocType = input.getDoctype(); DocumentType newDocType = null; Document newDoc; String oldNamespaceUri = input.getDocumentElement().getNamespaceURI(); if (oldDocType != null) { // cloning doctypes is 'implementation dependent' String oldDocTypeName = oldDocType.getName(); newDocType = input.getImplementation().createDocumentType(oldDocTypeName, oldDocType.getPublicId(), oldDocType.getSystemId()); newDoc = input.getImplementation().createDocument(oldNamespaceUri, oldDocTypeName, newDocType); } else { newDoc = input.getImplementation().createDocument(oldNamespaceUri, input.getDocumentElement().getNodeName(), null); } Element newDocElement = (Element)newDoc.importNode(input.getDocumentElement(), true); newDoc.replaceChild(newDocElement, newDoc.getDocumentElement()); return newDoc; }
