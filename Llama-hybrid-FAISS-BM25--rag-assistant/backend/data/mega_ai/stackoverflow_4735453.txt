[site]: stackoverflow
[post_id]: 4735453
[parent_id]: 
[tags]: 
XPath / XQuery: find text in a node, but ignoring content of specific descendant elements

I am trying to find a way to search for a string within nodes, but excluding ythe content of some subelements of those nodes. Plain and simple, I want to search for a string in paragraphs of a text, excluding the footnotes which are children elements of the paragraphs. For example, My document being: My text starts here/ Then it goes on there It's not a very long text! When I'm searching for "text", I would like the Xpath / XQuery to retrieve the first p element, but not the second one (where "text" is contained only in the footnote subelement). I have tried the contains() function, but it retrieves both p elements. Any help would be much appreciated :)
