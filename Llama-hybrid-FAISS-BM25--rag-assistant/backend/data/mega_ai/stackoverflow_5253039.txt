[site]: stackoverflow
[post_id]: 5253039
[parent_id]: 
[tags]: 
Mysql not leveraging primary key in "select * from table where (col,col) in"

I'm trying to run this query: select * from matrix where (id1, id2) in ((1,2), (3,5)); But its extremely slow. (id1,id2) is a primary key so this should be a fast look up. Is query planner failing? Explain says: | 1 | SIMPLE | s1_movie | ALL | NULL | NULL | NULL | NULL | 48768876 | Using where | where 48768876 is the number of rows its scanning. If I only search for 1 item in the 'in' though, I get rows=1 in the explain, which is correct because it should just be a lookup. Here's the table: CREATE TABLE s1_movie ( id1 INT NOT NULL, id2 INT NOT NULL, freq INT NOT NULL, diff FLOAT NOT NULL, PRIMARY KEY (id1, id2) ) ENGINE=INNODB; How would I go about making this fast? It seems like query planner is failing. Thanks, Jon
