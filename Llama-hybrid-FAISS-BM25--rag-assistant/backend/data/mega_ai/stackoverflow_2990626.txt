[site]: stackoverflow
[post_id]: 2990626
[parent_id]: 2990426
[tags]: 
'email', 'utm_medium'=>'email' 'utm_campaign'=>'product_notify'); $doc = new DOMDocument(); $doc->loadHTML('your html'); foreach($doc->getElementsByTagName('a') as $link){ $url = parse_url($link->getAttribute('href')); $gets = isset($url['query']) ? array_merge(parse_str($url['query'])) : $add; $newstring = ''; if(isset($url['scheme'])) $newstring .= $url['scheme'].'://'; if(isset($url['host'])) $newstring .= $url['host']; if(isset($url['port'])) $newstring .= ':'.$url['port']; if(isset($url['path'])) $newstring .= $url['path']; $newstring .= '?'.http_build_query($gets); if(isset($url['fragment'])) $newstring .= '#'.$url['fragment']; $link->setAttribute('href',$newstring); } $html - $doc->saveHTML(); ?>
