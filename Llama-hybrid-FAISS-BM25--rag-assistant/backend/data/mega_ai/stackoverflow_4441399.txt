[site]: stackoverflow
[post_id]: 4441399
[parent_id]: 
[tags]: 
Perl UTF-8 problems with Locale::Maketext

The short story: I've encountered a strange problem with Locale::Maketext. Something turns german umlauts into ISO-8859-1 encoding when using the "use utf8" pragma in my lexicon. The long story: In my web application everything is kept in UTF-8: the database the source code files the html doctype and everything else as far a I can tell I use Locale::Maketext for L10N and all mit Lexicons are defined in Perl Modules which are kept in UTF-8 and "use utf8". All languages tested so far (e.g. pt, pl, fr, en, zh, ko, et. al.) work fine except the locale de. As long a " use utf8 " is enabled within this language's Lexicon something turns the german umlauts (probably everything thats no 7-bit ASCII) into ISO-8859-1. I have the script that verifies that everything in my source tree is encoded in UTF-8 (inclduing 7-bit ASCII of course). Let me repeat: If I remove the "use utf8" pragma for the Module MyApp::L10N::de the resulting encoding after using maketext in my app is UTF-8 which is fine. As long as the module uses utf8 the encoding is turned into ISO-8859-1 while all other languages work. I'm desperate to find out why, since this doesn't quite match what I've read about the utf8 pragma. My Question is simple: Why does this happen? How can I fix this behaviour, i.e. how do I make my app work with use utf8 in all source files?
