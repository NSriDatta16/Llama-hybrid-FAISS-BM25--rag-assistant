[site]: crossvalidated
[post_id]: 434421
[parent_id]: 
[tags]: 
Is it valid to have different features in the same time series

In this website the authors points out the need to 12. Standardize the features . However, in my case, I want to lay out different features(ie. 1) time series for the plant height; 2) times series for rainfall; 3) times series for solar exposure) in one row in a RNN model, to predict if the plant height exceeds a minimum level('healthy') or not('unhealthy'). Since the features are different, it's hard to normalise all of them to have mean 0 and std 1. My question: is it valid to have different features(of time series format) in the same row? What are the cons and pros of doing this? One of the training produced this output: Step 1, Minibatch Loss= 1.1080, Training Accuracy= 0.539 -Testing Accuracy: 0.4765625 Step 100, Minibatch Loss= nan, Training Accuracy= 0.383 -Testing Accuracy: 0.46875 Step 200, Minibatch Loss= nan, Training Accuracy= 0.477 -Testing Accuracy: 0.46875 Step 300, Minibatch Loss= nan, Training Accuracy= 0.352 -Testing Accuracy: 0.46875 Step 400, Minibatch Loss= nan, Training Accuracy= 0.461 -Testing Accuracy: 0.46875 Step 500, Minibatch Loss= nan, Training Accuracy= 0.430 -Testing Accuracy: 0.46875 Step 600, Minibatch Loss= nan, Training Accuracy= 0.445 -Testing Accuracy: 0.46875 Step 700, Minibatch Loss= nan, Training Accuracy= 0.484 -Testing Accuracy: 0.46875 Step 800, Minibatch Loss= nan, Training Accuracy= 0.375 -Testing Accuracy: 0.46875 Step 900, Minibatch Loss= nan, Training Accuracy= 0.469 -Testing Accuracy: 0.46875 Step 1000, Minibatch Loss= nan, Training Accuracy= 0.453 -Testing Accuracy: 0.46875 Step 1100, Minibatch Loss= nan, Training Accuracy= 0.359 -Testing Accuracy: 0.46875 Step 1200, Minibatch Loss= nan, Training Accuracy= 0.555 -Testing Accuracy: 0.46875 Step 1300, Minibatch Loss= nan, Training Accuracy= 0.336 -Testing Accuracy: 0.46875 Step 1400, Minibatch Loss= nan, Training Accuracy= 0.492 -Testing Accuracy: 0.46875 Step 1500, Minibatch Loss= nan, Training Accuracy= 0.461 -Testing Accuracy: 0.46875 Step 1600, Minibatch Loss= nan, Training Accuracy= 0.344 -Testing Accuracy: 0.46875 Step 1700, Minibatch Loss= nan, Training Accuracy= 0.367 -Testing Accuracy: 0.46875 Step 1800, Minibatch Loss= nan, Training Accuracy= 0.422 -Testing Accuracy: 0.46875 Step 1900, Minibatch Loss= nan, Training Accuracy= 0.359 -Testing Accuracy: 0.46875 Step 2000, Minibatch Loss= nan, Training Accuracy= 0.414 -Testing Accuracy: 0.46875 Step 2100, Minibatch Loss= nan, Training Accuracy= 0.320 -Testing Accuracy: 0.46875 Step 2200, Minibatch Loss= nan, Training Accuracy= 0.422 -Testing Accuracy: 0.46875 Step 2300, Minibatch Loss= nan, Training Accuracy= 0.391 -Testing Accuracy: 0.46875 Step 2400, Minibatch Loss= nan, Training Accuracy= 0.352 -Testing Accuracy: 0.46875 Step 2500, Minibatch Loss= nan, Training Accuracy= 0.398 -Testing Accuracy: 0.46875 Step 2600, Minibatch Loss= nan, Training Accuracy= 0.297 -Testing Accuracy: 0.46875 Step 2700, Minibatch Loss= nan, Training Accuracy= 0.336 -Testing Accuracy: 0.46875 Step 2800, Minibatch Loss= nan, Training Accuracy= 0.469 -Testing Accuracy: 0.46875 Step 2900, Minibatch Loss= nan, Training Accuracy= 0.422 -Testing Accuracy: 0.46875 Step 3000, Minibatch Loss= nan, Training Accuracy= 0.367 -Testing Accuracy: 0.46875 Step 3100, Minibatch Loss= nan, Training Accuracy= 0.438 -Testing Accuracy: 0.46875 Step 3200, Minibatch Loss= nan, Training Accuracy= 0.391 -Testing Accuracy: 0.46875 Step 3300, Minibatch Loss= nan, Training Accuracy= 0.398 -Testing Accuracy: 0.46875 Step 3400, Minibatch Loss= nan, Training Accuracy= 0.422 -Testing Accuracy: 0.46875 Step 3500, Minibatch Loss= nan, Training Accuracy= 0.445 -Testing Accuracy: 0.46875 Step 3600, Minibatch Loss= nan, Training Accuracy= 0.398 -Testing Accuracy: 0.46875 Step 3700, Minibatch Loss= nan, Training Accuracy= 0.414 -Testing Accuracy: 0.46875 Step 3800, Minibatch Loss= nan, Training Accuracy= 0.375 -Testing Accuracy: 0.46875 Step 3900, Minibatch Loss= nan, Training Accuracy= 0.398 -Testing Accuracy: 0.46875 Step 4000, Minibatch Loss= nan, Training Accuracy= 0.430 -Testing Accuracy: 0.46875 Step 4100, Minibatch Loss= nan, Training Accuracy= 0.484 -Testing Accuracy: 0.46875 Step 4200, Minibatch Loss= nan, Training Accuracy= 0.383 -Testing Accuracy: 0.46875 Step 4300, Minibatch Loss= nan, Training Accuracy= 0.398 -Testing Accuracy: 0.46875 Step 4400, Minibatch Loss= nan, Training Accuracy= 0.469 -Testing Accuracy: 0.46875 Step 4500, Minibatch Loss= nan, Training Accuracy= 0.359 -Testing Accuracy: 0.46875 Step 4600, Minibatch Loss= nan, Training Accuracy= 0.383 -Testing Accuracy: 0.46875 Step 4700, Minibatch Loss= nan, Training Accuracy= 0.336 -Testing Accuracy: 0.46875 Step 4800, Minibatch Loss= nan, Training Accuracy= 0.367 -Testing Accuracy: 0.46875 Step 4900, Minibatch Loss= nan, Training Accuracy= 0.461 -Testing Accuracy: 0.46875 Step 5000, Minibatch Loss= nan, Training Accuracy= 0.438 -Testing Accuracy: 0.46875 Optimization Finished! Testing Accuracy: 0.46875 Save the model to /content/gdrive/My Drive/20191102 INFO:tensorflow:No assets to save. INFO:tensorflow:No assets to write. INFO:tensorflow:SavedModel written to: /content/gdrive/My Drive/20191102/model.pb I suspect that it has to do with gradient explosion due to the very different nature of the features. Should I use gradient clipping ? Thanks Update: I applied Gradient Clipping to the model: # Gradient Clipping threshold = 1 optimizer = tf.train.GradientDescentOptimizer(learning_rate=learning_rate) grads_and_vars = optimizer.compute_gradients(loss_op) capped_gvs = [(tf.clip_by_value(grad, -threshold, threshold), var) for grad, var in grads_and_vars] # train_op = optimizer.minimize(loss_op) train_op = optimizer.apply_gradients(capped_gvs) The testing accuracy now no longer remains the same. However, it is really low throughout the process, something like this: Step 1, Minibatch Loss= 1.8052, Training Accuracy= 0.461 -Testing Accuracy: 0.3984375 Step 100, Minibatch Loss= 1.3242, Training Accuracy= 0.398 -Testing Accuracy: 0.40625 Step 200, Minibatch Loss= 1.1659, Training Accuracy= 0.484 -Testing Accuracy: 0.3984375 Step 300, Minibatch Loss= 0.7905, Training Accuracy= 0.586 -Testing Accuracy: 0.359375 Step 400, Minibatch Loss= 1.0426, Training Accuracy= 0.516 -Testing Accuracy: 0.421875 Step 500, Minibatch Loss= 1.2217, Training Accuracy= 0.469 -Testing Accuracy: 0.4140625 Step 600, Minibatch Loss= 1.1898, Training Accuracy= 0.500 -Testing Accuracy: 0.4140625 Step 700, Minibatch Loss= nan, Training Accuracy= 0.492 -Testing Accuracy: 0.5390625 Step 800, Minibatch Loss= nan, Training Accuracy= 0.539 -Testing Accuracy: 0.46875 Step 900, Minibatch Loss= 0.9010, Training Accuracy= 0.555 -Testing Accuracy: 0.5390625 Step 1000, Minibatch Loss= 0.8782, Training Accuracy= 0.539 -Testing Accuracy: 0.5390625 Step 1100, Minibatch Loss= 0.8861, Training Accuracy= 0.484 -Testing Accuracy: 0.6015625 Step 1200, Minibatch Loss= 0.9336, Training Accuracy= 0.492 -Testing Accuracy: 0.515625 Step 1300, Minibatch Loss= 1.0637, Training Accuracy= 0.484 -Testing Accuracy: 0.5546875 Step 1400, Minibatch Loss= 1.0548, Training Accuracy= 0.516 -Testing Accuracy: 0.578125 Step 1500, Minibatch Loss= 0.9146, Training Accuracy= 0.484 -Testing Accuracy: 0.6015625 Step 1600, Minibatch Loss= 1.0032, Training Accuracy= 0.484 -Testing Accuracy: 0.53125 Step 1700, Minibatch Loss= nan, Training Accuracy= 0.539 -Testing Accuracy: 0.5625 Step 1800, Minibatch Loss= 0.9834, Training Accuracy= 0.453 -Testing Accuracy: 0.5078125 Step 1900, Minibatch Loss= 0.9774, Training Accuracy= 0.547 -Testing Accuracy: 0.5703125 Step 2000, Minibatch Loss= 0.8281, Training Accuracy= 0.602 -Testing Accuracy: 0.5390625 Step 2100, Minibatch Loss= 0.7679, Training Accuracy= 0.578 -Testing Accuracy: 0.5 Step 2200, Minibatch Loss= 0.9139, Training Accuracy= 0.539 -Testing Accuracy: 0.5234375 Step 2300, Minibatch Loss= 0.8888, Training Accuracy= 0.539 -Testing Accuracy: 0.5 Step 2400, Minibatch Loss= 0.9383, Training Accuracy= 0.500 -Testing Accuracy: 0.5859375 Step 2500, Minibatch Loss= nan, Training Accuracy= 0.531 -Testing Accuracy: 0.6015625 Step 2600, Minibatch Loss= 0.9916, Training Accuracy= 0.445 -Testing Accuracy: 0.5078125 Step 2700, Minibatch Loss= 0.8760, Training Accuracy= 0.555 -Testing Accuracy: 0.625 Step 2800, Minibatch Loss= 0.8751, Training Accuracy= 0.516 -Testing Accuracy: 0.4140625 Step 2900, Minibatch Loss= 0.8013, Training Accuracy= 0.555 -Testing Accuracy: 0.4296875 Step 3000, Minibatch Loss= 0.7989, Training Accuracy= 0.617 -Testing Accuracy: 0.4453125 Step 3100, Minibatch Loss= nan, Training Accuracy= 0.570 -Testing Accuracy: 0.515625 Step 3200, Minibatch Loss= 0.8795, Training Accuracy= 0.547 -Testing Accuracy: 0.4140625 Step 3300, Minibatch Loss= nan, Training Accuracy= 0.547 -Testing Accuracy: 0.4921875 Step 3400, Minibatch Loss= 0.8432, Training Accuracy= 0.508 -Testing Accuracy: 0.453125 Step 3500, Minibatch Loss= nan, Training Accuracy= 0.570 -Testing Accuracy: 0.4140625 Step 3600, Minibatch Loss= 0.8936, Training Accuracy= 0.555 -Testing Accuracy: 0.484375 Step 3700, Minibatch Loss= 0.8682, Training Accuracy= 0.547 -Testing Accuracy: 0.4140625 Step 3800, Minibatch Loss= 0.8836, Training Accuracy= 0.523 -Testing Accuracy: 0.421875 Step 3900, Minibatch Loss= 0.8916, Training Accuracy= 0.477 -Testing Accuracy: 0.4375 Step 4000, Minibatch Loss= 1.0473, Training Accuracy= 0.469 -Testing Accuracy: 0.4765625 Step 4100, Minibatch Loss= 0.8748, Training Accuracy= 0.531 -Testing Accuracy: 0.4453125 Step 4200, Minibatch Loss= 0.8773, Training Accuracy= 0.555 -Testing Accuracy: 0.515625 Step 4300, Minibatch Loss= 0.8434, Training Accuracy= 0.531 -Testing Accuracy: 0.4375 Step 4400, Minibatch Loss= 0.9482, Training Accuracy= 0.523 -Testing Accuracy: 0.5234375 Step 4500, Minibatch Loss= 0.7898, Training Accuracy= 0.562 -Testing Accuracy: 0.5 Step 4600, Minibatch Loss= 0.8327, Training Accuracy= 0.531 -Testing Accuracy: 0.46875 Step 4700, Minibatch Loss= 0.9477, Training Accuracy= 0.523 -Testing Accuracy: 0.375 Step 4800, Minibatch Loss= 0.9240, Training Accuracy= 0.461 -Testing Accuracy: 0.53125 Step 4900, Minibatch Loss= 1.0568, Training Accuracy= 0.484 -Testing Accuracy: 0.453125 Step 5000, Minibatch Loss= 1.0196, Training Accuracy= 0.516 -Testing Accuracy: 0.5078125 Testing Accuracy: 0.46875
