[site]: stackoverflow
[post_id]: 4938331
[parent_id]: 4937263
[tags]: 
About the way to handle the packet type: for me the map is the best. However I'd use a plain array (or a vector) instead of a map. It would make access time constant if you enumerate your packet types sequentially from 0. As to the class structure. There are libraries that already do this job: Available Game network protocol definition languages and code generation . E.g. Google's Protocol Buffer seems to be promising. It generates a storage class with getters, setters, serialization and deserialization routines for every message in the protocol description. The protocol description language looks more or less rich.
