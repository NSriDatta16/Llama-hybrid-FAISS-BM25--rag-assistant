[site]: crossvalidated
[post_id]: 219259
[parent_id]: 
[tags]: 
How to calculate prediction confidence intervals for estimated mixed model change scores varying per a continuous predictor, using "lme4" in R

The Setup I am employing a linear mixed model in R using the packages "lme4" and "lmerTest." In modeling my predicted variable, I have two time indicators set as fixed and random effects: one time variable signifying change within a day of measurement of the predicted variable, and one time variable distinguishing between measurements taken before and after an intervention. Both indicators are dichotomous (0/1; reflecting respectively in the morning versus the evening, and pre-to-post intervention). The interaction between these time variables would reflect (I believe) the change in the change from pre-to-post treatment. For the purpose of this question, let's say I have two predictors of interest that interact with both time variables and their combination, "expectations" and "anxietychange". My code looks something like this: lmer(predicted ~ (1 + prepost + withindaytime | subjectid) + expectations * prepost * withindaytime + anxietychange * prepost * withindaytime, data=data) Let's say that I find that there are significant interactions between each of my (continuous) predictor variables of interest and various combinations of the time variables. Hooray! The Main Question: Confidence intervals around predicted change, predicted change in change, given particular levels of the predictor variable? For the purposes of constructing a figure illustrating these results, I would like to be able to construct the confidence intervals of the model's predicted change in the Y variable pre-to-post intervention, given particular levels of the predictor variables (i.e., expectations and anxietychange). I would like any given approach I use to take into account the fact that the confidence intervals would be different for different individuals with different values of the predictor variables, "expectations" and "anxietychange". To be even more specific: Given specific levels of the predictor variables, I would like to create confidence intervals around the prediction of change in the Y variable pre-to-post intervention for a given time-point in the day (e.g., the Y variable in the morning) and the prediction of change in change (!) for individuals (i.e., within-day time interacting with pre-to-post intervention time). Essentially, I would like to predict these values for an (imaginary) 3x3 cell representing individuals relatively low (-1SD), average (mean), and relatively high (+1SD) in each predictor variable. For example, imaginary individual 1 who has mean values for each predictor would have value X for their pre-to-post intervention change in their Y variable as measured in the morning [e.g., within-day time 0; 95% CI: -aaa to aaa], and value Z for how much their Y variable change within a day of measurement has shifted after an intervention [95% CI: -bbb to bbb]. Imaginary individual 2 would have a +1SD value for one of the predictors, but mean level for the other predictor, and would have value G for their pre-to post change in their Y variable as measured in the morning, et cetera. (Again, my actual hypothesis testing does not impose this artificial trichotomy, this would simply be for illustrative purposes.) While I can easily acquire confidence intervals for the fixed effect coefficients, I'm not sure how to acquire prediction confidence intervals for a given prediction of change. With my limited knowledge, accomplishing the above is complicated by the fact that I am not feeding the model pre-to-post change scores in Y, but rather using all available data and having the mixed model estimate slopes of change (and slopes of change in change). In other words, if I were to use a simple predict() function, I (believe) I would get predictions for each time point in the data (e.g., for prepost 0/withinday 0 for a given level of "anxietychange" and "expectations") I feed the model, not predictions of the change in the predicted variable as reflected by the fixed effect time indicators. The following graphic indicates the core features of the data structure. Each pre-treatment and post-treatment (i.e., prepost 0/1) set of measurements is taken twice on two concurrent days, and are indicated in this data structure as having different subscripts. Is there any way to create such a complicated-seeming confidence interval around a prediction in R? My knowledge is pretty limited when it comes to functionality out of "plug and play" packages. Thank you so much for any help that you can provide! I am ready to be schooled.
