[site]: datascience
[post_id]: 110886
[parent_id]: 110843
[tags]: 
I suggest going straight to the source and giving the Google paper a read on it (including the TVN paragraph in the appendix), as well as the CORAL paper which underlies it: https://www.biorxiv.org/content/10.1101/161422v1.full https://www.aaai.org/ocs/index.php/AAAI/AAAI16/paper/download/12443/11842 Intuitively, there's a few assumptions + constraints that I believe go into it: The image embedding statistics are dominated by "nuisance" variations (the differences we care about have smaller variance relatively speaking), There are negative controls across the axes of batch variation (ex: plates), If we fit a TVN transform to these negative controls, then this will generalize to non-negative controls. This may or may not be true depending on the nature of your data and embedding space. TVN you can think of as 2 parts: fit: using just the negative controls (which are assumed to have origins aligned), we fit a PCA to the entire bulk of negative controls which can be used to whiten the variances of this bulk distribution. We also compute covariance matrices: 1 on the bulk of negative controls (call it C_all), as well as 1 per subgroup of negative controls (call it C_i) transform: For condition i, we can transform to the learned PCA basis (to get rid of the strong variations we captured by learning the PCA), then we can align correlations by first using C_i to whiten (correlations this time, not just variances) and then C_all to recolour (removing correlations and then adding other ones - see CORAL paper for details). PS: awesome seeing you here Vasu! :)
