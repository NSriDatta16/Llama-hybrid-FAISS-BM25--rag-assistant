[site]: stackoverflow
[post_id]: 1365362
[parent_id]: 1365247
[tags]: 
The property you want is covariance in the pointed-to type. That is, if D isa B, then you want smartptr isa smartptr . I don't think this is elegantly supported at all in C++, but as always, there are template/overload hacks available. http://www.boost.org/doc/libs/1_39_0/libs/smart_ptr/pointer_cast.html gives a dynamic cast that works on regular and boost::smart_ptr. You should learn from the implementation if you don't want to just use Boost's.
