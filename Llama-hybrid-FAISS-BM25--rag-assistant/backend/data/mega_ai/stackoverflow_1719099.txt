[site]: stackoverflow
[post_id]: 1719099
[parent_id]: 
[tags]: 
Custom PHP and expression engine

I've created a complex php contact form that I'm looking to implement into my contact page, but for some reason expression engine isn't recognizing the php code even though I've enabled it in my preferences. Here's what the form looks like, I've tried a few things like embedding the file instead of pasting the actual code on the page - but nothing has worked yet. Please enter your phone number "; } if(!$email) { $errors = true; $errMsgs .= " Please enter your email address "; } if(!$airport) { $errors = true; $errMsgs .= " Please select the airport in which you would like to depart from "; } if(!$departdate) { $errors = true; $errMsgs .= " Please enter the date you would like to depart "; } if(!$duration) { $errors = true; $errMsgs .= " Please enter the duration of your stay "; } if(!$prefcountry) { $errors = true; $errMsgs .= " Please enter the preferred country you wish to visit "; } if(!$numadults) { $errors = true; $errMsgs .= " Please enter the number of adults travelling "; } // Check For Errors if($errors) { // Errors Found $foundErrors = $errMsgs; } else { // No Errors Found || Process the form // Create Email $emailMsg = " "; $emailMsg .= " "; $emailMsg .= " Name: $name "; $emailMsg .= " Main Phone: $mainphone "; $emailMsg .= " Email: $email "; $emailMsg .= " Alternate Phone: $altphone "; $emailMsg .= " Contact Time: $contacttime "; $emailMsg .= " Airport's: "; foreach($airport as $v) { $emailMsg .= '- '.$v." "; } $emailMsg .= " Depart Date: $departdate "; $emailMsg .= " Departure Flexible By: $departdateflex "; $emailMsg .= " Duration: $duration "; $emailMsg .= " Preferred Country: $prefcountry "; $emailMsg .= " Preferred Resort: $prefresort "; $emailMsg .= " No. Adults: $numadults "; $emailMsg .= " No. Under 12's: $numunder12 "; $emailMsg .= " No. Under 2's: $numunder2 "; $emailMsg .= " Room Arrangements: $roomarrange "; $emailMsg .= " Max Budget: $maxbudget "; $emailMsg .= " Additional Requirements: $addreq "; $emailMsg .= " "; $Name = "$name"; //senders name $email = "$email"; //senders e-mail adress $recipient = "email@email.com"; //recipient $mail_body = "$emailMsg"; //mail body $subject = "Web enquiry form"; //subject $header = "From: ". $Name . " \r\n" . "Content-type: text/html; charset=iso-8859-1"; //optional headerfields ini_set('sendmail_from', 'email@email.com'); //Suggested by "Some Guy" mail($recipient, $subject, $mail_body, $header); //mail command :) } } ?> Sorry but your enquiry could not be sent There were problems with the following fields: x Name: "> Main Contact Phone Number: * "> Email Address: * "> Alternative Contact Phone Number: "> Preferred Contact Time: value="10am-12pm"/> 10am - 12pm value="12pm-2pm"/> 12pm - 2pm value="2pm-4pm"/> 2pm - 4pm value="4pm-6pm"/> 4pm - 6pm value="6pm-7pm"/> 6pm - 7pm Preferred Departure Airport: value="Heathrow"/> Heathrow value="Gatwick"/> Gatwick value="Manchester"/> Manchester value="Birmingham"/> Birmingham value="Glasgow"/> Glasgow Departure Date: * "> Departure Date Flexibility: value="+/- 0 days">+/- 0 days value="+/- 1 days">+/- 1 days value="+/- 2 days">+/- 2 days value="+/- 3 days">+/- 3 days value="+/- 4 days">+/- 4 days value="+/- 5 days">+/- 5 days value="+/- 6 days">+/- 6 days value="+/- 7 days">+/- 7 days Duration: value="1 night">1 night value="2 nights">2 nights value="3 nights">3 nights value="4 nights">4 nights value="5 nights">5 nights value="6 nights">6 nights value="7 nights">7 nights value="8 nights">8 nights value="9 nights">9 nights value="10 nights">10 nights value="11 nights">11 nights value="12 nights">12 nights value="13 nights">13 nights value="14 nights">14 nights value="15 nights">15 nights value="15+ nights">15+ nights value="21 nights">21 nights value="28 nights">28 nights Preferred Destination Country: * "> Preferred Destination Resort: "> Name of hotel(s) of interest: Number of adults: * "> Number of Children under 12: "> Number of Infants under 2: "> Room Arrangements: value="single (sleeps 1)">single (sleeps 1) value="twin (sleeps 2)">twin (sleeps 2) value="double (sleeps 2)">double (sleeps 2) value="twin plus child (above 2 years)">twin plus child (above 2 years) value="double plus child (above 2 years)">double plus child (above 2 years) value="family plan 2 adults &amp; 2 children">family plan 2 adults & 2 children value="family plan 2 adults &amp; 3 children">family plan 2 adults & 3 children value="triple (sleeps 3)">triple (sleeps 3) value="triple plus child (above 2 years)">triple plus child (above 2 years) value="quad/villas/homes (sleeps 4+)">quad/villas/homes (sleeps 4+) Maximum Budget per person &pound;: "> Additional Requirements: If anyone can help, it would be appreciated - thanks.
