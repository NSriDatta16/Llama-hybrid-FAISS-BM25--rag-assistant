[site]: stackoverflow
[post_id]: 2958220
[parent_id]: 2957120
[tags]: 
Last but not least there can also be a heap fragmentation issue. This is much less likely with FastMM4, but it could be wise to check it anyway. The easiest solution is to log somewhere in the app the stats of the heapmanager (getheapstatus), and check if the FreeBig and FreeSmall are not the bulk of your missing memory. If so, then heapfragmentation is your main problem. The Totalallocated field contains the amount of memory used by the program. If this is high, you are using the memory, but freeing it on shutdown. That could be anything, including e.g. periodically logging some info to a memo or tstringlist. Some well placed logging of totalallocated while shutting down might help identify where the memory is left.
