[site]: crossvalidated
[post_id]: 117753
[parent_id]: 117750
[tags]: 
This is called hierarchical data. The formalism and inference methods of Bayesian networks can already deal with such data. In your example, the appropriate Bayesian network would have $x_1, ..., x_M$ as variable nodes and $y_{i1}, ..., y_{iN}$ as children of $x_i$. This network automatically encodes the independence statements listed in the question. Any standard inference algorithm applied to this network (such as belief propagation or Gibbs sampling) will make use of those independencies.
