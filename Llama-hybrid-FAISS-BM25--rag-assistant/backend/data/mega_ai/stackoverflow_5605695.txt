[site]: stackoverflow
[post_id]: 5605695
[parent_id]: 5554804
[tags]: 
The problem is with the asynchronous nature of your data retrieval. The second YQL query is getting sent out immediately after sending the the first one. That second query should only be made after the response from the first one has been received, since that is what provides the WOEID for the second query. In short, move the second $.YQL(â€¦) call to within the callback of the first. Here's a quickly refactored example, http://jsbin.com/oruhe6
