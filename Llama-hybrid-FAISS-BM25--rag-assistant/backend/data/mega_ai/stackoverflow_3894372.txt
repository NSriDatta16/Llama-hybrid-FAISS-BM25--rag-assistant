[site]: stackoverflow
[post_id]: 3894372
[parent_id]: 3893984
[tags]: 
WWW::Mechanize is a subclass of LWP::UserAgent , so the answer is the same. If you want to handle the redirect yourself to rewrite URLs, you might want to use a response_done or response_redirect handler. See the "Handlers" section of the LWP::UserAgent docs. As for "properly", the HTTP specification doesn't say what a client should do with a fragment except in 14.6 in the case of a referrer header (and that's the only place the word "fragment" even shows up).
