[site]: stackoverflow
[post_id]: 4878382
[parent_id]: 
[tags]: 
Issue with Flex Google Maps API and global function calls

I'm attempting to build a window-based application system (a mini GUI, if you will) within an Adobe Air environment (Flex 4). When implementing window dragging, I account for the z-order by updating the now activated window's depth from a global function, which updates a hidden variable every time accessed (ensuring the selected window is always on top). (Note: I chose global functions over a set of events because the goal of this action is to receive the returned value immediately, not to tell some other part of the system to do something, so I believe this to be a valid exception to the normal suggestion to "use events to communicate between objects.") I encountered dozens of possible solutions to create and call this global function, but the only one that has thus far worked is: event.target.parentApplication.obtainNewHigherDepth() As you can see, it's not really a global function call at all, but a call to a top-level (or more top-level) parent that happens to contain the function needed. In my test cases, this works just fine even as I add internal content components to the windows. However, when adding a Google Map as the window's content, clicking on the map type buttons results in an error: ReferenceError: Error #1069: Property parentApplication not found on com.google.maps.wrappers. WrappableSprite and there is no default value. at Window/selectWindow()[C:\Users\d04000196\Desktop\Projects\UI Concepting\ErrorExample\src\Window.mxml:18] So it appears that the Google Map API is attempting to call my code with the wrong context. Being new to Flex/Air, I don't know how to bind the relevant context like one can do with Javascript. But that shouldn't be necessary. If there is a better way to create and call a truly global function (and use the relevant global variable), this problem of the misaligned contexts wouldn't matter. Or, if there is a known solution for this particular issue with the Google Maps API, that might also work as a solution (but wouldn't be as future proof). The below files are the minimum code required to illustrate the problem. To Setup Load the below files into the default package of a new Adobe Air project via Flash Builder. Download the Google Maps API and add the library to the project . To Illustrate Error Run application Click the "Open a Map" button Click any of the map type buttons in the top right of the map area ExampleError.mxml Window.mxml CustomMap.mxml Update Found on another question just now (It never fails, does it?), this: FlexGlobals.topLevelApplication appears to give me what I'm looking for. It has the disadvantage of being insecure if my window component is ever used outside of this particular application, but since that is not planned, it should suffice. Still, if there is a better solution, I'd love to hear it.
