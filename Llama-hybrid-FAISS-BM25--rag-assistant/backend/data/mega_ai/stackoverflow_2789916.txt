[site]: stackoverflow
[post_id]: 2789916
[parent_id]: 
[tags]: 
Comparing values longitudinally in R... with a twist

I have the results of a test taken by a number of individuals at as many as four time periods. Here's a sample: dat which looks like: Participant_ID phase result 1 A base Negative 2 A sixmos Negative 3 A twelvemos Negative 4 A eighteenmos Negative 97 B base Negative 98 B sixmos Positive 99 B twelvemos Negative 100 B eighteenmos 9 C base Positive 10 C sixmos Indeterminate 11 C twelvemos Negative 12 C eighteenmos Negative I'd like to add an identifier to each test to note whether that test was a conversion from the previous status (negative to positive), a reversion (positive to negative), or stable. The catch is that I'm not just comparing the base test to the six months test, six months to twelve months, etc. - in cases like C, the sixmos test should be marked as stable or inconclusive (the exact term for that is ambiguous), and (more importantly) the twelvemos test should then be compared to the base test and marked as a reversion. Conversely, if someone had a sequence of "Negative", "Indeterminate", "Negative", that should be stable. It's the latter part that I'm stuck on; if it were just a sequence of comparisons per participant, I'd be all right, but I'm having trouble thinking about how to elegantly deal with these variable comparison pairs. Your help is, as always, much appreciated.
