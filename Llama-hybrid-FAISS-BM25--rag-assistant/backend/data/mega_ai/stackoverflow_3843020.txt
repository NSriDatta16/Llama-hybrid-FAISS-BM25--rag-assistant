[site]: stackoverflow
[post_id]: 3843020
[parent_id]: 3836770
[tags]: 
Would the built-in joiner class potentially work? Here is a simple example from the documentation. {% set pipe = joiner("|") %} {% if categories %} {{ pipe() }} Categories: {{ categories|join(", ") }} {% endif %} {% if author %} {{ pipe() }} Author: {{ author() }} {% endif %} {% if can_edit %} {{ pipe() }} Edit {% endif %} You mentioned that it is not known ahead of time which fragments will be empty; perhaps it is possible to store the value of each fragment in a variable before "displaying" it so that you can determine which fragments are indeed empty. For example: {% set pipe = joiner("|") %} {% set fragment = gen_fragment1() %} {% if fragment|trim is not "" %} {{ pipe() }} {{ fragment }} {% endif %} ... You could even encapsulate the above pattern in a macro to reduce repetition: {% set pipe = joiner("|") %} {{ print_if_notblank(pipe, gen_fragment1()) }} {{ print_if_notblank(pipe, gen_fragment2()) }} ... where print_if_notblank is a macro defined as: {% macro print_if_notblank(separator, content) %} {% if content|trim is not "" %} {{ separator() }} {{ content }} {% endif %} {% endmacro %}
