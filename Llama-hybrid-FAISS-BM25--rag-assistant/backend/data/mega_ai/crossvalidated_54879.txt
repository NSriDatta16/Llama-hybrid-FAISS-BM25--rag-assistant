[site]: crossvalidated
[post_id]: 54879
[parent_id]: 
[tags]: 
How should I cluster my data and then run separate algotithms on each cluster?

I'm new to statistics and R. So, I have a dataset on which I want to build a predictive model. Since there is quite a variability in the input variables, I thought it would be better to cluster my data first (using kmeans) and then build separate models on each cluster (e.g. Random Forest). Using 10-fold cross-validation the results look very good however I'm not sure if what I'm doing is correct. Firstly, I cluster my data using kmeans but I'm also using the dependent variable as well . Then I fit separate models to each cluster and perform that 10-fold CV for each cluster separately. What if I had a new data point? How would I assign it to a cluster (since I won't have the value of the dependent variable)? Would it be more correct to cluster my initial data without using the dependent variable?
