[site]: stackoverflow
[post_id]: 4288343
[parent_id]: 4288044
[tags]: 
Uhm,... the reason for your segmentation fault is here: buf = fgets(p,30,pipe_read); p is a pointer to essentially nowhere of importance. It's content is whatever is in the stack at the time of execution, you never initialize it. You need it to point to a chunk of memory you can use! Assign the return of a malloc() call to it, or declare it as char p[LEN] . Edit: you are also reopening already open file descriptors. Check the documentation on fgets and pipe , I think you are confused as to how they work. Now, that said, the flow of your function is kinda confusing. Try working on clarifying it! Remember, code is meant to express intentions, ideas of functionality. Try using pencil and paper to organize your program, and then write it as actual code :). Cheers!
