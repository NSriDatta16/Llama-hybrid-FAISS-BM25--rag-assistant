[site]: stackoverflow
[post_id]: 4566802
[parent_id]: 4565826
[tags]: 
Since you didn't post the GetIP routine, I am not certain that your hostname lookup is correct, as from the looks of it, I am not sure that you are using inet_addr function correctly. Nikolai has pointed out some very good points (and I fully agree). In fact you GET request is actually broken, and while I was testing it on my own local Apache web server on my system, it didn't work. sprintf(buffer,"GET /index.html HTTP/1.1\r\n\r\n"); if (write(socket_google, (void*)buffer, LONGITUD_MSJ+1) should be replaced with snprintf(buffer, sizeof(buffer), "GET / HTTP/1.1\r\nHost: %s\r\nUser-Agent: TEST 0.1\r\n\r\n", google); if (write(socket_google, buffer, strlen(buffer)+1) You should also close the socket before exiting the program. Enable standard C89/90 or C99 mode of your compiler (e.g. -std=c99 for gcc) and enable warnings (e.g. -Wall for gcc), and read them. And #include the necessary header files (assuming Linux in my case) for function prototypes: #include #include #include #include #include #include #include #include #include #include /* for gethostbyname() */ There is some casting of pointers and struct s in regards to the hostname / IP address resolving, which can be confusing and easy place to make a mistake, so verify that is working as you expect it is. in_addr_t ip; ... GetIP(google, &ip); /* I changed the parameters */ printf("IP address = %x (%s)\n", ip, inet_ntoa(*((struct in_addr*)&ip)));
