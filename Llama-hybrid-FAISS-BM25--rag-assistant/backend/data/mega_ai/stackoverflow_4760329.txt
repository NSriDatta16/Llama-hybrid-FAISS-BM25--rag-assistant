[site]: stackoverflow
[post_id]: 4760329
[parent_id]: 
[tags]: 
entitiy framework .Skip not working correctly

i'm trying to make the navigation arrows in jqGrid working. MVC 3 RC2, Entity Framework 4, .NET Framework 4, jqGrid 3.8.2 The Problem is, that i'm getting not record from 1 to 10, 11 to 20 and so on. It seems that the .skip method is not working correctly. jqGrid calls the ActionResult with the right parameters. Maybe you have an idea? Regards, float // // Post: /Admin/IndexGridData // Gibt ein JSON Result mit allen Aufträgen für das jqGrid zurück [HttpPost] public ActionResult IndexGridData(string sidx, string sord, int page, int rows) { // Ermittlung der Zusatzinformationen die das Grid anzeigt (Anzahl Aufträge, momentan angezeigte Aufträge int start = (page -1) * rows; int summeauftraege = _db.Auftrag.Where(x => x.AuftragStatus != "storno").Count(); int totalPages = (int)Math.Ceiling((float)summeauftraege / (float)rows); var auftraege = (from auftrag in _db.Auftrag .Include("KT_AuftragStatus") .Include("KT_Bearbeitungsort") .Include("AuftragPartner") select new { Titel = auftrag.Titel, Auftrag_GUID = auftrag.Auftrag_GUID, Bearbeitungsort = auftrag.KT_Bearbeitungsort.Text, AuftragStatus = auftrag.KT_AuftragStatus.Text, }).Where(x => x.AuftragStatus != "storniert").OrderBy(x => x.Titel) .Skip(start) .Take(rows) .AsEnumerable().ToList(); // Sortierung des Grids anwenden if (sidx == "Titel" && sord == "asc") { auftraege = auftraege.OrderBy(x => x.Titel).AsEnumerable().ToList(); } else if (sidx == "Titel" && sord == "desc") { auftraege = auftraege.OrderByDescending(x => x.Titel).AsEnumerable().ToList(); }else if (sidx == "Bearbeitungsort" && sord == "asc") { auftraege = auftraege.OrderBy(x => x.Bearbeitungsort).AsEnumerable().ToList(); } else if (sidx == "Bearbeitungsort" && sord == "desc") { auftraege = auftraege.OrderByDescending(x => x.Bearbeitungsort).AsEnumerable().ToList(); } else if (sidx == "AuftragStatus" && sord == "asc") { auftraege = auftraege.OrderBy(x => x.AuftragStatus).AsEnumerable().ToList(); } else if (sidx == "AuftragStatus" && sord == "desc") { auftraege = auftraege.OrderByDescending(x => x.AuftragStatus).AsEnumerable().ToList(); } // Erstellung des JSON Objekts welches die einzelnen Aufträge enthält var jsonauftraege = new object[auftraege.Count()]; for (int i = 0; i
