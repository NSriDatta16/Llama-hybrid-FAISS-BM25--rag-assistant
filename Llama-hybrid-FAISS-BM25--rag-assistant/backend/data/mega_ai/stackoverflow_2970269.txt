[site]: stackoverflow
[post_id]: 2970269
[parent_id]: 2968864
[tags]: 
Why do you have to write to a temporary file? You can simply do something like this, function decryptFile($path){ $folder=BASE_PATH.$path.'/'.$this->uri->segment(4); $tmpfn=BASE_PATH.$path.'/'.$this->uri->segment(4).'/tmp/'.$this->uri->segment(5); $p=BASE_PATH.$path.'/'.$this->uri->segment(4).'/'.$this->uri->segment(5); $pc=file_get_contents($p) or die ('no gfc'); $pcue=$this->encrypt->decode($pc,$this->e_key) or die ('no decde'); header('Content-Description: File Transfer'); header('Content-Type: application/octet-stream'); header('Content-Disposition: attachment; filename='.basename($tmpfn)); header('Content-Transfer-Encoding: binary'); header('Expires: 0'); header('Cache-Control: must-revalidate, post-check=0, pre-check=0'); header('Pragma: public'); header('Content-Length: ' . strlen($pcue)); echo $pcue; exit; }
