[site]: stackoverflow
[post_id]: 3972594
[parent_id]: 3971395
[tags]: 
The suggested query would work, with the small change of moving the GROUP BY AGENT to the end. The second and third rules would follow the same pattern. You could keep track of rewards in a separate table (agent, reward, date) to avoid situations like someone qualifying Mon-Sun and then again Tues-Mon (double-counting the overlapping days). Could run a join on these tables or just a separate query to see if the agent was already been awarded the gift cards within the last seven days, etc.
