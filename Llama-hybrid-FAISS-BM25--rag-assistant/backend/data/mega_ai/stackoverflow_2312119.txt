[site]: stackoverflow
[post_id]: 2312119
[parent_id]: 
[tags]: 
Firefox sporadically displays file stream instead of a document

When user requests to download a document, I'm writing out a PDF file to HttpResponse using HttpResponse.OutputStream.Write method. It works in every browser except Firefox(3.5.8). In Firefox it sometimes displays the file and sometimes it displays the actual byte stream. When it displays a byte stream, http response is never finished. I see 'transferring data' status and the byte stream ends with EOF. After some time, I get 'connection was reset' window. alt text http://img31.imageshack.us/img31/7907/displaybytes.png alt text http://img193.imageshack.us/img193/7246/displayendofstream.png alt text http://img211.imageshack.us/img211/1774/timeout.png Here is response header: HTTP/1.1 200 OK Cache-Control: no-cache Pragma: no-cache Content-Length: 103185 Content-Type: application/pdf Expires: -1 Server: Microsoft-IIS/7.0 X-AspNet-Version: 2.0.50727 Content-Description: stuff.pdf Content-Disposition: inline;filename="stuff.pdf" X-Powered-By: ASP.NET Date: Mon, 22 Feb 2010 16:15:38 GMT
