[site]: stackoverflow
[post_id]: 3700073
[parent_id]: 
[tags]: 
getting images out of mssql in C# using streams

I have a database which stores .png images as the sql "image" type. I have some code which retrieves these images as a byte[], and sends them to the page via the FileContentResult object in .Net. Performance is key in this application, and the images have to be retrieved and displayed as quickly as possible. My question is, can this operation be performed quicker by passing a byte stream from the database to the browser, and not at anytime storing the whole byte array in memory. If this is possible and worthwhile doing, how do I do it? Here is the code I have so far: // Get: /Image/Get/5 public FileResult Get(int id) { Response.Cache.SetExpires(DateTime.Now.AddSeconds(300)); Response.Cache.SetCacheability(HttpCacheability.Public); Response.Cache.SetValidUntilExpires(true); // Get full size image by PageId. return base.File(page.getFullsizeImage(id), "image/png"); } And public byte[] getFullsizeImage(int pageId) { return (from t in tPage // Filter on pageId. where t.PageId == pageId select t.Image).Single().ToArray(); } Thanks for any help!
