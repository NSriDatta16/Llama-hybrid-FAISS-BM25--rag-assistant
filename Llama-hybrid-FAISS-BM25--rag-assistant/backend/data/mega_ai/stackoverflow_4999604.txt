[site]: stackoverflow
[post_id]: 4999604
[parent_id]: 4210548
[tags]: 
If you want the drag to display the "not allowed" icon when hovering over certain rows, I believe you can't do it from the model. You'd have to intercept the dragEnter/Move events on the View wiedget. However, dropMimeData() can return False to indicate that the drop is rejected. Note that (in my Qt version) there is a bug in qdnd_win regarding drops that are rejected by the model. Here is my workaround based on some source diving; this is a method defined on my QTreeView subclass: def dropEvent(self, evt): QTreeView.dropEvent(self, evt) if not evt.isAccepted(): # qdnd_win.cpp has weird behavior -- even if the event isn't accepted # by target widget, it sets accept() to true, which causes the executed # action to be reported as "move", which causes the view to remove the # source rows even though the target widget didn't like the drop. # Maybe it's better for the model to check drop-okay-ness during the # drag rather than only on drop; but the check involves not-insignificant work. evt.setDropAction(Qt.IgnoreAction) (note that by "not-insignificant work" I really mean "I don't want to bother intercepting the events" :-)
