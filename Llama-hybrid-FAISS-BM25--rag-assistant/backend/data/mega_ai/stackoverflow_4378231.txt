[site]: stackoverflow
[post_id]: 4378231
[parent_id]: 4377986
[tags]: 
I'd steer you away from trying to do this automatically and encourage you to examine your system (Google missing index DMVs (SQL 2005 or later) for a good start) and create appropriate indexes instead. If you try to do this automatically, you could potentially introduce issues like: Creating indexes on columns with low cardinality that will consume resources but never be used (e.g., a foreign key to a lookup table with a small number of possible values) Introducing bookmark lookups because the indexes you created could have benefited from including additional columns. I'm not saying your foreign keys should not be indexed, just that there should be some thought put into the creation of those indexes.
