[site]: stackoverflow
[post_id]: 3519501
[parent_id]: 
[tags]: 
TFS2010 Build Definition to Deploy to multiple servers?

I've been looking into TFS2010 new build and deployment features with MSDeploy. So far everything is going well (although its been hard to find information about specific scenarios). Can I modify my Build Definition to specify 2 or more servers to deploy to? What I need to do is deploy to multiple servers (as I have two in my testing environment which uses a NLB). What I have now is a Build definition which Builds, runs my tests, and then Deploys to ONE of my testing servers (which has the MsDeployAgentService running on it). It works fine, and each web project is deployed as configured in its project file. The MSBuild Arguments I use are: * /p:DeployOnBuild=True * /p:DeployTarget=MsDeployPublish * /p:MSDeployServiceURL=http://oawww.testserver1.com.au/MsDeployAgentService * /p:CreatePackageOnPublish=True * /p:MsDeployPublishMethod=RemoteAgent * /p:AllowUntrustedCertificated=True * /p:UserName=myusername * /p:Password=mypassword NB: I dont use /p:DeployIISAppPath="xyz" as it doesnt deploy all my projects and overrides my project config. Can I add another build argument to get it to call more than one MSDeployServiceURL? Like something like a second /p:MSDeployServiceURL argument that specifies another server? Or do I have to look for another solution, such as editing the WF? I saw an almost exact same question here posted 2 months ago: TFS 2010 - Deploy to Multiple Servers After Build , so it doesn't look like I'm the only one trying to solve this. I also posted on the IIS.NET forums where MSDeploy is discussed: http://forums.iis.net/t/1170741.aspx . It's had quite a lot of views, but again, no answers.
