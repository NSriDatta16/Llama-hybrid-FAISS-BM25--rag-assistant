[site]: stackoverflow
[post_id]: 1632695
[parent_id]: 
[tags]: 
how to solve this problem with a cast of iterator?

The compiler (VC8) error is: error C2680: 'std::_Tree ::iterator' : invalid target type for dynamic_cast the source code to simulate the error : [EDIT]source fixed now #include #include struct tag_data { int in; int on; std::string sn; }; class myclass { private: typedef std::map TypeData; TypeData MapStorage; typedef std::map TypeToThreadIterMapStorage; TypeToThreadIterMapStorage ThreadIterMapStorage; public: bool find( std::string& k) { TypeData::const_iterator theData ; theData = MapStorage.find(k); //ThreadIterMapStorage [ 0 ] = MapStorage.begin();// this is ok ThreadIterMapStorage [ 1 ] = dynamic_cast (theData); // the error occurs here return theData != MapStorage.end(); } virtual ~myclass(){} }; int _tmain(int argc, _TCHAR* argv[]) { myclass mc; return 0; }
