[site]: stackoverflow
[post_id]: 4569571
[parent_id]: 4569310
[tags]: 
Source Code. xml parser first and second. #import @class EventInfo; @class DistanceInfo; @class PartyTemperature_AppDelegate; @protocol NSXMLParserDelegate; @interface XMLParser : NSObject { EventInfo *aEventInfo; DistanceInfo *aDistanceInfo; PartyTemperature_AppDelegate *appDelegate; } -(XMLParser *)initXMLParser; @end //Implementation File #import "XMLParser.h" #import "EventInfo.h" #import "PartyTemperature_AppDelegate.h" #import "DistanceInfo.h" @implementation XMLParser -(XMLParser *)initXMLParser { [super init]; appDelegate=(PartyTemperature_AppDelegate *)[[UIApplication sharedApplication]delegate]; return self; } - (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict{ if ([elementName isEqualToString:@"root"]) { appDelegate.distanceListArray=[[NSMutableArray alloc]init]; } if ([elementName isEqualToString:@"events"]) { aDistanceInfo=[[DistanceInfo alloc] init]; aDistanceInfo.eventListArray=[[NSMutableArray alloc]init]; aDistanceInfo.event_Distance=[attributeDict objectForKey:@"distance"]; } if ([elementName isEqualToString:@"event"]) { aEventInfo=[[EventInfo alloc]init]; aEventInfo.event_ID=[attributeDict objectForKey:@"id"]; aEventInfo.event_Title=[attributeDict objectForKey:@"title"]; aEventInfo.event_Description=[attributeDict objectForKey:@"description"]; aEventInfo.event_Date=[attributeDict objectForKey:@"date"]; aEventInfo.event_Time=[attributeDict objectForKey:@"time"]; aEventInfo.event_Location=[attributeDict objectForKey:@"location"]; aEventInfo.event_Street=[attributeDict objectForKey:@"street"]; aEventInfo.event_City=[attributeDict objectForKey:@"city"]; aEventInfo.event_Visitors=[attributeDict objectForKey:@"visitors"]; aEventInfo.event_Organisation=[attributeDict objectForKey:@"organisation"]; aEventInfo.event_Price=[attributeDict objectForKey:@"price"]; aEventInfo.event_Minimum_Age=[attributeDict objectForKey:@"minimum_age"]; aEventInfo.event_Picture=[attributeDict objectForKey:@"picture"]; aEventInfo.event_Genre=[attributeDict objectForKey:@"genre"]; aEventInfo.event_LineUP=[attributeDict objectForKey:@"lineup"]; aEventInfo.event_WebSite=[attributeDict objectForKey:@"website"]; aEventInfo.event_latitude=[attributeDict objectForKey:@"latitude"]; aEventInfo.event_longitude=[attributeDict objectForKey:@"longitude"]; aEventInfo.event_distance=[attributeDict objectForKey:@"distance"]; } } - (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{ if ([elementName isEqualToString:@"root"]) { return; } if ([elementName isEqualToString:@"events"]) { [appDelegate.distanceListArray addObject:aDistanceInfo]; NSLog(@"appDelegate.distanceListArray %d",[appDelegate.distanceListArray count]); } if ([elementName isEqualToString:@"event"]) { [aDistanceInfo.eventListArray addObject:aEventInfo]; } NSLog(@"aDistanceInfo.eventListArray information %d",[aDistanceInfo.eventListArray count]); } - (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{ return; } SecondXMLParser #import @protocol NSXMLParserDelegate; @class DJInfo; @class NearbyViewController; @interface DJXMLParser : NSObject { DJInfo *aDJInfo; NearbyViewController *aNearbyViewController; } -(DJXMLParser *)initDJXMLParser; @end #import "DJXMLParser.h" #import "DJInfo.h" #import "PartyTemperature_AppDelegate.h" #import "NearbyViewController.h" @implementation DJXMLParser -(DJXMLParser *)initDJXMLParser{ [super init]; aNearbyViewController=(NearbyViewController *)[[UIApplication sharedApplication]delegate]; return self; } - (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict{ if ([elementName isEqualToString:@"root"]) { aNearbyViewController.djListArray=[[NSMutableArray alloc] init]; } if ([elementName isEqualToString:@"dj"]) { aDJInfo=[[DJInfo alloc] init]; aDJInfo.dj_Name=[attributeDict objectForKey:@"name"]; } } - (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{ if ([elementName isEqualToString:@"root"]) { return; } if ([elementName isEqualToString:@"dj"]) { [aNearbyViewController.djListArray addObject:aDJInfo]; } NSLog(@"aDJInfo.Value %@",[aNearbyViewController.djListArray count]); } @end
