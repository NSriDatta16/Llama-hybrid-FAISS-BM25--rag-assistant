[site]: stackoverflow
[post_id]: 5353147
[parent_id]: 
[tags]: 
Enhanced XSL to create nested list from flat tree problem

I asked a very similar question ([1]: XSL to create nested list from flat tree problem "Create nested list from flat tree problem") a while ago, but my problem has expanded slightly. Originally I did not take into account paragraphs nested within lists. So now, with an input of: text num1 num2 indented para1 sub-num1 sub-indented para1 sub-indented para2 sub-num2 sub-sub-num1 num3 text num1 num2 text I need this output: text num1 num2 indented para1 sub-num1 sub-indented para1 sub-indented para2 sub-num2 sub-sub-num1 num3 text num1 num2 text There may also be instances of indented paragraph that are not within a list, but I think I can figure that out once I've got this monkey off my back. I need to use XSLT 1.0, and once again, any help is appreciated.
