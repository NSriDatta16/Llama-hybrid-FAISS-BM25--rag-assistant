[site]: crossvalidated
[post_id]: 321911
[parent_id]: 297987
[tags]: 
In Stan, you could start out like data{ int N; int M; matrix [N, M] PY; vector [N] age; vector gender; } parameters { simplex[M] omega; vector[3] beta; } model { vector[N] WPY = PY * omega; vector[N] eta = beta[1] * age + beta[2] * gender + beta[3] * WPY; } But how exactly you specify the rest of the model block is up to you. Technically, it would be insufficient in Stan to allow $\lambda_0\left(t\right)$ to be any function (without some prior over all functions) because that would yield an improper posterior distribution. However, $\lambda_0\left(t\right)$ could be any smooth function, in which case you could use a Gaussian process prior or a spline or something like that. Just Google for Bayesian Cox model to find various alternatives. There are plenty of examples of parametric survival models in SurvivalStan .
