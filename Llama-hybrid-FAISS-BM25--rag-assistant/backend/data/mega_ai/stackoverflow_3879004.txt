[site]: stackoverflow
[post_id]: 3879004
[parent_id]: 
[tags]: 
C : Dynamically storing strings (of dynamic sizes!)?

Am I missing something incredibly simple? because I can't seem to find a reason why my code isn't storing strings dynamically. All I get are blank lines when I print them at the end. Its supposed to print the last "n" lines of an arbitrary number of lines. There seems to be a problem with the storage of the actual lines though. Can anyone lend a hand? This is NOT HW by the way. This is a problem from the K&R book (whose answers are online). I'm trying to learn C on my own. void tail5_13(int n) { int maxpoint = 3; size_t *maxlength; *maxlength = sizeof(char) * 10; char **pointptr = malloc(sizeof(void *) * maxpoint); char **pointcnt = pointptr; char *lineptr = malloc(sizeof(char) * *maxlength); int numlines = 0; int printnum = 0; int c; while((c = getline(&lineptr, maxlength, stdin)) > 1) { if(numlines 0 ) { printf("%s\n", *(pointcnt-1)); } } void storeline5_13(char** pointcnt, char* line, int length) { *pointcnt = (char *) malloc(sizeof(char) * length); while(*line != '\n') { *((*pointcnt)++) = *line++; } **pointcnt = '\0'; }
