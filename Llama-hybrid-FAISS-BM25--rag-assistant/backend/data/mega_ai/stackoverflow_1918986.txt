[site]: stackoverflow
[post_id]: 1918986
[parent_id]: 1918723
[tags]: 
If we're talking about bit twiddling sillyness, here's my try: if ((n & 0x3E) != n || (n & n - 1) != 0) throw std::runtime_error("not a power of two less than or equal to 32"); Bit twiddling sillyness is VERY C/C++, but only "elegant" if by elegant you mean "as few processor cycles as absolutely possible and in as terse a syntax as possible". Use a dictionary lookup or explicit check (such as std::find in GMan's answer), otherwise. Readability is almost always preferrable to this kind of wackyness.
