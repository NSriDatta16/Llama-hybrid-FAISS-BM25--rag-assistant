[site]: crossvalidated
[post_id]: 507731
[parent_id]: 
[tags]: 
Risk (Strategy Game) winning probabilities and expected troops lost

Recently, I was introduced to the European version of Risk, the strategy game, which is almost the same as the USA version, but with a slight variation in the attacking method. First of all, the attacker and the defender both have $3$ dice. The players may only attack or defend with a maximum number of $3$ troops (even if more are available), and the attacker must have more than $1$ troop to attack. The player may attack a bordering country multiple times in the same turn. As an example, suppose I have $15$ troops in Ontario and my opponent has $4$ troops in Alberta. Since I have more than $3$ troops, I am allowed to throw $3$ dice (if I had $2$ troops instead of $15$ I would only be allowed to throw $2$ dice), same goes for my opponent. The outcome is $(6,5,3)$ vs $(2,6,6)$ . In this case, we must pair the biggest number on my dice with the biggest number of my opponent's dice, and so on. In other words $$\begin{aligned} &\text{My outcome}\qquad &\text{Opponent Outcome}\\ &(\color{red}{6},\color{blue}{5},\color{green}{3}) &(\color{green}{2},\color{blue}{6},\color{red}{6}) \end{aligned}$$ where the colors denote the pairing. For each pairing, the attacker must have a bigger number to destroy his opponent's troop. For the example above, $6$ is not greater than $6$ so the attacker loses one troop, $6$ is greater than $5$ so the attacker loses another troop, and $3$ is greater than $2$ so the defender loses one troop. In this round, I lost $2$ troops and my adversary only $1$ . Therefore, my current troops in Ontario are $13$ and my opponent's troops in Alberta are $3$ . I may decide to end the turn here or keep on attacking until I either destroy all of my opponent's troops or I am left with $1$ troop (so that I cannot attack anymore). I was particularly interested in calculating the probability, given the number of attackers and defenders, of successfully conquering a bordering country (meaning that I keep on attacking the same country until I destroy all of my oponent's troops or I am left with one). The case with arbitrary attackers and $1$ defender is quite trivial, and the closed form formula $p(a,d)$ is $$p(a,1)=1-\frac{1}{6^{a-1}}\prod_{j=1}^{a-1}\sum_{i=1}^6\left(\frac i6\right)^{j+1}, \quad a\in\mathbb{N}^*$$ with $a$ denoting the number of attackers and $d$ the number of defenders. I wrote a quick C++ Monte Carlo simulation to check the validity of my work, and in fact, it does hold. However, I was much more interested in generalizing this result for arbitrary $d$ . Supplementing this result with the expected number of troops lost in the conquer (this would need another pair of hands and some work), may lead to much more efficient play. In fact, a player, given this information, may find what the minimal optimal number of troops is needed to conquer a territory given a specified probability and a specified tolerance for number of troops lost. Of course simulations may be used in determining the probabilities and expected values, but an analytic solution would be, mathematically speaking, a better option to have (and would answer the optimization problem instantly). I researched some papers on the topic at hand, but the few that are available use Monte Carlo Chains and do not give a closed form formula for what I am seeking, like the one I have provided. Furthermore, they are not related to the slight variation of the gameplay I mentioned in the beginning. I have tried approaching the problem by cases, as I did with $d=1$ . Although it seems very possible, the work is enormous. This because it reduces to a recursion equation depending on a couple of different functions. A closed form for the latter, is either above my skill level, or will take a lot of work. I am interested in suggestions, ideas or even references to tackle the second part of my problem (i.e. finding a closed-form formula for arbitrary $a$ and $d$ ). If anyone is interested in the simulation code or the work for the $a$ arbitrary and $d=1$ , I will be more than happy to share it.
