[site]: stackoverflow
[post_id]: 1847921
[parent_id]: 1847310
[tags]: 
Build a spatial subdivision structure such as a quadtree or KD-tree of the points. At each node store the amount of points covered by that node. Then when you need to count the points covered by the lookup circle, traverse the tree and for each subdivision in a node check if it is fully outside the circle, then ignore it, if it is fully inside the circle then add its count to the total if it intersects with the circle, recurse, when you get to the leaf, check the point(s) inside the leaf for containment. This is still O(n) worst case (for instance if all the points lie on the circle perimeter) but average case is O(log(n)).
