[site]: crossvalidated
[post_id]: 545584
[parent_id]: 
[tags]: 
Permutation test on dependent data

Say that I have a sample of observations which are pairs of real numbers $(x_i, y_i)$ . Pairs are i.i.d., but $x_i$ and $y_i$ are not independent. I want to test whether the mean of $x$ is equal to the mean of $y$ using a permutation test. I know that the correct way to do it is with a paired permutation test. But what happens if I insist on using a regular permutation test? Does the p-value become incorrect? Or does it affect only the power of the test? What if the pairs are also not independent, e.g. from a time series? In that case even a paired permutation test would fail to reproduce the correlations in the sample. However the mean is permutation invariant, so I'm not sure that it would matter. Would the p-value be incorrect in this case?
