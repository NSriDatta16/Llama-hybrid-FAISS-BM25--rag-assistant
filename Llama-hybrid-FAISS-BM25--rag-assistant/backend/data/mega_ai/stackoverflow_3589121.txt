[site]: stackoverflow
[post_id]: 3589121
[parent_id]: 3588524
[tags]: 
%# Reading Average Water Saturation (Savw) data from output (.OUT) file of reservoir model fid = fopen('ReservoirModel_CMGBuilder.out'); % open the file dotOUT_fileContents = textscan(fid,'%s','Delimiter','\n'); % read it into one big array, row by row dotOUT_fileContents = dotOUT_fileContents{1}; fclose(fid); %# don't forget to close the file again %# find rows containing 'Average Saturation %' Swav_Starts = strmatch('Average Saturation %',dotOUT_fileContents); % Swav_Starts contains the line numbers wherever 'Average Saturation %' is found nSwav = length(Swav_Starts); % total no. of Swav values will be equal to the total no. of 'Average Saturation %' read from the .out file %# loop through the file and read the numeric data for w = 1:nSwav %# read lines containing numbers tmp_str = dotOUT_fileContents(Swav_Starts(w)+3); % stores the content of the 3rd row from the row containing 'Average Saturation %' in form of string tmp_str = tmp_str{:}; % store the content of the string which contains Swav, as well, in form of a character %# assign output Swav_yearly(w,j) = str2num(tmp_str(30:35)); % convert the part of the character containing Swav into number end Now the tmp_str = dotOUT_fileContents(Swav_Starts(w)+3); produces the following string: Water 15.000 If I try to convert it to number using str2num, then I get an empty matrix. So I pick the characters of this string containing the saturation value (here 15.000 ) and then changing this character to number as follow, giving the value of the average water saturation: str2num(tmp_str(30:35)) Please advice if someone has any method to extract number out of the string without picking the characters as I have done.
