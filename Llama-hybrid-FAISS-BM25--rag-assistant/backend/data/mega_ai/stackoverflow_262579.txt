[site]: stackoverflow
[post_id]: 262579
[parent_id]: 
[tags]: 
calling Axis2 web service from ATL C++ client

I have a simple POJO web service published with Axis2 on Tomcat5.5 I try to consume it with ATL C++ client and it fails. Doing the same with a C# client works. The problem is that ATL client sends soap body which looks like Notice the invalid element in the middle. I suspect it has something to do with UTF-8 because C# sends a header of and ATL client doesn't. Also when I look into some of the ATL SOAP internals I notice that a structure has two members: szName and szwName. The first one is empty and produces the element, the second one has a valid (?) name of testResponse (the method I'm calling is called "test"). Need advice as to where to go from here? More details: full message from ATL client: POST /axis2/services/EnterpriseService.EnterpriseServiceHttpSoap11Endpoint/ HTTP/1.1 Content-Length: 304 Content-Type: text/xml; charset=utf-8 SOAPAction: "urn:test" Accept: text/xml Host: xxxxxxx User-Agent: Microsoft-ATL-Native/8.00 Response from Axis2: HTTP/1.1 500 Internal Server Error Server: Apache-Coyote/1.1 Content-Type: text/xml;charset=utf-8 Transfer-Encoding: chunked Date: Tue, 04 Nov 2008 15:31:57 GMT Connection: close soapenv:Server com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character '>' (code 62); expected an element name.&#xd; at [row,col {unknown-source}]: [1,276] Oh, and here is the good request coming from C# client: POST /axis2/services/EnterpriseService.EnterpriseServiceHttpSoap11Endpoint/ HTTP/1.1 Via: 1.1 ANGEL-ISLAND Content-Type: text/xml; charset=utf-8 User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; MS Web Services Client Protocol 2.0.50727.1433) Host: xxxxxxx:8080 SOAPAction: "urn:test" Connection: Keep-Alive Content-Length: 236 In C# case the soap:body is blank.
