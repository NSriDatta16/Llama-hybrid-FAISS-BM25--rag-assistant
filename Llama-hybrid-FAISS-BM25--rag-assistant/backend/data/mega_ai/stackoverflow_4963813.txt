[site]: stackoverflow
[post_id]: 4963813
[parent_id]: 
[tags]: 
3D Trilateration using given distances of unknown fixed points

I am new to this forum and not a native english speaker, so please be nice! :) Here is the challenge I face at the moment: I want to calculate the (approximate) relative coordinates of yet unknown points in a 3D euclidean space based on a set of given distances between 2 points. In my first approach I want to ignore possible multiple solutions, just taking the first one by random. e.g.: given set of distances: (I think its creating a pyramid with a right-angled triangle as a base) P1-P2-Distance 1-2-30 2-3-40 1-3-50 1-4-60 2-4-60 3-4-60 Step1: Now, how do I calculate the relative coordinates for those points? I figured that the first point goes to 0,0,0 so the second one is 30,0,0. After that the third points can be calculated by finding the crossing of the 2 circles from points 1 and 2 with their distances to point 3 (50 and 40 respectively). How do I do that mathematically? (though I took these simple numbers for an easy representation of the situation in my mind). Besides I do not know how to get to the answer in a correct mathematical way the third point is at 30,40,0 (or 30,0,40 but i will ignore that). But getting the fourth point is not as easy as that. I thought I have to use 3 spheres in calculate the crossing to get the point, but how do I do that? Step2: After I figured out how to calculate this "simple" example I want to use more unknown points... For each point there is minimum 1 given distance to another point to "link" it to the others. If the coords can not be calculated because of its degrees of freedom I want to ignore all possibilities except one I choose randomly, but with respect to the known distances. Step3: Now the final stage should be this: Each measured distance is a bit incorrect due to real life situation. So if there are more then 1 distances for a given pair of points the distances are averaged. But due to the imprecise distances there can be a difficulty when determining the exact (relative) location of a point. So I want to average the different possible locations to the "optimal" one. Can you help me going through my challenge step by step?
