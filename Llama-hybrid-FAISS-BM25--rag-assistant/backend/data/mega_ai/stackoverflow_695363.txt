[site]: stackoverflow
[post_id]: 695363
[parent_id]: 695354
[tags]: 
Maybe instead of fragmenting the actual disk, you should really test your defragmentation algorithm on a simulation/mock disk? Only once you're satisfied the algorithm itself works as specified, you could do the testing on actual disks using the actual disk API. You could even take snapshots of actual fragmented disks (yours or of someone you know) and use this data as a mock model for testing.
