[site]: datascience
[post_id]: 91197
[parent_id]: 
[tags]: 
Calculation of relative standard deviation with a custom function in R

I have measured concentrations of elements in a number of samples. Each concentration is an average of three measurements. Also the standard deviation of these measurements is recorded. I tried to calculate the relative standard deviation with a custom function in R but something is wrong here... library(tidyverse) data = conc, 100, abs(100 * stdev / conc) ) ) } # calculation for (e in elements) { data % mutate("{e}_rsd" := relstdev("{e}_conc", "{e}_stdev")) } When the program is run I get new columns for each element with rsd but the values are all 100: not what I expected! data %>% select(ends_with("_rsd")) # A tibble: 10 x 5 Cu_rsd Fe_rsd K_rsd Mg_rsd Mn_rsd 1 100 100 100 100 100 2 100 100 100 100 100 3 100 100 100 100 100 4 100 100 100 100 100 5 100 100 100 100 100 6 100 100 100 100 100 7 100 100 100 100 100 8 100 100 100 100 100 9 100 100 100 100 100 10 100 100 100 100 100 This implies that in the rsd-function the condition stdev >= conc had to be true. This is not the case: data $Cu_std >= data$ Cu_conc [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE Can someone help me please?
