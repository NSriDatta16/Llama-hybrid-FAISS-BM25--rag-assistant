[site]: crossvalidated
[post_id]: 183162
[parent_id]: 
[tags]: 
Why are correlated observations not an issue in Cox regression with time-dependent covariates?

In the extended Cox model we can easily include time-dependent covariates $X(t)$. If we use counting process notation, this will result in multiple records per patient. Each record consists of (start, stop, status, $X(t)$). Example: Of course these repeated measurements are not independent of each other. However, this does not seem to be an issue in estimation of the cox model. I found different sources (e.g. see Therneau & Crawson, p.4 and Therneau & Grambsch, p.70 ) stating that the correlation of these multiple records per patient is not a problem since the "internal computations for a cox model have a term for each unique death; a given term involves sums over those observations that are at risk at the selected event date [...]. Since the intervals for a particular subject do not overlap, any given internal sum will involve at most one of the observations per subject." As far as I understand the following likelihood is used in the estimation procedure: $$L(\beta)=\prod_{i=1}^n\left(\frac{\exp(X_i(t)\beta)}{\sum_{j\in R_i}\exp(X_j(t)\beta)}\right )^{d_i}$$ How are the sums / factors independent of each other? I see that each product in the likelihood contains independent observations, but is that not the same as in logistic regression? What is the difference? If I derive the log likelihood, I will still have one big sum containing multiple records of one individual. Why is it enough to proof that each factor of the likelihood contains at most one record per subject? Edit: I have found the related post Precisely how does R's coxph() handle repeated measures? , where it is argued that one should use the robust estimation procedure invoked by cluster(id) in the coxph package in R. Is my understanding wrong that this should only be necessary, if we observe multiple events per subject? The example in the question does only include one event per subject.
