[site]: crossvalidated
[post_id]: 67059
[parent_id]: 67058
[tags]: 
You can simulate the first variable independently i.e. based on the marginal distribution provided by table(mtcars$gear) as you have done. However, the second variable should then be simulated conditioned on the value of the first i.e. based on table(mtcars$vs[which(mtcars$gear==gearSim[i])]) , which uses only the subset of vs values for the correct gear value. Here is some (very inelegant) example code, which simulates the vs variables conditional on gear=3,4,5 respectively and then chooses the correct result for each gear result. gearSim
