[site]: stackoverflow
[post_id]: 3338053
[parent_id]: 3337981
[tags]: 
What type of program is this an ASP.NET website or some type of winforms/wpf thick client? The reason I ask is that you may be testing on stale code. Otherwise on change can be to just flip the checking logic to be more aligned with what you want. Ensuring that the entered character is one element in the allowed set. A refactoring is below. e.Handled = (c >= 0x61 && c =0x41 && c = 0x30 && c As an alternative approach if you just want to validate the whole textbox at one time instead of after each key press you can just parse the value to see if it is a number. The following code fragment will generate parse the value 11486525 from AF453d. If the number is not a valid hex value then the result of isHex will be false; int i; string s = "AF453d"; bool isHex; isHex = int.TryParse(s, System.Globalization.NumberStyles.AllowHexSpecifier, null, out i); Console.WriteLine(isHex); Console.WriteLine(i);
