[site]: stackoverflow
[post_id]: 402615
[parent_id]: 
[tags]: 
How to restrict SSH users to a predefined set of commands after login?

This is a idea for a security. Our employees shall have access to some commands on a linux server but not all. They shall e.g. have the possibility to access a log file ( less logfile ) or start different commands ( shutdown.sh / run.sh ). Background information: All employees access the server with the same user name: Our product runs with "normal" user permissions, no "installation" is needed. Just unzip it in your user dir and run it. We manage several servers where our application is "installed". On every machine there is a user johndoe . Our employees sometimes need access to the application on command line to access and check log files or to restart the application by hand. Only some people shall have full command line access. We are using ppk authentication on the server. It would be great if employee1 can only access the logfile and employee2 can also do X etc... Solution: As a solution I'll use the command option as stated in the accepted answer. I'll make my own little shell script that will be the only file that can be executed for some employees. The script will offer several commands that can be executed, but no others. I'll use the following parameters in authorized_keys from as stated here : command="/bin/myscript.sh",no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty ssh-dss AAAAB3....o9M9qz4xqGCqGXoJw= user@host This is enough security for us. Thanks, community!
