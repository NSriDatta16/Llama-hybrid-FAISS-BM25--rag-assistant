[site]: crossvalidated
[post_id]: 642497
[parent_id]: 
[tags]: 
How do I calculate the weighted average of a 2D data set for a 3D structure?

I have a 2D data array indicating a chemical percentage content (PC) in a chemical droplet. I am trying to calculate the average PC in the droplet. The image of one of these arrays is shown below (the colour bar represents the PC): The droplet, is naturally a 3D (almost hemispherical) structure, so I must calculate a weighted average, as the volume in the centre of the droplet is higher than at its edges. How can I calculate this weighted average? What weight do I give to a pixel at the centre compared to a pixel at the edges? Would this require me to know the actual height of each pixel, or could that be theorised?
