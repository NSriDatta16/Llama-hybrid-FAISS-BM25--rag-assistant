[site]: stackoverflow
[post_id]: 2428659
[parent_id]: 2428568
[tags]: 
AFAIR (it's some time ago I last used ANTLR), you can use "fragment" to avoid having f1 and f2 as a top level token: msg: f1 '/' f2; fragment f1: DIGIT(DIGIT(DIGIT)?)? ; fragment f2: DIGIT(DIGIT)? This allows you to have an ambiguity between f1 and f2, because they don't have to match on their own.
