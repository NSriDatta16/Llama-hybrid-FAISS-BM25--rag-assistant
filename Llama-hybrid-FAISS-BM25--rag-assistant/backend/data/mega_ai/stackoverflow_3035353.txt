[site]: stackoverflow
[post_id]: 3035353
[parent_id]: 
[tags]: 
NSURLCredential not working for synchronuos request in iphone

I am using Synchronous request and passing the credentials but I am getting authentication error in response. Below is my code of request and response from server. Request:- NSURLCredential *userCredentials = [NSURLCredential credentialWithUser:@"username" password:@"paswd" persistence:NSURLCredentialPersistenceForSession]; NSURLProtectionSpace *space = [[NSURLProtectionSpace alloc] initWithHost:@"http://webaddress.inc.com" port:80 protocol:@"http" realm:@"webaddress.inc.com" authenticationMethod:nil]; [[NSURLCredentialStorage sharedCredentialStorage] setCredential:userCredentials forProtectionSpace:space]; NSMutableURLRequest *urlRequest = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http://webaddress.inc.com"] cachePolicy:NSURLCacheStorageNotAllowed timeoutInterval:30]; NSURLResponse *response; NSError *error; NSData *returnData = [NSURLConnection sendSynchronousRequest:urlRequest returningResponse:&response error:&error]; /////////// Response 401 Authorization Required Note: If I am sending the request with async request it is working fine as in that case didReceiveAuthenticationChallenge is giving them the required credentials when asked for. I am sure there might be something missing in my code. Waiting for your valuable inputs.
