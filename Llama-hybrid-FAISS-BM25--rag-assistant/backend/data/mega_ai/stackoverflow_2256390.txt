[site]: stackoverflow
[post_id]: 2256390
[parent_id]: 2235691
[tags]: 
Do you really need to do this operation instantly? The screen resolution of the iPhone is 320x480 (and double that for retina) - scale the image down to at least this, then apply the transformations (at least for displaying, then later if the user wants to do something with the image, you run the more costly version in the background). Take a look at that first line: // we upload photos at a maximum resolution of 2048 x 1536 int kMaxResolution = 2048; For most applications, you're rotating this gigantic image, then proceeding to throw away most of that calculated data when you shrink it way down. Throw away the data first by scaling (afaik, a far cheaper operation), then rotate.
