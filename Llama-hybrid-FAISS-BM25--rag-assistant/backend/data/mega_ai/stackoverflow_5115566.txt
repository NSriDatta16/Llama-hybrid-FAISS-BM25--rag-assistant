[site]: stackoverflow
[post_id]: 5115566
[parent_id]: 
[tags]: 
When using cache fragments in my views, how do I avoid the active record call in the controller?

I have a situation where: View: Controller: def show unless Rails.cache.read 'some_key' @some_collection = expensive_query_goes_here end end It seems the proper thing would be to put a conditional to prevent the expensive @some_collection calculation from running in the controller when a cache key exists. Therefore, for almost every cache block in my view, there has to be a corresponding conditional in the controller to check if a cache key exists or not. One way to avoid this is to put the expensive query logic inside the cache block in the view (yuck!). Is this how most folks approach it? Seems to be very messy.
