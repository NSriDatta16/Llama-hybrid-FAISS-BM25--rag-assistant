[site]: stackoverflow
[post_id]: 1668252
[parent_id]: 1667926
[tags]: 
I think the OP is on the right track and could use a one-liner for this, and just needs to replace some bash-style syntax with the correct Perl syntax. I think this would work (newlines added for readability): perl -pe 's#ISBN(\w+)#qx(wget --output-document=- --quiet --user-agent=Mozilla/5.0 "http://books.google.com/books\\?jscmd=viewapi\\&bibkeys=$1")#ge' \ 6-${file} You have to escape (edit: double escaping seems to work) the $ or & characters in the url.
