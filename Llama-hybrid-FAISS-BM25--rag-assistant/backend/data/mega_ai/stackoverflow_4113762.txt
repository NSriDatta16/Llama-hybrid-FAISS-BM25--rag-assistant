[site]: stackoverflow
[post_id]: 4113762
[parent_id]: 4113716
[tags]: 
First of all you should pay attention to the spaces before "{" ... those are meaningful so the quantifier in your example applies to the space. To remove "=" (two or more) only at begin or end also you need a different regexp... for example clean = re.sub(r'^(==+)?(.*?)(==+)?$', r'\2', s) If you don't put either "^" or "$" the expression can match anywhere (i.e. even in the middle of the string).
