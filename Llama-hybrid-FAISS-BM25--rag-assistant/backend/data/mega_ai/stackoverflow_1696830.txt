[site]: stackoverflow
[post_id]: 1696830
[parent_id]: 1696791
[tags]: 
Because of the dichotomy between primitives and objects in Java, you can't use the generic list List .toArray(Long[]) to build a primitive array as the result. There are primitive collections which can be used, but either way - using a list or working over the groups - you're copying data from a temporary storage to a primitive array. So either of the ways you suggest is about as good as each other. If it's performance sensitive, profile both and choose the best for your regex.
