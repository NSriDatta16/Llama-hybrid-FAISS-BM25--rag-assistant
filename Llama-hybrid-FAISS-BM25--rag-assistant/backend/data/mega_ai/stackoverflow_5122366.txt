[site]: stackoverflow
[post_id]: 5122366
[parent_id]: 
[tags]: 
cakephp error linkable behavior

I can't find any good documentation on the linkable behaviour for cakephp. I'm trying to use it given some code samples I've found on the internet, but I'm getting a SQL Error, as well as it is returning 298 rows which should be 136 due to the fact that it is displaying records without a related record in the table specified in the Rental model. I figure the code: array('not' => array('Rental.ri_num' => null) would keep those rows from showing. So, I need to know where there is good documentation on this, and why I'm getting the error listed. and if I can use this for queries like view all Agents with more than 5 and less than 15 Rentals. or something like that. ------------------------------------------------------------------------- ERRORS ---------------------------------------------------------------------------- Warning (512): SQL Error: 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'bind' at line 1 [CORE\cake\libs\model\datasources\dbo_source.php, line 684] Query: bind Notice (8): Undefined index: ReferralCommission [APP\models\behaviors\linkable.php, line 83] ------------------------------------------------------------------------- CODE ---------------------------------------------------------------------------- layout = 'ajax'; $unpaidcommissions = $this->ReferralCommission->find('all', array( 'link' => array('Rental' => array( 'RentalLineitem')), 'conditions' => array( array('not' => array('Rental.ri_num' => null)), 'RentalLineitem.ri_bill_e_dte time(), 'ReferralCommission.rc_amt_paid' => '0'), 'contain' => array('Agent', 'Rental') )); foreach ($unpaidcommissions as &$unpaidcomm) { $agencyid = $unpaidcomm['ReferralCommission']['r_num']; } $this->set('unpaidcount', count($unpaidcommissions)); $this->set('commissions', $unpaidcommissions); } } ?>
