[site]: stackoverflow
[post_id]: 5579393
[parent_id]: 
[tags]: 
Joining Customer on Attribute

I'm trying to filter my orders which are returned back by the magento API by a customer attribute. I tried several approaches but nothing seem to work. I'm using Magento 1.4.1.1 atm and the api does this at the moment: $billingAliasName = 'billing_o_a'; $shippingAliasName = 'shipping_o_a'; $collection = Mage::getModel("sales/order")->getCollection() ->addAttributeToSelect('*') ->addAddressFields() ->addExpressionFieldToSelect( 'billing_firstname', "{{billing_firstname}}", array('billing_firstname'=>"$billingAliasName.firstname") ) ->addExpressionFieldToSelect( 'billing_lastname', "{{billing_lastname}}", array('billing_lastname'=>"$billingAliasName.lastname") ) ->addExpressionFieldToSelect( 'shipping_firstname', "{{shipping_firstname}}", array('shipping_firstname'=>"$shippingAliasName.firstname") ) ->addExpressionFieldToSelect( 'shipping_lastname', "{{shipping_lastname}}", array('shipping_lastname'=>"$shippingAliasName.lastname") ) ->addExpressionFieldToSelect( 'billing_name', "CONCAT({{billing_firstname}}, ' ', {{billing_lastname}})", array('billing_firstname'=>"$billingAliasName.firstname", 'billing_lastname'=>"$billingAliasName.lastname") ) ->addExpressionFieldToSelect( 'shipping_name', 'CONCAT({{shipping_firstname}}, " ", {{shipping_lastname}})', array('shipping_firstname'=>"$shippingAliasName.firstname", 'shipping_lastname'=>"$shippingAliasName.lastname") ); Which is the default API call I guess. Now I just want to join a customer attribute called update - how do I achieve this simple task? Or is this not possible on a flat table like sales_flat_order ?
