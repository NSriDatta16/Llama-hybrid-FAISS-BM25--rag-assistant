[site]: crossvalidated
[post_id]: 56039
[parent_id]: 
[tags]: 
Variance of average of estimate computed by importance sampling

I have a random variable X of which I sample N values [$x_{1}$...$x_{N}$]. From these values I calculate the estimate P of function H(x) using Importance Sampling, i.e. $P = \sum_{i=1}^{N} w_{i}H(x_{i})$ ( $H(x_{i})$ gives as output either 0 or 1) . This is done for T trials and for each trial ' $t$ ', I have two output vectors - [$P_{0}$, $P_{1}$, ..., $P_{t}$] , and [$Pavg_{0}$, $Pavg_{1}$, ..., $Pavg_{t}$] where $Pavg_{i}$ is the average of all P's upto trial t i.e. $Pavg_{i}= 1/t*\sum_{k=1}^{t}P_{k}$ Question is what is the variance of $Pavg_{t}$. I want this value so that I can know how close my simulation results are to the actual case. Should I just calculate the variance($Pavg_{t}$) from the vector(2)? I also came across the formula to calculate variance of estimate in Monte Carlo, given as $Var(P_{MC}) = P_{MC}(1-P_{MC})/N$, where $P_{MC}$ is the monte-carlo estimate. Do I use this to calculate $Var(Pavg_{t})$?
