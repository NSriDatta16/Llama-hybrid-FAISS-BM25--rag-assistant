[site]: stackoverflow
[post_id]: 1544148
[parent_id]: 
[tags]: 
I have a dynamic library, how to know if it calls malloc during run-time?

I need to do networking in uCsimm, Motorola Dragon Ball. As I'm running uClinux with RTAI patch, and I need real-time performance, therefore all malloc and its friends are undesirable. I have the following piece of code for socket dynamic library. How to know that it calls malloc during run-time? When I compiled in cygwin on Windows, I used cygwin and found that it uses malloc, calloc, realloc & free. How to find out on Ubuntu/Linux which functions are called during run-time? Thanks in advance! #include #include #include #include #include #include #include #include #include #include /* BUFFER_LEN is 4096 bytes */ #define BUFFER_LEN 4096 /* receiver port number */ #define RECEIVERPORT 2009 /* Variable and structure definitions. */ int receiver_socket_d, client_socket_d, ret_val; unsigned int length = sizeof (unsigned int); int totalcnt = 0, on = 1; char temp; char buffer[BUFFER_LEN]; struct sockaddr_in serveraddr; struct sockaddr_in their_addr; fd_set read_fd; struct timeval timeout; int receiver_setup() { timeout.tv_sec = 5; timeout.tv_usec = 0; /* The socket() function returns a socket descriptor */ /* representing an endpoint. The statement also */ /* identifies that the INET (Internet Protocol) */ /* address family with the TCP transport (SOCK_STREAM) */ /* will be used for this socket. */ /************************************************/ /* Get a socket descriptor */ if ((receiver_socket_d = socket(AF_INET, SOCK_STREAM, 0)) 0) ) { /* When select() indicates that there is data */ /* available, use the read() function to read */ /* 4096 bytes of the string that the */ /* client sent. */ /***********************************************/ /* read() from client */ ret_val = read(client_socket_d, &buffer[totalcnt], (BUFFER_LEN - totalcnt)); //printf("Received data from client: %s\n\n", buffer); if (ret_val
