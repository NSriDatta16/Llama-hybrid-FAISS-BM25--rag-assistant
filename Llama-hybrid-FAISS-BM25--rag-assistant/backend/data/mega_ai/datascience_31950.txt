[site]: datascience
[post_id]: 31950
[parent_id]: 
[tags]: 
Keras/TensorFlow in R - Additional Vector to Custom Loss Function

I would like to pass a vector that is outside of the training data, but the same length as the training data, to a custom loss function. The vector represents a post-prediction funnel (one or zero) that an observation has to pass through before they can yield (one or zero). Obviously, I can't use this funnel as a feature, but I would like to use it in a loss function. Something along the lines of cross entropy plus an additional penalty... funnel This code works syntactically, but I'm concerned that when I go to fit the model, batch_size and shuffle arguments rearrange the data in a way that funnel no longer lines up with the training data. Question... How can I be sure that the funnel and the ( y_true , y_pred ) pairs are referencing the same observation when calculating the loss? More info on the 'why' of this problem, as well as additional code that shows my progress thus far, can be found here . Thanks in advance for any help! I'm relatively new to deep learning, so please bear with me.
