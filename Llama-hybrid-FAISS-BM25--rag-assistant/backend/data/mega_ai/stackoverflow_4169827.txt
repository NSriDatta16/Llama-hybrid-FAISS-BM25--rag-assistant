[site]: stackoverflow
[post_id]: 4169827
[parent_id]: 
[tags]: 
NServiceBus: Object reference exception from NServiceBus.Host

I am getting an exception when I try to start a modified version of the PubSub sample. I am trying to do a few things like making subscription not automatic, and injecting my own ISubscriptionStorage implementation. Here is what I did to MyPublisher\EndpointConfig.cs: using NServiceBus; using NServiceBus.Grid.MessageHandlers; using NServiceBus.ObjectBuilder; using NServiceBus.Sagas.Impl; namespace MyPublisher { class EndpointConfig : IConfigureThisEndpoint, IWantCustomInitialization { public void Init() { NServiceBus.Configure.With() .DefaultBuilder() .XmlSerializer() .UnicastBus() .LoadMessageHandlers(First .Then ()) .DoNotAutoSubscribe(); NServiceBus.Configure.Instance.Configurer.ConfigureComponent (ComponentCallModelEnum.Singleton); } } } It used to be this: using NServiceBus; using NServiceBus.Grid.MessageHandlers; using NServiceBus.Sagas.Impl; namespace MyPublisher { class EndpointConfig : IConfigureThisEndpoint, AsA_Publisher, ISpecifyMessageHandlerOrdering { public void SpecifyOrder(Order order) { order.Specify(First .Then ()); } } }
