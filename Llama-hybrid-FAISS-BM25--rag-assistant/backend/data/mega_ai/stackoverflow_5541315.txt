[site]: stackoverflow
[post_id]: 5541315
[parent_id]: 
[tags]: 
Wicket - Replace Label By TextField and vice versa

I am trying to replace a Label by a TextField in a ListView. I saw a similar wicket example few weeks ago over internet, but I don't remember the link. I have added AjaxEventBehavior - "onDblClick" to the ListItem by which I want to replace a Label by a TextField and also added AjaxFormComponentUpdatingBehavior - "onBlur" to the TextField such that the TextField will be replaced by Label. Somehow it is not working. The List model for the ListView contain only {"aaaaaaaaaaaaa", "bbbbbbbbbbbbbbbb", "cccccccccccccc"} [as I am testing it] so the first Label will be "aaaaaaaaaaaaa", if I double click on this Label the TextField is appearing the place of the Label "cccccccccccccc", which is unexpected. And also the "onBlur" event is not working. Hope I can explain the problems. The code is given below: public class TaskTypeSettingsPage extends BasePage implements Serializable { private String val; public TaskTypeSettingsPage() { add(new TaskTypeSettingsForm("form")); } public void setVal(String val) { this.val = val; } public String getVal() { return val; } private class TaskTypeSettingsForm extends Form { private static final long serialVersionUID = 10058L; private Fragment labelFragment; private Fragment textFragment; public TaskTypeSettingsForm(String id) { super(id); setOutputMarkupId(true); ListView listView = new ListView("row", Arrays.asList("aaaaaaaaaaaaa", "bbbbbbbbbbbbbbbb", "cccccccccccccc")) { @Override protected void populateItem(ListItem item) { String str = (String) item.getModelObject(); item.add(new Label("listLabel", str)); item.setOutputMarkupId(true); labelFragment = new Fragment("frag", "labelFragment", this.getPage()); Label label = new Label("label", str); label.setOutputMarkupId(true); labelFragment.setOutputMarkupId(true); labelFragment.add(label); item.add(labelFragment); textFragment = new Fragment("frag", "textFragment", this.getPage()); TextField text = new TextField("text", new PropertyModel(TaskTypeSettingsPage.this, "val")); text.setOutputMarkupId(true); textFragment.setOutputMarkupId(true); textFragment.add(text); item.add(new AjaxEventBehavior("onDblClick") { @Override protected void onEvent(AjaxRequestTarget target) { labelFragment.replaceWith(textFragment); labelFragment = textFragment; target.addComponent(textFragment); } }); text.add(new AjaxFormComponentUpdatingBehavior("onBlur") { @Override protected void onUpdate(AjaxRequestTarget target) { textFragment.replaceWith(labelFragment); textFragment = labelFragment; target.addComponent(labelFragment); } }); } }; add(listView); } } } And Any information or example code will be very helpful to me. Thank you. Edit: I found the link: example but the source code is not available.
