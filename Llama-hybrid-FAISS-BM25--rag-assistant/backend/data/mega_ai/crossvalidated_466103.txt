[site]: crossvalidated
[post_id]: 466103
[parent_id]: 465746
[tags]: 
You correctly note that fixed effects (FE) and first-differences (FD) should be similar when $T = 2$ . The slight difference you are observing is due to the estimation of the intercept in an FD equation. The intercept usually drops out after differencing. In some contexts, you might want to estimate a time trend , even in a two period case; the intercept is that deterministic change. I encourage you to read this post which details the derivation. I will reproduce your results using the lm() function on the transformed data . Be mindful, the standard errors will likely be off, in part because they require different transformations of the simulated data. I will follow-up with a second test using the plm() function. To begin, I created a stacked data frame which can easily be reproduced by others. library(tidyverse) library(dplyr) data_raw % group_by(id) %>% mutate( y_demeaned = y - mean(y), x_demeaned = x - mean(x), y_diff = y - dplyr::lag(y), x_diff = x - dplyr::lag(x) ) %>% ungroup(.) data_trans # A tibble: 6 x 8 id time y x y_demeaned x_demeaned y_diff x_diff 1 1 1 1 2 -1 0 NA NA 2 1 2 3 2 1 0 2 0 3 2 1 6 4 0.5 -1.5 NA NA 4 2 2 5 7 -0.5 1.5 -1 3 5 3 1 9 6 0.5 0.5 NA NA 6 3 2 8 5 -0.5 -0.5 -1 -1 Next, I will estimate FE and FD, separately. Take note of the -1 inside of the specification. This removes the intercept. ### --- Estimation using the lm function on the 'transformed data' lm_within $coefficients[["x_demeaned"]] [1] -0.2 lm_diff$ coefficients[["x_diff"]] [1] -0.2 ### --- Estimation using the plm function library(plm) plm_within |t|) x -0.2 0.5291503 -0.3779645 0.7418011 summary(plm_diff)[["coefficients"]] Estimate Std. Error t-value Pr(>|t|) x -0.2 0.5291503 -0.3779645 0.7418011 Note, the "within-estimator" in the plm() function omits the intercept for us. However, when we moved to the FD estimator, we needed to remove it manually . In fact, it is recommended to use -1 to remove the intercept term. To quote from the documentation on page 86: For first–difference models, the intercept is maintained (which from a specification viewpoint amounts to allowing for a trend in the levels model). The user can exclude it from the estimated specification the usual way by adding "-1" to the model formula. Interestingly, if you add time to your FE model, the coefficient on the time variable is equal to the intercept of the FD estimator. In sum, make sure you omit the intercept term if you want to demonstrate—explicitly—that the coefficients are similar.
