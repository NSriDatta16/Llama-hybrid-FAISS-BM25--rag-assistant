[site]: stackoverflow
[post_id]: 2080809
[parent_id]: 2075081
[tags]: 
Your problem is probably this, $_SERVER[REMOTE_ADDR] You are embedding that directly into a double-quoted string. When you want to access an array in a double-quoted string you need to put the variable array access inside a pair of curly braces. Corrected string: "SELECT * FROM accounts WHERE registration_ip = '{$_SERVER['REMOTE_ADDR']}' AND created > ".(time() - 3600) Also, alway quote indexes, you used REMOTE_ADDR instead of 'REMOTE_ADDR' or "REMOTE_ADDR" Hope this helps.
