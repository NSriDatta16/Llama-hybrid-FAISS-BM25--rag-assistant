[site]: crossvalidated
[post_id]: 569859
[parent_id]: 569843
[tags]: 
The baseline of Shapley values shown ( $0.50$ ) is the average of all predictions. It is not a random base value. To quote from the original 2017 SHAP paper " A Unified Approach to Interpreting Model Predictions ": " They (SHAP values) explain how to get from the base value $E[f(z)]$ that would be predicted if we did not know any features to the current output $f(x)$ . " This means this base-line value relates directly to the average prediction of our classifier, i.e. if we create a probabilistic prediction from our classifier $C$ for every item in our sample, and then we take the average of those predicted probabilities (i.e. $E[f(z)]$ ) that will be our (approximate) base value. In the example, you used that happens to be $0.50$ . Here is a quick example in Python: from sklearn import datasets from sklearn.model_selection import train_test_split from sklearn.ensemble import RandomForestClassifier import numpy as np import shap iris = datasets.load_iris() # Use only the first 80 points so we have "some imbalance" data = iris.data[:80] label = iris.target[:80] train_x, test_x, train_y, test_y = train_test_split(data, label, random_state=0) rfc = RandomForestClassifier(n_estimators=500) rfc = rfc.fit(train_x, train_y) pred_values = rfc.predict_proba(train_x) explainer = shap.TreeExplainer(rfc) print(f"My base-line is: {explainer.expected_value[0]:.3f} " + f"and my average prediction is: {np.mean(pred_values.T[0]):.3f}")
