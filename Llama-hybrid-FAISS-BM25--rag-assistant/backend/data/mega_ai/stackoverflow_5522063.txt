[site]: stackoverflow
[post_id]: 5522063
[parent_id]: 
[tags]: 
Serving php as css/js: Is it fast enough? What drawbacks are there?

I've recently started getting into the area of optimizing preformance and load times client side, compressing css/js, gzipping, paying attention to YSlow, etc. I'm wondering, while trying to achieve all these micro-optimizations, what are the pros and cons of serving php files as css or javascript? I'm not entirely sure where the bottleneck is, if there is one. I would assume that between an identical css and php file, the "pure" css file would be slightly faster simply because it doesn't need to parse php code. However, in a php file you can have more control over headers which may be more important(?). Currently I'm doing a filemtime() check on a "trigger" file, and with some php voodoo writing a single compressed css file from it, combined with several other files in a defined group. This creates a file like css/groupname/301469778.css , which the php template catches and updates the html tags with the new file name. It seemed like the safest method, but I don't really like the server cache getting filled up with junk css files after several edits. I also don't bother doing this for small "helper" css files that are only loaded for certain pages. If 99% of my output is generated by php anyways, what's the harm (if any) by using php to directly output css/js content? (assuming there are no php errors) If using php, is it a good idea to mod_rewrite the files to use the css/js extension for any edge cases of browser misinterpretation? Can't hurt? Not needed? Are there any separate guidelines/methods for css and javascript? I would assume that they would be equal. Which is faster: A single css file with several @imports , or a php file with several readfile() calls? What other ways does using php affect speed? Once the file is cached in the browser, does it make a difference anymore? I would prefer to use php with .htaccess because it is much simpler, but in the end I will use whatever method is best.
