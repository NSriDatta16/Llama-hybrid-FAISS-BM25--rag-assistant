[site]: crossvalidated
[post_id]: 419242
[parent_id]: 
[tags]: 
How to reproduce the classification heatmap figure (Figure 2) from the FCN paper?

I want to replicate the results of the paper "Fully Convolutional Networks for Semantic Segmentation" (Long and Shelhamer, 2015) in PyTorch. Doing so, I tried to replicate the initial experiment described in chapter 3.1 where the fully-connected layers of a CNN are reinterpreted as convolutional layers with "kernels that cover the entire input regions". From the output (the size of which now depends on the input image) the authors compute a "classification heatmap" for one particular (ImageNet) class, presumably by applying Softmax across all filter maps in the output (at each pixel location) and selecting the resulting probability for the respective class. This process is visualized in Figure 2 of the paper: The input image happens to be image no. 60 from the VOC 2011 validation set and the output heatmap seems to be about 17 x 13 pixels in size. Further, the network in the figure looks like AlexNet, judging by the number of layers and filters per layer. I implemented everything as described above in PyTorch, using the torchvision implementation of AlexNet. Curiously, after applying the convolutional layers and the final Average Pooling layer, the resulting filter maps have spacial dimension 6 x 6, which is much smaller than the heatmap in the image. Since the subsequent convolutional layers can only further decrease the output size and upsampling layers have yet not been introduced at that point in the paper, I'm clueless as to how the heatmap in the figure has been produced. Can anyone help me out here? Thanks! P.S.: I also emailed the authors about this. I'll keep you posted if I should receive a response!
