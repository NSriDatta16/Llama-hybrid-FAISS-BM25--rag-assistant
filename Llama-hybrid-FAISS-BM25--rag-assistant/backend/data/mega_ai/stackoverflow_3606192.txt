[site]: stackoverflow
[post_id]: 3606192
[parent_id]: 3606107
[tags]: 
Have a look at ClassMexer which is just a simple implementation of the new java.lang.instrument.Instrumentation interface. Just follow the instructions, which are pretty simple. It may be too intrusive for your use as it runs as javaagent but from your example it should be ok.
