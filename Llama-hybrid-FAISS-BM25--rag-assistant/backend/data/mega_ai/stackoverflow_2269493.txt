[site]: stackoverflow
[post_id]: 2269493
[parent_id]: 2266396
[tags]: 
- (NSString*)stringByTruncatingStringWithFont:(UIFont *)font forWidth:(CGFloat)width lineBreakMode:(UILineBreakMode)lineBreakMode { NSMutableString *resultString = [[self mutableCopy] autorelease]; NSRange range = {resultString.length-1, 1}; while ([resultString boundingRectWithSize:CGSizeMake(FLT_MAX, FLT_MAX) options:NSStringDrawingUsesLineFragmentOrigin | NSStringDrawingUsesFontLeading attributes:attributes context:nil].size.width > width) { // delete the last character [resultString deleteCharactersInRange:range]; range.location--; // replace the last but one character with an ellipsis [resultString replaceCharactersInRange:range withString:truncateReplacementString]; } return resultString; } Note that since iOS 6 this method is not safe to run on background threads anymore.
