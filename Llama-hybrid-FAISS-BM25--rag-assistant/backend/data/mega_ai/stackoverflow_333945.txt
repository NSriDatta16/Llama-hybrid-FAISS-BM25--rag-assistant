[site]: stackoverflow
[post_id]: 333945
[parent_id]: 333593
[tags]: 
You can't really be sure that the only reason that the selector woke up was due to the wakeup call. You may also have socket activity. So, you need to make the caller of wakeup also do something like setting a volatile boolean to indicate its desire for attention. The the selector loop can check the value of this boolean every time it wakes up.
