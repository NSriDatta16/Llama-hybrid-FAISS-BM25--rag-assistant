[site]: stackoverflow
[post_id]: 3786206
[parent_id]: 
[tags]: 
How to get a resource from a merged ResourceDictionary in a code-behind file?

I have a custom look-less control derived from Control class. It's template is defined in Generic.xaml file. Now I want to add some UI stuff to it (mostly brushes) and want to do that in separate resource dictionary, and then access those stuff from the code-behind feil (*.xaml.cs). See bellow: Generic.xaml (fragment): ... CategoriesColors.xaml (fragment): ... Server side part (fragment): private static void OnCategoryNameChanged(DependencyObject d, DependencyPropertyChangedEventArgs e) { var categoryName = (CategoryName)e.NewValue; var element = (Element) d; switch (categoryName) { case CategoryName.NobleGas: element.Background = (Brush)element.TryFindResource("categoryNobleGas"); break; case CategoryName.Halogen: element.Background = (Brush)element.TryFindResource("categoryHalogen"); break; case CategoryName.OtherNonmetal: element.Background = (Brush)element.TryFindResource("categoryOtherNonmetal"); break; case CategoryName.Metalloid: It doesn't work. Basically TryFindResource method always returns null. Any ideas how to make these stuff work together? Thank you! UPD: If I add following line in the constructor of the control it works: this.Resources = Application.LoadComponent(new Uri("PTE.Controls;Component/Resources/CategoriesColors.xaml", UriKind.Relative)) as ResourceDictionary; But first, it will duplicate dictionary (load new one every time) and consume considerable more memory. Second, I really want to do it in XAML.
