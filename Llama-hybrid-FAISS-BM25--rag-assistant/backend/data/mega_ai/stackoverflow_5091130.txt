[site]: stackoverflow
[post_id]: 5091130
[parent_id]: 5088907
[tags]: 
git diff -Garegex runs fine with msysgit 1.7.4, but only in a bash session (in a DOS session, it returns nothing) It will display the diff if the regex matches a line added or removed from the staged version. added or removed : not changed . Meaning in your case, it won't work The OP eckes reports it works (with msysgit1.7.4+ only), adding that the diff man page for -G option includes: "Look for differences whose added or removed line matches the given regex", which relates to the diff output where a changed line is printed as one added and one removed line . Example: I add a new line 'aaa' (without git add : just a simple edit) $ git diff -Gaaa diff --git a/conf/fragments/xxx_repos.conf b/conf/fragments/xxx_repos.coindex 263fa85..3475f9b 100644 --- a/conf/fragments/xxx_repos.conf +++ b/conf/fragments/xxx_repos.conf @@ -10,3 +10,4 @@ repo xxx-sdsfwk RW+ = vonc user1 user2 RW = @xxx_users xxx-sdsfwk "Owner" = "for..." +aaa Note that with Git 2.33 (Q3 2021), using --pickaxe-regex (normally reserved for -S ) won't be possible with -G (which already uses a regex anyway). See commit 5d93460 , commit 22233d4 , commit f97fe35 , commit fa59e7b , commit 9e20442 , commit a8d5eb6 , commit 5b0672a , commit 5d35a95 , commit 52e011c , commit 2e197a7 , commit 03c1f14 , commit d90d441 , commit 102fdd2 , commit a47fcbe , commit d26ec88 , commit 188e9e2 , commit 7cd5d5b , commit 064952f , commit 69ae930 , commit c960939 , commit 6d0a401 , commit ecbff14 (12 Apr 2021) by Ævar Arnfjörð Bjarmason ( avar ) . (Merged by Junio C Hamano -- gitster -- in commit 4da281e , 13 Jul 2021) pickaxe : die when -G and --pickaxe-regex are combined Signed-off-by: Ævar Arnfjörð Bjarmason When the -G and --pickaxe-regex options are combined we simply ignore the --pickaxe-regex option. Let's die instead as suggested by our documentation, since -G is always a regex. When --pickaxe-regex was added in d01d8c6 ("Support for pickaxe matching regular expressions", 2006-03-29, Git v1.3.0-rc4 -- merge ) only the -S option existed. Then when -G was added in f506b8e ("git log/diff: add -G that greps in the patch text", 2010-08-23, Git v1.7.4-rc0 -- merge ) neither the documentation for --pickaxe-regex was updated accordingly, nor was something like this assertion added. Since 5bc3f0b ("diffcore-pickaxe doc: document -S and -G properly", 2013-05-31, Git v1.8.4-rc0 -- merge ) we've claimed that --pickaxe-regex should only be used with -S , but have silently tolerated combining it with -G , let's die instead.
