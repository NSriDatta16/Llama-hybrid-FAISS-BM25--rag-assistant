[site]: stackoverflow
[post_id]: 2363399
[parent_id]: 
[tags]: 
Accessing Azure Table entities

So I have this app which needs to query entities from the Azure Tables storage from tables I don't know the schema of. 1) Is there a way I can do that with the Storageclient wrapper? 2) I'm guessing no, so I tried with the REST API and I always get the 403 Forbidden when I query for the entities. This is my code. HttpWebRequest request = (HttpWebRequest)WebRequest.Create(string.Format("http://{0}.table.core.windows.net/Tables('{1}')", account,query)); request.UserAgent = " Microsoft ADO.NET Data Services"; request.KeepAlive = true; request.Method = "GET"; request.Headers.Add("x-ms-version", "2009-09-19"); request.Headers.Add("x-ms-date", string.Format("{0} GMT", DateTime.UtcNow.ToString ("ddd, dd MMM yyyy HH:mm:ss"))); request.Headers.Add("Authorization", string.Format("SharedKey {0}:{1}", account, key)); request.Accept = "application/atom+xml,application/xml"; request.Headers.Add("Accept-Charset", "UTF-8"); request.Headers.Add("DataServiceVersion", "1.0;NetFx"); request.Headers.Add("MaxDataServiceVersion", "1.0;NetFx"); HttpWebResponse response = (HttpWebResponse)request.GetResponse();
