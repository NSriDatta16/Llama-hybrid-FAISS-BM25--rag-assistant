[site]: stackoverflow
[post_id]: 3541834
[parent_id]: 3541801
[tags]: 
If you are talking about images that are going to be displayed in the browser, and you want to make as sure as possible they are valid images, I recommend opening them in GD using the appropriate imagecreatefrom*() function and saving them back in the desired target format. That not only makes sure they are images - this won't work if the input data is broken - but it also filters out any possible shenanigans exploiting leaks in the browsers' graphics libraries, and removes Metadata contained in the image (which often contains sensitive info like author, program(s) used to create the image, camera, location and shooting time) and makes sure the image can be viewed in the browser (CMYK JPG uploads, which will not display in any Version of IE, won't work.) A potential downside of this is that JPEG images may suffer from a slight loss of quality (GD's JPG encoding quality is not good) and there may be problems with images with transparencies.
