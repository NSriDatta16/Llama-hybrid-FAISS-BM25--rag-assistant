[site]: stackoverflow
[post_id]: 5122384
[parent_id]: 
[tags]: 
PHP & C++ Retrieving user IP

I have a C++ console app that uses wininet.h to go out to a URL, and download the contents of a web page. The contents are usually just a single IP address. It goes here: http://www.whatismyip.com/automation/n09230945.asp Everything works great. Then I decided to create my own IP checker in PHP, using the following code: This looks correct in the browser, identical whatismyip.com's results, but the C++ program just adds bunch of junk after the IP, then repeats the IP half cut off, and then adds more junk. What is causing this? I tried analyzing the headers, but I can't spot the difference. Also, I tried putting a plain txt file on to the server, and the C++ program reads it perfect. I also tried changing my headers to both plain/text and text/plain. Same result. Thank you for your help! Edit: Here's a portion of the C++ code: HINTERNET OpenAddress = InternetOpenUrl(connect,"http://www...", NULL, 0, INTERNET_FLAG_PRAGMA_NOCACHE|INTERNET_FLAG_KEEP_CONNECTION, 0); char DataReceived[16] = " "; DWORD NumberOfBytesRead = 0; while (InternetReadFile(OpenAddress, DataReceived, 16, &NumberOfBytesRead) && NumberOfBytesRead) { cout
