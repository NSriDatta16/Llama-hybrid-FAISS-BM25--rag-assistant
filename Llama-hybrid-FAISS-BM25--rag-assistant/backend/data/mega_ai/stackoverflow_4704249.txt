[site]: stackoverflow
[post_id]: 4704249
[parent_id]: 
[tags]: 
Error in winsock program

#include #include #include #pragma comment(lib, "Ws2_32.lib") #include using namespace std; int WINAPI WinMain(HINSTANCE hInst, HINSTANCE hPrevInst, LPSTR lpCmd, int nShow) { WSADATA wsaData; WSAStartup(MAKEWORD(1,1), &wsaData); SOCKET Sock = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP); if(Sock == INVALID_SOCKET) { WSACleanup(); return INVALID_SOCKET; }; LPHOSTENT hostEntry; in_addr iaHost; SOCKADDR_IN Addr_in; Addr_in.sin_family=AF_INET; Addr_in.sin_addr.s_addr=inet_addr("10.0.2.6"); Addr_in.sin_port=htons(25); if ( connect(Sock,(LPSOCKADDR)&Addr_in,sizeof(struct Addr_in)) == SOCKET_ERROR) { WSACleanup(); return INVALID_SOCKET; }; struct Email { LPSTR sender , recipient , message , subject; }; Email e = { "vin@jkdbk.com" , "vinod@vrk.com" , "hi" , "joke"}; LPSTR lpszBuff = new char[500]; //LPSTR vin=new char[500]; recv(Sock,lpszBuff,500,0); cout =0; i++) { sprintf(lpszBuff,"MAIL FROM: %s\r\n",e.sender); send(Sock,lpszBuff,strlen(lpszBuff),0); recv(Sock,lpszBuff,100,0); sprintf(lpszBuff,"RCPT TO: %s\r\n",e.recipient); send(Sock,lpszBuff,strlen(lpszBuff),0); recv(Sock,lpszBuff,100,0); sprintf(lpszBuff,"DATA\r\nFROM: \r\nSUBJECT: %s\r\n%s\r\n.\r\n",e.sender,e.subject,e.message); send(Sock,lpszBuff,strlen(lpszBuff),0); recv(Sock,lpszBuff,100,0); //} sprintf(lpszBuff,"QUIT"); send(Sock,lpszBuff,strlen(lpszBuff),0); //recv(s,lpszBuff,100,0); delete lpszBuff; WSACleanup(); exit(0); } This is a program to send mail to mailserver whose address is given It gives me error error C2027: use of undefined type 'WinMain::Addr_in'..
