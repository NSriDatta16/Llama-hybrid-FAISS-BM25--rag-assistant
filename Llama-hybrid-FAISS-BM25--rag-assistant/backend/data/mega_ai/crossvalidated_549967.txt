[site]: crossvalidated
[post_id]: 549967
[parent_id]: 341272
[tags]: 
With time series data it is often helpful to "difference" the data by subtracting each data point from the one following it. In this case it might be helpful to go one farther and calculate percent log difference. The equations below assume a regular, discrete time series with data points following each other at equal time intervals. To calculate simple difference : $$d_t = x_t - x_{t-1}$$ To calculate percent log difference: $$pld_t = 100 \left( \log {\frac {x_t} {x_{t-1}}} \right)$$ Differencing Differencing is often applied to remove the trend from a time series that goes up more often than not, but even if the "trend" slope is zero differencing can be useful for subtracting out the overall mean level. Differencing preserves the original units of measurement, which may be unhelpful for relating one variable to another that has very different units of measurement. In that case we might want to calculate relative differences. Relative difference We could calculate simple relative differences, perhaps as a percent. $$dpct_t = 100 \left( \frac {x_t - x_{t-1}} {x_{t-1}} \right) = 100 \left( \frac {x_t} {x_{t-1}} - 1 \right)$$ However, relative differences are asymmetrical with respect to positive versus negative changes. For variables that are always non-negative, the value can decrease by at most 100% from one time period to another (a relative difference of -100%), but there is no limit to how big a relative increase could be. Percent log difference Percent log difference (pld) provides a measure of relative change that is symmetric around zero. This means that if you observe a pld of -P% followed by a pld of +P% , or vice versa, the resulting level is back to the starting level. The same is not true of simple relative difference. Undifferencing One challenge posed by differencing in all the forms discussed above is that we lose information about the level of the original variable. Given differenced data alone, you cannot easily recreate the original series along with the correct units of measurement. Some sort of calibration is necessary. This could be as simple as arbitrarily assigning the value 100 to the starting value. Alternatively, you could compare the starting value to a known reference to establish a baseline value in the desired measurement units. Sample data The table below demonstrates differencing, relative difference, and log percent difference applied to a toy time series. In this sample data I have natural logarithms, because this yields values close to simple percent differences (but more well-behaved in terms of symmetry around zero). Time Data Diff PctDiff LogPctDiff 0 95 1 100 5 5.3 5.1 2 105 5 5.0 4.9 3 100 -5 -4.8 -4.9 4 95 -5 -5.0 -5.1 Mean: 99 0 0.1 0.0
