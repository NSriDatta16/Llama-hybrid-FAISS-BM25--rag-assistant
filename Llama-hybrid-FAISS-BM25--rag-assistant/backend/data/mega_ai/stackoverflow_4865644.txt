[site]: stackoverflow
[post_id]: 4865644
[parent_id]: 4865604
[tags]: 
The part after the # is a "hash" or "fragment". It is entirely client-side - it is never sent to the server (and if it is, it results in an error). As such, your PHP script will never see it, and can't therefore fix it. This is correct behavior, and by design. That said, you could check for the #fragment using a client-side solution (e.g. in JS with document.location.hash ) and redirect from there.
