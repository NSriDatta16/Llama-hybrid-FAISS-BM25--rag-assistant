[site]: stackoverflow
[post_id]: 3354478
[parent_id]: 3354246
[tags]: 
The iPhone 4 user agent string is setup like this: Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_0 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Version/4.0.5 Mobile/8A293 Safari/6531.22.7 Should help you the old iPhone is: Mozilla/5.0 (iPhone; U; CPU iPhone OS 3_0 like Mac OS X; en-us) AppleWebKit/528.18 (KHTML, like Gecko) Version/4.0 Mobile/7A341 Safari/528.16 So in your code, the version would be 4.0.5 for the iPhone 4 and 4.0 for the iPhone.
