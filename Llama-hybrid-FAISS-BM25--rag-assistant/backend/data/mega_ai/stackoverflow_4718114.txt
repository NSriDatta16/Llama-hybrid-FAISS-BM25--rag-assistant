[site]: stackoverflow
[post_id]: 4718114
[parent_id]: 4640958
[tags]: 
There is a very elegant data structure called a tiered vector which supports O(1) worst-case lookup, O(1) amortized append, and O(sqrt n) amortized insertion at any point in the structure. Moreover, it's very memory-efficient, wasting only O(sqrt n) overhead at any point (compared to the O(n) overhead from a dynamic array). I don't know how useful this might be in your particular instance, but a description can be found here: http://www.cs.brown.edu/cgc/jdsl/papers/tiered-vector.pdf
