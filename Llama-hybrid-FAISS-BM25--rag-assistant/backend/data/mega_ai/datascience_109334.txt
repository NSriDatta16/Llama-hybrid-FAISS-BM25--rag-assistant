[site]: datascience
[post_id]: 109334
[parent_id]: 58670
[tags]: 
libxgboost.so as of version XGBoost-1.5.2 uses OMP for parallelization. There is no option to set the number of threads used for prediction using XGBoost API, unfortunately, nthreads DMatrix argument has no effect. Set environment variable OMP_THREAD_LIMIT to the maximum number of threads OMP can use. E.g. export OMP_THREAD_LIMIT=1 causes the following messages: OMP: Warning #96: Cannot form a team with 32 threads, using 1 instead. OMP: Hint Consider unsetting KMP_DEVICE_THREAD_LIMIT (KMP_ALL_THREADS), KMP_TEAMS_THREAD_LIMIT, and OMP_THREAD_LIMIT (if any are set). In Python add these lines before other imports: import os os.environ["OMP_THREAD_LIMIT"] = "1"
