[site]: stackoverflow
[post_id]: 4714854
[parent_id]: 4709162
[tags]: 
You should store the entire URL, including the fragment part. The fragment part is the #fragment at the end of some URLs. For example, I think every Yahoo ClaimedIdentifier actually includes a fragment like this: https://me.yahoo.com/a/2RCv_bQ7341PA3v4irf5tzu_9K_fF1414afa414#aHd88 It is vitally important that the entire ClaimedIdentifier be stored, and later used to identify the same person. Also, be sure your identity check is case sensitive . Do not use the System.Uri.Equals method to verify that two ClaimedIds are equivalent. It would return true in cases where only the #fragment is different, which is not correct . You should use Identifier.Equals or the simple String.Equals(string, string, StringComparison.Ordinal) method. Or if you're looking up the user from your users table in a database, be certain that your users table is configured to be case sensitive for the ClaimedId column.
