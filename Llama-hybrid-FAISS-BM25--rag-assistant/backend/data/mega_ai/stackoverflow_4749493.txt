[site]: stackoverflow
[post_id]: 4749493
[parent_id]: 
[tags]: 
Strange float behaviour in OpenMP

I am running the following OpenMP code #pragma omp parallel shared(S2,nthreads,chunk) private(a,b,tid) { tid = omp_get_thread_num(); if (tid == 0) { nthreads = omp_get_num_threads(); printf("\nNumber of threads = %d\n", nthreads); } #pragma omp for schedule(dynamic,chunk) reduction(+:S2) for(a=0;a And for NREC=NLIG=1024 and higher values, in a 8 core board, I get up to 7 speedup. The problem is that if I compare the final results for variable S2, it differs between 1 to 5% to the exact results obtained in the serial version. What could be the reason? Should I use some specific compilation options to avoid this strange float behaviour ?
