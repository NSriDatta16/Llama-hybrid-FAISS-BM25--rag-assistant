[site]: datascience
[post_id]: 57315
[parent_id]: 
[tags]: 
QuantileTransform before or after long-to-wide format transformation?

I perform the following steps: Perform quantile transform Transform it from wide to long format Train the anomaly detection model on the wide-format data Will there be some significant change if I, instead, first perform a wide-to-long transform, and after perform the quantile transform? Since the normalization is column-based, I understand, that the average will be slightly different across the columns, so the normalization might produce a bit different results. But would it really affect the results a lot, or it does not really matter? Example of data : Features : daily temperature, daily number of routes taken by the machine, daily movements in some parts of the machine (eg. number of switches). Data contains a lot of outliers, that was motivation to select Quantile Transform. Analysis will be done on 4-days window, hence the transformation to the wide format. For example, consider one feature in the long format. If I perform some normalization procedure on this feature in the long format, all the numbers will be taking into account for computing std/mean/quantiles/... Temperature =========== 15 21 23 30 24 14 30 19 20 23 31 19 However, if I transform to the long format: Temperature_1 Temperature_2 Temperature_3 Temperature_4 ============= ============= ============= ============= 15 21 23 30 24 14 30 19 20 23 31 19 So, now, if apply the same normalization procedure, it would calculate the statistics (std/mean/quantile depending on the chosen method) on each column separately. Would it be safe to assume that in case of relatively big amount of data (eg. 100,000-500,000 rows) these differences would not matter, or is it safer to first perform the normalization, and then transform the data to the wide format? Thanks.
