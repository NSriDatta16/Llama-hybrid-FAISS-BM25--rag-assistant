[site]: stackoverflow
[post_id]: 333080
[parent_id]: 332992
[tags]: 
If I understand you question, you are basically working on a feed agregator site? You can do the following; start by refreshing every 1 hor (for example). When you have anough entries from some feed - calculate the average interval between entries. Then use that interval as an interval for fetching that feed. For example, if the site published 7 articles in the last 7 days - you can fetch feeds from it every 24hours (1day). I use this algorithm with a few changes, when I calculate this average interval I divide it by 2 (to be sure not to fetch too rarely). If the result is less than 60 minutes - I set the interval to 1h or it is bigger than 24 I set it to 24h. For example, something like this: public function updateRefreshInterval() { $sql = 'select count(*) _count ' . 'from article ' . 'where created>adddate(now(), interval -7 day) and feed_id = ' . (int) $this->getId(); $array = Db::loadArray( $sql ); $count = $array[ '_count' ]; $interval = 7 * 24 * 60 * 60 / ( $count + 1 ); $interval = $interval / 2; if( $interval self::MAX_REFRESH_INTERVAL ) { $interval = self::MAX_REFRESH_INTERVAL; } Db::execute( 'update feed set refresh_interval = ' . $interval . ' where id = ' . (int) $this->getId() ); } The table is 'feed', 'refreshed' is the timestampt when the feed was last time refreshed and 'refresh_interval' is the desired time interval between two fetches of the same feed.
