[site]: stackoverflow
[post_id]: 3665869
[parent_id]: 
[tags]: 
Modify App.config permanently C#

OK, so I'm trying to use the appSettings element in the App.Config file to determine what kind of storage to use. Here is my app.config file: So I want to change the value of the storage "setting" to "xmlfile", so I wrote this method to change the field following some post I found on the internet: public static void UpdateAppSettings(string keyName, string keyValue) { XmlDocument doc = new XmlDocument(); doc.Load(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile); foreach (XmlElement elem in doc.DocumentElement) { if (elem.Name == "appSettings") { foreach (XmlNode node in elem.ChildNodes) { if (node.Attributes[0].Value == keyName) { node.Attributes[1].Value = keyValue; } } } } doc.Save(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile); } How ever when I use it, there is no change to the App.Config. Any ideas on what I'm doing wrong? P.S. Just for reference I'm only using the following simple method to test it: Console.WriteLine(ConfigurationManager.AppSettings["storage"].ToString()); Console.Read(); AppConfigFileSettings.UpdateAppSettings("storage", "xmlfile"); Console.WriteLine(ConfigurationManager.AppSettings["storage"].ToString()); Console.Read(); Which just prints out "memory" twice.
