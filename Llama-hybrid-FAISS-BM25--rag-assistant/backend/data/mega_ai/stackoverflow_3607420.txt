[site]: stackoverflow
[post_id]: 3607420
[parent_id]: 3607350
[tags]: 
I think you're using line-height the wrong way. That property only gives you the height of each line in a paragraph, it's used to measure space between two lines, not to count how many lines you have in your paragraph. You remove text from the content in your truncateLineCount() but lineCount always has the same value, thus the while cycle is never ending... P.S. Be careful: truncateLineCount also removes html (char by char), not only text.
