[site]: crossvalidated
[post_id]: 101077
[parent_id]: 
[tags]: 
Using PC scores or cluster analsis in predictions

I have very big data and low number of observations. So I decided to use PCA to reduce dimension of the data. The following is R example (just an dummy example - for workout): xmat In this example dataset I have 1000 variables and 100 observations / subjects. I am doing PCA. Lets say. out Q1: is there a way to reduce dimensionality with p > n ? I would like to use all variables information as opposed to representative ones. Without having proper solution I went anyway to use cluster analysis of variables to categorize the variables and pick the randomly from the clusters. To create a list of representative variables I tried to cluster the variables. # cluster variables d What I am thinking is randomly pick one variable from each group above and use this in PCA. Assume that I have the following y variable. set.seed(1234) yvar.d Here is my question : What could be statistical challenge of using cluster analysis ? Can we use PCA scores in predictions of y. How ? Just multiple regression or we can introduce something such as variance explained by each components in the model ? Edits: Based on the discussions (see the comments below), I am using different function to do PC analysis. "The calculation is done by a singular value decomposition of the (centered and possibly scaled) data matrix, not by using eigen on the covariance matrix. This is generally the preferred method for numerical accuracy. The print method for these objects prints the results in a nice format and the plot method produces a scree plot." - from function help. out1 out1$rotation I also come to see an example in SO how to use PCA in prediction . Here is my workout: ## take our training and test sets YY I just adopted this script from the SO link, I am not sure about accuracy of the script. I still have technical questions remaining such as clarification to remaining question 2 above: (1) If I want to split data into training and test set by sampling 50% of data (as show in the script). Should I do just multiple regression with y and the out1$x ? how many components to use ? is variance of each component play role in good model selection such as avoid over-fitting ? How ? (2) Clustering (using x clusters) vs PCA analysis (with subset of x components vs all ) what would be statistically favorite for predictions in the situations where have p > n ? As I said to my mind the PCA analysis can use all information but I do not know if there is downside of such information such as over-fitting and "error consumption". Worked example appreciated.
