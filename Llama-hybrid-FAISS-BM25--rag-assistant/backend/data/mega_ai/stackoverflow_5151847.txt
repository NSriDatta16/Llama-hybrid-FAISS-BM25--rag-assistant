[site]: stackoverflow
[post_id]: 5151847
[parent_id]: 
[tags]: 
How to live stream video using C program. What should be the HTTP reply ? How can I use chunked encoding if possible?

(the actual question has been edited because I was successful doing live streaming, BUT NOW I DO NOT UNDERSTAND THE COMMUNICATION between client and my C code.) Okay I finally did live streaming using my C code. BUT I COULD NOT UNDERSTAND HOW "HTTP" IS WORKING HERE. I studied the communication b/w my browser and the server at the link http://www.flumotion.com/demosite/webm/ using wireshark. I found that the client first sends this GET request GET /ahiasfhsasfsafsgfg.webm HTTP/1.1 Host: localhost Connection: keep-alive Referer: file:///home/anirudh/Desktop/anitom.html User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.98 Safari/534.13 Accept-Encoding: gzip,deflate,sdch Accept-Language: en-US,en;q=0.8 Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 Range: bytes=0-1024 to this get request the server responds by sending this reply HTTP/1.0 200 OK Date: Tue, 01 Mar 2011 06:14:58 GMT Connection: close Cache-control: private Content-type: video/webm Server: FlumotionHTTPServer/0.7.0.1 and then the server sends the data until the client disconnects. The client disconnects when it receives a certain amount of data. The CLIENT then connects to the server on a new port and the same GET request is sent to the server. The server again gives the same reply but this time the client does not disconnect but continuously reads the packets until the server disconnects. I wrote a C code which in which I have a server socket which replicates the above behavior. (thanks to wireshark, flumotion and stackoverflow) BUT BUT BUT, I could not understand why does the client need to send two requests and why does it resets on the first request and again send the same request on a new port and this time it listens to the data as if its getting live streamed. Also I do not know how I can live stream using chunked encoding. The same thing in detail is available here : http://systemsdaemon.blogspot.com/2011/03/live-streaming-video-tutorial-for.html and here http://systemsdaemon.blogspot.com/2011/03/http-streaming-video-using-program-in-c.html Please help me out. Thanks in advance.
