[site]: stackoverflow
[post_id]: 2992270
[parent_id]: 2992237
[tags]: 
Formally the code causes undefined behavior because of the pointer type mismatch in new[] / delete[] . In practice it should work fine. The pointer type mismatch issue can easily be fixed by adding a cast to the delete-expression delete [] (BYTE *) pArray; If Point type is defined as shown in the question (i.e. with trivial constructor and destructor), then this correction solves all formal issues there are in this code. From the language point of view, the lifetime of an object with trivial constructor (destructor) begins (ends) simultaneously with its storage duration. I.e. there's no requirement to perform the actual invocation of constructor (destructor).
