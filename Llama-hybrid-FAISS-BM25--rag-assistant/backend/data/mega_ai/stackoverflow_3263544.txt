[site]: stackoverflow
[post_id]: 3263544
[parent_id]: 3258254
[tags]: 
There must have been a problem with the recipes, the following override works fine: set :application, "example.co.uk" # If you aren't deploying to /u/apps/#{application} on the target # servers (which is the default), you can specify the actual location # via the :deploy_to variable: set :deploy_to, "/home/example/#{application}" # SCM Options default_run_options[:pty] = true # Must be set for the password prompt from git to work ssh_options[:forward_agent] = true # Agent forwarding keys set :repository, "git@github.com:example/MyRepo.git" # Your clone URL set :scm, "git" set :branch, "master" set :deploy_via, :remote_cache set :user, "james" # The server's user for deploys role :app, "example.co.uk" role :web, "example.co.uk" role :db, "example.co.uk", :primary => true namespace :deploy do desc "Restarting mod_rails with restart.txt" task :restart, :roles => :app, :except => { :no_release => true } do run "touch #{current_path}/tmp/restart.txt" end [:start, :stop].each do |t| desc "#{t} task is a no-op with mod_rails" task t, :roles => :app do ; end end end
