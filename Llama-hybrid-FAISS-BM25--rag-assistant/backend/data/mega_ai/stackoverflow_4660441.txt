[site]: stackoverflow
[post_id]: 4660441
[parent_id]: 
[tags]: 
iOS: Easy way of accessing XML data records?

I have an application which needs to load data from a remote server (businesses by location) and display them on a map. The feed from the server is XML based. I have successfully done an implementation of this but wondered if I could make my life a bit easier. Currently, I am using Google's GDataXML library, I have implemented a library for getting remote data in the background and it calls me back when complete or during loading if I want. When the full data has been loaded, I traverse the document and convert the different levels to be an object, adding that object to an NSMutableArray (as I want to do lazy loading so I want to add as more is requested) and then passing that array to the next bit of my app that then interprets and pins/annotates the map for me. Example XML data (abstracted): Fred Bloggs and Co 123 No Street, Nowhere Somesville Someshire XX11 1XX ..... more records but you get the idea ..... Example storage object (abstracted) -- businessrecord.h -- @interface BusinessRecord : NSObject { NSString *name; NSString *address; NSString *town; NSString *county; NSString *postcode; } @property (nonatomic, copy) NSString *name; @property (nonatomic, copy) NSString *address; @property (nonatomic, copy) NSString *town; @property (nonatomic, copy) NSString *county; @property (nonatomic, copy) NSString *postcode; @end -- businessrecord.m -- @implementation BusinessRecord @synthesize name, address, town, county, postcode; @end Right, so you can probably guess that i'm manually parsing each XML element in each node and manually transferring them to the BusinessRecord object. This is particularly time consuming as I have to write three or more lines of code in different places for each property. Under GDataXML you access each element with something like: NSArray *businesses = [[[xmlRoot elementsForName:@"businesses"] objectAtIndex:0] elementsForName:@"business"]; NSMutableArray *businessList = [[NSMutableArray alloc] initWithCapacity: businesses.count]; for (int i=0; i This all seems extremely long winded to me, there must be a better way of doing this? What I want to end up with is everything in my XML at the level "business" in some kind of random access array, I don't want to individually specify each element. Ideally, something like in PHP where you can just have a sequential array containing associative arrays like: $businessList = Array( Array( "name" => "Fred Bloggs and Co", "address" => "123 No Street", "town" => "Sometown", "county" => "Someshire", "postcode" => "XX11 1XX" ) ); So i'm guessing I need to write a wrapper class that can interpret a specific element and get all its sub elements right (ie, enumerate the elements and then work on them). What do I store this in? NSDictionary? Maybe something like (pseudo code): NSArray *businesses = [[[xmlRoot elementsForName:@"businesses"] objectAtIndex:0] elementsForName:@"business"]; NSMutableArray *businessList = [[NSMutableArray alloc] init]; [xmlBreakerUpper breakUpXMLAtElement: businesses addToMutableArray: &businessList]; Has anyone any experience with GDataXML and can help me with enumeration as I can't follow the sparse documentation. I'm not totally attached to GDataXML at this stage, i've only two classes that count on it so if there's a better way. I am in control of the server output but the client has a preference for XML for other data access API's they may or may not want to implement later. I don't need to send XML back to the server at this stage, the requests are HTTP GET based at present but may become POST later when people fill in forms. All help or pushes in the right direction greatfully received.
