[site]: stackoverflow
[post_id]: 3633043
[parent_id]: 3632658
[tags]: 
To me, chaining replace s isn't very elegant. I would try: var symbols = { '@': '%40', '&amp;': '%26', '*': '%2A', '+': '%2B', '/': '%2F', '&lt;': '%3C', '&gt;': '%3E' }; str = str.replace(/([@*+/]|&(amp|lt|gt);)/g, function (m) { return symbols[m]; }); Conveniently, this also avoids the original problem.
