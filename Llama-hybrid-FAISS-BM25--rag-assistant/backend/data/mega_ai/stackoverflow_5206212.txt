[site]: stackoverflow
[post_id]: 5206212
[parent_id]: 
[tags]: 
g_io_channel + socket = server , still didnt receive proper data and just get one client ? in C language

folks, if you dont mind please see following code : #include #include // gio channel #include //socket(); #include // structure #include // printf void deal(GIOChannel *in, GIOCondition condition, gpointer data) { struct sockaddr_storage income; int insock = g_io_channel_unix_get_fd(in); socklen_t income_len = sizeof(income); int newsock = accept(insock, (struct sockaddr*)&income, &income_len ); if(newsock == -1) { printf("failure on newsock\n"); } char buff[128]; int recv_total = 0; int recv_byte = 128; int recv_sizing; while (recv_total and it get compiled : $ gcc -o dengersocket_glib dengersocket_glib.c `pkg-config --cflags --libs glib-2.0` and now listening and look forward any packet data from client and the client send the following packet : $ echo wew | nc -v localhost 3000 nc: connect to localhost port 3000 (tcp) failed: Connection refused Connection to localhost 3000 port [tcp/*] succeeded! and now the server receive following weird packet : $ ./dengersocket_glib data : ï¿½o= and my question is, where is the fault on my code ?, 1.how to get the proper packet and every single client could connect to the server ? [solved] 2.the passing data is solved, but still just could accept only one client, how to get more than one client?
