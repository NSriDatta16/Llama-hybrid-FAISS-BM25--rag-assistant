[site]: stackoverflow
[post_id]: 863762
[parent_id]: 862388
[tags]: 
It works for me with find using two steps: first delete the files allowed, then their empty directories! find -x -E ~/Desktop/test -not \( -type d -regex '.*/(cupcake|livewire)/*.*' -prune \) -print0 | xargs -0 ls -1 -dG # delete the files first # Mac OS X 10.4 find -x -E ~/Desktop/test -not \( -type d -regex '.*/(cupcake|livewire)/*.*' -prune \) -type f -exec /bin/rm -fv '{}' \; # Mac OS X 10.5 find -x -E ~/Desktop/test -not \( -type d -regex '.*/(cupcake|livewire)/*.*' -prune \) -type f -exec /bin/rm -fv '{}' + # delete empty directories find -x ~/Desktop/test -type d -empty -delete
