[site]: stackoverflow
[post_id]: 4171593
[parent_id]: 
[tags]: 
How to use Persistent Connection of PDO?

I have the following code and freshed this webpage in Firefox for 5 times, then the MySQL showed me 5 connections. According to the PDO Manual, Persistent connections are not closed at the end of the script, but are cached and re-used when another script requests a connection using the same credentials. The persistent connection cache allows you to avoid the overhead of establishing a new connection every time a script needs to talk to a database, resulting in a faster web application. I have used the same credentials, but the number of MYSQL connection keep increasing. Even trying to close connection with $db = null could not close the connections. What's wrong of my code? true)); foreach ($dbh->query('SELECT * from agent') as $row) print_r($row); $dbh = null; } catch (PDOException $e) { print "Error! : " . $e->getMessage() . " "; die(); }
