[site]: stackoverflow
[post_id]: 2967600
[parent_id]: 2967243
[tags]: 
so assuming output param is coming in as... Hello World! What do you expect to happen? You aren't writing xml, just reading the output string through a reader. The reader class won't add anything to your fragment, it's a reader, not a writer. You could so something like this instead...It will parse your output as xml and then you can add a declaration before giving it to the message. var output = " Hello World! "; var xd = XDocument.Parse(output); xd.Declaration = new XDeclaration("1.0", "utf-8", "yes"); return Message.CreateMessage(version, messageFault, xd.ToString());
