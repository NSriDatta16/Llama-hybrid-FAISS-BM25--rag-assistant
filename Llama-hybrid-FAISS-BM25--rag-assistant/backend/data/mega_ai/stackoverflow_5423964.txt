[site]: stackoverflow
[post_id]: 5423964
[parent_id]: 
[tags]: 
How can I troubshoot this Hadoop filesystem installation error?

I'm trying to install Hadoop on a non-Cloudera Ubuntu test image. Everything seems to have been going well until I ran ./bin/start-all.sh . The name node never comes up so I can't even run a hadoop fs -ls to connect to the filesystem. Here's the namenode log: 2011-03-24 11:38:00,256 INFO org.apache.hadoop.ipc.Server: Stopping server on 54310 2011-03-24 11:38:00,257 ERROR org.apache.hadoop.hdfs.server.namenode.NameNode: org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /usr/local/hadoop-datastore/hadoop-hadoop/dfs/name is in an inconsistent state: storage directory does not exist or is not accessible. at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:290) at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:88) at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:312) at org.apache.hadoop.hdfs.server.namenode.FSNamesystem. (FSNamesystem.java:293) at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:224) at org.apache.hadoop.hdfs.server.namenode.NameNode. (NameNode.java:306) at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1006) at org.apache.hadoop.hdfs.server.namenode.NameNode.main(NameNode.java:1015) 2011-03-24 11:38:00,258 INFO org.apache.hadoop.hdfs.server.namenode.NameNode: SHUTDOWN_MSG: /************************************************************ SHUTDOWN_MSG: Shutting down NameNode at Brash/192.168.1.5 ************************************************************/ I've chmod -R 755 on the root directory and even gone so far as to make sure the directory exists by creating it with mkdir -p . hadoop@Brash:/usr/lib/hadoop$ ls -la /usr/local/hadoop-datastore/hadoop-hadoop/dfs/ total 16 drwxr-xr-x 4 hadoop hadoop 4096 2011-03-24 11:41 . drwxr-xr-x 4 hadoop hadoop 4096 2011-03-24 11:31 .. drwxr-xr-x 2 hadoop hadoop 4096 2011-03-24 11:31 data drwxr-xr-x 2 hadoop hadoop 4096 2011-03-24 11:41 name Here's my /conf/hdfs-site.xml : hadoop@Brash:/usr/lib/hadoop$ cat conf/hdfs-site.xml dfs.replication 1 Default block replication. The actual number of replications can be specified when the file is created. The default is used if replication is not specified in create time.
