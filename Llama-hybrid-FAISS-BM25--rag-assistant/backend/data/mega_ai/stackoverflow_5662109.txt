[site]: stackoverflow
[post_id]: 5662109
[parent_id]: 
[tags]: 
Integrate a general menu in my asp.net mvc solution

For my learning, I'm building a document management solution with ASP.NET MVC3. Below are pages I manage: a search/result page (list of items) a favorite page (list of items) an edit page a create page I also have a Site.Master page where I show a treeview menu on the left side of the screen. So wherever the user is located in the website, the treeview menu is showing his location by underlining his location in the menu. For building the treeview menu, I use the code below (cleaned for easy reading): Documents The problem is that I need to underline the active item in my menu. So if user is displaying the search page, my search menu entry must be underlined. How can I proceed? I was thinking about the integration of this information in the strongly typed viewmodel passed to each viewpage but it failed because each page is using a different viewmodel. I prefer not using a session variable because it is not a clean solution. Any ideas? A solution with a session variable: I save the "current menu item" in a session variable (from my controller). So, whenever the Site.Master page is reloaded, it recreate every treeview menu item. For each one, it checks if the item is equal to the session variable. If yes, the class "selected" is added to the item (css highlighted with blue). I don't really like using session variables. Maybe there are more elegant solutions?
