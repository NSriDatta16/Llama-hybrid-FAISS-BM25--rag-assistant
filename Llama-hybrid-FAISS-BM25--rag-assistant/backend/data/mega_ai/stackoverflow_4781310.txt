[site]: stackoverflow
[post_id]: 4781310
[parent_id]: 
[tags]: 
Android: upload photos

Greetings, I'm having trouble uploading a photo from my Android phone. Here is the code I'm using to prompt the user to select a photo: public class Uploader{ public void upload(){ Log.i("EOH","hi..."); Intent photoPickerIntent = new Intent(Intent.ACTION_GET_CONTENT); photoPickerIntent.setType("image/*"); startActivityForResult(photoPickerIntent, 1); } protected void onActivityResult(int requestCode, int resultCode, Intent data) { if (resultCode == RESULT_OK) { Bundle extras = data.getExtras(); Bitmap b = (Bitmap) extras.get("data"); //what do do now with this Bitmap... //how do I upload it? } } } So I have the Bitmap b, however I don't know what to do next? I have the following code for sending POST requests: List params = new ArrayList (2); params.add(new BasicNameValuePair("someValA", String.valueOf(lat))); params.add(new BasicNameValuePair("someValB", String.valueOf(lng))); new HttpConnection(handler).post("http://myurl.com/upload.php",params); How can I hook up a Bitmap image to this? I've searched google for ages and can't find a good way of doing it. I hope someone can help. Many thanks in advance, Ok I've tried chirag shah's suggestion. Here is my code: protected void onActivityResult(int requestCode, int resultCode, Intent data) { if (resultCode == RESULT_OK) { Uri imageUri=data.getData(); List params = new ArrayList (1); params.add(new BasicNameValuePair("image", imageUri.getPath())); post("http://www.myurl.com/ajax/uploadPhoto.php",params); } } where the post function (as recommended) is: public void post(String url, List nameValuePairs) { HttpClient httpClient = new DefaultHttpClient(); HttpContext localContext = new BasicHttpContext(); HttpPost httpPost = new HttpPost(url); try { MultipartEntity entity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE); for(int index=0; index However myurl.com/ajax/uploadPhoto.php is getting nothing. I've created a PHP log to log any activity on uploadPhoto.php, and nothing is showing up. It's worth noting that if I just type myurl.com/ajax/uploadPhoto.php straight into a web browser, it logs fine. Any more suggestions? Many thanks,
