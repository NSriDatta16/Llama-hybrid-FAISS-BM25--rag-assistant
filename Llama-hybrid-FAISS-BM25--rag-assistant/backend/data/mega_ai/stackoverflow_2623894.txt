[site]: stackoverflow
[post_id]: 2623894
[parent_id]: 2623852
[tags]: 
The amount of temporary data that is generated could be huge based on the joins. For an example, one database here at work had a generic search function where all of the fields were optional. The search routine did a join on every table before the search began. This worked well in the beginning. But, now that the main table has over 10 million rows... not so much. Searches now take 30 minutes or more. I was tasked with optimizing the search stored procedure. The first thing I did was if any of the fields of the main table were being searched, I did a select to a temp table on those fields only. THEN, I joined all the tables with that temp table before doing the rest of the search. Searches where one of the main table fields now take less than 10 seconds. If none of the main table fields are begin searched, I do similar optimizations for other tables. When I was done, no search takes longer than 30 seconds with most under 10. CPU utilization of the SQL server also went WAY DOWN.
