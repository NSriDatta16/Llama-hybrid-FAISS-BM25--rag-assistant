[site]: stackoverflow
[post_id]: 1872512
[parent_id]: 1872471
[tags]: 
I do not think you can do better than SELECT the_number FROM the_table where the_key = :key if found, return it if not found, INSERT INTO the_table SELECT :key, the_seq.NEXT_VAL RETURNING the_number INTO :number and COMMIT this could raise a ORA-00001(duplicate primary key insert) if the timing is unlucky. In this case, SELECT again. Not sure if JDBC supports RETURNING, so you might need to wrap it into a stored procedure (also saves database roundtrips). You can use an index-organized table (with the_key as primary key), makes the lookup faster.
