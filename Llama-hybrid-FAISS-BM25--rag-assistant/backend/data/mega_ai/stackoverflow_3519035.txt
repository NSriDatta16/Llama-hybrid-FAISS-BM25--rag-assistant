[site]: stackoverflow
[post_id]: 3519035
[parent_id]: 
[tags]: 
Flex crossdomain.xml not working correctly in Chrome/Firefox?

I've spent quite a bit of time on this so here's where I'm stuck. I'm using the debug player 10.1 to get an XMLA request from: http://localhost/dir/blah.swf to: http://localhost/olapbin/msblah.dll This worked fine in the filesystem, but now its on an IIS7 web server. After a lot of fiddling with the crossdomain.xml file I settled on: which is placed in: http://localhost/crossdomain.xml and read with: Security.loadPolicyFile("http://localhost:80/crossdomain.xml"); I setup Policy file logging (which helped come up with the above file) and on IE8 its all working just fine. I get: OK: Root-level SWF loaded: http://127.0.0.1/akts/ThinSlicerRunner.swf OK: Policy file accepted: http://localhost/crossdomain.xml OK: Searching for in policy files to authorize data loading from resource at http://localhost/olapbin/msmdpump.dll by requestor from http://127.0.0.1/akts/ThinSlicerRunner.swf OK: Searching for in policy files to authorize header sending to URL http://localhost/olapbin/msmdpump.dll by requestor from http://127.0.0.1/akts/ThinSlicerRunner.swf OK: Request for resource at http://localhost/olapbin/msmdpump.dll by requestor from http://127.0.0.1/akts/ThinSlicerRunner.swf is permitted due to policy file at http://localhost/crossdomain.xml On Chrome and Firefox I just get: OK: Root-level SWF loaded: http://localhost/akts/ThinSlicerRunner.swf OK: Policy file accepted: http://localhost/crossdomain.xml and nothing else... no attempts to authorize the httpservice requests. In the main flex error log I get: *** Security Sandbox Violation *** Connection to http://localhost/olapbin/msmdpump.dll halted - not permitted from http://localhost/akts/ThinSlicerRunner.swf Which doesn't appear when I run the same thing from IE8. Any idea what's going on ?? AS REQUESTED... MORE CODE Main sending request: var connection:TsConnection = this.__connection; var token:AsyncToken = new AsyncToken(null); connection.service.request = this.__curSoapRequest; var actualToken:AsyncToken = connection.service.send(); __tokenArr.push(actualToken); var responder:AsyncResponder = new AsyncResponder(resultHandler, faultHandler, actualToken); __responderArr.push(responder); actualToken.addResponder(responder); Connection object highlights: public function init():void { //Initialize the service object needed to query the server this.__service = new HTTPService; this.__service.method = "POST"; this.__service.contentType = "application/xml"; this.__service.resultFormat = "e4x"; this.__service.headers = getHeaders(); this.__service.url = this.__model.xmlaUrl; this.__initialized = true; } public function get service():HTTPService { return this.__service; } private function getHeaders():Object { var o:Object = {}; o["SOAPAction"] = '"urn:schemas-microsoft-com:xml-analysis:Discover"'; o["Content-Type"] = "text/xml"; return o; } Thanks for your help ... hope this helps others when fixed. ;-) Shaun http://www.vidgridz.com/
