[site]: stackoverflow
[post_id]: 4145904
[parent_id]: 4133653
[tags]: 
I could not identify the problem because of FunctionalTestCase. Mule behaves differently there. The server throws understandable exception. java.lang.ClassCastException: javax.mail.internet.MimeMultipart cannot be cast to java.lang.String at org.mule.transport.email.transformers.EmailMessageToString.doTransform(EmailMessageToString.java:57) The default e-mail transformer EmailMessageToString does not expect that MimeMultipart may contain another MimeMultipart, not only string.
