[site]: crossvalidated
[post_id]: 453959
[parent_id]: 453924
[tags]: 
Since this specification satisfies the Markov property, the simplest way to frame the problem is as a Markov chain. Let $X_t$ denote the value at "time" $t$ , and note that it has the transition probability matrix: $$\mathbf{P} = \begin{bmatrix} 1-q & & q \\ 1-p & & p \\ \end{bmatrix}.$$ For simplicity, take the row labels and column labels for this matrix to be $i,j=0,1$ . All of the listed probabilities can be computed from standard probability results for discrete Morkov chains. For example, to get the second probability on your list, you take three steps of the chain, using the transition probabilities in the matrix: $$\mathbf{P}^3 = \begin{bmatrix} 1 - q + q^2 - q^3 - q p + 2 q^2 p - q p^2 & & q - q^2 + q^3 - 2 q^2 p + q p^2 + q p \\[6pt] 1 - q + q^2 - q p - q^2 p + 2 q p^2 - p^3 & & q - q^2 + q p + q^2 p - 2 q p^2 + p^3 \\[6pt] \end{bmatrix}.$$ So you get: $$\begin{equation} \begin{aligned} \mathbb{P}(X_4=1|X_1=1) = [\mathbf{P}^3]_{1,1} = q - q^2 + q p + q^2 p - 2 q p^2 + p^.. \end{aligned} \end{equation}$$ The remaining probabilities in the list can be obtained similarly, though in one case you should reverse the "time"-direction Markov chain.
