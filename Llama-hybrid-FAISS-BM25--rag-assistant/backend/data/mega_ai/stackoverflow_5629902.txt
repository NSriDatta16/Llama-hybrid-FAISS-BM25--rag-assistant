[site]: stackoverflow
[post_id]: 5629902
[parent_id]: 
[tags]: 
Limiting Comments on Posts Index in Rails App

I am new to rails and trying to limit the number of comments displayed on my Posts Index Page to 2. Below is my posts_controller: class PostsController [:index, :show] # GET /posts # GET /posts.xml def index @posts = Post.all(:include => :comments, :order => "created_at DESC") @comments = Comment.find(:all, :order => "created_at DESC", :limit => 1) respond_to do |format| format.html # index.html.erb format.xml { render :xml => @posts } end end # GET /posts/1 # GET /posts/1.xml def show @post = Post.find(params[:id]) respond_to do |format| format.html # show.html.erb format.xml { render :xml => @post } end end # GET /posts/new # GET /posts/new.xml def new @post = Post.new respond_to do |format| format.html # new.html.erb format.xml { render :xml => @post } end end # GET /posts/1/edit def edit @post = Post.find(params[:id]) end # POST /posts # POST /posts.xml def create @post = Post.new(params[:post]) respond_to do |format| if @post.save format.html { redirect_to(@post, :notice => 'Post was successfully created.') } format.xml { render :xml => @post, :status => :created, :location => @post } else format.html { render :action => "new" } format.xml { render :xml => @post.errors, :status => :unprocessable_entity } end end end # PUT /posts/1 # PUT /posts/1.xml def update @post = Post.find(params[:id]) respond_to do |format| if @post.update_attributes(params[:post]) format.html { redirect_to(@post, :notice => 'Post was successfully updated.') } format.xml { head :ok } else format.html { render :action => "edit" } format.xml { render :xml => @post.errors, :status => :unprocessable_entity } end end end # DELETE /posts/1 # DELETE /posts/1.xml def destroy @post = Post.find(params[:id]) @post.destroy respond_to do |format| format.html { redirect_to(posts_url) } format.xml { head :ok } end end end Below is my Post model class Post has_attached_file :photo, :styles => { :medium => "600x600>", :thumb => "100x100>" }, :storage => :s3, :s3_credentials => "#{RAILS_ROOT}/config/s3.yml", :path => "/:attachment/:id/:style/:filename" has_many :comments validates :name, :presence => true validates :title, :presence => true, :length => { :minimum => 5 } end Below is my posts index view BoxScore Content "floatleft" %> Comments: post.comments.reverse %> 'Are you sure?', :method => :delete %> Comments Partial Below Posted ago by I am not getting an error message, I just don't know how to limit the amount of comments we are rendering on Posts index page. Thanks
