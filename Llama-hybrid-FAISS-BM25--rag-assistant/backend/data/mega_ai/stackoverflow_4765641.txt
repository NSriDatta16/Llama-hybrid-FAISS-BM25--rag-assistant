[site]: stackoverflow
[post_id]: 4765641
[parent_id]: 
[tags]: 
LINQ .ToList() fails on single result

It could be that its late Friday evening and I want to go home, or more likely I just can't see the problem... I have the fallowing LINQ code: mthumbs = itm.Elements(nsr + "thumbnail") != null ? (from mt in itm.Elements(nsr + "thumbnail") select new MediaThumbnail { mediaThumbnailUrl = (string)mt.Attribute("url") ?? null, mediaThumbnailHeight = (string)mt.Attribute("height") ?? null, mediaThumbnailWidth = (string)mt.Attribute("width") ?? null, mediaThumbnailTime = (string)mt.Attribute("time").Value ?? null }).ToList() : null The MediaThumbnail Class looks like: public class MediaThumbnail { public string mediaThumbnailUrl { get; set; } public string mediaThumbnailWidth { get; set; } public string mediaThumbnailHeight { get; set; } public string mediaThumbnailTime { get; set; } } and resides in the MediaOptElement class which looks like: public class MediaOptElement { public string mediaPlayer { get; set; } public string mediaRating { get; set; } public string mediaRatingScheme { get; set; } public string mediaTitle { get; set; } public string mediaTitleType { get; set; } public string mediaDescription { get; set; } public string mediaDescriptionType { get; set; } public string mediaKeywords { get; set; } public List mthumbs { get; set; } public string mediaCategory { get; set; } public string mediaCategoryScheme { get; set; } public string mediaCategoryLabel { get; set; } public string mediaHash { get; set; } public string mediaHashAlgorithm { get; set; } public string mediaCopyRights { get; set; } public string mediaCopyrightsUrl { get; set; } public string mediaRestrictions { get; set; } public string mediaRestrictionsRelation { get; set; } public string mediaRestrictionsType { get; set; } public List mediaCredit { get; set; } } Some Sample XML: wdbj7.com - Sports http://www.wdbj7.com/sports/?track=rss Headlines from wdbj7.com en Â©2011, wdbj7.com Fri, 21 Jan 2011 10:47:00 -0500 Brookville improves to 15-0 http://www.wdbj7.com/sports/wdbj7-brookville-improves-to-150-01212011,0,675989.story?track=rss The Brookville girls&apos; basketball team graduated two college basketball players last year. That was the last time they lost anything. The Lady Bees are 14-0 on the young season and looked to add to that mark Thursday night against Seminole district rival Liberty. The Minettes playing at home, had just three wins on the year.&nbsp; Haley Comer gets two for the home team. Liberty takes the 2-0 lead.&nbsp; That is when it becomes the Katie Deacon show. The four-year varsity player starts it with the defense.&nbsp; She gets the steal on one end and a basket on the other. Deacon takes her game behind the three point arc!&nbsp; That beats the buzzer at the end of the first quarter! Deacon still not done.&nbsp; She gets another steal and feeds George Mason signee Talisha Watts. Brookville improves to 15-0 with the 57-34 win. Fri, 21 Jan 2011 10:47:00 -0500 When I run my code, I get the following error: Object reference not set to an instance of an object. The stack trace is: at RssAggregator.Reader.RssReader.<>c__DisplayClass7d. b__6e(XElement mt) in E:\Aggregator\VersionControl\FeedsParserLINQ\RssAggregator\Reader \RssReader.cs:line 843 at System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext() at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection) at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source) at RssAggregator.Reader.RssReader.<>c__DisplayClass7d. b__57(XElement itm) in E:\Aggregator\VersionControl\FeedsParserLINQ\RssAggregator\Reader\RssReader.cs:line 667 at System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext() at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection) at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source) at RssAggregator.Reader.RssReader.parseFeed(XDocument xmlDoc) in E:\Aggregator\VersionControl\FeedsParserLINQ\RssAggregator\Reader\RssReader.cs:line 666 I could be wrong, but I think the problem happens when the LINQ query only returns a single result. However, I need to be able to handle cases when there might only be one media:thumbnail node or many media:thumbnail nodes. Any ideas?! Thanks!
