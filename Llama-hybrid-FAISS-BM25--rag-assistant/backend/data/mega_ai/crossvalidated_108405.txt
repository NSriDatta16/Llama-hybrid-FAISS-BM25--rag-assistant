[site]: crossvalidated
[post_id]: 108405
[parent_id]: 108387
[tags]: 
If we treat the $p$ as a fixed, known quantity (rather than something that was an estimate, as it seems it actually was) and we treat the $n$ as having come from a $\text{binomial}(N,p)$, then I believe this is actually a negative binomial problem. We can view each passenger as a Bernoulli trial, where 'success' is 'travelled with the particular bus company'. As such, the number of trials (passengers) until the $n$th success is negative binomial $\text{NB}(n,p)$ (in the 'number of trials' form; if we're using the 'number of failures' form we need to add $n$ to the result). We can use the quantiles of that conditional distribution for $N$ to get a confidence interval. So for example, with $n=1000$ and $p=0.3$ the interval $(3163,3509)$ contains just over 95% of the probability, and has very close to 2.5% in each tail. If we treat $p$ as an estimate measured with error, then this becomes a bit more complex, and we'd need some information about the estimation of $p$, or to make some assumptions about it. It might be necessary to use simulation in that case. Dealing with this would tend to make the interval a good deal wider. However, I'd actually be somewhat more inclined to consider a Bayesian approach for this problem, I think it's a pretty natural fit; incorporating prior information about $N$ and uncertainty in $p$ can both be brought in in fairly natural ways.
