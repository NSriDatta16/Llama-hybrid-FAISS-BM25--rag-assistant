[site]: stackoverflow
[post_id]: 2707120
[parent_id]: 2703277
[tags]: 
Your user factory already creates an organization by virtue of the Factory Girl association method: it "should associate a user with an organization" do user = Factory.create(:johnny) user.organization.name.should == 'Board of Recreation' organization = user.organization organization.users.count.should == 1 end Take a look at 'log/test.log' after running your spec -- you should see an INSERT for both the organization and the user. If you wanted to test this without the Factory Girl association, make a factory that just creates the user and make the association in the spec: it "should associate a user with an organization" do user = Factory.create(:johnny_no_org) org = Factory.create(:boardofrec) org.users.should be_empty org.users Of course all this is doing is testing whether ActiveRecord is doing its job. Since ActiveRecord is already thoroughly tested, you'll want to concentrate on testing the functionality of your application, once you've convinced yourself that the framework actually does what it's supposed to do.
