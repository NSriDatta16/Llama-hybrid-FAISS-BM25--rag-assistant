[site]: stackoverflow
[post_id]: 5495531
[parent_id]: 
[tags]: 
Azure SDK 1.4 - WIF - The C++ module failed to load while attempting to initialize the default appdomain

I have an old azure application which was running on the azure 1.2 SDK and relies on WIF for authentication. I have recently been trying to update it to the latest SDK (1.4). The applications compiles and runs on Azure, including authenticating with my STS. However some pages on the site just will not load throwing the following errors. Unable to find assembly 'Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'. [SerializationException: Unable to find assembly 'Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'.] System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg) +4767763 System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 type) +1725 System.AppDomain.get_Id() +0 .DoCallBackInDefaultDomain(IntPtr function, Void* cookie) +191 .LanguageSupport._Initialize(LanguageSupport* ) +354 .LanguageSupport.Initialize(LanguageSupport* ) +102 [ModuleLoadException: The C++ module failed to load while attempting to initialize the default appdomain. ] .ThrowModuleLoadException(String errorMessage, Exception innerException) +50 .LanguageSupport.Initialize(LanguageSupport* ) +169 .cctor() +33 I have ensured that the WIF dependency is set to copy local - and it is working - some pages work! any ideas on how to resolve this? Edit: The error only occurs on pages that access tablestorage
