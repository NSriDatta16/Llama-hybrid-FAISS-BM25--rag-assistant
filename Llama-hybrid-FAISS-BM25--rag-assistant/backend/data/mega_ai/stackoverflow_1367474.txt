[site]: stackoverflow
[post_id]: 1367474
[parent_id]: 
[tags]: 
Dragging an Image from Safari and dropping it onto dock icon does not work in snow leopard?

I've got an app: You can drop an image file onto the app's dock icon and it will upload the image to a free image hoster. In 10.5 you could drag an image straight out of safari (and any other browser) and drop it onto the dock. (The app opened the image from the temporary folder the browser put it in and uploaded it to the net.) Now in 10.6 the same app won't accept images dropped from safari (any other brwosers too) windows directly onto the dock icon. The browser seems to 'export' the internet-URL to image ( http://somedomain.com/the_image.png ) instead of the 10.5 behaviour of exporting the file name of the image-file in the cache. Local files dropped from finder are opened and handled flawlessly. The consequences for me are: I have to implement a service that allows dropping URLs onto my dock icon. And then to decide if a local filename was dropped or a remote url. Resulting in boilerplate code to just to decide if I should open the image with [NSData dataWithContentsOfFile] or [NSData dataWithContentsOfURL] (sadly you can't create an NSURL from a local file name) Is there a proper way to handle this and get rid of the boilerplate? (prepending a 'file://' to the filename and opening as an URL does not work.)
