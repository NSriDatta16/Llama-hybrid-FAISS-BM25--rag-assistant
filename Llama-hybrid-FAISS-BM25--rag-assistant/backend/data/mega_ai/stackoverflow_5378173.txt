[site]: stackoverflow
[post_id]: 5378173
[parent_id]: 5377992
[tags]: 
Are you allocating lots of extremely small objects -- say, just a couple of bytes? There's a certain amount of overhead associated with every allocation (because, e.g., free needs to be able to tell how big the block was). This is what's sometimes called "internal fragmentation", as opposed to "external fragmentation" where there's a certain amount of unallocated memory but you can't use it because it's split up into blocks that are too small for you to use. (Another reason why malloc doesn't ever return really small blocks is because this helps reduce external fragmentation.) If you are allocating lots of very small objects, you should consider managing them separately rather than allocating them individually on the heap. This may well be better in other ways too (e.g., improving memory locality) if you do it right.
