[site]: stackoverflow
[post_id]: 1558235
[parent_id]: 1558225
[tags]: 
Generally, you are best off just to maintain two versions of the code. The most elegant solution, of course, is to write the server logic in JavaScript itself (see cappuccino.org ); this would be a poor choice for you because it sounds like you have already written a ton of PHP code. However, if you really feel the need to scratch this itch, consider an AJAX callback to the server. While slightly slower, most users will not notice.
