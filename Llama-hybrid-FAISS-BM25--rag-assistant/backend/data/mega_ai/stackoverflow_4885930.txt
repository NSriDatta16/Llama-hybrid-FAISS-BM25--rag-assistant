[site]: stackoverflow
[post_id]: 4885930
[parent_id]: 
[tags]: 
android: parse big portion of data

I'm playing with android and trying to receive file (pdf book). To do this I wrote Servelt that encode the book into base64 string and put it in the XML document. That document contains name, author and IBSN fields also. I successfully receve it. In case of a small book I can even decode it and open. But if the size is more than 2mb I get OutOfMeoryError. My parser code is: public void characters(char[] ch, int start, int length) throws SAXException { if(builder==null) builder = new StringBuilder(); builder.append(new String(ch, start, length)); Then I do the following: fos = new FileOutputStream(Environment.getExternalStorageDirectory().toString()+"/book.pdf", false); byte[] toWrite = Base64.decode(builder.toString(), Base64.DEFAULT); fos.write(toWrite); fos.flush(); fos.close(); Does anybody know how can I parse it wothout error? I've tried to parse it in characters method (I mean using small buffer) but it fails... Illegal base 64 string.
