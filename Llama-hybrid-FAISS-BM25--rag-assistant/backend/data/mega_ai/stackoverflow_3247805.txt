[site]: stackoverflow
[post_id]: 3247805
[parent_id]: 
[tags]: 
C++ STL in VS2008: std::ostringstream throws std::bad_alloc after heavy assign/clear usage

I have come across a situation (on Win32) where the std::ostringstream object continues to consume process memory, even when it is ostensibly cleared out after a series of append-type operations. Please take a look at this C++ fragment: int main(void) { std::ostringstream cOutputLogStream; // Random long string std::string sTest = "jkspoiauyeraspfoiusdfsdfekgpweojkgpwoekpokgkpgeopoegwj"; std::string sEmpty = ""; int n = 0; int looper = 0; while (n++ During execution of the inner while() loop, observation of the process's memory usage in Task Manager shows a continuous upward ramp, which eventually levels off. However, this levelling-off happens at the same time as when the error std::bad_alloc is repeatedly thrown. This would suggest that heap memory has either been exhausted, or the requested size of block is not available in a contiguous space. Has anyone else experienced this leaking phenomenon with ostringstream objects, and what other alternative objects are available instead of this flaky one? Many thanks!
