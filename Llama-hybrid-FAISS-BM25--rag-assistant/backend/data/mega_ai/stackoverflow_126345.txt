[site]: stackoverflow
[post_id]: 126345
[parent_id]: 
[tags]: 
Is it safe to redirect to the same URL?

I have URLs of the form http://domain/image/⟨uuid⟩/42x42/some_name.png . The Web server (nginx) is configured to look for a file /some/path/image/⟨uuid⟩/thumbnail_42x42.png , and if it does not exist, it sends the URL to the backend (Django via mod_wsgi) which then generates the thumbnail. Then the backend emits a 302 redirect to exactly the same URL that was requested by the client, with the idea that upon this second request the server will notice the thumbnail file and send it directly. The question is, will this work with all the browsers? So far testing has shown no problems, but can I be sure all the user agents will interpret this as intended? Update: Let me clarify the intent. Currently this works as follows: The client requests a thumbnail of an image. The server sees the file does not exist, so it forwards the request to the backend. The backend creates the thumbnail and returns 302. The backend releases all the resources, letting the server share the newly generated file to current and subsequent clients. Having the backend serve the newly created image is worse for two reasons: Two ways of serving the same data must be created; The server is much better at serving static content. What if the client has an extremely slow link? The backend is not particularly fast nor memory-efficient, and keeping it in memory while spoon-feeding the client can be wasteful. So I keep the backend working for the minimum amount of time. Update²: I’d really appreciate some RFC references or opinions of someone with experience with lots of browsers. All those affirmative answers are pleasant but they look somewhat groundless.
