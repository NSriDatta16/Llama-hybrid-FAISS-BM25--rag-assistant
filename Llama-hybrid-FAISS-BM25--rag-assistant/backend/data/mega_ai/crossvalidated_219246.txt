[site]: crossvalidated
[post_id]: 219246
[parent_id]: 
[tags]: 
Expected Value clarifications using R/Excel

So it has been a little while since I've taken my last statistics course, and I wanted to double check that I am not making any kind of grave errors in my expected value calculations. Quick bit of background, my data is consumer receivable data, each row containing customer name, method of payment (card/cash/check), amount of total, number of items purchased, amount paid of total, amount written off, balance, and some other variables that don't matter for this problem. My data consists of about 4 million rows of data, meaning it won't all fit in Excel. This is why I have been using R to deal with this data. My task is to provide more accurate values as opposed to a completely generalized one. The person who previously held my position calculated the average percent of the bill paid and assumed that was the percent we could collect on all new purchases. This seems a little.... wrong to me. My plan is to break down the data into subsections (there are several distinct types of products that we sell), then calculate the average percent of collected of those that are already collected on. Once doing so, I will calculate the percent of cases that were collected on, and multiply those together for an expected value. My question (I guess it's a question), is what am I doing wrong here? I'm sure there is something wrong. I vaguely remember needing to multiply each case by the probability of it occurring for a completely accurate expected value, however my boss wants this project done relatively quickly and unless its a significant difference, I'll probably just use the averages. Thank you everyone!
