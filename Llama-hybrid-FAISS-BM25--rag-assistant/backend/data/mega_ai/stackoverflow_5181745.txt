[site]: stackoverflow
[post_id]: 5181745
[parent_id]: 5181403
[tags]: 
Assuming you want to split each word after five characters, unless they are already separated by hyphens, treating an entity as a single character, try this: $result = preg_replace( '/ # Start the match (?: # at one of the following positions: (? # Match the following in an atomic group: &amp;\#\w+; # an entity | # or [^\s-] # a non-space, non-dash character ){5} # exactly 5 times. ) # End of capture (?=[^\s-]) # Assert that we\'re not at the end of a "word"/x', '\1&shy;', $subject); This changes supercalifragilisticexpidon'tremember! alrea-dy se-parated count entity as one character&amp;#345;blahblah F&amp;#xe5;revejle into super&shy;calif&shy;ragil&shy;istic&shy;expid&shy;on'tr&shy;ememb&shy;er! alrea-dy se-parat&shy;ed count entit&shy;y as one chara&shy;cter&amp;#345;&shy;blahb&shy;lah F&amp;#xe5;rev&shy;ejle
