[site]: stackoverflow
[post_id]: 4256799
[parent_id]: 
[tags]: 
Which would be the best way to fill that struct?

For a homework assignement, I need to fill a list of Student structs, which look like the following: struct Student { int matriculationNumber; char *firstName; char *lastName; char *birthday; double averageGrage; } The actual data has to be read from a .csv file and looks somethink like 2345678;Meier;Hans;12.10.1985;2,4 1234567;MÃ¼ller;Fritz;17.05.1990;1,9 For reading in the data, fgetc() should be used. Now, the problem is how do I actually fill in the fields of the struct and how to handle exceptional conditions (i.e. unexpected EOF ; think for example if a line does not contain a field birthday or a field averageGroup ). This is how I'd do it intuitively (which is most probably the wrong way ;-)): Student student; if (fillMatriculationNumber(&student, fp) == -1) { // return -1 on failure or EOF goto failure; } if (fillFirstName(&student, fp) == -1) { goto failure; } if (fillLastName(&student, fp) == -1) { goto failure; } if (fillBirthday(&student, fp) == -1) { goto failure; } if (fillAverageGrade(&student, fp) == -1) { goto failure; } // OK :failure // print a message about what's wrong, and exit()
