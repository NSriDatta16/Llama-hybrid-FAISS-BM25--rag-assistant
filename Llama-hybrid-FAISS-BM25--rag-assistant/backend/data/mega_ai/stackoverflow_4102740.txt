[site]: stackoverflow
[post_id]: 4102740
[parent_id]: 
[tags]: 
document ready() not working in firefox giving null for DOM element...ie7 working fine

I have come across a need to click an element automatically after a page has been loaded, so I implemented the following code: var $j = jQuery.noConflict(); $j(document).ready(function() { document.getElementById('handler2').click(); }); Which is working fine in IE7, but not firefox. When I run the script in firefox 3 I get the following error: document.getElementById("handler2") is null Which I believe is null, because the page (in firefox) hasn't loaded the DOM entirely where the id "handler2" is located...but I don't get it. Why would it load the DOM in IE, but not Firefox? I read some posts that stated firefox in firefox3 made some changes to how javascript is executed, which might cause the problem. Perhaps the "document.ready" is being executed too soon in firefox3? Anyone got any ideas or how to fix this? Thanks in advance for your help. This isn't the best output, but the full source is too large for stackoverflow to accept. If you search for "handler2" you should find it inside an tag. Thanks for your help. Here's the Source Code. This is using 3rd party .jsp on tomcat. You won't be able to see the expanded list because a java process is creating it, but there is an element "handler2" with a click event that I am triggering. I hope this isn't too much code to clutter up the question. My script is at the very bottom. This .jsp page is using prototype.js, which is why I was using the "no conflict" so I could use jquery...I don't know prototype.js Source Code: --%> webHelpModule.currentContext = "search"; &nbsp; --> &nbsp; --> --> " class="clear setHidden">&nbsp; " type="submit"> --> it effectively hides the checkbox, other wise the whole folder of reports gets hidden if u try to comment it --> --> &nbsp; --> --> --%> --%> &nbsp; --%> &nbsp; --%> --%> --%> tabularList setMyWidth" > --> messages["properties.type.${type}"] = ' '; messages["${type}"] = ' '; messages["mode. "] = ' '; messages["${type.labelId}"] = ' '; messages["${option.labelId}"] = ' '; messages["sort.by.${sorter.id}"] = ' '; messages["root.filter"] = ' '; messages["noResults"] = ' '; // Init root object modifier variables. var organizationId = "${organizationId}"; var publicFolderUri = "${publicFolderUri}"; Search.Folder.publicUri = "${publicFolderUri}"; JSAJAX.flowExecutionKey = '${flowExecutionKey}'; Search.conf = ${searchConfiguration.json}; Search.User.isAdministrator = true; Search.conf.typeFilter.defaultType = '${defaultTypeFilter}'; var search = {}; document.observe("dom:loaded", function() { CursorManager.initialize(); KeyManager.initialize(); MenuManager.initialize(); search = new Search(${searchFilters}); search.activate(); new SearchDnD(search); new LayoutDnD(); disableSelectionWithoutCursorStyle($('foldersTree')); disableSelectionWithoutCursorStyle($('vSizer')); disableSelectionWithoutCursorStyle($('searchMenuTemplate')); disableSelectionWithoutCursorStyle($('addMenuTemplate')); disableSelectionWithoutCursorStyle($('primaryPod')); }); // Secondary search box initialization var jsSearchBoxSecondary = new JSSearchBox("js-search-secondary-control", " ", " ", {inputId: "secondarySearchText", clearBtnId: "secondaryClearBtn", searchBtnId: "secondarySearchBtn"}); jsSearchBoxSecondary.onSearch = function(searchString) { search.showTypedList(); search.notifyFilterSelected(Filter.Types.searchTermFilter, "'" + searchString + "'"); search.loadData(searchString); }; jsSearchBoxSecondary.onClear = function() { search.showTypedList(); search.notifyFilterSelected(Filter.Types.searchTermFilter, " "); search.loadData(""); }; jsSearchBoxSecondary.activate(); // var $j = jQuery.noConflict(); // $j(function($) { // $j('#handler2').click(function(e) { // e.preventDefault(); // document.getElementById('handler2').click(); // alert('hello'); // }); // }); jQuery(document).ready(function() { document.getElementById('handler2').click(); });
