[site]: crossvalidated
[post_id]: 210104
[parent_id]: 210073
[tags]: 
Computer simulation in SAS Attention, I suspect my answer is wrong, because the average deviates from the theoretical one calculated by wubher and verified by me. 1000 trials to fill a class of 10 students from 31 applicants from which 12 are low income gave me an average of 4.067 low income students in the class. (minimum 1, p25 3, p75 5, maximum 8 The code is %macro simulate(nAll,nLow,nClass,nTrials); data scores; format lowEnrolled 8.; stop; run; %do trial = 1 %to &nTrials; proc datasets noprint; delete class; run; data bucket; do applicant = 1 to &nAll; if (applicant le &nLow) then income = 'low '; else income = 'high'; output; output; if applicant le &nLow then output; end; run; %do student = 1 %to &nClass; data enrollment; set bucket nobs=nBalls; retain take; if _N_ eq 1 then take = ceil(rand('uniform', 0, nBalls)); if _N_ eq take then do; call symput('enroll', applicant); output; end; run; proc append data=enrollment base=class; run; proc sql; delete * from bucket where applicant = &enroll; quit; %end; proc sql; insert into scores select count(*) as lowEnrolled from class where income = 'low '; quit; %end; proc sgplot data=scores; histogram lowEnrolled; run; proc means data=scores min p25 mean median p75 max; var lowEnrolled; run; %mend; %simulate(31,12,10,100);
