[site]: stackoverflow
[post_id]: 3992029
[parent_id]: 
[tags]: 
"Run-Time Check Failure #2 - Stack around the variable 'filePath' was corrupted" in debug Mode

I’ve problem with this function using winsock2. When program leave this function in debug mode I receive 2 statements (only during exiting this function): “Run-Time Check Failure #2 - Stack around the variable 'filePath' was corrupted.” “Run-Time Check Failure #2 - Stack around the variable 'recBuf' was corrupted.” I’m programming in VS2008 C++ (console application). In Release mode this statements do not exist. So I’m waiting for reply and thanks a lot for your help ;) Function: #include "stdafx.h" #include "server.h" bool Server::fileReceive() { char recBuf[MAX_PACKET_BUFOR] ={0}; char filePath[100] = {0}; int size = 0; int var = 0; char key = 0; int tmp=0; FILE *fPtr = NULL; if(recv(clientSocket, recBuf, MAX_PACKET_SIZE, 0) == 0) { cerr > filePath; } if(fopen_s(&fPtr, filePath, "wb") != 0) return false; cout 0) { memset(recBuf, 0, MAX_PACKET_BUFOR); tmp = 0; if(size =MAX_PACKET_SIZE) { do { var = recv(clientSocket, recBuf, MAX_PACKET_SIZE, 0); if(var == 0) { cerr stdafx.h #pragma once #include "targetver.h" #include #include #include #include #include #include using namespace std; #define START_HEADER "FileSend" #define MAX_PACKET_SIZE 100000 #define MAX_PACKET_BUFOR 100010 #define ACK "ACK"
