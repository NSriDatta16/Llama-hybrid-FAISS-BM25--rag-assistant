[site]: stackoverflow
[post_id]: 4737214
[parent_id]: 4737169
[tags]: 
I think you need to change the first line to: [DllImport("cryptopp.dll", CharSet = CharSet.Ansi, CallingConvention = CallingConvention.Cdecl)] If you want to get very descriptive, you can also add these: public static extern IntPtr RSAEncryptString( [In, MarshalAs(UnmanagedType.LPStr)] string filename, [In, MarshalAs(UnmanagedType.LPStr)] string seed, [In, MarshalAs(UnmanagedType.LPStr)] string message); IIRC think the CharSet should take care of the encoding thing for you, but if it doesn't, use the MarshalAs also, as shown above. Edit: Oh I think I got why you still get an error! Your code still had the above problems, but it's still erring because you can't return a string object since it's not a managed object; you need to return a pointer (like IntPtr ) and then use Marshal.PtrToStringAnsi ! (I didn't really look at your return type when answering this at first.)
