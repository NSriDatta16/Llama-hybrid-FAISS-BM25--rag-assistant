[site]: stackoverflow
[post_id]: 4875865
[parent_id]: 4855678
[tags]: 
try this: // Create an XML Stream Reader XMLStreamReader xmlSR = XMLInputFactory.newInstance() .createXMLStreamReader(new StringReader(/* the above XML*/)); // Wrap the XML Stream Reader in a StAXSource StAXSource source = new StAXSource(xmlSR); // Create a String Writer StringWriter stringWriter = new StringWriter(); // Create a Stream Result StreamResult streamResult = new StreamResult(stringWriter); // Create a transformer Transformer transformer = TransformerFactory.newInstance().newTransformer(); // Set STANDALONE based on the source stream transformer.setOutputProperty(OutputKeys.STANDALONE, xmlSR.isStandalone() ? "yes" : "no"); // Set ENCODING based on the source stream transformer.setOutputProperty(OutputKeys.ENCODING, xmlSR.getCharacterEncodingScheme()); // Set VERSION based on the source stream transformer.setOutputProperty(OutputKeys.VERSION, xmlSR.getVersion()); // Transform the source stream to the out stream transformer.transform(source, streamResult); // Print the results return stringWriter.getBuffer().toString();
