[site]: stackoverflow
[post_id]: 4520766
[parent_id]: 4519849
[tags]: 
As it could be seen from your source code, you're using threads. I suppose that you have to synchronize them in a proper way. Why? As you said, your program works correct if it is executed step by step in debug mode; otherwise it doesn't. The only difference between these kinds of execution (step by step or the whole program at once) are timings. Step by step is slower, and there is obviously enough time for some of your threads to finish some job. On some machines your program might work correct even if you don't change anything. It's randomness. So - you have to pay attention how do you synchronize threads. I hope this helps.
