[site]: stackoverflow
[post_id]: 4325037
[parent_id]: 4318600
[tags]: 
from the MSDN article on Time and Clocks in DirectShow : Any object that supports the IReferenceClock interface can serve as a reference clock. A filter with access to a hardware timer can provide a clock (an example is the audio renderer), or the filter graph manager can create one that uses the system time. I've never attempted to use the IReferenceClock from a filter, but it would be my suspicion that it may not provide a high resolution clock that you need. This SO post on high resolution timers might be what you need. IAMStreamConfig.AvgTimePerFrame is for informational purposes, and attempting to adjust it won't have any effect. It's just a value from which you can calculate average frame rate for your video stream. e.g. VIDEOINFOHEADER* pVih = (VIDEOINFOHEADER*)m_MediaTypes.VideoType.pbFormat; if( pVih ) int nFrameRate = (int)( (double) (10000000.0f / pVih->AvgTimePerFrame) );
