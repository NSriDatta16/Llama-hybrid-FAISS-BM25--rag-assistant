[site]: crossvalidated
[post_id]: 338142
[parent_id]: 338105
[tags]: 
In this toy example, assuming $X$ has support $\mathbb{R}^+$ and $N$ has support $\mathbb{N}$, the exact marginal distributions are well-known: Since$$X\sim f(x)\propto \sum_{n=0}^\infty \frac{e^{-3x}x}{n!}=e^{-3x}\times e^{x}=e^{-2x}\qquad x\in\mathbb{R}^+$$the rv $X$ is an Exponential $\cal{E}(2)$ variate; Since$$N\sim p(n)\propto\int_0^\infty \frac{e^{-3x}x}{n!}\text{d}x=\frac{\Gamma(n+1)}{3^{n+1}n!}\propto\left(\frac{1}{3}\right)^n\frac{2}{3}\qquad n\in\mathbb{N}$$the rv $N$ is a Geometric $\cal{G}(2/3)$ variate. Running a standard Gibbs sampler like x=rexp(1) T=1e4;mcmc=matrix(0,T,2) mcmc[1,1]=x;mcmc[1,2]=rpois(1,x) for (t in 2:T){ mcmc[t,1]=rgamma(1,mcmc[t-1,2]+1,3);mcmc[t,2]=rpois(1,mcmc[t,1])} produces a perfect fit:
