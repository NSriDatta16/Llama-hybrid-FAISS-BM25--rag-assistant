[site]: stackoverflow
[post_id]: 4999349
[parent_id]: 4999261
[tags]: 
The major thing I can see in your code is code duplication. If you look closely, the code for fetching the twitter url and the code for the facebook url is almost exactly the same, except for the 'twitter.com' and 'facebook.com' part. My suggestion is to pull that out into a separate method that takes the doc_links variable as a parameter as well as the regex for finding the link. Also, I'm not quite sure why you're doing the "unless ..." part here: if pod_name_fragment.downcase == "the" pod_name_fragment = pod.name.split(" ")[1].to_s unless pod.name.split(" ")[1].to_s.nil? end If you don't do the "unless ..." part of the line, pod_name_fragment will be defined but nil , but if you don't include it you will get an exception if you try to refer to pod_name_fragment . Also, you should almost never rescue Exception . Use StandardError instead. Let's say your program is running and you try to cancel it with Ctrl-C. That throws a SystemExit (I'm not 100% sure about the name) exception, which is a subclass of the Exception exit. In most cases you would then want to exit right away. I know this isn't that much applicable for a Rails app, but I'm pretty sure there's other reasons to catch SystemError instead. There might be more, one easy way to find "bad code" is to look at metrics. Ryan Bates made an excellent Railscast on metrics ( http://railscasts.com/episodes/252-metrics-metrics-metrics ), and I'd suggest you look at Reek in particular for finding "code smells". Check their wiki for information on what the different things mean.
