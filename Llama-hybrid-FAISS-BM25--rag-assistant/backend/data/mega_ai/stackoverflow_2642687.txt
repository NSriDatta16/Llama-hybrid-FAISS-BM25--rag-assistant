[site]: stackoverflow
[post_id]: 2642687
[parent_id]: 2642650
[tags]: 
You could use a callback function with re.sub . When you follow the link, search down to the paragraph beginning with "If repl is a function..." import re import random def xdy(matchobj): x,y=map(int,matchobj.groups()) s = 0 for each in range(x): s += random.randint(1, y) return str(s) s='1d6+2d6+2d6-72+4d100' t=re.sub('(\d+)d(\d+)',xdy,s) print(t) # 5+10+8-72+197 print(eval(t)) # 148
