[site]: stackoverflow
[post_id]: 3449562
[parent_id]: 
[tags]: 
Subsonic 2.2 SqlQuery with Inner Join and Where

I am trying to convert the following SQL into Subsonic syntax using the SqlQuery functionality: SELECT DISTINCT * FROM FamilyMemberTeamRole FMTR INNER JOIN TeamRole TR ON FMTR.TeamRoleId = TR.TeamRoleId INNER JOIN Team T ON T.TeamId = TR.TeamId LEFT JOIN FamilyMemberClassHistory FMCH ON FMCH.FamilyMemberClassHistoryId = FMTR.FamilyMemberClassHistoryId LEFT JOIN CBSClass CG ON CG.CBSClassGroupId = FMCH.CBSClassGroupId LEFT JOIN CBSClassSession CS ON CG.CBSClassGroupId = CS.CBSClassGroupId AND (CS.ClassStartDate I came up with this however something is wrong with my syntax on the last left join as I do not know how to compare values from within the SqlQuery to themselves. SqlQuery sql = new Select().From(FamilyMemberTeamRole.Schema.TableName) .InnerJoin(TeamRole.TeamRoleIdColumn, FamilyMemberTeamRole.TeamRoleIdColumn) .InnerJoin(Team.TeamIdColumn, TeamRole.TeamIdColumn) .LeftOuterJoin(FamilyMemberClassHistory.FamilyMemberClassHistoryIdColumn, FamilyMemberTeamRole.FamilyMemberClassHistoryIdColumn) .LeftOuterJoin(CBSClass.CBSClassGroupIdColumn, FamilyMemberClassHistory.CBSClassGroupIdColumn) .LeftOuterJoin(CBSClassSession.CBSClassGroupIdColumn, CBSClass.CBSClassGroupIdColumn) .AndExpression(CBSClassSession.Columns.ClassStartDate).IsLessThanOrEqualTo(FamilyMemberTeamRole.Columns.EndDate) .Or(FamilyMemberTeamRole.Columns.EndDate).IsNull().CloseExpression() .AndExpression(CBSClassSession.Columns.IsHistory).IsEqualTo(false) .Or(CBSClassSession.Columns.IsHistory).IsNull().CloseExpression() .Where(FamilyMemberTeamRole.Columns.FamilyMemberId).IsEqualTo(this.FamilyMemberId) .Distinct();
