[site]: stackoverflow
[post_id]: 3087979
[parent_id]: 
[tags]: 
What is the best way of removing reoccurring lines from a file in Bash?

Folks, I have a file that contains ldap entries and I want to remove "version: 1" lines from the second occurrence and on. I know sed can do things like this, but since I am very new, I don't know how to proceed. This is a Solaris 10 machine and the file looks like as follows: version: 1 dn: uid=tuser1,ou=people,o=example.com,o=isp cn: tuser1 uidNumber: 3 gidNumber: 3 homeDirectory: /export/home/tuser1 loginShell: /bin/sh objectClass: posixAccount objectClass: shadowAccount objectClass: account objectClass: top uid: tuser1 shadowLastChange: userPassword: version: 1 dn: uid=tuser2,ou=people,o=example.com,o=isp uidNumber: 20 cn: tuser1 gidNumber: 3 homeDirectory: /export/home/tuser2 loginShell: /bin/sh objectClass: posixAccount objectClass: shadowAccount objectClass: account objectClass: top uid: tuser1 shadowLastChange: userPassword: version: 1 dn: uid=tuser3,ou=people,o=example.com,o=isp uidNumber: 10 cn: tuser3 gidNumber: 3 homeDirectory: /export/home/tuser3 loginShell: /bin/sh objectClass: posixAccount objectClass: shadowAccount objectClass: account objectClass: top uid: tuser3 shadowLastChange: userPassword: version: 1 dn: uid=loperp,ou=people,o=example.com,o=isp uid: loperp userPassword: objectClass: inetOrgPerson objectClass: organizationalPerson objectClass: person objectClass: top sn: pop cn: loper version: 1 dn: uid=tuser4,ou=people,o=example.com,o=isp userPassword: uid: tuser4 objectClass: inetOrgPerson objectClass: organizationalPerson objectClass: person objectClass: top sn: User4 cn: Test
