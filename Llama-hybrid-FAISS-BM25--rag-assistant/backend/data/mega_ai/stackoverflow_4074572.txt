[site]: stackoverflow
[post_id]: 4074572
[parent_id]: 4063750
[tags]: 
I found a solution to this issue. If you register as a delegate for both NSTextStorage's -textStorageDidProcessEditing: and NSLayoutManager's -didInvalidateLayout: notifications then you can effectively "queue" an operation from the text storage delegate, that will only run once the layout manager delegate receives a notification that it's safe to do so.
