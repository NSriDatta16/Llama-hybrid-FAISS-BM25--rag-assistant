[site]: crossvalidated
[post_id]: 500435
[parent_id]: 
[tags]: 
Unbiasedness of estimators of conditional expectation with discrete dependent variable

I'm trying to figure out whether the basic formula for a conditional expectation with discrete conditioning variable (let's call it $X$ ). The basic argument can go something like the following: a conditional expectation with discrete conditioning variable is a saturated regression, therefore the zero conditional mean condition from OLS holds and therefore we have unbiasedness. The problem here is with the condition that there is variation in $X$ , which in the case of a discrete $X$ is violated on a subset which is not of measure 0. Is there any way around this? In particular, it seems to me that one simply drops the cases with zero variation (and I mean drop, not assign them a value such as 0), then unbiasedness holds again? Is there a way of formalizing this intuition? Let's take the example of $X$ a binary variable (and we assume $0 ). We then have: $E(Y|X=1) = \frac{E(Y|X=1)}{E(X)}$ An estimator (which also corresponds to the OLS estimator) is: $\widehat{E(Y|X=1)} = \frac{\overline{YX}}{\overline{X}}$ The problem appears clearly here already since if $X_i = 0 \quad \forall i$ , then $\overline{X} = 0$ and the above expression is not defined. At first sight, unbiasedness is not obvious because it is a quotient of unbiased estimators, but taking a page out of the proof of unbiasedness of OLS: $\widehat{E(Y|X=1)} = E(Y|X=1) + \frac{\overline{\epsilon X}}{\overline{X}}$ where $\epsilon_i \equiv Y_i - E(Y|X=1)$ . Then by taking LIE with respect to the $X_i$ and using iid, you get unbiasedness EXCEPT for the fact that $P(X_i = 0, \forall i) \neq 0$ is non-negible. As far as I can tell, there are two options: One chooses an arbitrary number for the case $X_i = 0 \quad \forall i$ . Let's call it $\gamma$ and then, I think, we get: $BIAS = (\gamma - E(Y|X=1))P(X_i = 0, \forall i)$ One simply takes the average over the set $\{X_i, \forall i\}-\{X_i = 0, \forall i\}$ and then we have "unbiasedness". But is this true? And if so, does that correspond to a notion of unbiasedness? In particular, it seems to depend on data ...
