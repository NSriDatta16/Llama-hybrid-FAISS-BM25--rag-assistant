[site]: stackoverflow
[post_id]: 1688545
[parent_id]: 
[tags]: 
Problems overwriting (re-saving) image when it was set as image source

Good day all, I am having some trouble with image permissions. I am loading an image from file, resizing it and then saving it out to another folder. I am then displaying this like so: uriSource = new Uri(Combine(imagesDirectoryTemp, generatedFileName), UriKind.Absolute); imgAsset.Source = new BitmapImage(uriSource); This is working fine, the trouble comes if the user then selects another image immediately after and tries to save it over the original file. An exception is generated upon saving my image "ExternalException: A generic error occurred in GDI+." After some playing around i have narrowed the error down to imgAsset.Source = new BitmapImage(uriSource); as removing this line and not setting the imagesource will allow me to overwrite this file many times. I have also tried setting the source to something else, before re-saving in the hope that the old reference would be disposed, this was not the case. How can i get past this error? Thanks, Kohan Edit Now using this code i am not getting the exception however the image source is not updating. Also since i am not using a SourceStream, im not sure what i need to dispose of to get this working. uriSource = new Uri(Combine(imagesDirectoryTemp, generatedFileName), UriKind.Absolute); imgTemp = new BitmapImage(); imgTemp.BeginInit(); imgTemp.CacheOption = BitmapCacheOption.OnLoad; imgTemp.UriSource = uriSource; imgTemp.EndInit(); imgAsset.Source = imgTemp;
