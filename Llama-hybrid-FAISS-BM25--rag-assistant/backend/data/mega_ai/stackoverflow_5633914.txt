[site]: stackoverflow
[post_id]: 5633914
[parent_id]: 
[tags]: 
Run callback if/when image loaded

I want to know if looking at an image's height property is a reliable way to see if it has already loaded. Let's say I've got a reference to an image, like this: var img = document.getElementById('myImg'); If I want to run some code that relies on the image being loaded, I can put it in a callback, and run img.onload = myCallback; . But if the image has already loaded before this code runs, then the callback won't execute. This is one possible solution: if (img.height && img.height > 0) { myCallback(); } else { img.onload = myCallback; } In other words: run myCallback now if the image is already loaded, otherwise wait until it's loaded. But I have a feeling this code might be fragile... Will it work in all cases? Is there a safer or more elegant way of doing this?
