[site]: stackoverflow
[post_id]: 3831159
[parent_id]: 3830883
[tags]: 
Trying to count the cycles of an individual execution of a function is not really the right way to go. The fact that your process can be interrupted at any time, along with delays caused by cache misses and branch mispredictions means that there can be considerable deviation in the number of cycles taken from call to call. The right way is either: Count the number of cycles or CPU time (with clock() ) taken for a large number of calls to the function, then average them; or Use a cycle-level emulating profiler like Callgrind / kcachegrind . By the way, you need to execute a serialising instruction before RDTSC . Typically CPUID is used.
