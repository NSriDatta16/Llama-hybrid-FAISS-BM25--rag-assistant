[site]: stackoverflow
[post_id]: 4316418
[parent_id]: 
[tags]: 
Safely retrieve values from element that can contain different values

We have some xml elements in a database that [for older data] can sometimes contain guids and sometimes contain integers. is there a nice way of pulling out all the integrs only? This will fail if the value element contains a guid! select ra.*, t.c.value('.', 'int') as organisationId from Audit.EmployeeAudit ra cross apply ra.EmployeeXml.nodes('//*:employee/*:property[*:name="ORG"]/*:value') t(c) Sample Xml ORG 39 Leeds
