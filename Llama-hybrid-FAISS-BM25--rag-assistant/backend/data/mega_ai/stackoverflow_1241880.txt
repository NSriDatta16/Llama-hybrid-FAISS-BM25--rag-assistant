[site]: stackoverflow
[post_id]: 1241880
[parent_id]: 1241856
[tags]: 
Make sure your version of MySQL supports subqueries (4.1+). Next, you could try rewriting your query to something like this: SELECT ratings.username, (SUM(rating)/COUNT(*)) as TheAverage, Count(*) as TheCount FROM ratings, users WHERE ratings.month='Aug' and ratings.username = users.username AND users.gender = 1 GROUP BY ratings.username HAVING TheCount > 4 ORDER BY TheAverage DESC, TheCount DESC
