[site]: stackoverflow
[post_id]: 3537526
[parent_id]: 3531561
[tags]: 
Apache mod_rewrite is a middle tier, so it is not clear what you mean when you say a middle tier is not an option. Implementing your security policy based on data in couchdb is perfectly fine. However the cost is that you are responsible for the implementation to be correct. It's not as bad as it sounds. Remember, people have been doing this with MySQL web apps for a long time. The thing to keep in mind is that CouchDB does not support document-level read permissions because it is impractical to track those permissions as the data weaves through all the maps and reduces of the views. For example, say we have a bidding system. There are two bids, mine and yours I have read access to my bid which is $10, but I cannot read your bid document due to middleware policy However I discover a view which computes the average of all bids. The average is $7.50. Therefore I know you bid $5 and I will lower my bid to $6 In other words, if you are wrapping the CouchDB API, you will at least need to whitelist those queries which are allowed. And remember, the vhost and rewrite rules run within CouchDB so simply looking at the incoming query may not be enough. Hopefully that sheds some light on why read control is at the database level.
