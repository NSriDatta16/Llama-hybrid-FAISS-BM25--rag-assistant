[site]: stackoverflow
[post_id]: 4264203
[parent_id]: 4264184
[tags]: 
If you put the fileStream in a using block you don't need to worry about closing it, and then just leave the cleaning up (deleting of the file in the catch block. try { using (FileStream fileStream = new FileStream(GetStorageFile(), FileMode.Create, FileAccess.Write, FileShare.Write)) { //write the file ... } } catch (Exception ex) { File.Delete(GetStorageFile()); //Re-throw exception throw; }
