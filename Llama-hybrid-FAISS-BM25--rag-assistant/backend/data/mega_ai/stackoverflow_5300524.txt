[site]: stackoverflow
[post_id]: 5300524
[parent_id]: 
[tags]: 
Why I get two http:// when I send mail by using delayed_job

require 'digest' class UserMailer Hi, guys. As you see above. this is the code sending mail. I use UserMaililer.send_later("deliver_receive_complimen",compliment) to send mail. and the mail sent, however, when I open the mail, I got something like this: Bonjour Kamil , vous a envoyé un compliment sur Blanee! Cliquez ici pour afficher l’expéditeur et ses commentaires sur vous : http://http://feature.blanee.net/membres/compliments/66 Merci, L'équipe Blanee ________________ Ce mail est à l'attention de Kamil B.. Vous voulez contrôler les notifications que vous recevez? Veuillez vous rendre sur : http://http://feature.blanee.net/mon-compte/notifications. Vous ne vous êtes pas inscrit sur Blanee et vous avez reçu ce mail? Veuillez le signaler en envoyant un email à l'adresse suivante : admin@blanee.net As you see above . there are two http://, anybody help? I tested . if I send mail directly, then there is only one http://, but when I sent it by delayed_job then it shows two http:/// my ERB template file: Bonjour vous a envoyé un compliment sur Blanee! Cliquez ici pour afficher l’expéditeur et ses commentaires sur vous : Merci, L'équipe Blanee ________________ Ce mail est à l'attention de . Vous voulez contrôler les notifications que vous recevez? Veuillez vous rendre sur : mon-compte/notifications. Vous ne vous êtes pas inscrit sur Blanee et vous avez reçu ce mail? Veuillez le signaler en envoyant un email à l'adresse suivante : admin@blanee.net and in fact, I tried wrote the *_url in the template file. but it still bug when sent from delayed_job.
