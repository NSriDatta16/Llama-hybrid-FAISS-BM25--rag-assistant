[site]: crossvalidated
[post_id]: 613379
[parent_id]: 613344
[tags]: 
Durrett's definition is the general correct definition of a martingale, while the Wikipedia's definition is at best a "restricted definition". The qualifier " with respect to $\mathcal{F}_n$ ", although was placed in the parentheses, is essential to accurately define a "martingale": technically speaking, martingale is a sequence of pairs $(X_n, \mathcal{F}_n)$ , not of $\{X_n\}$ alone (but the italicized sentence in the quoted paragraph preceding equation $(2)$ below may to some extent justify the latter convention). Patrick Billingsley's book Probability and Measure made this important point more explicit (Section 35): The sequence $\{\color{red}{(X_n, \mathscr{F}_n)}: n = 1, 2, \ldots\}$ is a martingale if these four conditions hold: $\mathscr{F}_n \subset \mathscr{F}_{n + 1}$ ; $X_n$ is measurable $\mathscr{F}_n$ ; $E[|X_n|] ; with probability 1, \begin{align} E[X_{n + 1}|\mathscr{F}_n] = X_n.\tag{1} \end{align} He continued to explain the role of $\{\mathscr{F}_n\}$ in the definition as follows: Alternatively, the sequence $X_1, X_2, \ldots$ is said to be a martingale relative to the $\sigma$ -fields $\mathscr{F}_1, \mathscr{F}_2, \ldots$ . Condition 1 is expressed by saying the $\mathscr{F}_n$ form a filtration and condition 2 by saying $X_n$ are adapted to the filtration. After that, he illustrated the relationship between Wikipedia's "definition" (which actually is just a special martingale) and the general definition above, which probably can clear out your confusion : The sequence $X_1, X_2, \ldots$ is defined to be a martingale if it is a martingale relative to some sequence $\mathscr{F}_1, \mathscr{F}_2, \ldots$ . In this case, the $\sigma$ -fields $\mathscr{G}_n = \sigma(X_1, \ldots, X_n)$ always work: Obviously, $\mathscr{G}_n \subset \mathscr{G}_{n + 1}$ and $X_n$ is measurable $\mathscr{G}_n$ , and if $(1)$ holds, then $E[X_{n + 1}|\mathscr{G}_n] = E[E[X_{n + 1}|\mathscr{F}_n]|\mathscr{G}_n] = E[X_n|\mathscr{G}_n] = X_n$ (by tower property of conditional expectation). For these special $\sigma$ -fields $\mathscr{G}_n$ , $(1)$ reduces to \begin{align} E[X_{n + 1} | X_1, \ldots, X_n] = X_n. \tag{2} \end{align} Since $\sigma(X_1, \ldots, X_n) \subset \mathscr{F}_n$ if and only if $X_n$ is measurable $\mathscr{F}_n$ for each $n$ , the $\sigma(X_1, \ldots, X_n)$ are the smallest $\sigma$ -fields with respect to which the $X_n$ are a martingale. Some additional comments in response to specific questions you raised: The " $X_1, \ldots, X_n$ " in the notation " $E[X_{n + 1}|X_1, \ldots, X_n]$ " should be interpreted as the $\sigma$ -field $\sigma(X_1, \ldots, X_n)$ , instead of $n$ isolated random variables. In general, " $E[X|Y]$ " is a shorthand for the measure-theoretic conditional expectation $E[X|\sigma(Y)]$ . The $\sigma$ -field $\sigma(X_1, \ldots, X_n)$ , known as the $\sigma$ -field generated by the random vector $(X_1, \ldots, X_n)$ , is the smallest $\sigma$ -field in $\mathscr{F}$ with respect to which $(X_1, \ldots, X_n)$ is measurable. Therefore, while your statement " the set of past history $\{X_1, \ldots, X_n\}$ is not a sigma-field " is trivially true (written in this way, it is just a collection of $n$ random variables), it should not be interpreted in this way when they appeared in equation $(2)$ . As the quotation block containing equation $(2)$ demonstrates, the Wikipedia's definition is indeed "nested" in Durrett's definition: $\mathscr{G}_n := \sigma(X_1, \ldots, X_n)$ is just one special filtration satisfying Condition 1 and Condition 2. Furthermore, $\mathscr{G}_n$ are the smallest $\sigma$ -fields with respect to which the $X_n$ are a martingale. That is, suppose that there exists a filtration $\{\mathscr{F}_n\}$ such that $\{(X_n, \mathscr{F}_n)\}$ is a martingale, then $\{(X_n, \mathscr{G}_n)\}$ must be a martingale as well and $\mathscr{G}_n \subset \mathscr{F}_n$ for each $n$ (recall that in the last bullet, I mentioned that $\mathscr{G}_n$ is the smallest $\sigma$ -field in $\mathscr{F}$ with respect to which $(X_1, \ldots, X_n)$ is measurable). For this reason, the filtration $\{\mathscr{G}_n\}$ is referred as a natural filtration in some literature. At this point, it should be clear to you that the role of $\sigma$ -fields $\mathscr{F}_n$ in martingale's definition is essential, for with the same sequence of random variables $\{X_n\}$ , different martingales can be constructed by choosing different filtrations with respect to which $X_n$ are measurable. See Example 35.1 in Billingsley's book for a concrete example, in which he wrote " It is natural and convenient to allow the $\sigma$ -fields $\mathscr{F}_n$ larger than the minimal ones ( $\sigma(X_1, \ldots, X_n)$ ) ". In other words, the " past history " may well be richer than the sequence of $\{X_1, \ldots, X_n\}$ itself -- it may cover any information up to time $n$ as long as Condition 4 holds. You asked for an example, Billingsley also provided many good ones (e.g., Example 35.1 mentioned above), in which "gambling/betting system" is quite illuminating (note that, it is said that the word "martingale" may be originated from gambling, see this interesting vignette for details): (p. 458) If $X$ represents the fortune of a gambler after the $n$ th play and $\mathscr{F}_n$ represents his information about the game at that time, $(1)$ says that his expected fortune after the next play is the same as his present fortune. Thus a martingale represents a fair game, and sums of independent random variables with mean $0$ give one example. (p. 463) Consider again the gambler whose fortune after the $n$ th play is $X_n$ and whose information about the game at that time is represented by the $\sigma$ -field $\mathscr{F}_n$ . If $\mathscr{F}_n = \sigma(X_1, \ldots, X_n)$ , he knows the sequence of his fortunes and nothing else, but $\mathscr{F}_n$ could be larger. The last sentence " but $\mathscr{F}_n$ could be larger. " tells you that, with an example, that Durrett's definition is the correct one and the Wikipedia's definition is clearly not generalized enough. While he did not gave a specific example of a "larger $\mathscr{F}_n$ ", you can easily conceive some scenarios (e.g., the gambler happens to be an employee of a casino, so in addition to the basic information he should know, he also knows the secret mechanism of the roulette wheel).
