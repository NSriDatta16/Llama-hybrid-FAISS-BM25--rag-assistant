[site]: stackoverflow
[post_id]: 965199
[parent_id]: 
[tags]: 
TSQL Hack needed for getting a filter for data

A UI (before the report shows) shows a look up (Combo) that has (ID = 0).All Organization Units (ID =4).HR (ID = 5).DEV I need to: Be able to show data of (4) + (5) if (0) is selected. Only (4) OR (5) if either HR or DEV is selected. Lookup combo code (Selected Feeds the parameter in the below query.) Select 0 AS ID,'All Org' AS Name from DP_ORG_OrganizationUnit where DP_ORG_OrganizationUnit.Code IN {AccessData} Union SELECT DP_ORG_OrganizationUnit.ID, DP_ORG_OrganizationUnit.Name FROM DP_ORG_OrganizationUnit where DP_ORG_OrganizationUnit.Code IN ('HR','DEV') Report data row query SET CONCAT_NULL_YIELDS_NULL OFF DECLARE @EmpID as int; DECLARE @OrganizationUnit as int; DECLARE @StartDate as datetime; DECLARE @EndDate as datetime; SET @EmpID = ?; SET @StartDate = ?; SET @EndDate = ?; SET @OrganizationUnit = ?; SELECT Employee.Code, Employee.Name1+' '+Employee.Name2+' '+Employee.Name3+' '+Employee.Name4+' '+Employee.Name5 AS FullName, Employee.OrganizationUnit, ContractType.Name, EmployeeContract.StartDate, EmployeeContract.EndDate FROM Employee INNER JOIN (ContractType INNER JOIN EmployeeContract ON ContractType.ID = EmployeeContract.ContractType) ON Employee.ID = EmployeeContract.Employee WHERE (Employee.ID = @EmpID OR @EmpID=0) AND (Employee.OrganizationUnit = @OrganizationUnit OR @OrganizationUnit=0) AND NOT((EndDate @EndDate)); Any way I can achieve it from the looks of it? 0=0 would show all the data from other departments too.. Anybody :-o?
