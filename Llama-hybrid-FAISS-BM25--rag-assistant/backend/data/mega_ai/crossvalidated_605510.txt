[site]: crossvalidated
[post_id]: 605510
[parent_id]: 
[tags]: 
Multilevel Bayesian model for Experimental Design with levels in treatment and control groups

Context I'm designing an experiment and Bayesian analysis to interpret results. I've used Statistical Rethinking as inspiration for model structure. Suppose I want to study the effects of a sports drink on athletes and its effect on their performance, namely, whether they won a given event. The dependent variable is binary and as such, I've decided to use logistic regression for analysis. The independent variable is X, which has two dimensions, test group assignment and treatment exposure, which are both binary variables. Data was collected in two phases, pre-experiment and in-experiment where exposure was only administered in-experiment to the test group. This design would allow for detection of pre-experiment bias, for example, if the test group had elevated performance, relative to the control group, pre-experiment. Exposure matrix control_group, test_group pre-exp [ 0 , 0 ], in-exp [ 0 , 1 ] I have set Gaussian priors on the latent effects of test group assignment and treatment exposure, as well as the intercept, which would articulate latent control group performance. $X = [test, treatment]$ $B[i] = Normal(0,1)$ $Z = b_0 + b_1 * test + b_2 * treatment$ $\theta = sigmoid(Z)$ $Y = Binomial(\theta)$ Using simulated data, I've verified that this design is functional. If I want to infer the increase in performance, attributable treatment exposure , I would simply compute it as $Sigmoid(b_0 + b_1 + b_2) - Sigmoid(b_0 + b_1)$ and sample it from the posterior distribution. Question All of the above functions as desired, no questions there. However, suppose that my athletes are not all categorically similar. For example, I might have basketball, baseball, and football players. Further, it might not be possible to ensure that the test and control groups have equal volumes of each group, so a Simpson's Paradox risk might emerge. To mitigate this risk, I'm interested in using a Partial Pooling model. The goal would be to infer global beta coefficients, which are used as prior distributions for category specific beta coefficients. I'm curious, what's the most minimal but effective design to accomplish this? In Statistical Rethinking 2nd Edition, the author describes two models: First, a varying intercepts model and second, a varying slopes and varying intercepts model. The first, I believe will not be useful to me as I have slopes and cannot remove them from the model. The second, however, seems overly flexible/complicated for my use case. For example, the model uses an LKJ prior on a correlation between slopes and intercepts. Following this design, each athlete category (basketball, baseball, and football) would receive its own intercept and its own slopes. I wonder if it's possible to omit the LKJ prior by only allowing for varying slopes ( $b_{1_{basketball}}$ , $b_{2_{football}}$ , etc.) but a single, global intercept ( $b_0$ ). This Stan model seems to support that this design is possible. However, this is uncharted territory for me, and I wonder if the varying slopes & intercepts model is more robust and advisable. Thoughts?
