[site]: stackoverflow
[post_id]: 2559770
[parent_id]: 2371737
[tags]: 
This may be a buffering issue and changing the order of the items in the expect statement may help. Remember that by default you're specifying "glob" patterns and that those patterns are being compared to buffers of data internally in Expect, not on a strictly character by character basis. Suppose the buffer happened to contain this fragment of the input stream: ###### 226 Transfer complete. 21689518 bytes sent in 01:15 (280.27 KB/s) ftp> This matches both the glob pattern "ftp>" and the pattern "\n226" and since the former appears first in the expect statement that action will be executed.
