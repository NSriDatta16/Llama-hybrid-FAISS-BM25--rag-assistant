[site]: stackoverflow
[post_id]: 3362670
[parent_id]: 
[tags]: 
Trying to map several bags with the same table - failed to lazily initialize a collection of role exception

I have a problem with mapping in nhibernate. I am using nhibernate 2.2 version. Seems like the problem is in mapping but I am not sure this is the cause. Anyway, I have two tables which I would like to map. I created a hbm file for first table and a data transfer object too. All columns were mapped and everything works fine here. But, now I want to add three bags to this class, which will point to the same table, my second table which I'd like to connect with. I created bags and mapped everything but when I am retrieving my data only one of these bags is filled, and the other ones are left empty, and I get an error " failed to lazily initialize a collection of role: com.organic.mitsu.hib.ModelContent.options - no session or session was closed ". And I am 100% sure that my data in database are good. When I remove two bags from my mapping everything works fine, with only one bag left. Here is the hbm file: How should I solve the problem? Is this even possible to do it like this? And here is the mapping for the MySecondTable: Actually, the original thing that I was trying to map is with composite element and without the mapping for MySecondTable. I only have a dto class Item, with ItemID and Value columns. I got the same error and the mapping looks like this:
