[site]: stackoverflow
[post_id]: 1664529
[parent_id]: 
[tags]: 
Process n items at a time (using threads)

I'm doing what a lot of people probably need to do, processing tasks that have a variable execution time. I have the following proof of concept code: threads = [] (1...10000).each do |n| threads = run_for then break else sleep 1 end end puts "Ending thread #{n}(#{run_for})" end finished_threads = [] while threads.size >= 10 do threads.each do |t| finished_threads It doesn't start a new thread until one of the previous threads has dropped off. Does anyone know a better, more elegant way of doing this?
