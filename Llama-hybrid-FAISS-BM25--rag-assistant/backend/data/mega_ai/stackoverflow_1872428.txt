[site]: stackoverflow
[post_id]: 1872428
[parent_id]: 
[tags]: 
Mechanize with FakeWeb

I'm using Mechanize to extract the links from the page. To ease with development, I'm using fakeweb to do superfast response to get less waiting and annoying with every code run. tags_url = "http://website.com/tags/" FakeWeb.register_uri(:get, tags_url, :body => "tags.txt") agent = WWW::Mechanize.new page = agent.get(tags_url) page.links.each do |link| puts link.text.strip end When I run the above code, it says: nokogiri_test.rb:33: undefined method `links' for # (NoMethodError) After inspecting the class of the page object puts page.class # => File If I don't fake out the tags_url, it works since the page class is now Page puts page.class # => Page So, how can I use the fakeweb with mechanize to return Page instead of File object?
