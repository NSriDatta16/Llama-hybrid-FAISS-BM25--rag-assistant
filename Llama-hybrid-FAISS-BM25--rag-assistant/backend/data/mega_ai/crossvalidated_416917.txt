[site]: crossvalidated
[post_id]: 416917
[parent_id]: 416709
[tags]: 
Short Answer So the derivative of a Gaussian process is also a Gaussian process with the kernel function equal to that in (9.1). So replace the elements of $K(X_*, X)$ with their evaluation of $\frac{\partial K(X_*, X)}{\partial X_*}$ in equation (2.23) and replace $K(X_*, X_*)$ in equation (2.24) with $\frac{\partial K(a, b)}{\partial a \partial b }$ evaluated at $a=X_*$ and $b = X_*$ . Following these two lines after the substitution gives you the expectation and variance of the gradient. More Details [Exerpt from my PhD thesis, talking about quadrature but same difference :P] (...continuing from the fact that a kernel $K(X_*,X)$ is simply a dot product in a reproducing kernel Hilbert space, $K(X_*,X) = \phi(X_*) \phi(X)^T$ ) Another important characteristic of a Gaussian process is that the integrand and differential of a GP is also a GP provided the kernel is integrable and differentiable respectively. This can be easily shown by considering the Hilbert space view of the GP. As, \begin{equation} \begin{split} f(x) &= \sum_{i=0}^\infty w_i \phi_i(x), \\ \int f(x) dx &= \int \sum_{i=0}^\infty w_i \phi_i(x) dx \\ &= \sum_{i=0}^\infty \int w_i \phi_i(x) dx \\ \end{split} \end{equation} The above integral operator can be replaced with the with differentiation or any other linear operator. Returning to the previous definition of the kernel function we find, \begin{equation} \begin{split} \begin{bmatrix} \int \phi(\bar{x}) d\bar{x} \\ \phi(\bar{x} )\\ \frac{d\phi(\bar{x})}{dx} \end{bmatrix} \begin{bmatrix} \int \phi(x) dx \\ \phi(x ) \\ \frac{d\phi(x)}{dx} \end{bmatrix}^T &= \begin{bmatrix} \int \phi(\bar{x}) d\bar{x} \int \phi(x) dx & \phi(\bar{x} ) \int \phi(x) dx& \frac{d\phi(\bar{x})}{d\bar{x}}\int \phi(x) dx\\ \int \phi(\bar{x}) d\bar{x}\phi(x ) & \phi(\bar{x} )\phi(x )& \frac{d\phi(\bar{x})}{d\bar{x}} \phi(x )\\ \int \phi(\bar{x}) d\bar{x}\frac{d\phi(x)}{dx} & \phi(\bar{x})\frac{d\phi(x)}{dx} & \frac{d\phi(\bar{x})}{d\bar{x}}\frac{d\phi(x)}{dx} \end{bmatrix} \\ &= \begin{bmatrix} \int \int K(\bar{x}, x) d\bar{x} dx & \int K(\bar{x}, x) dx& \int\frac{dK(\bar{x}, x)}{d\bar{x}} dx\\ \int K(\bar{x}, x) d\bar{x} & K(\bar{x}, x )& \frac{dK(\bar{x}, x)}{d\bar{x}}\\ \int \frac{K(\bar{x}, x)}{dx} d\bar{x}& \frac{dK(\bar{x}, x)}{dx} & \frac{dK(\bar{x}, x)}{d\bar{x}dx} \end{bmatrix}\\ \end{split} \end{equation} This is an interesting result as it means quadrature and gradient observations of the function space can be incorporated into the GP just like any other observation. In a later chapter we will use this principle to create a general framework for fair regression.
