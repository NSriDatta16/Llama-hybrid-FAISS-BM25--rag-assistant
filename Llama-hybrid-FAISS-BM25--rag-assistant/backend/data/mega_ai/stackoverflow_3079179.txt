[site]: stackoverflow
[post_id]: 3079179
[parent_id]: 3078638
[tags]: 
It should throw an error, more precisely an urllib2.HTTPError, with the code field set to 401, you can see some adapted code below. I left your general try/except structure, but really, do not use general except statements, catch only what you expect that could happen! def get_unread_msgs(user, passwd): auth = URL.HTTPBasicAuthHandler() auth.add_password( realm='New mail feed', uri='https://mail.google.com', user='%s'%user, passwd=passwd ) opener = URL.build_opener(auth) URL.install_opener(opener) try: feed= URL.urlopen('https://mail.google.com/mail/feed/atom') return feed.read() except HTTPError, e: if e.code == 401: print "authorization failed" else: raise e # or do something else except: #A general except clause is discouraged, I let it in because you had it already return None I just tested it here, works perfectly
