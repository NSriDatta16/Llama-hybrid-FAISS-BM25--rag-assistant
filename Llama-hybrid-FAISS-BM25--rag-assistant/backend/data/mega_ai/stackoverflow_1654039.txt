[site]: stackoverflow
[post_id]: 1654039
[parent_id]: 1356521
[tags]: 
I am fairly sure that the answer I am looking for is in ANTLR ( http://www.antlr.org/ ). This allows me to write expressions of the form: document : (chapter)+; chapter : 'Chapter ' DIGIT NEWLINE line+; and so on. It also allows embedding of code into these expressions.
