[site]: stackoverflow
[post_id]: 5666488
[parent_id]: 
[tags]: 
javax.xml.transform.Transformer is removing needed whitespace (xml to text transformation)

I'm trying to convert XML to text, using javax.xml.transform. xsltproc will correctly transform my XML to properly formatted text, while the following code produces output with almost all whitespace removed: final ByteArrayOutputStream out = new ByteArrayOutputStream(); final InputStream is = getClass().getResourceAsStream( xslResourceName ); final StreamSource xsltSrc = new StreamSource( is ); final Transformer transformer = tFactory.newTransformer( xsltSrc ); final Source src = new StreamSource( new StringReader( xmlData ) ); final Result res = new StreamResult( out ); transformer.setOutputProperty( "method", "text" ); transformer.setOutputProperty( "omit-xml-declaration", "yes" ); transformer.transform( src, res ); return out.toString(); The spaces are intentionally being added by the XSLT, using tags such as: For a larger example, the source xml might have: Hours01 2011-04-14 Hours Report 130 The xsl has: &#xa; &#xa; The xsltproc output is: Hours01 Hours Report 2011-04-14 And the javax.xml.transformer.Transformer output is: Hours01Hours Report2011-04-14
