[site]: stackoverflow
[post_id]: 4161138
[parent_id]: 
[tags]: 
the this pointer set by Object(this) != this

the constructor for my engine constructs audio, video and input objects with a pointer to itself (this). However when I debug, I see all the classes I construct's enginePtr is not the same as the value of this provided by the debugger. When I peek inside, I see for example, the enginePtr of pRender has different values than the engine. Most of them are set to NULL, which causes rendering to crash. Here is my engine constructor: cEngine::cEngine( int flag ) { if ( !al_get_system_driver() ) { this->isRunning = true; al_init(); // Uses DirectX by default, uncomment ALLEGRO_OPENGL for OpenGL. if ( flag == OPENGL_WINDOW || flag == OPENGL ) al_set_new_display_flags( ALLEGRO_RESIZABLE | ALLEGRO_OPENGL ); else if ( flag == DIRECTX_WINDOW || flag == DIRECTX ) al_set_new_display_flags( ALLEGRO_RESIZABLE ); else if ( flag == OPENGL_FULLSCREEN ) al_set_new_display_flags( ALLEGRO_FULLSCREEN | ALLEGRO_OPENGL ); else if ( flag == DIRECTX_FULLSCREEN ) al_set_new_display_flags( ALLEGRO_FULLSCREEN ); this->display = createDisplay( "Motherload C++", -1, -1, 640, 480 ); srand( ( unsigned ) time(0) ); pCam = new cCam( this ); pIO = new cIO( this ); pMap = new cMap( this, setPoint( 50, 50 ), setPoint( 13, 20 ) ); // 13, 20 pPlayer = new cPlayer( this ); pAudio = new cAudio( this ); pRender = new cRender( this ); pEvents = new cEvents( this ); } } cRender constructor: cRender::cRender( cEngine* pEngine ) { this->pPlayerLoc = pPlayerLoc; this->BLACK = al_map_rgb(30, 100, 200); this->needsRedraw = false; this->pEngine = pEngine; al_init_font_addon(); al_init_ttf_addon(); splitImages(); //this->font = al_load_font( "C:/resource/gisha.ttf", 24, 0 ); //this->img = al_load_bitmap( "C:/resource/rock.png" ); } Thanks
