[site]: stackoverflow
[post_id]: 1256756
[parent_id]: 1256442
[tags]: 
In case locating the elements by their ids and reading their dimensions is the bottleneck, you can try memoizing your function: function onDrag(key) { var cached = onDrag.cache[key]; if (!cached) { cached = { fromRect = $('#box-' + key).offset(); // etc. }; onDrag.cache[key] = cached; } var toRect = $('#draggable').offset(); // etc. } onDrag.cache = {}; This might give you some performance gain. Also, can you try taking out the clearRect() to see if it makes a big difference? You may want to store the location of the previous drag and just retrace the previous line to erase it instead of painting 5000 x 5000 = 25 million pixels. Just a hunch, as filling 25M pixels may or may not be an issue based on the canvas implementation.
