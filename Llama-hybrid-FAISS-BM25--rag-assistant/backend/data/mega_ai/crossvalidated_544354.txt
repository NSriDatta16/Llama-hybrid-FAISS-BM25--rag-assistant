[site]: crossvalidated
[post_id]: 544354
[parent_id]: 544334
[tags]: 
As per @Sycorax's suggestion, I'm expanding my first comment as an answer... I think you should do it in the same way you would use any other preprocessing transformer. That is: Calculate the quartiles using the training set Transform your target variable from continuous to categorical on both the training and test sets using the quartiles found in the previous step I'll illustrate this with an example. For simplicity, let's imagine you only had 10 observations. This is how your target variable might look like: Next, you randomly split your dataset into train (70%) and test (30%). Train: Test: (I know this all looks a bit ridiculous with such a small number of observations but the main idea is the important bit). Now, you calculate the quartiles from the training set. These are: $$q_1=-0.040 \\ q_2=0.100 \\ q_3=0.145$$ Using this information, now you proceed to transform your target variable on both the training and test sets using the following logic: $$Y^* = \begin{cases} 1 & \text{if } Y\leq q_1\\ 2 & \text{if } q_1 q_3 \end{cases}$$ Train: Test: Now you can train a model using $Y^*$ as your target variable.
