[site]: stackoverflow
[post_id]: 3664974
[parent_id]: 2662575
[tags]: 
What you needed is TLS(Thread Local Storage) , which is also known as thread-specific data or thread-private data . This mechanism can guarantee each thread to access its own separate copy of data, without worrying about synchronizing access with other threads. There are two methods to use TLS: implicit: using keyword Windows: __declspec(thread) int tls_var = 10; Linux with GCC: __thread int tls_var = 10 explicit: using specific TLS related API Windows: TlsAlloc(): allocate memory for tls data TlsFree(): free the memory of tls data TlsSetValue(): set tls' value TlsGetValue(): get tls' value Please refer to MSDN for detailed information. LInux with GCC: pthread_key_create() : create the tls data pthread_key_delete() : destory the tls data pthread_getspecific() : get tls' value pthread_setspecific (): set tls' value Turn to manpage for specific and detailed information.
