[site]: stackoverflow
[post_id]: 1228072
[parent_id]: 1228025
[tags]: 
pthread_key_t is for creating thread thread-local storage : each thread gets its own copy of a data variable, instead of all threads sharing a global (or function-static, class-static) variable. The TLS is indexed by a key. See pthread_getspecific et al for more details. pthread_once_t is a control for executing a function only once with pthread_once . Suppose you have to call an initialization routine, but you must only call that routine once. Furthermore, the point at which you must call it is after you've already started up multiple threads. One way to do this would be to use pthread_once() , which guarantees that your routine will only be called once, no matter how many threads try to call it at once, so long as you use the same control variable in each call. It's often easier to use pthread_once() than it is to use other alternatives.
