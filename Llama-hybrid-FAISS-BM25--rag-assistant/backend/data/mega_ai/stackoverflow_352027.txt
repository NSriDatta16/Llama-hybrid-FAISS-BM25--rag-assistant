[site]: stackoverflow
[post_id]: 352027
[parent_id]: 351806
[tags]: 
In addition to @Pax's answer (or perhaps as part of the testing he mentioned), the DP flag is also used in path MTU discovery . This is when you try to figure out what the largest packet that can be sent without being fragmented is, for a given link. It is often useful to avoid fragmentation, even though higher-level protocols are in theory isolated from the mechanics of it, they can still "feel" the consequences. If a single application-level write() to the network socket ends up being fragmented because it is too large, and one of the fragments is lost in the network, the entire IP packet will be lost. This of course affects throughput. For this reason, it is often desirable to know the maximum transmission unit , i.e. the largest packet that can be sent to a destination without being fragmented. Path MTU discovery is used to find this size, by simply setting the DF bit and sending successively larger packets until the network reports (over ICMP ) a failure.
