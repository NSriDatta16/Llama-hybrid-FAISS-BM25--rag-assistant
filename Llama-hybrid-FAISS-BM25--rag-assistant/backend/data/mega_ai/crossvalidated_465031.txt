[site]: crossvalidated
[post_id]: 465031
[parent_id]: 
[tags]: 
How to estimate this heterogeneous asset pricing model in eviews?

I'am trying to estimate a heterogeneous asset pricing model for my thesis in eviews. It is a model with these two equations, where I want to estimate the coefficients $b_1$ , $b_2$ and $\beta$ ; \begin{equation} p_t^* = y_t \Phi \eta_t b_1 + y_t \Phi (1-\eta_t) b_2 + \epsilon_t \end{equation} and, \begin{equation} \eta_{t} = \Big(1+ exp\Big[-\beta \big(\frac{1}{\alpha \sigma^2}\big)\big(p_{t-1}+y_{t-1}-(1+r)p_{t-2}\big)\big((1+g)y_{t-2}\big)\big((b_1\Phi+1)b_1-(b_2\Phi+1)b_2\big)\Big]\Big)^{-1} \end{equation} The problem is that I don't know how to estimate this model in eviews. Normally I do one-equation estimations but here that is not possible since then $\eta_t$ is not defined. I have tried making a system of equations in eviews (still $\eta_t$ not defined is a problem) and solving 'a model' (but then I don't get the outcome I want/understand). How to estimate this in eviews? Any help is appreciated. Some more information on the model: It is a asset pricing model where the fundamental price is determined by the sum of discounted future dividends where two type of traders have different expectations about these dividends. This leads to the pricing equation, \begin{equation} p_t^* = y_t \Phi \eta_t b_1 + y_t \Phi (1-\eta_t) b_2 + \epsilon_t \end{equation} where $\Phi=\frac{1-(\frac{1+g}{1+r})}{(\frac{1+g}{1+r})}$ is a number (g,r are averages of data I have), $b_1$ , $b_2$ are the coefficients I want to estimate, $y_t$ are dividends I have data on and $\eta_t$ is the fraction of traders of type 1 (with coefficient $b_1$ ). These coefficients namely indicate beliefs these traders have about future dividends. The problem is that $\eta_t$ is defined by a second equation based on a performance measure (profits) and multinomial logit probabilities, which is \begin{equation} \eta_{t} = \Big(1+ exp\Big[-\beta \big(\frac{1}{\alpha \sigma^2}\big)\big(p_{t-1}+y_{t-1}-(1+r)p_{t-2}\big)\big((1+g)y_{t-2}\big)\big((b_1\Phi+1)b_1-(b_2\Phi+1)b_2\big)\Big]\Big)^{-1} \end{equation} where again r,g are constants, $p_{t-1}$ , $p_{t-2}$ , $y_{t-1}$ and $y_{t-2}$ are lags of variables I have data on, $\beta$ is the co-called intensity of choice parameter (to be estimated), $\alpha$ is a constant denoting risk aversion and $Var_{h,t}[p_{t+1}+y_{t+1}-(1+r)p_t] \equiv \sigma^2$ . Note that this model is an adapted version of Brock & Hommes (1998) and I'm trying to estimate it in a way similar to Boswijk et al.(2007). References: Boswijk, H. P., Hommes, C. H., & Manzan, S. (2007). Behavioral heterogeneity in stock prices.Journal of Economic dynamics and control,31(6), 1938–1970 Brock, W. A., & Hommes, C. H. (1998). Heterogeneous beliefs and routes to chaos in a simpleasset pricing model.Journal of Economic dynamics and Control,22(8-9), 1235–1274 EDIT I have asked my supervisor and he has provided me with R code that I'm now trying to run for my particular model. This made me run into other issues, leading to this stack question; https://stackoverflow.com/questions/61824596/nls-error-convergence-failure-singular-convergence-7 However, this question can now be closed.
