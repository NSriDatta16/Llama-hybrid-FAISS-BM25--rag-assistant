[site]: stackoverflow
[post_id]: 5738287
[parent_id]: 
[tags]: 
How to detect when several AJAX requests have completed or failed?

I have an app that loads several resources when it's first run, which are stored in localStorage. I have a function that checks whether all the local storage variables are set, so that part is working okay. My method of working is like this: Display a loading message. Initialize the AJAX requests. Start a timer interval to check if everything has loaded. When the data has loaded, initialize the application etc. If the data did not load, display an error message. The problem is with #5 - how to detect if there was an error? For example if there was a connection problem or the sever sent back invalid data for whatever reason. Here is my current code - downloadData just performs a basic AJAX request: // check local storage and download if any missing if ( !checkLocalStorage() ) { $('#content').before( ' Downloading data, please wait... ' ); for ( var i in db_tables ) { if ( localStorage[db_tables[i]] == null ) downloadData( db_tables[i] ); } } // check progress var timer = setInterval( function() { if ( checkLocalStorage() ) { // everything is downloaded $('#downloading').hide(); clearInterval(timer); initApp(); } }, 500 );
