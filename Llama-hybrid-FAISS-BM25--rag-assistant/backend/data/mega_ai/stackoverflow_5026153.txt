[site]: stackoverflow
[post_id]: 5026153
[parent_id]: 5014610
[tags]: 
1) Getting the config from Azure as ASCII (?), uploading it again as ASCII fails, uploading it as UTF-8 fails as well. 2) Works 3) Works 4) All I get is this lausy error (should create a T-Shirt from that :-)): "The request body XML was invalid or not correctly specified", even when passing it an ampty XML. For the record: RAW request and response are: ----------------------- Request ----------------------- object(Microsoft_Http_Client)#3 (15) { ["adapter:protected"]=> object(Microsoft_Http_Client_Adapter_Socket)#5 (6) { ["socket:protected"]=> NULL ["connected_to:protected"]=> array(2) { [0]=> NULL [1]=> NULL } ["out_stream:protected"]=> NULL ["config:protected"]=> array(15) { ["persistent"]=> bool(false) ["ssltransport"]=> string(3) "ssl" ["sslcert"]=> string(51) "C:\Projects\Workspaces\Default\Azure\management.pem" ["sslpassphrase"]=> string(11) "*************" ["maxredirects"]=> int(5) ["strictredirects"]=> bool(false) ["useragent"]=> string(21) "Microsoft_Http_Client" ["timeout"]=> int(10) ["httpversion"]=> string(3) "1.1" ["keepalive"]=> bool(false) ["storeresponse"]=> bool(true) ["strict"]=> bool(true) ["output_stream"]=> bool(false) ["sslusecontext"]=> bool(true) } ["method:protected"]=> string(3) "POST" ["_context:protected"]=> resource(38) of type (stream-context) } ["uri:protected"]=> object(Microsoft_Uri_Http)#10 (9) { ["_username:protected"]=> string(0) "" ["_password:protected"]=> string(0) "" ["_host:protected"]=> string(27) "management.core.windows.net" ["_port:protected"]=> int(443) ["_path:protected"]=> string(97) "/******************/services/hostedservices/phptest1/deploymentslots/production" ["_query:protected"]=> string(11) "comp=config" ["_fragment:protected"]=> string(0) "" ["_scheme:protected"]=> string(5) "https" } ["headers:protected"]=> array(3) { ["content-type"]=> array(2) { [0]=> string(12) "Content-Type" [1]=> string(15) "application/xml" } ["expect"]=> array(2) { [0]=> string(6) "Expect" [1]=> string(0) "" } ["x-ms-version"]=> array(2) { [0]=> string(12) "x-ms-version" [1]=> string(10) "2009-10-01" } } ["method:protected"]=> string(3) "POST" ["paramsGet:protected"]=> array(0) { } ["paramsPost:protected"]=> array(0) { } ["enctype:protected"]=> NULL ["raw_post_data:protected"]=> string(965) " PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPFNlcnZpY2VDb25maWd1cmF0aW9uIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOnhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL1NlcnZpY2VIb3N0aW5nLzIwMDgvMTAvU2VydmljZUNvbmZpZ3VyYXRpb24iIHNlcnZpY2VOYW1lPSIiIG9zRmFtaWx5PSIxIiBvc1ZlcnNpb249IioiPgogIDxSb2xlIG5hbWU9IldlYlJvbGUxIj4KICAgIDxDb25maWd1cmF0aW9uU2V0dGluZ3M+CiAgICAgIDxTZXR0aW5nIG5hbWU9Ik1pY3Jvc29mdC5XaW5kb3dzQXp1cmUuUGx1Z2lucy5EaWFnbm9zdGljcy5Db25uZWN0aW9uU3RyaW5nIiB2YWx1ZT0iVXNlRGV2ZWxvcG1lbnRTdG9yYWdlPXRydWUiLz4KICAgIDwvQ29uZmlndXJhdGlvblNldHRpbmdzPgogICAgPEluc3RhbmNlcyBjb3VudD0iMiIvPgogICAgPENlcnRpZmljYXRlcy8+CiAgPC9Sb2xlPgo8L1NlcnZpY2VDb25maWd1cmF0aW9uPgo= " ["auth:protected"]=> NULL ["files:protected"]=> array(0) { } ["cookiejar:protected"]=> NULL ["last_request:protected"]=> NULL ["last_response:protected"]=> NULL ["redirectCounter:protected"]=> int(0) } ----------------------- Response ----------------------- object(Microsoft_Http_Response)#9 (5) { ["version:protected"]=> string(3) "1.1" ["code:protected"]=> int(400) ["message:protected"]=> string(11) "Bad Request" ["headers:protected"]=> array(5) { ["Content-length"]=> string(3) "230" ["Content-type"]=> string(30) "application/xml; charset=utf-8" ["Server"]=> string(21) "Microsoft-HTTPAPI/2.0" ["Date"]=> string(29) "Thu, 17 Feb 2011 07:15:36 GMT" ["Connection"]=> string(5) "close" } ["body:protected"]=> string(230) " InvalidXmlRequest The request bodyâ€™s XML was invalid or not correctly specified. " }
