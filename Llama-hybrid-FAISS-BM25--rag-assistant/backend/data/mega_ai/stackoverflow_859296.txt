[site]: stackoverflow
[post_id]: 859296
[parent_id]: 
[tags]: 
YouTube JS API: Detect "embedding has been disabled"

Using the youtube javascript api ( http://code.google.com/apis/youtube/js_api_reference.html ), I am trying to allow a user to embed a video into some content he creates in my app. I have gotten everything working, except for being able to detect and handle the case that embedding is not allowed for the video. Currently, the player loads and shows a thumbnail of the disallowed video, and it only gives an error once the user tries to play it. This is bad because the user may not play the video before saving / sending his content. I would like to preemptively detect that the video is not allowed to be embedded, and display a helpful message to the user. The only solution I can see is to actually play it (programmatically) and handle the error that is raised at that point. Existing workaround: Embed player (embedSWF) onYouTubePlayerReady(): add onError onStateChange event listeners. onStateChange(newState): when the video finishes loading, try to play it. e.g. if (newState == 5 /* CUED */) { player.mute(); player.playVideo(); player.stopVideo(); player.unMute(); } onError(error): if the video failed to play in onStateChange, will receive error here. Is there a better way? Thanks! -Rob
