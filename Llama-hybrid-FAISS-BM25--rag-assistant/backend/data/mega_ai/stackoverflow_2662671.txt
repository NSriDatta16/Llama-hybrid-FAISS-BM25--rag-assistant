[site]: stackoverflow
[post_id]: 2662671
[parent_id]: 2662425
[tags]: 
For a long time this operation required two separate commands plus some framework to handle it. Hence the name UPSERT (UPdate or inSERT). But more recent versions of some flavours of DBMS support more elegant solutions. The ANSI standard defines a MERGE syntax . This has been supported in Oracle since version 9i and in MS SQL Server since 2005. MERGE statements can be somewhat verbose. merge into t23 using t42 on t42.id = t23.id when matched then update set t23.col1 = t42.col1 when not matched then insert (id, col1) values (t42.id, t42.col1) / I think the MERGE statement was primarily envisaged as a data migration tool, so its syntax demands that we select data from a table, in the USING clause. we can get around this limitation by selecting literals and pseudo-columns from a row-generating device (such as dual in Oracle). MySQL has a sightly different syntax, INSERT ... ON DUPLICATE KEY UPDATE .
