[site]: stackoverflow
[post_id]: 2329599
[parent_id]: 
[tags]: 
Can I throttle requests made by a distributed app?

My application makes Web Service requests; there is a max rate of requests the provider will handle, so I need to throttle them down. When the app ran on a single server, I used to do it at the application level: an object that keeps track of how many requests have been made so far, and waits if the current request makes it exceeds the maximum allowed load. Now, we're migrating from a single server to a cluster, so there are two copies of the application running. I can't keep checking for the max load at the application code, because the two nodes combined might exceed the allowed load. I can't simply reduce the load on each server, because if the other node is idle, the first node can send out more requests. This is a JavaEE 5 environment. What is the best way to throttle the requests the application sends out ?
