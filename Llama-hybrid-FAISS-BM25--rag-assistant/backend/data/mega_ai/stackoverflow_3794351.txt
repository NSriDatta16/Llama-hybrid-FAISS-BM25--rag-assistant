[site]: stackoverflow
[post_id]: 3794351
[parent_id]: 
[tags]: 
Magento _prepareLayout() called 5 times to many

** New EDIT ** so what I'm trying to do is this. I want the to add new form elements generated by my module on the product view of the following url http://magento.example.com/catalog/product/view/id/46 ultimately these elements will be determined to show up by a related table in my module I expected that if I extended Mage_Catalog_Block_Product_View in my module as shown below I would be able to create a block in the product form that would contain such form fields, only if he are in the related table in my module so I created a test.phtml file in app/design/frontend/default/default/templates/ /test.phtml then as you can see in my the View.php file described bellow I built the block and displayed it in the product view. It did appear but 5 times too many. from the answers below this is normal so that answers the question as to why the it shows up five times but leaves the question what is the proper way to proceecd since this plan is not going to work ** End New Edit ** in my module I call _prepareLayout() and it does this 5 times when i pull up the page here's my code in /app/code/local/Namespace/Module/Product/Veiw.php class _ _Block_Product_View extends Mage_Catalog_Block_Product_View { protected function _toHtml() { return parent::_toHtml(); } public function _prepareLayout() { $block = $this->getLayout()->createBlock( 'Mage_Core_Block_Template', 'my_block_name_here', array('template' => ' /test.phtml') ); if ($block){ $this->getLayout()->getBlock('content')->insert($block)->toHtml(); }else{ echo "no block"; } return parent::_prepareLayout(); } } NOTE: I just noticed this also takes away the price availability qty and add to cart button. which is also a problem EDIT First I want to thank you all for your answers. Second i want to give you more context the reason for choosing to do this in the module is that I don't want the block to show up on every product . What i have is a table of what I'll call custom options containing properties of the product sort of like hair color height weight etc and depending on what set of properties are attached to the product (if any) will depend on what html content will show up on the page. so in one case it my get a drop down menu and in another case it may get an input box. the other very important piece is that this must be setup so that I can give the end result out as a module that can be installed and not worrry that it won't show up if someone upgrades there magento that said does it still make sense to do this all in the xml file ?
