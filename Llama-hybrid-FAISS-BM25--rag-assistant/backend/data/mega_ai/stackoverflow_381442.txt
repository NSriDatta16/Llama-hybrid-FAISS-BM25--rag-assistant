[site]: stackoverflow
[post_id]: 381442
[parent_id]: 381414
[tags]: 
I think I would organise them in the same way Mediawiki indexes pages - as a bucket sort . I don't know that it's the most efficient algorithm out there, but it should be fast, and is pretty easy to implement (even I've managed it, and in SQL at that!!). Basically, the algorithm for sorting is For Each SetOfNumbers For Each NumberInSet Put SetOfNumbers into Bin(NumberInSet) Then to query, you can just count the number of items in Bin(MyNumber) This approach will work well when your SetOfNumbers rarely changes, although if they change regularly it's generally not too hard to keep the Bins updated either. It's chief disadvantage is that it trades space, and initial sorting time, for very fast queries. Note that in the algorithm I've expanded the Ranges into SetsOfNumbers - enumerating every number in a given range.
