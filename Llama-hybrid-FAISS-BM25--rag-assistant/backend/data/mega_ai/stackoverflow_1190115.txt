[site]: stackoverflow
[post_id]: 1190115
[parent_id]: 
[tags]: 
Embedding GSM cellids in Short Messages

I'm using the WML function "providelocalinfo" to put location information into Short Messages send via a WIB menu on a GSM handset. I'm using the WIG WML v.4 Spec from SmartTrust. The relevant section is "9.4 providelocalinfo Element" I use the code as in the example, and then transmit the variable via SMS, and use Kannel to retrieve the message from the SMSC. Here's the code that I'm using, with the exception of [myservicecentre] being my actual service centre: $(X)$(LOC) What I see in my received messages is "loc=" followed by 7 bytes (octets) or binary data. I have tried to find documentation explaining how to decode this data, but found nothing the explains this clearly. Of the decoded 7 octets, the first 3 octets are always the same, The next 2 octets tend to vary between three unique values, the last 2 octets appear to be the cellid. So I have coded the receiver to pull the last two octets and construct a 16-bit GSM cellid. Most of the time it matches known cellids from the network. But quite often, the value does not match. So I'm trying to find information on the following: How to properly transmit the location information in a safe manner (encodings, casts, etc) How to decode the information properly How to configure Kannel to honor binary location data I've examined the following documents in my vain searching, but not found the relevant data: GSM 03.38, GSM 04.07, GSM 04.08, GSM 11.15, as well as the WIG WML Spec V .4 Any insight into what I might be doing wrong would be appreciated!
