[site]: stackoverflow
[post_id]: 3459988
[parent_id]: 
[tags]: 
How to calculate code coverage in Hudson using emma for a multi-module maven project but only run tests once

We have several multi-module projects which I want to run emma against, but I don't want the tests to be run twice, because this results in misleading statistics on the Hudson project home page as unit tests are counted twice. For a single module project, we can ommit the install goal and just use clean emma:emma to run the tests once, is there any way we can test only using emma instrumented byte code and then build & install the project artifacts without running the tests a second time? Using -Dmaven.tests.skip=true causes emma to fail. For a full release (i.e. mvn release:perform) the tests should be run un-instrumented.
