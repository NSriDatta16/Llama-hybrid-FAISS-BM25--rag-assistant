[site]: stackoverflow
[post_id]: 836048
[parent_id]: 833234
[tags]: 
Have you tried using VirtualAlloc() and VirtualFree() directly? This may help isolate the problem. You'll be bypassing the C runtime heap and the NT heap. You can reserve virtual address space and then commit it. This will tell you which operation fails. If the virtual address space reservation fails (even though it shouldn't, judging from what you've said), Sysinternals VMMap may help explain why. Turn on "Show free regions" to look at how the free virtual address space is fragmented.
