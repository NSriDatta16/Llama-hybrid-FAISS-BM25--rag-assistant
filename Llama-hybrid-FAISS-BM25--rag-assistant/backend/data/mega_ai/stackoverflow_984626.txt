[site]: stackoverflow
[post_id]: 984626
[parent_id]: 982912
[tags]: 
You are too caught up on the idea that you need to avoid recursion. There is no need -- recursion will make the algorithms infinitely simpler. We were using recursion intensively back when we had only 16 MB of RAM. Surely with today's Gigabyte machines, memory is abundant. To look at it another way: typically a folder will be at most 5 deep. Let's assume that it is much deeper -- say 1000. And say that you typically have 5 local variables, of size e.g. a long -- 4 x 2 = 8 bytes. For folders of depth 1000, you need 8,000 bytes on the stack - 8MB. Say you have 4 GB of main memory -- you will use only .0007 % of your memory on a recursive algorithm. So don't worry about the "inefficiency" of recursion - what would be inefficient is to make a verbose, inelegant, bug-prone non-recursive version of an essentially recursive algorithm.
