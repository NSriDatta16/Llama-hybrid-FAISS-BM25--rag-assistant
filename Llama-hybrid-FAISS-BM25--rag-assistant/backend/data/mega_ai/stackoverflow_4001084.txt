[site]: stackoverflow
[post_id]: 4001084
[parent_id]: 
[tags]: 
Win32 alternative for the destructor in pthread_keycreate (when I cannot control dllmain)

In pthreads, you can associate a destructor function with each per-thread storage slot. When a thread dies, if the slot is non-0, the destructor is called. In a Win32 DLL, the DLLMain function, called at thread exit, can do the same thing. What can I do in code that lives in a purely static library?
