[site]: stackoverflow
[post_id]: 4631296
[parent_id]: 
[tags]: 
PHP return Nested XML

i am retrieving XML from a file as per code below. However when the XML gets deeper at the point of ".$image["url"]." i am trying to retrieve one of the images but it is not working. I would also need to search the images as there are multiple tags by the SIZE variable in the XML (XML below). how do you define this after i have allready defined the $xml->xpath to a higher container? $searchurl = "movies.xml"; $xml = simplexml_load_file($searchurl); $i = 0; foreach($xml->xpath('/movies/movie') as $movie){ $image = $xml->xpath('/movies/movie/images/image'); echo " " ." " ." id."','span".$movie->id."')\">" ." id."\"> " ." ".$movie->name." " ." " ." "; echo " id."\">" ." ".$movie->name." Movie ID: ".$movie->id." " ." Movie Link: url."\">".$movie->url." " ." Released: ".$movie->released." " ." Classification: ".$movie->certification." " ." Adult: ".$movie->adult." " ." Overview: ".$movie->overview." " ." " ." "; $i++; } XML It is searching through. 3 false en Transformers Transformers The Transformers movie 1858 tt0418279 http://www.themoviedb.org/movie/1858 61 7.4 PG-13 Young teenager Sam Witwicky becomes involved in the ancient struggle between two extraterrestrial factions of transforming robots, the heroic Autobots and the evil Decepticons. Sam holds the clue to unimaginable power and the Decepticons will stop at nothing to retrieve it. 2007-07-04 141 2011-01-04 16:33:25 Updated Function: Not displaying images. $searchurl = "movies.xml"; $xml = simplexml_load_file($searchurl); foreach($xml->xpath('/movies/movie') as $movie){ $images = $movie->xpath('/images/image'); $image_url = ''; foreach($images as $image) { $attributes = $image->attributes(); if ($attributes['size'] == 'thumb') { $image_url = $attributes['url']; break; } } echo " " ." " ." id."','span".$movie->id."')\">" ." id."\"> " ." ".$movie->name." " ." ".$this->isWatching($movie->id, $uid, $movie->name, 'movie')." " ." "; echo " id."\">" ." ".$movie->name." Movie ID: ".$movie->id." " ." Movie Link: url."\">".$movie->url." " ." Released: ".$movie->released." " ." Classification: ".$movie->certification." " ." Adult: ".$movie->adult." " ." Overview: ".$movie->overview." " ." " ." "; $i++; }
