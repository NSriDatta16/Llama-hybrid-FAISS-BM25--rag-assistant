[site]: crossvalidated
[post_id]: 299849
[parent_id]: 246649
[tags]: 
Firstly, you have a 'typo' in the form of a missing integral in your mathematical formula. $$CRPS=\frac{1}{n} \sum_{i=1}^{n} \int_{-\infty}^{\infty} \left(F^f_i(x) - F^0_i(x)\right)^2dx$$ Secondly, since the outer sum in both cases is essentially an average over the CRPS over all cases, let's just examine whether the base CRPS formula is equivalent for individual cases. The answer is yes, but you seem to have misunderstood what is meant by the phrase " true CDF ". The CRPS is a method of scoring a probability function over a particular prediction, against the actual event. So, in weather terms, a prediction could be something like having a probability distribution over a range of temperatures, and the actual event was a single temperature. The probability mass function of the actual event is a single spike of probability 1 at the actual value, and zero elsewhere, since this is a deterministic event. If it is a continuous variable, then equivalently it's density function is a delta function. We know the value with absolute certainty, therefore the probability that the actual event was not that value is zero. Equally, the actual CDF is essentially a heavyside function, i.e. a step from 0 to 1 that occurs at that particular temperature. Therefore the formula above should now make since, on the understanding that $F_i^0(x) $ only takes the values 0 and 1 at any time. The "square" term essentially penalises at each point the extent to which your pdf has over- or under- estimated the prediction respectively. The Kaggle formulation simply makes this explicit, and replaces the integral with a summation over discrete points (i.e., as if we're dealing with a probability mass function instead of a probability density function) As for the calculation in your example, it cannot be done, since, as I've pointed out above, you seem to have misunderstood what "Actual CDF" means. Since the values you give are not {0,1}, this is not the Actual CDF for that event.
