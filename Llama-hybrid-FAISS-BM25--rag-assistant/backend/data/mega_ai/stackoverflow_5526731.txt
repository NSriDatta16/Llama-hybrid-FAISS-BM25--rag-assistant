[site]: stackoverflow
[post_id]: 5526731
[parent_id]: 5526710
[tags]: 
You are telling the parse_url function to use PHP_URL_HOST , which will ALWAYS return the part you don't want. I've never used this function, but perhaps try: $tmp = parse_url($url['url']); $url = $tmp['path'] . "?" . $tmp['query'] . "#" . $tmp['fragment']; instead, which should return the chunk that you want, without any regex . From the docs: parse-url
