[site]: stackoverflow
[post_id]: 3634723
[parent_id]: 
[tags]: 
Linq to NHibernate projection to anon. type results in mystifying cast error

I have an TaxWork entity which is persisted using NHibernate. This entity has the following properties (among others): public virtual TaxWorkType Type { get; set; } //Kctc.TaxWorkType is an enumeration public virtual TaxWorkStatus Status { get; set; } //Kctc.TaxWorkStatus is an enumeration public virtual LegalWorkPriority Priority { get; set; } //Kctc.LegalWorkType is an enumeration public virtual User Handler { get; set; } //Kctc.BusinessLayer.Entities.User is another entity public virtual int? CaseNumber { get; set; } I am using Linq to NHibernate to pull of a subset of the tax work objects as follows (taxWorkRepository.All obviously returns an IQueryable): foreach (TaxWork taxWork in taxWorkRepository.All.Where(x => x.CaseNumber == _caseNumber).OrderBy(x => x.DateCreated)) { ... } This works fine. I want to use projection in order to query only the columns that are required in this case. I am usnig the following code: foreach (var taxWorkFragment in taxWorkRepository.All.Where(x => x.CaseNumber == _caseNumber).OrderBy(x => x.DateCreated).Select(x => new { Type = x.Type, DateCreated = x.DateCreated, Handler = x.Handler, Status = x.Status, Priority = x.Priority })) { ... } However, I'm getting the following error when trying to create the anonymous type: Invalid cast from 'Kctc.TaxWorkStatus' to 'Kctc.BusinessLayer.Entities.User'. Where on earth is it getting the idea that it should be casting a TaxWorkStatus to a User? Any suggestions whatsoever what might be going wrong?
