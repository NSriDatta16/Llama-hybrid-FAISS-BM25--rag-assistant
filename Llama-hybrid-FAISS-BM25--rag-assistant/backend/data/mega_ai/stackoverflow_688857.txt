[site]: stackoverflow
[post_id]: 688857
[parent_id]: 688830
[tags]: 
There are a few problems with: char file_name[80] = "filename.vce"; char *new_file_name = NULL; new_file_name = strstr(file_name, "vce"); strncpy(new_file_name, "wav", 3); printf("new file name: %s\n", new_file_name); printf("file name: %s\n", file_name); There is only storage for one string, but at the end you attempt to print two different strings. The variable named new_file_name actually points to part of the same filename. The string vce might occur anywhere within a filename, not just an the extension. What if the filename was srvce.vce ? You probably want to find the last . character in the string, then check whether it is followed by the expected extension, and then replace that extension. And remember that if you do this by modifying the original buffer, you will not be able to print the old string afterwards.
