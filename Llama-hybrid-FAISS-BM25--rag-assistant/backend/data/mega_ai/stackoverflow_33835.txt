[site]: stackoverflow
[post_id]: 33835
[parent_id]: 33814
[tags]: 
Well, this doesn't answer the question and is more of an opinion, but... I think that the best scraping strategy (and consequently, to eliminate this problem) is not to analyze an HTML line by line, which is unnatural to HTML, but to analyze it by its natural delimiter: <> pairs. There will be two types of course: Tag elements that are immediately closed, e.g., Tag elements that need a separate closing tag, e.g., text You can immediately see the advantage of using this strategy in the case of paragraph(p) tags: It will be easier to parse mutiline paragraphs instead of having to track where the closing tag is.
