[site]: stackoverflow
[post_id]: 1749173
[parent_id]: 1746230
[tags]: 
Here is a short example: your_page.html var draggable_marker = null; $(document).ready(function() { if (GBrowserIsCompatible()) { map = new GMap2(document.getElementById('map_div')); map.addControl(new GSmallMapControl()); draggable_marker = new GMarker(new GLatLng(42.6976489, 23.3221545), {draggable : true,title : "Place this marker to your location"); GEvent.addListener(draggable_marker, 'dragend', function() { RubyGmap.setPosition(draggable_marker); }); GEvent.addListener(map, 'click', function(overlay, latlng, overlaylatlng){ RubyGmap.setMarkerPosition(draggable_marker, latlng); }); } }); ruby_gmap.js RubyGmap = { setPosition: function(marker) { $('#latitude_field').val(marker.getLatLng().lat()); $('#longitude_field').val(marker.getLatLng().lng()); }, setMarkerPosition: function(marker, latlng) { SELECTED = true; map.addOverlay(marker); marker.setLatLng(latlng); RubyGmap.setPosition(marker); } }
