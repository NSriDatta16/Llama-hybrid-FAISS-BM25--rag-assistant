[site]: stackoverflow
[post_id]: 3694288
[parent_id]: 3694237
[tags]: 
i'm probably wrong but if you did: select count(distinct userid) from stats where logintime between start of :day and end of day for day in each of those 30 days fetched those 30 counts (which could be pre-calculated cached (as you probably don't have users logging in at past times)) and them just average them in the programing language that your executing the query from i read http://unganisha.org/home/pages/Generating_Sequences_With_SQL/index.html while looking and thought if you had a table of say the numbers 0 to 30 lets name it offsets for this example: select avg(userstoday) from (select count(userid) as userstoday, day from stats join offsets on (stats.logintime=(current_day)-offsets.day) group by day) and as i noted, the userstoday value could be pre-calculated and stored in a table
