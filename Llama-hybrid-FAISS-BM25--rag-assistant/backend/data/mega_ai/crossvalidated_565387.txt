[site]: crossvalidated
[post_id]: 565387
[parent_id]: 
[tags]: 
Modeling Urns and Balls System as a Markov Chain

Suppose I have $q$ urns each of which hold up to $n$ distinguishable balls, but only $1$ of each type of ball (there being $n$ types of balls too). I would like to make any particular configuration of the number of balls in the urns equally likely, with each urn having at least 1 ball. Importantly, I am trying to make sure that the number of balls in any of the urns (no matter what type of ball) be equally likely, not that any individual type of ball be equally likely to be in the urns. I believe this is represented by this distribution $$ P(U) = \frac{1}{\prod\limits_{i=1}^q{n \choose n_i}} = \prod\limits_{i=1}^q\frac{n_i!\left(n-n_i\right)!}{n!} $$ where $1\leq n_i\leq n$ is the number of balls in urn $i$ . I would like to calculate the mean number of balls in the urns of this distribution but I am not sure how to do this analytically. My idea is to do a monte carlo simulation for given $n$ and $q$ to gain some intuition and to see how peaked (or not) the distribution is. Is this sampling scheme a valid way to sample from $P(U)$ : Choose an urn uniformly at random If the urn has fewer than $n$ balls and more than $1$ ball, add a ball of a type not already in the urn (at random) with probability $1/2$ , otherwise remove a ball from the urn at random. If the urn has only 1 ball, add a ball of a type not already in the urn (at random) with probability $1/2$ , otherwise, do nothing. If the urn has $n$ balls, remove a ball with probability $1/2$ , otherwise, do nothing.
