[site]: crossvalidated
[post_id]: 441645
[parent_id]: 369722
[tags]: 
If $$p(\mu,\tau|\mathbf{x})\propto \tau^{\frac{n}{2}+ξ_{0}-1}\exp(-\tauξ_{0})\exp\left\{-\frac{1}{2}\tau\sum_{i=1}^{n}(x_{i}-\mu)^2-\frac{1}{2\sigma_{0}^{2}}(\mu-\mu_{0})^2\right\}\tag{1}$$ and (assuming $\tilde X\sim\mathcal N(\mu,\tau^{-1})$ ) $$p(\tilde{x}|\mu,\tau)\propto \tau^{1/2}{\sqrt{2\pi}}\exp\{-\frac{1}{2}\tau(\tilde x-\mu)^2\}$$ then $$p(\tilde{x}|\mu,\tau)p(\mu,\tau|\mathbf{x})\propto \tau^{\frac{n-1}{2}+\xi_{0}}\exp\left\{-\tau\xi_{0}-\frac{\tau(\tilde x-\mu)^2}{2}-\frac{\tau}{2}\sum_{i=1}^{n}(x_{i}-\mu)^2-\frac{(\mu-\mu_{0})^2}{2\sigma_{0}^{2}}\right\}$$ Integrating out $\tau$ gives $$p(\tilde{x}|\mu,\mathbf{x})\propto \left\{2\xi_{0}+(\tilde x-\mu)^2+\sum_{i=1}^{n}(x_{i}-\mu)^2\right\}^{-\frac{n+1}{2}-\xi_{0}}\exp\left\{-\frac{1}{2\sigma_{0}^{2}}(\mu-\mu_{0})^2\right\}$$ which has no closed form expression . The issue stems from the choice of prior $$\mu\sim\mathcal N(\mu_0,\sigma_0^{})$$ since this prior is not conjugate: as you can see from (1), the posterior on $\mu,\tau)$ is not of the same form as the prior since $\mu$ and $\tau$ become dependent. A conjugate prior should involve $\tau$ as for instance $$\mu\sim\mathcal N(\mu_0,\omega\tau^{-1})$$ (as for instance detailed in our Bayesian essentials texbook, Chapter 2).
