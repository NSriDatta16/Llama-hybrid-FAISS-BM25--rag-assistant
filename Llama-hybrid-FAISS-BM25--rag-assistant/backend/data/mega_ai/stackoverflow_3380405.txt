[site]: stackoverflow
[post_id]: 3380405
[parent_id]: 
[tags]: 
Write Serialized XML to String and Display in Browser

I have a serialized object which needs to be sent as an encrypted XML string. I am able to save the serialized object to a well-formed XML file, but this is not what I want. I have already got Rijndael encrypt/decrypt working for a sample string. Person person = new Person("Irish", "Chieftain"); XmlSerializer xmlSerializer = new XmlSerializer(typeof(Person)); // Write serialized XML to file System.Guid guid = System.Guid.NewGuid(); StreamWriter streamWriter = new StreamWriter(@"C:\application" + "_" + guid.ToString() + ".xml") xmlSerializer.Serialize(streamWriter.BaseStream, person); I want to be able to display the XML string in the browser , before encryption, to test that the correct encrypted string is being sent to the decrypt method on the other machine. I have been beating on this for a week and have looked to other answers on SO, such as: How to return XML in ASP.NET? Can anyone show me the correct syntax to display the generated XML as a string in the browser? [UPDATE] Here is what I'm trying to render the XML: MemoryStream memoryStream = new MemoryStream(); XmlTextWriter xmlWriter2 = new XmlTextWriter(memoryStream, Encoding.UTF8); xmlWriter2.Formatting = Formatting.Indented; xmlSerializer.Serialize(xmlWriter2, person); memoryStream = (MemoryStream) xmlWriter2.BaseStream; UTF8Encoding encoding2 = new UTF8Encoding(); stringData = encoding2.GetString(memoryStream.ToArray()); Response.ContentType = "text/xml"; Response.Write(stringData); [UPDATE 2] If I remove the "text/xml" content type, I get the following when I view source (is this correct?): Irish Chieftain [Update 3] Working version: #region Display original string // Write serialized XML to a string - Display purposes. MemoryStream memoryStream = new MemoryStream(); XmlTextWriter xmlWriter2 = new XmlTextWriter(memoryStream, Encoding.UTF8); xmlWriter2.Formatting = Formatting.Indented; xmlSerializer.Serialize(xmlWriter2, person); memoryStream = (MemoryStream) xmlWriter2.BaseStream; UTF8Encoding encoding2 = new UTF8Encoding(); stringData = encoding2.GetString(memoryStream.ToArray()); Response.Clear(); Response.ContentType = "text/xml"; Response.Cache.SetCacheability(HttpCacheability.NoCache); Response.Cache.SetAllowResponseInBrowserHistory(true); Response.Write(stringData); Response.End(); #endregion
