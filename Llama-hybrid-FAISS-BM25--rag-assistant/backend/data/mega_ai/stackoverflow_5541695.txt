[site]: stackoverflow
[post_id]: 5541695
[parent_id]: 
[tags]: 
Calling A Method In Mootools, The Correct Way?

I have created a class in mootools that when the initialize() method is first called it creates a div elements which is then appended to the document.body . I then attach a context menu handler which will call functions when an option from the context menu is selected in the browser. The trouble I am having is that the context menu handler will not actually call any functions and I can't quite figure out why and was wondering if anyone here could spot the problem? Here is the class I have created and the attached context-menu handler, some of the other code has been removed for brevity: var uml_Canvas = new Class({ initialize: function() { this.mainCanvasDiv = document.createElement("div"); this.mainCanvasDiv.id = "mainCanvas"; this.mainAppDiv.appendChild(this.mainCanvasDiv); this.paper = Raphael(this.mainCanvasDiv.id, 500, 400); this.paper.draggable.enable(); $("#"+this.mainCanvasDiv.id).contextMenu('canvasPanel_Menu', { bindings: { 'clear': function(t) { this.clearPaper(); } } }); }, clearPaper : function() { this.paper.clear(); } }); So a quick overview, an object is created which creates a div and then appends it to the body. The div then has a context-menu assigned. When the 'clear' option is called the method clearPaper() should be called be for some reason it is not. If, however, I replace the this.clearPaper(); line with a simple alert() call, it does indeed run. Can anyone see a reason why it is not possible to call a method? BTW the error I get is this.clearPaper is not a function if that helps.
