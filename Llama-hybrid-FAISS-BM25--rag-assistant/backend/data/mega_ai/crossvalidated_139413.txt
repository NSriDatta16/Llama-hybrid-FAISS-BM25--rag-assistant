[site]: crossvalidated
[post_id]: 139413
[parent_id]: 139384
[tags]: 
I suggest modeling the problem as a Markov chain where each state represents the distance between the spider and the ant. In this case we have 4 possible states $S_i$ as the distances $i$ can be $\{0,1,2,3\}$. When the spider is at the opposite corner of the cube, it is at a distance of 3 steps from the ant. It is in state $S_3$. Building the transition matrix $\mathbf{P}$. If we draw a cube we see that when we are at state $S_3$, every movement reduces the distance between the spider and the ant to 2 steps. So, when we are at state $S_3$ we move to state $S_2$ with probability 1. When we are at state $S_2$, we can go back to state $S_3$ using the edge we arrived from there or we can decrease the distance to only one step if we choose two other edges. So, when we are at state $S_2$ we can move to state $S_1$ with probability 2/3 and to state $S_3$ with probability 1/3. When we are at state $S_1$, we can go to state $S_0$ using one of the three possible edges. If we use the other two, we go back to state $S_2$. So, when we are at state $S_1$ we can move to state $S_0$ with probability 1/3 and to state $S_2$ with probability 2/3. When we get to state $S_0$, we stay there since it is our goal. $S_0$ is an absorbing state. \begin{equation} \mathbf{P} = \left[\begin{array}{cccc} P_{S_3 \to S_3} & P_{S_3 \to S_2}& P_{S_3 \to S_1} & P_{S_3 \to S_0} \\ P_{S_2 \to S_3} & P_{S_2 \to S_2}& P_{S_2 \to S_1} & P_{S_2 \to S_0} \\ P_{S_1 \to S_3} & P_{S_1 \to S_2}& P_{S_1 \to S_1} & P_{S_1 \to S_0} \\ P_{S_0 \to S_3} & P_{S_0 \to S_2} & P_{S_0 \to S_1}& P_{S_0 \to S_0} \\ \end{array}\right] = \left[\begin{array}{cccc} 0 & 1 & 0 & 0 \\ 1/3 & 0 & 2/3 & 0 \\ 0 & 2/3 & 0 & 1/3 \\ 0 & 0 & 0 & 1 \\ \end{array}\right] \end{equation} This is an absorbing Markov chain with three transient states ($S_3$, $S_2$, $S_1$) and one absorbing state ($S_0$). According to the theory, the transition matrix of a Markov chain with $t$ transient states and $r$ absorbing states can be rewritten as: \begin{equation} \mathbf{P} = \left[\begin{array}{cc} \mathbf{Q}_t &\mathbf{R} \\ \mathbf{0}_{r \times t} & \mathbf{I}_r \\ \end{array}\right] \end{equation} where $\mathbf{Q}_t$ is a $t \times t$ matrix that shows the probability of transitioning from some transient state to another transient state, while $\mathbf{R}$ is a $t \times r$ matrix with the probabilities of transitioning from one of the $t$ transient states to one of the $r$ absorbing states. The identity matrix $\mathbf{I}_r$ shows us that when any of the $r$ absorbing state is reached, there is no transition away from that state. The all zeros matrix $\mathbf{0}_{r \times t}$ can be interpreted as that there is no transition from any of the $r$ absorbing states to any of the $t$ transient states. The $(i,j)$ entry of $\mathbf{Q}_t$ represents probability of transitioning from a state $i$ to a state $j$ in exactly one step. To get the probability for $k$ steps we need the $(i,j)$ entry of $\mathbf{Q}_t^k$. Summing for all $k$, we get a matrix that contains in its $(i,j)$ entry the expected number of visits to transient state $j$ after starting from transient state $i$. \begin{equation} \sum_{k=0}^{\infty} \mathbf{Q}_t^k = (\mathbf{I}_t - \mathbf{Q}_t)^{-1} \end{equation} To get the number of steps until being absorbed, just sum the values of each row of $(\mathbf{I}_t - \mathbf{Q}_t)^{-1}$. This can be represented by \begin{equation} \mathbf{t} = (\mathbf{I}_t - \mathbf{Q}_t)^{-1} \mathbf{1} \end{equation} where $\mathbf{1}$ is a column vector with all components equal to 1. Let us apply this to our case: As stated above, in our case we have $t$=3 transient states and $r$=1 absorbing state, therefore: \begin{equation} \mathbf{Q}_t = \left[\begin{array}{ccc} 0 & 1 & 0 \\ 1/3 & 0 & 2/3\\ 0 & 2/3 & 0 \\ \end{array}\right] \quad \quad \mathbf{R} = \left[\begin{array}{c} 0 \\ 0\\ 1/3 \\ \end{array}\right] \end{equation} The matrix with the expected number of visits is \begin{equation} (\mathbf{I}_t - \mathbf{Q}_t)^{-1} = \left[\begin{array}{ccc} 2.5 & 4.5 & 3 \\ 1.5 & 4.5 & 3\\ 1 & 3 & 3 \\ \end{array}\right] \end{equation} This matrix can be interpreted as follows. Starting from state $S_3$ and before getting absorbed at $S_0$ we visit, on average, $S_3$ 2.5 times, $S_2$ 4.5 times, and $S_1$ 3 times. The expected number of steps from state $S_3$ to state $S_0$ is given by the first component of the following vector: \begin{equation} \mathbf{t} = \left[\begin{array}{ccc} 2.5 & 4.5 & 3 \\ 1.5 & 4.5 & 3\\ 1 & 3 & 3 \\ \end{array}\right] \left[\begin{array}{c} 1 \\ 1\\ 1\\ \end{array}\right] = \left[\begin{array}{c} 10 \\ 9\\ 7\\ \end{array}\right]. \end{equation} The second and third components of $\mathbf{t}$ are the expected number of steps to $S_0$ if we start from $S_2$ and $S_1$ respectively.
