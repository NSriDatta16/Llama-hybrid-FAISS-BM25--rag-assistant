[site]: stackoverflow
[post_id]: 4048887
[parent_id]: 4029924
[tags]: 
XMPP servers send presence probes to all your contacts on your behalf when you send your own initial presence to the server. From then on, you will only receive presence status changes from your contacts. If you lose the presence state of your contacts, you will need to send your own presence probes to re-establish that state. However, this is probably not something you want to do a lot, and passing around the presence state is probably preferred in most cases. You could try passing the state via XMPP. For example, you could use Private XML Storage (XEP-0049), Pubsub (XEP-0060), or PEP (XEP-0163). Another option instead of cookies for passing it client side is to use an HTML5 SharedWorker object to hold the state.
