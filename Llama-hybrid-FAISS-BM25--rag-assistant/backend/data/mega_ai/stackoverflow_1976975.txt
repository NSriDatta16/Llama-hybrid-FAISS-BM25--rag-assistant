[site]: stackoverflow
[post_id]: 1976975
[parent_id]: 1976954
[tags]: 
Take a look at videopress.com - the video sharing service for wordpress.com. The entire solution is open source and uses ffmpeg to transcode video into multiple formats for embedding in websites. You can access the code at http://code.trac.wordpress.org/ You should be able to either use this out of the box or customise if for your particular project.
