[site]: crossvalidated
[post_id]: 580942
[parent_id]: 580776
[tags]: 
Perhaps equation 9 in this paper 1 is useful. Using your notation: $$ \begin{equation} L_{\text{cos}}(A, P, N) = -\log \frac{\exp\{s (f(A)^T f(P) - m)\}}{\exp\{s (f(A)^T f(P) - m)\} + \exp\{s f(A)^T f(N)\}} \end{equation} $$ where $s > 1$ is a hyperparameter specifying the radius of the hypersphere where features live (the authors argue that increasing this allows for greater angular separation b/t features, and thus greater discrimination) $m$ is the margin hyperparameter (in terms of cosine distance) and all features were normalized to have unit norm (that's why the dot products above are the same as cosine similarity). References Unde, Amit Satish, and Renu M. Rameshan. "MOTS R-CNN: Cosine-margin-triplet loss for multi-object tracking." arXiv preprint arXiv:2102.03512 (2021).
