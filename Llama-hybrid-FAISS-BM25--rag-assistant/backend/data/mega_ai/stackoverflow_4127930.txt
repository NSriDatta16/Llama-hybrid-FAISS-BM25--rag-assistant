[site]: stackoverflow
[post_id]: 4127930
[parent_id]: 4127575
[tags]: 
Whether or not you have room on the heap, storing the undo state in your persistent storage (not temp files) is your only option. The user can leave your app, at which point your process can be killed. Upon returning, you need to restart your app with the same state they last saw. Anything you had in your own heap will no longer be there; you can not put big bitmaps in the Bundle in onSaveInstanceState(). So you need to put them in persistent storage. Just make sure you don't block the UI while doing so -- write a new state asynchronously from updating the UI.
