[site]: stackoverflow
[post_id]: 904019
[parent_id]: 
[tags]: 
How can I allow a download to pause/resume?

Normally, when I want to allow a user to download a file without revealing the exact location, I just use something like this to let them download the file: header("Pragma: public"); header("Expires: 0"); header("Cache-Control: must-revalidate, post-check=0, pre-check=0"); header("Content-Type: application/octet-stream"); header("Content-Disposition: attachment; filename=\"" . $filename) . "\";"); header("Content-Transfer-Encoding: binary"); header("Content-Length: " . filesize($filename)); readfile("$filename"); But if they are using a modern browser or other download client, and they pause the download and try to resume it, the script (assuming they are still authenticated or whatever) will resend the headers and the file contents from the beginning, thus breaking the download, and basically requiring the file to be redownloaded from the beginning. How can I enable my script to compensate for paused (and consequentially, resumed) downloads?
