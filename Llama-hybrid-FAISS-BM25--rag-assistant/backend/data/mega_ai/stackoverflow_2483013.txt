[site]: stackoverflow
[post_id]: 2483013
[parent_id]: 2480912
[tags]: 
If you send the button a BCM_SETSHIELD message on XP, it will say to itself "fascinating" and do nothing of interest. It certainly won't display a shield. So you don't need to prevent yourself from sending the message. Still, it's a good thought to pay attention to your OS features before using them. If "the UAC process" you're launching is a separate exe with a manifest, the XP machines will ignore the manifest and you won't need to write any version checking code where you launch it. This is the best kind of cross-version code to write - it does nothing on older versions but you're not running around explicitly testing the version at runtime, nor building different exes for different versions. You won't always be able to achieve that.
