[site]: stackoverflow
[post_id]: 4582046
[parent_id]: 4581945
[tags]: 
Some notes, first: Instead of len(filestocopy.keys()) , you can just do len(filestocopy) Prefer for key in filestocopy.iterkeys() over for key in filestocopy.keys() You could try something like: callback = None if show_progress: callback = lambda pos, total: display_progress(pos, total, key) if average_size I don't know what arguments your 'copy' function takes, but you could do something instead: callback = None buffer_sz = 1024 * 2600 if average_size >= 1024*10000 else WHATEVER_SIZE if show_progress: callback = lambda pos, total: display_progress(pos, total, key) for key in filestocopy.keys(): copy(filestocopy[key]['fullpath'], dest_path + key, buffer_sz, callback) Here, "WHATEVER_SIZE" should obviously be replaced with the buffer size for smaller lists, or whatever the default value is supposed to be. The basic idea is to initialize your function arguments before you loop, to variables, and then use those variables in your function call. :)
