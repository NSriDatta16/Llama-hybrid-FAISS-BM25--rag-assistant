[site]: stackoverflow
[post_id]: 3571115
[parent_id]: 
[tags]: 
SharePoint 2010 / IIS 7.5 Byte-Range Request Responds With Entire File

I'm having problems getting SharePoint 2010/IIS 7.5 to respect byte-range requests. I'm developing a SharePoint 2010 Web Part using Silverlight, and am trying to retrieve part of a document stored inside SharePoint. When I request a byte range of a file in SharePoint, the server responds with the entire file. However, if I request the same byte range from a file sitting on an Apache server, everything works as expected. Below are the http headers observed with Fiddler. Any help would be really appreciated! Thanks. Sent: GET http://example.com/file.abc HTTP/1.1 Accept: */* Accept-Language: en-US Referer: http://example.com/index.html Accept-Encoding: identity Range: bytes=1061285-1064594 User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.4 (KHTML, like Gecko) Chrome/5.0.375.127 Safari/533.4 Host: example.com Connection: Keep-Alive SharePoint also takes login credentials: Authorization: Negotiate TlRMTVNTUAABAAAAl4II4gAAAAAAAAAAAAAAAAAAAAAGAbAdAAAADw== Received from Apache: HTTP/1.1 206 Partial Content Date: Wed, 25 Aug 2010 22:40:34 GMT Server: Apache/2.0.54 Last-Modified: Fri, 20 Aug 2010 23:27:18 GMT ETag: "b68e346-103ea9-a3c20180" Accept-Ranges: bytes Content-Length: 3310 Vary: User-Agent Content-Range: bytes 1061285-1064594/1064617 Keep-Alive: timeout=5, max=99 Connection: Keep-Alive Content-Type: application/x-zip Received from SharePoint 2010 / IIS 7.5 HTTP/1.1 200 OK Cache-Control: private,max-age=0 Content-Length: 1064617 Content-Type: application/octet-stream Expires: Tue, 10 Aug 2010 22:40:56 GMT Last-Modified: Wed, 25 Aug 2010 19:28:39 GMT ETag: "{5A1DF927-D8CD-4BC0-9590-8188CF777A3D},1" Server: Microsoft-IIS/7.5 SPRequestGuid: 99799011-5bdc-489f-99fd-d060a56d3ae4 Set-Cookie: WSS_KeepSessionAuthenticated={7703be10-bb56-4fa1-ba8b-cd05f482859f}; path=/ X-SharePointHealthScore: 5 ResourceTag: rt:5A1DF927-D8CD-4BC0-9590-8188CF777A3D@00000000001 X-Content-Type-Options: nosniff Content-Disposition: attachment; filename=file.abc X-Download-Options: noopen Public-Extension: http://schemas.microsoft.com/repl-2 Set-Cookie: WSS_KeepSessionAuthenticated={7703be10-bb56-4fa1-ba8b-cd05f482859f}; path=/ Persistent-Auth: true X-Powered-By: ASP.NET MicrosoftSharePointTeamServices: 14.0.0.4762 Date: Wed, 25 Aug 2010 22:40:56 GMT
