[site]: stackoverflow
[post_id]: 2659853
[parent_id]: 
[tags]: 
Regular Expression to replace tags with line breaks

I have the following HTML Some text my link more text more link . Another paragraph. [code:cf] &lt;cfset ArrFruits = ["Orange", "Apple", "Peach", "Blueberry", "Blackberry", "Strawberry", "Grape", "Mango", "Clementine", "Cherry", "Plum", "Guava", "Cranberry"]&gt; [/code] Another line More text [code:cf] &lt;table border="1"&gt; &lt;cfoutput&gt; &lt;cfloop array="#GroupsOf(ArrFruits, 5)#" index="arrFruitsIX"&gt; &lt;tr&gt; &lt;cfloop array="#arrFruitsIX#" index="arrFruit"&gt; &lt;td&gt;#arrFruit#&lt;/td&gt; &lt;/cfloop&gt; &lt;/tr&gt; &lt;/cfloop&gt; &lt;/cfoutput&gt; &lt;/table&gt; [/code] With an output that looks like: What I'm trying to do, is write a regular expression that will remove all the or , and whenever it finds a , it will replace it with a line-break. So far, my pattern looks like this: /\ (.*?)( )/g And I'm replacing the matches with: $1\n It all looks good, but it's also replacing the contents inside the [code][/code] tags, which in this case should not replace the tags at all, so as a result, i would lkike to get rid of the tags, when the content isn't inside the [code] tags. I can't ever get negation right, I know it will be something along the lines of \ ^\[code*\](.*?)( ) But obviously this doesn't work :-) Could anyone please lend me a hand with this regex? BTW, I know I shouldn't be using regular expressions to parse HTML at all. I'm fully aware of that, but still, for this specific case, I'd like to use regex. Thanks in advance
