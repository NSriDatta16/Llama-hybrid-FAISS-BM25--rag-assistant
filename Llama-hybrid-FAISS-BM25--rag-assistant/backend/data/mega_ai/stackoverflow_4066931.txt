[site]: stackoverflow
[post_id]: 4066931
[parent_id]: 
[tags]: 
Safe way to remove elements from a list in Perl?

I'm having some weird results from this perl code - I need to delete several elements from a list of Association objects. My approach is to scan the list once, push the matches to another array, then iterate that array and delete each one, but I haven't escaped the "don't delete while iterating pitfall". Any ideas on how to avoid this? Many thanks. my @agentConfAssociationDeletionsList = ( "AcceptTPCookie", "AgentNamesAreFQHostNames", "BadCssChars", "LogLocalTime" ); #find associations to remove my @associationsToRemove = (); foreach my $association ($agentConf->GetAssociations()) { if ( grep {$_ eq $association->Name()} @agentConfAssociationDeletionsList) { print "pushing " . $association->Name() . "\n"; push(@associationsToRemove, $association); } } #remove them foreach my $association (@associationsToRemove) { print "removing association: " . $association->Name(); agentConf->RemoveAssociation($association); }
