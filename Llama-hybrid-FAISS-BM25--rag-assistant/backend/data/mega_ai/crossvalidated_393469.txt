[site]: crossvalidated
[post_id]: 393469
[parent_id]: 
[tags]: 
R - Linear Regression with parameters constraint - contr.sum contrast

I am facing a problem with running a simple OLS regression with two categorical independent variable. I would like to impose that the sum of the coefficients referred to one variable (x in the following example) must add to 0. This case is the case of the Barra-fundamental risk model approach, where it runs a cross-section regression, with stock returns as dependent variable and country and sector as categorical independent variable. In order to estimate the model, the model imposes that the sum of the country coefficients equals 0. I tried to implement the model using the contrast option (contr.sum in particular), but I cannot figure out how to extract the coefficient for all the countries and for all the sectors. Following a reproducible example: set.seed(1) x I get the following results Estimate Std. Error t value Pr(>|t|) (Intercept) -0.016094 0.010357 -1.554 0.12084 x1 0.008834 0.007412 1.192 0.23387 x2 -0.021148 0.007481 -2.827 0.00489 ** zEnergy 0.006568 0.014642 0.449 0.65395 zIndustrial 0.003603 0.014729 0.245 0.80687 zTelecommunication 0.020755 0.014754 1.407 0.16016 If I understood correctly, the coefficient for the third country should be obtained with - (x1+x2) -> - -0.0049, that in this case should correspond to the "GERMANY"'s beta. I know the functioning of dummy variables in general: the intercept without contrasts representes the combined effect of the two exluded variables. My questions are: are x1, x2 and -(x1+x2) the effective parameters for the country variable? Or should I add the intercept? how should I calculate the parameters for the "sector" variable? In this case, I don't know how to obtain the parameter for "Diversified Regarding the first question, I find correspondence between calculated coefficients and average returns per country when I run the model with only the country variable: model $coefficients[1] reg.coeff coefficients[2:3] data.table(var = sort(unique(x)), coeff= c(reg.coeff+intercept, -sum(reg.coeff)+intercept)) dt[, mean(y), by = .(x)] var coeff 1: AUSTRIA 0.0002241334 2: FRANCE -0.0288653916 3: GERMANY 0.0034073575 x V1 1: AUSTRIA 0.0002241334 2: GERMANY 0.0034073575 3: FRANCE -0.0288653916 Thank you very much in advance and any example code/ interpretation of results would be really apreciated.
