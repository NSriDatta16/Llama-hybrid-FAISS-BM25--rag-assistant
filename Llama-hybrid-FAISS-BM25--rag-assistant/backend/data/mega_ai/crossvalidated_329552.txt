[site]: crossvalidated
[post_id]: 329552
[parent_id]: 
[tags]: 
XGBoost in R - predictions have severe bias with class imbalanced data

Look at the following sample code to understand the problem. I am facing this problem in a real dataset but to represent the issue I am creating a random dataframe below. random_df When I run this I get [1] 0.04864751 Clearly the dataset I created has a mean of 1%. Why would the mean of probabilities predicted by this model equal 4%? Am I doing something wrong here or xgboost just doesn't handle class imbalance in binary classification well? Just for comparison, use GBM gbm_train = gbm.fit(random_df,pred ,shrinkage=0.1 ,interaction.depth=1 ,n.trees=25 ,distribution='bernoulli') mean(predict(gbm_train,random_df,n.trees=25,type='response')) And you get the expected result! [1] 0.01008938
