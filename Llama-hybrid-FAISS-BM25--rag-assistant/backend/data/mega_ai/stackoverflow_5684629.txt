[site]: stackoverflow
[post_id]: 5684629
[parent_id]: 
[tags]: 
How to use JavaScript MVVM/MVC with pre-loaded data

I want to load an HTML page with existing data (a list of comments or widgets or whatever), then use Javascript to render additional data in the same format as it is input by users interacting with the page. I'd like to use a model stored in a JavaScript object that represents both existing data on the page as well as new data from user input, then observe to the model to update the DOM when it changes. I'd like to render JS templates to display data entered by users quickly, without hitting the server again. I would like to avoid writing server-side and JavaScript templates that render the same data. To solve the first problem of building the initial model it seems like the options are, in order of preference: Use JavaScript to pull the data rendered in HTML to build the initial model, or Render JSON directly to the DOM and build the JS object from that, or Hit the server again after the page is loaded as an ajax call to get the data as JSON To avoid having server-side and client-side templates to display the same thing: Use use something like Pure to build templates from the DOM, or Only use JS templates and use one of the second options above to initially render the page (populate them from JSON rendered to the DOM or make an ajax call to get JSON to populate them). Use a templating system that works on both the server and client. I feel like none of these solutions are particularly elegant, and I'm curious as to what other patterns I may not have thought of or if there is a common solution. My environment is Rails 3, but the problems are applicable to any server -> HTML/JS setup. I can see how some of this might be easier with something like Node.js but I'm principally interested in solutions that would apply to Rails.
