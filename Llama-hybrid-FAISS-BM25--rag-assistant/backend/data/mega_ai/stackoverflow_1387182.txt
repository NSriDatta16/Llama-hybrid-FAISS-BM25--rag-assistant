[site]: stackoverflow
[post_id]: 1387182
[parent_id]: 1257746
[tags]: 
I know you said TG1 my solution is TG2 but can be backported or simply depend on webhelpers but IMO all other implementations are flawed. Take a look at the converters module both nl2br and format_paragraphs.
