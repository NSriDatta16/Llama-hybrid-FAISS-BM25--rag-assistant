[site]: stackoverflow
[post_id]: 196721
[parent_id]: 
[tags]: 
How to get Cobertura to fail M2 build for low code coverage

I'm trying to configure my WAR project build to fail if the line or branch coverage is below given thresholds. I've been using the configuration provided on page 455 of the excellent book Java Power Tools , but with no success. Here's the relevant snippet of my project's Maven 2 POM: ... org.codehaus.mojo cobertura-maven-plugin 2.2 80 80 90 90 clean check coverage-tests verify clean check au/**/*Constants.* au/**/*Constants.* ... ... As I say, the coverage report works fine, the problem is that the "install" goal isn't failing as it should if the line or branch coverage is below my specified thresholds. Does anyone have this working, and if so, what does your POM look like and which version of Cobertura and Maven are you using? I'm using Maven 2.0.9 and Cobertura 2.2. I've tried Googling and reading the Cobertura docs, but no luck (the latter are sparse to say the least).
