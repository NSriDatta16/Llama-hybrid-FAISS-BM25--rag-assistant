[site]: stackoverflow
[post_id]: 1135620
[parent_id]: 1135560
[tags]: 
According to me Thread Local storage is the best option for you. If you need thread specific data, you can make use of Thread Local Storage and completely eliminate the need for map and mutex locking.
