[site]: stackoverflow
[post_id]: 4603900
[parent_id]: 
[tags]: 
Importing/parsing XML from URL into Magento

I have a URL, which contains XML of products. What I'm looking to do, is, if possible, parse the contents and then import the details as products into Magento. Is this possible and If so, what would be the steps I need to do to carry this out? Thanks EDIT: import_products.php require_once('app/Mage.php'); class import_products extends Mage_Core_Model_Abstract { public static function url_contents($url) { $crl = curl_init(); $timeout = 5; curl_setopt ($crl, CURLOPT_URL,$url); curl_setopt ($crl, CURLOPT_RETURNTRANSFER, 1); curl_setopt ($crl, CURLOPT_CONNECTTIMEOUT, $timeout); $ret = curl_exec($crl); curl_close($crl); return $ret; } } import.php require_once('import_products.php'); $app = Mage::app('default'); $product = Mage::getSingleton('catalog/product'); $objDOM = new DOMDocument(); $objDOM->load("http://www.example.com/products.xml"); $note = $objDOM->getElementsByTagName("car"); // for each note tag, parse the document and get values for // tasks and details tag. foreach( $note as $value ) { $car_ids = $value->getElementsByTagName("Car_ID"); $car_id = $car_ids->item(0)->nodeValue; $makes = $value->getElementsByTagName("Make"); $make = $makes->item(0)->nodeValue; $models = $value->getElementsByTagName("Model"); $model = $models->item(0)->nodeValue; $descriptions = $value->getElementsByTagName("Description"); $description = $descriptions->item(0)->nodeValue; $short_descriptions = $value->getElementsByTagName("Specification"); $short_description = $short_descriptions->item(0)->nodeValue; $prices = $value->getElementsByTagName("Price"); $price = $prices->item(0)->nodeValue; $simple = 'simple'; $product->setAttributeSetId(4); $product->setSku($task); $product->setName($detail); $product->setTypeId($simple); $product->setPrice($price); $product->setValue($price); $product->setDescription($description); $product->setShortDescription($short_description); $product->setWeight(100); $product->setVisibility(Mage_Catalog_Model_Product_Visibility::VISIBILITY_NOT_VISIBLE); $product->setStatus(Mage_Catalog_Model_Product_Status::STATUS_ENABLED); $product->setTaxClassId(2); $product->setStockData(array( 'is_in_stock' => 1, 'qty' => 99999 )); try { $product->save(); echo "Saved"; } catch (Exception $ex) { echo " ".$ex." "; } //echo "$car_id :: $make :: $model :: $description :: $short_description :: $price "; }
