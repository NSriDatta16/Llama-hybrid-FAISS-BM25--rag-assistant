[site]: stackoverflow
[post_id]: 4666439
[parent_id]: 4666116
[tags]: 
NEWS.txt always covers upgrading: Upgrading The Thrift API has changed in incompatible ways; see below, and refer to http://wiki.apache.org/cassandra/ClientOptions for a list of higher-level clients that have been updated to support the 0.7 API. The Cassandra inter-node protocol is incompatible with 0.6.x releases (and with 0.7 beta1), meaning you will have to bring your cluster down prior to upgrading: you cannot mix 0.6 and 0.7 nodes. The hints schema was changed from 0.6 to 0.7. Cassandra automatically snapshots and then truncates the hints column family as part of starting up 0.7 for the first time. Keyspace and ColumnFamily definitions are stored in the system keyspace, rather than the configuration file. The process to upgrade is: 1) run "nodetool drain" on _each_ 0.6 node. When drain finishes (log message "Node is drained" appears), stop the process. 2) Convert your storage-conf.xml to the new cassandra.yaml using "bin/config-converter". 3) Rename any of your keyspace or column family names that do not adhere to the '^\w+' regex convention. 4) Start up your cluster with the 0.7 version. 5) Initialize your Keyspace and ColumnFamily definitions using "bin/schematool import". _You only need to do this to one node_.
