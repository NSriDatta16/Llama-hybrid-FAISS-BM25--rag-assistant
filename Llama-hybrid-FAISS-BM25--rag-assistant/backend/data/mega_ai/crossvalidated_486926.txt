[site]: crossvalidated
[post_id]: 486926
[parent_id]: 486919
[tags]: 
This is called empirical Bayesian approach. Here you can find nice introductory blog post on this method or the An Introduction to Empirical Bayes Data Analysis paper by George Casella (1985). You are right with considering this approach to be inconsistent with proper Bayesian approach, since priors should not depend on the data. This is a little bit of cheating and can lead to overconfident, hence misleading, results. On another hand, some argue that "it works, so why not use it?" . On yet another hand, modern Bayesians are often less purist, e.g. three prominent authors Andrew Gelman, Daniel Simpson, Michael Betancourt in their paper The prior can often only be understood in the context of the likelihood notice that we often do consider the data when choosing priors, so it is not that black-and-white as it could appear.
