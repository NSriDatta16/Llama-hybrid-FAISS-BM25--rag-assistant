[site]: crossvalidated
[post_id]: 617560
[parent_id]: 
[tags]: 
Splitting data when object of study are correlated (based on "origin" group)

everyone! Imagine I have a dataset which I'd like to use it to train a churn model (fot example: logistic regression, xgboost binary classifier, lgbm binary classifier, etc.). The structure of my available data is similar to the one below, where Feature1,Feature2,...,FeatureN are just placeholders for the real features. When splitting the data into train,validation and test sets, I think I can't simply split it with train_test split functions (like the one in sklearn), because for each Company ID, I have multiple instances based on the year/month, and for each year/month the Churn result can be different (and so do the features), but all the instances within ID a are somehow correlated and splitting them between train and test would result in data leakage. Thus, i guess the right way to split the data is based on the whole ID, trying to sample the same proportion of IDs which had churn=1 in all train/test/val datasets. Is that the correct way to approach this problem? And what if I'd like to perform a cross-validation with multiple folds, how to define this split logic based on the ID origin and not only on the % of the split? Thank you in advance!
