[site]: stackoverflow
[post_id]: 3512084
[parent_id]: 
[tags]: 
Moveable Marker Position - Refresh Marker position (GMaps4JSF 1.1.3-u3)

I'm using GMaps4JSF 1.1.3-u3 in a JavaEE 6 Application with JSF 2.0, Facelets, Mojarra 2.0.2 and Primefaces 2.1 on a Glassfish v3 app server. On a xhtml page i want to show some Markers and a moveable Marker (the current selected "station"). Its longitude and latitude positions are stored in some variables with the help of the valueChangeListener . When i use the confirmButton the postion is saved to a station object. Then all stations are reloaded and the form is updated. When i select the station its new position is displayed on the map - everything works. If i move the marker and press the cancelButton and afterwards select the same station in the table, the position of this moving is displayed although the cancelOperation restores the old position (stationLongitude and stationLatitude variables). Thats necessary because the valueChangeListener is called before the cancel Function. I have tried many things but i'm not able to perform the cancelation so that after reselecting the concerned station the old marker position is displayed. It only works when i use oncomplete="window.location.reload()" on the ajax cancelButton ! But this leads to ugly page update (first ajax updates then whole page is reloaded). I'm not sure if this is a GoogleMaps, GMaps4JSF or Facelets problem or something else. Maybe there is a good workaround or i've just done something wrong! Maybe its possible to refresh the Marker position or the marker has an internal state? I'm interested in any hint! Thanks in advance! The XHTML Snippet: ... ... other markers ...
