[site]: crossvalidated
[post_id]: 584493
[parent_id]: 584266
[tags]: 
Techniques of Exploratory Data Analysis (EDA) can help with this feature engineering problem. I want to emphasize how just a couple of well-chosen plots tell us, forcibly, how we ought to proceed. The histogram (unavoidably) hides important details, so let's begin with an N-letter summary of the batch of $2930$ data found in the array vec : M H E D C B A Z Y X * Upper 0.02 0.100 0.190 0.30 0.430 0.650 1.10 2.4 11.0 24 150 Mid 0.02 -0.095 -0.455 -2.15 -8.285 -29.175 -64.45 -298.8 -944.5 -3738 -4925 Lower 0.02 -0.290 -1.100 -4.60 -17.000 -59.000 -130.00 -600.0 -1900.0 -7500 -10000 These letter statistics M, H, E, etc , designate upper and lower $1/2,$ $1/4,$ $1/8,$ etc. quantiles. (These letters started out as mnemonics: "M" = median, "H" = "hinge" (Tukey's term for the shoulders of a boxplot), "E" = "eighth," and thence ascending through the alphabet.) The final column "*" gives the extremes. The middle row labeled "Mid" computes the values midway between corresponding letter statistics; for example, the E-mid is $-0.455 = (0.190 + -1.100)/2.$ A glance at the large, systematic decreases in the Mid row shows us how negatively skewed the data are. (After all, in any symmetric batch of data the mid-values will all be approximately equal.) The temptation is to transform the data, but how? If all values were positive, a diagnostic plot would provide an indication. This is a plot of the spreads (the distances between corresponding letter statistics) against the mid-values on logarithmic axes. Often the points on this plot trend almost linearly and, if so, the slope of the trend indicates how to transform the data to make their distribution more nearly symmetric. Although taking logarithms is impossible due to the negative mid values, the consistent signs of those mid-values suggest looking at their sizes (absolute values) alone. (The initial value of $+0.02$ is essentially zero and oughtn't to be a problem. Fortunately, none of the data values are exactly zero.) Here is the resulting plot. It is extraordinary: usually the points do not line up so nicely, but here the linearity is almost perfect. When data are positive and the slope is $p,$ a Box-Cox transformation of power $1-p$ is indicated. Because $1-p = 1-0.95 = 0.05$ is essentially $0,$ and the Box-Cox transformation of power $0$ is the logarithm, the data tell us we should be expressing them in terms of the logarithms of their absolute values. Because taking the absolute value loses one bit of information -- the signs of the data -- we ought to retain the signs as a separate variable in the analysis. Although there's no guarantee this will be effective, it's worth a try. (Red is positive and blue is negative.) The histograms show the positive and negative parts of the data have similar distributional shapes but different scales and locations. For some analyses it might help to standardize the logs of the positive and negative parts separately to make them more comparable; but for a factor analysis or PCA the differing spreads and locations of the two parts of the data might help reveal the patterns or behaviors the analysis is looking to discover. Reference: John Tukey (1977), EDA. Addison-Wesley. Appendix: R code for N-letter summaries # Compute the letter statistics for `vec`. q
