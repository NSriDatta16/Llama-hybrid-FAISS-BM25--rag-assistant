[site]: crossvalidated
[post_id]: 182367
[parent_id]: 
[tags]: 
Residual plot looks like inverted change plot for prediction model

I have a very big problem with my predictive model. What i essentially do is that I predict the volume in a tank by studying the flow into and out of the tank. I use the two flows to construct a vector representing the net flow (flow in subtracted by the flow out). First thing I do is to filter the values because they are very noisy. I do this with a moving average. >flow -1.2030414 -0.9052991 -0.7513694 -0.9928622 -0.8817696 -1.1144226 -0.9364935 -0.8593083 -1.3240732 -1.0788943 -1.0750079 -1.2046967 -0.8266537 -0.8003841 -1.0144647 -1.0760028 -1.2727481 -1.1693427 -1.3255359 -1.1612553 -1.3089208 -1.1100377 -1.5040436 -1.0191814 -1.3319839 -1.1641094 -1.0651716 -1.0626996 -1.1470989 -1.3383050 > vol 1250.400 1248.664 1248.230 1249.098 1249.098 1249.532 1248.664 1246.928 1246.928 1247.362 1246.060 1244.758 1243.022 1242.154 1243.890 1243.456 1243.890 1243.890 1242.154 1242.154 1240.418 1238.248 1237.814 1236.946 1236.512 1237.380 1236.078 1233.908 1234.776 1236.078 f12 Then I use the data to predict the volume three minutes later by adding the current flow, next minute's flow and the minute after that's flow to the volume. fl Then I adjust the volume vector so that I don't compare two values that are minutes apart and calculate a residual. This is what the residual looks like when it's plotted. It looks very weird, just look at the stuff happening around minute 8000. Then I looked at the plot of the flow and then I compared the residual plot and the flow plot. I discovered that the residual plot is almost an exact match when compared to the inverted flow plot. What is going on? Edit: This is what I've tried so far. Transforming the values by taking the natural logarithm of them Increased the prediction time. The values I've tried is three minutes, five minutes, 15 minutes and an hour. Increasing the moving average, in case this is all just noise. Every time, the pattern comes back staring me in the face.
