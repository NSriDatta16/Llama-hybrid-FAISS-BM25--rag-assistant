[site]: stackoverflow
[post_id]: 5378493
[parent_id]: 
[tags]: 
Problem with Unused Audio-Channels in QuickTime Capture

I have written an application that captures audio and video from multiple devices simultaneously, using the QTKit capture APIs a while ago. However, I have learned that from time to time, the media captured from DV camcorders appears to not have any associated audio. In fact, the audio track is well present in the file, but the channels are set to "unused" in QuickTime Player Pro — hence the silence. Since I am not comfortable exposing my users to such shenanigans, I want to post-flight my recordings and fix the channel-layout automatically, if needed. Unfortunately, I have a hard time figuring out how! My question is two-fold: Is it at all possible to detect if the audio-channels of a track are marked as "unused" from QTKit? Since I think that the answer to the above is "no", I've been digging around the structure of some movie files that are working correctly with "Atom Inspector" — so far without any success: What/Where is the QuickTime Atom where this info is stored? I can see the correct number of channels in the stsd Atom (contained in the stbl Atom) but I don't see where any mapping occurs.
