[site]: stackoverflow
[post_id]: 2887495
[parent_id]: 
[tags]: 
Confusing of TTimeSpan usage in Delphi 2010

I tried the new Record type TTimeSpan in Delphi 2010. But I encourage a very strange problem. assert(TTimeSpan.FromMilliseconds(5000).Milliseconds = 5000); This assertion does not pass. The value of 'TTimeSpan.FromMilliseconds(5000).Milliseconds' is expected to be 5000, but it was 0. I dig deeper: function TTimeSpan.GetMilliseconds: Integer; begin Result := Integer((FTicks div TicksPerMillisecond) mod 1000); end; FTicks = 50000000 TicksPerMillisecond = 10000 FTick div TicksPerMillisecond = 50000000 div 10000 = 5000 (FTick div TicksPerMillisecond) mod 1000 = 5000 mod 1000 = 0 // I do not understand, why mod 1000 Integer((FTick div TicksPerMillisecond) mod 1000) = Integer(0) = 0 My code interpretation is correct, isn't it? UPDATE: The method GetTotalMilliseconds (double precision) is implemented correctly.
