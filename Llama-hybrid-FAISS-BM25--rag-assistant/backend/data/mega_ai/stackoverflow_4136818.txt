[site]: stackoverflow
[post_id]: 4136818
[parent_id]: 4134323
[tags]: 
If you intended VideoSample to free its buffer member then VideoSample is a fragile class. It has no way of knowing whether buf was created in the heap using new[] or malloc , or is the address of a variable on the stack.
