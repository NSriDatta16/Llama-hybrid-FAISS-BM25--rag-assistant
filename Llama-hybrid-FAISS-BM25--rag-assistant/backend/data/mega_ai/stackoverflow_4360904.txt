[site]: stackoverflow
[post_id]: 4360904
[parent_id]: 
[tags]: 
dynamically enable/disable jquery sortable item

I have table rows that are sortable depending on whether certain radio buttons are checked or not. The sortables are initialized on document.ready as follows: $(document).ready(function() { // Return a helper with preserved width of cells // handy code I got from http://lanitdev.wordpress.com/2009/07/23/make-table-rows-sortable-using-jquery-ui-sortable/ var fixHelper = function(e, ui) { ui.children().each(function() { $(this).width($(this).width()); }); return ui; }; // #opts = table id; tr.ui-state-disabled class = rows not sortable $("#opts tbody").sortable({ items: 'tr:not(.ui-state-disabled)', cursor: 'crosshair', helper: fixHelper }).disableSelection(); }); I have the following function attached to the radio buttons (ids prefixed "active_") onchange which either adds or removes the ui-state-disabled class attribute from table rows (dynamic ids prefixed "opt_"): var toggleDrag = function(i){ if ($('#active_'+i+'-0').is(':checked')) { $('#opt_'+i).addClass('ui-state-disabled'); } if ($('#active_'+i+'-1').is(':checked')) { $('#opt_'+i).removeClass(); } $("#opts tbody").sortable("option", "items", "tr:not(.ui-state-disabled)"); //$("#opts tbody").sortable("refresh"); //alert($('#opt_'+i).attr('class')); - alert indicates that the class attribute is being changed //$("#opts tbody").sortable("option", "cursor", "auto"); - this works! } If I select a radio button that should make a previously un-sortable row sortable, it works and I can drag and drop the row. The problem is if I select a radio button to make a row that previously was sortable, un-sortable, I can still drag and drop it. The setter .sortable("option", "items", "tr:not..etc") doesn't appear "un-register" a row if it was previously sortable. I also tried .sortable("refresh") with no luck. And I have checked to see if the class attribute is being changed with an alert and it is. Any help with this would be greatly appreciated.
