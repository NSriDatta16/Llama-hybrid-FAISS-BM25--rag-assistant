[site]: datascience
[post_id]: 41055
[parent_id]: 
[tags]: 
Calculating correlation and covariance in MySQL

I am new to data science taking my first course in Data analysis. I am trying to figure out where to start with a problem solving the correlation and covariance with my sql. #this is the table I'm using mysql> SELECT surfacearea, population FROM country LIMIT 5; +-------------+------------+ | surfacearea | population | +-------------+------------+ | 193.00 | 103000 | | 652090.00 | 22720000 | | 1246700.00 | 12878000 | | 96.00 | 8000 | | 28748.00 | 3401200 | +-------------+------------+ 5 rows in set (0.00 sec) # this is my formula WITH Cov(x,y) AS (SELECT sum((x - avgx)*(y - avgy)) / (count -1 * stdev(x)*stdev(y)) as covxy FROM R) SELECT covxy/stddev(x)*stddev(y) as xycorrelation FROM R, Cov Where in the heck am I supposed to select the table from to get my x and y values? So far here is what I have but it's erring out. Error code 1064 syntax error: SELECT avg(surfacearea)AS Xavg, avg(population) AS Yavg (SELECT Xavg * Yavg / COUNT(population) * stddev(Xavg) * stdev(Yavg) AS covxy FROM country) SELECT covxy / stddev(surfacearea)*stddev(population) as xycorrelation FROM country; Another attempt WITH country(surfacearea,population) AS (SELECT sum(surfacearea - avg(surfacearea))*(population - avg(population)) / ((COUNT(*) -1) * stdev(surfacearea)*stdev(population)) as covxy FROM country) SELECT covxy / (stddev(surfacearea)*stddev(population)) as xycorrelation FROM country;
