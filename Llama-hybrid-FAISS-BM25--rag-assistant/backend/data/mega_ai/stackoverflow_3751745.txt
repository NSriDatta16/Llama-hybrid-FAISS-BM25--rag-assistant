[site]: stackoverflow
[post_id]: 3751745
[parent_id]: 3751701
[tags]: 
Here is server side code, just in case: /** Retrieves required wrapper streams */ private void getSocketStreams() { try { inputReader = new BufferedReader( new InputStreamReader( clientSocket.getInputStream())); inputObjectStream = new ObjectInputStream( clientSocket.getInputStream()); outputStream = new DataOutputStream( clientSocket.getOutputStream()); outputObjectStream = new ObjectOutputStream( clientSocket.getOutputStream()); } catch (IOException e) { e.printStackTrace(); } } /** * Process distinct command from client. * @param cmd command to process * @return connection state flag. */ private boolean processCmd(String cmd) { if ("put".equals(cmd)) { System.out.println(cmd); processCmdPut(); } else if ("bye".equals(cmd)) { System.out.println(cmd); return false; } return true; } /** "put" command processor */ private void processCmdPut() { /* Reciever from a peer an object to put into data source */ OrderInfo orderInfo = (OrderInfo) receiveObject(); /* Put recieved object into a data source */ int id = ordersService.put(orderInfo); /* Send to peer inserted data id */ try { outputStream.writeInt(id); outputStream.flush(); } catch (IOException e) { e.printStackTrace(); } } /** * Recieves an object from peer. * @return recieved object, or null on error. */ public Object receiveObject() { Object res = null; try { res = inputObjectStream.readObject(); } catch (IOException e) { e.printStackTrace(); } catch (ClassNotFoundException e) { e.printStackTrace(); } return res; }
