[site]: stackoverflow
[post_id]: 5135647
[parent_id]: 
[tags]: 
Magento - SQL command to set "exclude" on product images

I'm wondering if there's some SQL command I can run that will set any product with only 1 image to "exclude" that image from the image gallery. Adding the following will set all excludes to 1 (or tick the "exclude" image box in other words): UPDATE catalog_product_entity_media_gallery_value SET disabled = 1 But I need to only do that for products with 1 image, and leave any products with more than 1 image "un-excluded" (or "disabled = 0"). Magento version is 1.4.2.0. Cheers UPDATE: I found the following which is doing something similar, although I would want just products with only 1 image to be excluded: -- Set all images as enabled ("exclude" deselected) update catalog_product_entity_media_gallery_value set disabled = 0; -- Set all the main images as disabled ("exclude" selected) so that they do not show up in “More Views” update catalog_product_entity_media_gallery_value set disabled=1 where value_id in (select value_id from catalog_product_entity_media_gallery where value in (select value from catalog_product_entity_varchar where attribute_id=(select attribute_id from eav_attribute where attribute_code=’image’ and entity_type_id=4)))
