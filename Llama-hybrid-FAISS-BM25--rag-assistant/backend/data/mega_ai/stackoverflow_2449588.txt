[site]: stackoverflow
[post_id]: 2449588
[parent_id]: 2448522
[tags]: 
The naive Bayesian formula for you case looks like this: SELECT probability FROM ( SELECT @apriori := CAST(@apriori * ratio / (@apriori * ratio + (1 - @apriori) * (1 - ratio)) AS DECIMAL(30, 30)) AS probability, @step := @step + 1 AS step FROM ( SELECT @apriori := 0.5, @step := 0 ) vars, ( SELECT 0.99 AS ratio UNION ALL SELECT 0.48 UNION ALL SELECT 0.48 UNION ALL SELECT 0.48 UNION ALL SELECT 0.48 UNION ALL SELECT 0.48 UNION ALL SELECT 0.48 UNION ALL SELECT 0.48 ) q ) q2 ORDER BY step DESC LIMIT 1
