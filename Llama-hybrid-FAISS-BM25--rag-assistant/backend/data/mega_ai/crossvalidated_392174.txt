[site]: crossvalidated
[post_id]: 392174
[parent_id]: 392168
[tags]: 
You're correct to say that $E[Y|X]$ is a random variable while $E[Y|X=x]$ is just a constant, as you mentioned in your last paragraph. However, $E[Y|X]$ notationally means "Tell me the expectation of Y when you know X" . Conditioned on X, given X etc. all mean the same. So, $X$ is treated as constant inside this expectation because, you pretend as if you have/know it, and the whole idea is based around that fact. In general, you really have your data matrix, $X$ , and fit a regression model.
