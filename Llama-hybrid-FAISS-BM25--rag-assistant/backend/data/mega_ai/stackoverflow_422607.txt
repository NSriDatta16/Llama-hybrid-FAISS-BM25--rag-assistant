[site]: stackoverflow
[post_id]: 422607
[parent_id]: 420749
[tags]: 
The storage issue: I think you should only store the diffs of two consecutive valid versions of the document. As you point out, the problem becomes getting a valid version when concurrent edits take place. The concurrency issue: Could you avoid them all together like Jeff suggests or by locking the document? If not, I think you're ultimately in the paradigm of online collaborative real-time editors like Google Docs . To get an illustrated view of the can of worms you are opening catch this google tech-talk at 9m21s (it's about Eclipse's collaborative real-time editing) Alternatively, there are a couple of patents that detail ways of dealing with these concurrences on the Wikipedia article on collaborative real-time editors .
