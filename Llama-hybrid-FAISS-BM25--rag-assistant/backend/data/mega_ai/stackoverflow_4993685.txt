[site]: stackoverflow
[post_id]: 4993685
[parent_id]: 
[tags]: 
Intelligent string break: pretty print makefile output via XSLT

I need to pretty print some output of make via XSLT (xsltproc), with a focus on easy readability of the gcc calls (because they are the most common and important lines in said output). Situation: I have a lot of long gcc -Wall ... nodes in my source XML file, one line of raw makefile output per node. The output of my XSLT sheet would be HTML, putting the contents of the nodes line by line into a environment. I'd like to break the string preferably on any " - " occurence (i.e. on the start of a command line parameter) -- if that is not found, on some characters (like -/.:;= ), then on any whitespace; breaking the string in the middle of a string should be the last resort. I have set a global variable $break-at denoting the maximum characters per line. Problem: I cannot use XSLT 2.0 functions on xsltproc (or I did not find any information regarding importing them). Therefore I'm stuck with substring-before() , substring-after() , contains() , substring() , string-length() (sadly, tokenize() is not available). I do not seem to find a way to break the string on the last occurence of whitespace (or any token) right before $break-at . This is an excerpt of the source XML: ::~ResultBuffer() [with T = QRectF]':]]> This is the calling XSLT code, calling the break-string template on every line of output: This is my break-string template so far -- not satisfactory yet! &#xa; &#xa; - &#xa; What's the most elegant method to break these strings?
