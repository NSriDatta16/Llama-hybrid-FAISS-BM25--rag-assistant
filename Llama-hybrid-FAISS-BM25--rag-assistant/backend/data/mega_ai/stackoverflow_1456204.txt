[site]: stackoverflow
[post_id]: 1456204
[parent_id]: 
[tags]: 
Rails Cucumber Testing With a LDAP Server

I am trying to write some cucumber tests for my application that uses Authlogic for authentication, but actually stores users in a LDAP server. The application seems to work fine, but where I am running into trouble is writing tests for it (I know, I know, I should've wrote the tests first.) It's easy to have a test database where the data is cleared out after each run, but not so easy with an LDAP server. My idea was to write a rake task (like rake ldap:test:prepare) to refresh the ldap server before each run (or make it a dependency), but that seems pretty time consuming when I am working on tests (and makes autotest near impossible.) Is there a better way to do this? Is there a ruby-based fake LDAP server I can bind to with pre-defined fixtures? Is there some other even more elegant solution that I am not thinking of? (not using LDAP isn't an option.)
