[site]: stackoverflow
[post_id]: 3682123
[parent_id]: 3665904
[tags]: 
As ewall said, you cannot use uri's. In order to do this, get rid of the Uri and instead pass the smbDirectory string to your listallfiles function. But given the edit history of this question that probably doesn't solve the real problem. -- If you want to enumerate a directory structure of a web server then you are going to have to implement something on the web server itself to support this. For MS servers the "easy" way is to install webdav and leverage it's api to do what you want. However, you could just as easily implement your own web service on the server and query it that way as well. An alternate route is to configure the web server to allow directory browsing. Make sure you do not have a default document set. Once configured you can use the standard HttpRequest class to make http calls to the server and parse the results. A third route would be to install an FTP server and just run your commands via FTP. The point is that the DirectoryInfo class will not work for what you want. And I'm not convinced that any of the above is really what you want either given some of your other questions regarding silverlight and file access. Maybe you could state exactly what you want your application to do and what problem you are trying to solve. There are many people here who can guide you down the right path so to speak.
