[site]: stackoverflow
[post_id]: 5482978
[parent_id]: 5482897
[tags]: 
I think what the facebook infrastructure does is pulls the content of the page (with an ajax call) and then takes the first paragraph (if it's a web page, description if it's a youtube video, etc.) and it allows the user to pick one of the images on the page as a thumbnail. You can just pick the first image in the markup or design your own kind of logic. Basiclly, I would go about this like designing a temporary caching engine. You get the page markup + images, use them and then discard.
