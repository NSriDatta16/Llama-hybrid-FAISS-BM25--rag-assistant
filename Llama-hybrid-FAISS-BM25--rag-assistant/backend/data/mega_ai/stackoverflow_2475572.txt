[site]: stackoverflow
[post_id]: 2475572
[parent_id]: 2475351
[tags]: 
You shouldn't draw directly to your window in your event handlers - all drawing should be in your Paint event handler. There is a lot more you can do to make it work well, but the core of the technique you need is: To move a rectangle around as the user drags the mouse, you have to handle Mouse Moved events. Each time you get one, you need to Invalidate() to cause a redraw of your window. In your Paint handler, if the mouse button is down, get the mouse pointer position and draw the rectangle at that location. That will get you started, but it will have a few problems - the window will flicker as it constantly redraws, and it may be a bit slow. There are other things you can do to improve this, including: Only Invalidate the parts of the form that you need to (where the old rectangle needs to be erased from, and where the new rectangle needs to be drawn) After Invalidate(), call Update() immediately to cause the redraw to happen as soon as possible "double buffered" rendering, and/or storing the window content in an offscreen bitmap so that you can re-render the background with the rectangle on top more quickly and without flicker. (But this is quite an advanced technique).
