[site]: stackoverflow
[post_id]: 4473443
[parent_id]: 4469847
[tags]: 
What are the calculations for the convergence criteria? Unless they are worse then the calculations to advance the potential it is probably better to have the IF statement to terminate the loop as soon as possible rather than guess a very large number of iterations to be sure to obtain a good solution. Re High Performance Mark's suggestion #1, if the copying operation is a significant portion of the run time, you could also use pointers. The only way to be sure about this stuff is to measure the run time ... Fortran provides intrinsic functions to measure both CPU and clock time. Otherwise you may modify your some portion of you code to make it faster, perhaps making it less easier to understand and possibly introducing a bug, possibly without much improvement in runtime ... if that portion was taking a small amount of the total runtime, no amount of cleverness will can make much difference. As High Performance Mark says, though the current semantics are elegant, you probably want to guard against an infinite loop. One approach: PotentialLoop: do i=1, MaxIter blah Converged = test... if (Converged) exit PotentialLoop blah end do PotentialLoop if (.NOT. Converged) write (*, *) "error, did not converge"
