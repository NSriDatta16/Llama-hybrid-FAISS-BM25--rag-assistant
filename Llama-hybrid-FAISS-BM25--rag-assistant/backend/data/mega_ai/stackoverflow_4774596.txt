[site]: stackoverflow
[post_id]: 4774596
[parent_id]: 
[tags]: 
How to print data in a ListView using ListAdapter

Updated I'm trying to print the data retrieved from the database on a list view. For a while my application print for each data in the database, a row on the list view. So if there are 10 data in the database, the app prints 10 rows, corresponding to each row of the database. Here is a view of how it is being printed. The new image of how it looks now: But, it is not printing the data as I want. I want to print a column of the row in a specific text view, but it doesnt show anything. So the activity RatedCalss calls the method selectTopCalls() and makes a List receive the list that this method returns. And then I pass this list to the listAdapter. Well I have this activity named RatedCalls.java : public class RatedCalls extends Activity { private static final String LOG_TAG = "RatedCalls"; private CallDataHelper cdh; private ListView listview; private ArrayList ratedCallsList; private MyListAdapter listAdapter; private View view; /** Called when the activity is first created. */ @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main); Log.i(LOG_TAG, "calling from onCreate()"); cdh = new CallDataHelper(this); startService(new Intent(this, RatedCallsService.class)); setBasicContent(); } public void setBasicContent() { listview = (ListView) findViewById(R.id.list_view); ratedCallsList = this.cdh.selectTopCalls(); Log.i(LOG_TAG, "ratedCallsList size: " + ratedCallsList.size()); listAdapter = new MyListAdapter(this, this, R.id.list_view, ratedCallsList); listview.setAdapter(listAdapter); } } I have this class, a ListAdapter class named MyListAdapter.java : public class MyListAdapter extends ArrayAdapter { //--CloneChangeRequired private ArrayList mList; private Context mContext; private Activity mActivity; private int selectedPos = -1; // init value for not-selected private ArrayList ratedCallsList; private CallDataHelper cdh; public void setSelectedPosition(int pos){ selectedPos = pos; notifyDataSetChanged(); } public int getSelectedPosition(){ return selectedPos; } public MyListAdapter(Context context, Activity activity, int textViewResourceId, ArrayList list) { super(context, textViewResourceId, list); this.mList = list; this.mContext = context; this.mActivity = activity; } public View getView(int position, View convertView, ViewGroup parent){ View view = convertView; try{ if (view == null) { LayoutInflater vi = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE); view = vi.inflate(R.layout.list_item, null); // --CloneChangeRequired(list_item) } // setting STRIP BG if(position == selectedPos){ view.findViewById(R.id.rlt_main).setBackgroundColor( Color.rgb(062, 076, 120) ); }else if(position%2==0){ view.findViewById(R.id.rlt_main).setBackgroundColor( Color.rgb(226, 231, 239) ); }else{ view.findViewById(R.id.rlt_main).setBackgroundColor( Color.rgb(200, 210, 223) ); } setViews(position, view); }catch(Exception e){ //Log.i(MyListAdapter.class.toString(), e.getMessage()); } return view; } public void setViews(int position, View view) { cdh = new CallDataHelper(mContext); if(mContext.getClass().equals((RatedCalls.class))){ ratedCallsList = this.cdh.selectTopCalls(); Log.i("MYLISTADAPTER", "size " + ratedCallsList.size()); if (ratedCallsList != null) { ((TextView) view.findViewById(R.id.contact_name)).setText(ratedCallsList.get(0)); ((TextView) view.findViewById(R.id.phone_number)).setText(ratedCallsList.get(1)); ((TextView) view.findViewById(R.id.duration)).setText(ratedCallsList.get(2)); ((TextView) view.findViewById(R.id.date)).setText(ratedCallsList.get(3)); } }else if(mContext.getClass().equals(RatedContacts.class)){ final PublishersBO listPublisher = (PublishersBO) mList.get(position); if (listPublisher != null) { //--setting list_item views ((TextView) view.findViewById(R.id.contact_name)).setText(listPublisher.getName()); ((TextView) view.findViewById(R.id.phone_number)).setText(listPublisher.getEmail()); //--onClickListener view.setOnClickListener(new OnClickListener() { public void onClick(View arg0) { Intent myIntent = new Intent(mContext,RatedContacts.class); myIntent.putExtra("NAME", listPublisher.getName()); myIntent.putExtra("ACTIVITY_NAME", mContext.getClass().toString()); mContext.startActivity(myIntent); mActivity.finish(); } }); } } } } The method that retrieve the data from the database is in a separated class that deals with SQLite function. This is the method: public ArrayList selectTopCalls() { ArrayList list1 = new ArrayList (); Cursor cursor = this.db.query(TABLE_NAME, null, null, null, null, null, "duration desc"); if (cursor.moveToFirst()) { do { //if (cursor.getString(2) != "") { cdObj = new CallData(); list1.add(cursor.getString(2)); list1.add(cursor.getString(4)); list1.add(cursor.getString(5)); list1.add(cursor.getString(6)); } while (cursor.moveToNext()); } if (cursor != null && !cursor.isClosed()) { cursor.close(); } return list1; } And here is the xml file for the view named list_item.xml : So I'd like to print the data in the text views in the activity, but I dont know where to set the text, in what class, if in the MyListAdapter class or if in the activity. Thanks.
