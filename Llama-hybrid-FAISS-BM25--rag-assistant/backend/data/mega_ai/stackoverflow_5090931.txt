[site]: stackoverflow
[post_id]: 5090931
[parent_id]: 4966188
[tags]: 
I did it myself. JSONObject returnedJObject= new JSONObject(); JSONObject KeyvalspairJObject=new JSONObject (); JSONObject devcKeyvalspairJObject=new JSONObject (); JSONObject capabilityJObject=new JSONObject(); JSONObject ScreenDimensionsJObject =new JSONObject(); JSONObject deviceJObject= new JSONObject(); try{ KeyvalspairJObject.put("key1","val1"); KeyvalspairJObject.put("key2","val2"); capabilityJObject.put("sms", false); capabilityJObject.put("data", true); capabilityJObject.put("gps", true); capabilityJObject.put("wifi", true); capabilityJObject.put("keyValue", KeyvalspairJObject); ScreenDimensionsJObject.put("width", 45); ScreenDimensionsJObject.put("height", 45); devcKeyvalspairJObject.put("Devckey1","val1"); devcKeyvalspairJObject.put("DEVCkey2","val2"); deviceJObject.put("userAgent", "MYUserAgent"); deviceJObject.put("capabilities", capabilityJObject); deviceJObject.put("screen", ScreenDimensionsJObject); deviceJObject.put("keyValue", devcKeyvalspairJObject); returnedJObject.put("clientId", "ID:1234-1234"); returnedJObject.put("carrier","TMobile"); returnedJObject.put("device",deviceJObject); returnedJObject.put("time",1294617435); returnedJObject.put("msisdn","1234567890"); returnedJObject.put("timezone","GMT"); } catch(JSONException e) { } and this is how we can send JSON data to server. public String putDataToServer(String url,JSONObject returnedJObject) throws Throwable { HttpPost request = new HttpPost(url); JSONStringer json = new JSONStringer(); StringBuilder sb=new StringBuilder(); if (returnedJObject!=null) { Iterator itKeys = returnedJObject.keys(); if(itKeys.hasNext()) json.object(); while (itKeys.hasNext()) { String k=itKeys.next(); json.key(k).value(returnedJObject.get(k)); Log.e("keys "+k,"value "+returnedJObject.get(k).toString()); } } json.endObject(); StringEntity entity = new StringEntity(json.toString()); entity.setContentType("application/json;charset=UTF-8"); entity.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE,"application/json;charset=UTF-8")); request.setHeader("Accept", "application/json"); request.setEntity(entity); HttpResponse response =null; DefaultHttpClient httpClient = new DefaultHttpClient(); HttpConnectionParams.setSoTimeout(httpClient.getParams(), Constants.ANDROID_CONNECTION_TIMEOUT*1000); HttpConnectionParams.setConnectionTimeout(httpClient.getParams(),Constants.ANDROID_CONNECTION_TIMEOUT*1000); try{ response = httpClient.execute(request); } catch(SocketException se) { Log.e("SocketException", se+""); throw se; } InputStream in = response.getEntity().getContent(); BufferedReader reader = new BufferedReader(new InputStreamReader(in)); String line = null; while((line = reader.readLine()) != null){ sb.append(line); } return sb.toString(); }
