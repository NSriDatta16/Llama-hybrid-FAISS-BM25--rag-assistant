[site]: stackoverflow
[post_id]: 5364605
[parent_id]: 
[tags]: 
Threads and struct communication

I am doing a project which requires me to receive messages from many senders. My recv server is using a thread to continuously recv data under UDP protocol. I have a structure called struct BufferData in the header file to organize my received buffer from client. Here is my struct looks like: struct BufferData { char Buffer1[BYTES]; char Buffer2[BYTES]; char Buffer3[BYTES]; char MixedBuffer1[BYTES]; char MixedBuffer2[BYTES]; char MixedBuffer3[BYTES]; }; And here is my recv thread function in .cpp file. hThread = (HANDLE)_beginthreadex(NULL, 0, &CUdpSocket::ServerRecvThread, pRecvData, 0, &threadID); // Thread caller unsigned __stdcall CUdpSocket::ServerRecvThread(void *threadArg) { //----------------------------------------------- // Initialize Winsock //----------------------------------------------- // Create a receiver socket to receive datagrams //----------------------------------------------- // Bind the socket to any address and the specified port. //----------------------------------------------- // Call the recvfrom function to receive datagrams // on the bound socket. start: recvfrom(RecvSocket, RecvBuf, BufLen, 0, (SOCKADDR *)&SenderAddr, &SenderAddrSize); goto start; //----------------------------------------------- // Close the socket when finished receiving datagrams //----------------------------------------------- // Clean up and exit. return 0; } However, I don't know ho to pass the value contained in the RecvBuf into my BufferData structure since this a thread and I cannot use the direct way. Please help. Thank you.
