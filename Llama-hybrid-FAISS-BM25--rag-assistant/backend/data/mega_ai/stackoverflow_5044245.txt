[site]: stackoverflow
[post_id]: 5044245
[parent_id]: 5037556
[tags]: 
HTML Fragment: $(document).ready(function() { var pu = new PhotosUploader(); pu.render(); }); Upload photos Select JPEG photos Upload photos Filename File size Percent uploaded Crossdomain.xml: JS: function PhotosUploader() { var self = this; self.render = function() { YUI().use("uploader", function(Y) { var uploader; Y.on("domready", init); function init () { var overlayRegion = Y.one("#select-photos-a").get('region'); Y.log(overlayRegion); Y.one("#uploader-overlay").set("offsetWidth", overlayRegion.width); Y.one("#uploader-overlay").set("offsetHeight", overlayRegion.height); uploader = new Y.Uploader({boundingBox:"#uploader-overlay"}); uploader.on("uploaderReady", setupUploader); uploader.on("fileselect", fileSelect); uploader.on("uploadprogress", updateProgress); uploader.on("uploadcomplete", uploadComplete); Y.one("#upload-photos-a").on("click", uploadFile); } function setupUploader(event) { uploader.set("multiFiles", true); uploader.set("simLimit", 3); uploader.set("log", true); var fileFilters = new Array({description:"Images", extensions:"*.jpg"}); uploader.set("fileFilters", fileFilters); } function fileSelect(event) { Y.log("File was selected, parsing..."); var fileData = event.fileList; for (var key in fileData) { var output = ' \ '+fileData[key].name+' \ '+fileData[key].size+' \ 0 \ '; Y.one("#filenames").append(output); } } function updateProgress(event) { $('#div_'+event.id).text(Math.round(100 * event.bytesLoaded / event.bytesTotal)); } function uploadComplete(event) { $('#div_'+event.id).text(100); } function uploadFile(event) { uploader.uploadAll('http://www.mysite.com/api/photos/uploaded/'); } }); }; } Django backend: # The function for http://www.mysite.com/api/photos/uploaded/ # I'm sure the there's nothing wrong with urls.py def uploaded(request): log_dev('photos.uploaded invoked') # IT HAS NEVER BEEN INVOKED... return wrap_json(0)
