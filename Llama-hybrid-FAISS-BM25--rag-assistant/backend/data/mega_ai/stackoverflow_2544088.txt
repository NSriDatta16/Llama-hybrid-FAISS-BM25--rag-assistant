[site]: stackoverflow
[post_id]: 2544088
[parent_id]: 2543982
[tags]: 
I would generate the XML when something changes rather than on the demand of Google. This means it only updates as fast as it needs to. I would store this centrally. If you have a CDN, whack it up on there and redirect to it. You might argue this is a nightmare but is it any worse than having all your frontends generating their own version of the sitemap? Answer: No, it's a lot more efficient. If you don't have a CDN, I would investigate a method for redirecting a request from one node to another. You might even be able to control this with your load-balancer so certain user-agent strings go straight to your sitemap-generating node. As for Question 2... Google claim they will automatically check with you as soon as they know how fast your site updates. I would update manually for the first few times and then Google should know what speed to keep going at. But as long as you're not sending 20 pings an hour, I doubt they'll mind too much. It's not as if it changes your SERP performance.
