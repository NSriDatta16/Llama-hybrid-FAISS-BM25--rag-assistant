[site]: stackoverflow
[post_id]: 4639953
[parent_id]: 4638934
[tags]: 
Related to RFC2553 you have to use the IN6_IS_ADDR_V4MAPPED and IN6_IS_ADDR_V4COMPAT macros to identify if there is any usable IPv4 information available within yours socket_storage , or to be exact the sockaddr_in6 structure: struct sockaddr_in6 { sa_family_t sin6_family; /* AF_INET6 */ in_port_t sin6_port; /* transport layer port # */ uint32_t sin6_flowinfo; /* IPv6 traffic class & flow info */ struct in6_addr sin6_addr; /* IPv6 address */ uint32_t sin6_scope_id; /* set of interfaces for a scope */ }; If both macros returns true , the IPv4 address is in sockaddr_in6.sin6_addr[12-15] : printf("%u.%u.%u.%u\n", sockaddr_in6.sin6_addr[12], sockaddr_in6.sin6_addr[13], \ sockaddr_in6.sin6_addr[14], sockaddr_in6.sin6_addr[15])
