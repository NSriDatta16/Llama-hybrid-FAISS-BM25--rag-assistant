[site]: stackoverflow
[post_id]: 1623264
[parent_id]: 1621480
[tags]: 
Perl, 233 char {$_=<>;($~,$R,$C,$K)=split;if($~){@A=map{$_=<>;split}1..$R;$x=0, @A=map{$r=0;for$d(-$C,$C,1,-1){$r|=($y=$x+$d)>=0&$y 1||1-$d-2*$p}$x++;($_-$r)%$~}@A while$K--;print"@a\n"while@a=splice@A,0,$C;redo}} The map is held in a one-dimensional array. This is less elegant than the two-dimensional solution, but it is also shorter. Contains the idiom @A=map{...}@A where all the fighting goes on inside the braces.
