[site]: stackoverflow
[post_id]: 1692643
[parent_id]: 
[tags]: 
How to upload video on YouTube with Ruby

I am trying to upload a youtube video using the GData gem (I have seen the youtube_g gem but would like to make it work with pure GData if possible), but I keep getting this error: GData::Client::BadRequestError in 'MyProject::Google::YouTube should upload the actual video to youtube (once it does, mock this test out)' request error 400: No file found in upload request. I am using this code: def metadata data = Bad Wedding Toast I gave a bad toast at my friend's wedding. People toast, wedding EOF end @yt = GData::Client::YouTube.new @yt.clientlogin("name", "pass") @yt.developer_key = "myKey" url = "http://uploads.gdata.youtube.com/feeds/api/users/name/uploads" mime_type = "multipart/related" file_path = "sample_upload.mp4" @yt.post_file(url, file_path, mime_type, metadata) What is the recommended/standard way for uploading videos to youtube with ruby, what is your method? Update After applying the changes to wrapped_entry , the string it produces looks like this: --END_OF_PART_59003 Content-Type: application/atom+xml; charset=UTF-8 Bad Wedding Toast I gave a bad toast at my friend's wedding. People toast, wedding --END_OF_PART_59003 Content-Type: multipart/related Content-Transfer-Encoding: binary ... and inspecting the request and response looks like this: Request: @url="http://uploads.gdata.youtube.com/feeds/api/users/lancejpollard/uploads" @body=# @bytes_read=0 @string="--END_OF_PART_30909\r\nContent-Type: application/atom+xml; charset=UTF-8\r\n\r\n \n \n \n Bad Wedding Toast \n \n I gave a bad toast at my friend's wedding.\n \n People \n toast wedding \n \n \n\r\n--END_OF_PART_30909\r\nContent-Type: multipart/related\r\nContent-Transfer-Encoding: binary\r\n\r\n"> # # @string="\r\n--END_OF_PART_30909--">] @current_part=0 @boundary="END_OF_PART_30909"> @headers={"Slug"=>"sample_upload.mp4" "User-Agent"=>"GoogleDataRubyUtil-AnonymousApp" "GData-Version"=>"2" "X-GData-Key"=>"key=AI39si7jkhs_ECjF4unOQz8gpWGSKXgq0KJpm8wywkvBSw4s8oJd5p5vkpvURHBNh-hiYJtoKwQqSfot7KoCkeCE32rNcZqMxA" "Content-Type"=>"multipart/related; boundary=\"END_OF_PART_30909\"" "MIME-Version"=>"1.0"}> Response: # "no-cache no-store must-revalidate" "connection"=>"close" "expires"=>"Fri 01 Jan 1990 00:00:00 GMT" "content-type"=>"text/plain; charset=utf-8" "date"=>"Fri 11 Dec 2009 02:10:25 GMT" "server"=>"Upload Server Built on Nov 30 2009 13:21:18 (1259616078)" "x-xss-protection"=>"0" "content-length"=>"32" "pragma"=>"no-cache"} @status_code=400> Still not working, I'll have to check it out more with those changes.
