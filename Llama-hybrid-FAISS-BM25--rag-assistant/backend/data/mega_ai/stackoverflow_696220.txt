[site]: stackoverflow
[post_id]: 696220
[parent_id]: 
[tags]: 
jQuery portlet and dialog box problem

I create sortable element and attach an on-click event on every portlet to open dialog box, but when i open (drag more portlet to the main dashboard), and click the setup link (on the header of the portlet) the alert() (i setup for testing purpose) always fire for every portlet on the main dashboard, why is this happen ? Below is the code i use to setup the sortable wich receive element from another sortable (you can see the elements on the left side). You can see some screenshoot on this url : http://wildanm.wordpress.com/2009/03/25/ofc-reloading-problem-on-jquery-sortable-elements/ if you need the HTML markup i will post also later .. Btw, i'm new in jQuery .. Thanks! $(function() { var param ; //additional param to the a portlet ; later var title = ""; //title for prototyping only $("#maincontent .column").sortable({ connectWith: ['#maincontent .column'], opacity: 0.6, scroll: false, handle : ".portlet-header", receive: function(event, ui) { var id = $(ui.item).attr('id'); var chartId = 'chart-'+id ; $("#"+id+" > .portlet-content").flash({ data: '/swf/open-flash-chart.swf', id: chartId, name: 'chart-'+id, expressInstall: true , flashvars: { 'data-file': '/chart/'+id }, }) $("#"+id).find("span").removeClass("ui-icon ui-icon-arrow-4-diag"); $("#"+id).addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all") .find(".portlet-header") .addClass("ui-widget-header ui-corner-all") .prepend(' ') .prepend(' ') .prepend(' ') .end() .find(".portlet-content"); $("#maincontent .column .portlet-header .ui-icon-plusthick").click(function() { $(this).toggleClass("ui-icon-minusthick"); $(this).parents(".portlet:first").find(".portlet-content").toggle(); }); $("#maincontent .column .portlet-header .ui-icon-wrench").click(function() { $("#dialog").css("visibility","visible"); //dialog alert($(this).parent('div').attr('id')); $("#dialog").dialog({ bgiframe: true, autoOpen: false, height: 400, width:300, modal: true, buttons: { 'Update Chart': function() { title = $("#title").val(); url = "/chart/"+id+"?title="+title+'&id='+id ; $.getJSON(url,function(data) { jsonData = data ; reloadJsonData() }) ; function reloadJsonData() { data = JSON.stringify(jsonData) ; tmp = findSWF(chartId); tmp.load(data); } $(this).dialog('close'); }, Cancel: function() { $(this).dialog('close'); } }, close: function() { //allFields.val('').removeClass('ui-state-error'); } }); $('#dialog').dialog('open'); }); $("#maincontent .column .portlet-header .ui-icon-close").click(function() { $(this).parents(".portlet:first").remove(); }); //resize(); }, start: function(event, ui) { }, stop: function(event, ui) { // Here's the trick: $("#maincontent .column").each(function() { //alert($(this).sortable("toArray")); //$(this).resizable(); }) } }) $("#maincontent .column .portlet").addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all") .find(".portlet-header") .addClass("ui-widget-header ui-corner-all") .prepend(' ') .prepend(' ') .end() .find(".portlet-content"); $("#maincontent .column .portlet-header .ui-icon").click(function() { $(this).toggleClass("ui-icon-minusthick"); $(this).parents(".portlet:first").find(".portlet-content").toggle(); }); $("#maincontent .column .portlet-header .ui-icon-close").click(function() { $(this).parents(".portlet:first").remove(); }); $("#maincontent .column").disableSelection(); }); function findSWF(movieName) { if (navigator.appName.indexOf("Microsoft")!= -1) { return window[movieName]; } else { return document[movieName]; } } Update : Thanks Kyle for the answer, After re-examining my code and try the change you propose, i think the main issue is how we can we tell the dialog box his parent element (which portlet his come from). On the code above, after i click the update button, the portlet affected is always the first portlet that i drop to the main area .., i hope my explanation is clear enough for you .., thanks ! Btw, here is the markup of a single portlet : SDM yang Terlibat Kegiatan Penelitian dan Pengabdian Masyarakat (Valid) The ui-icon-wrench id is added automatically, it's for testing only for now, i try to traverse the dom, and get the id of the object element from there. The object element also generated automatically using swfobject, u can see to code above .. (Btw, the comment on the answer is limited to 300 char, so I post here) Best Regards, Wildan
