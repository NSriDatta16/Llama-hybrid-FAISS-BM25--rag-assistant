[site]: stackoverflow
[post_id]: 4794026
[parent_id]: 4793363
[tags]: 
Using the flag -Wall highlights pragma errors. For example, when I misspell atomic I get the following warning. main.c:15: warning: ignoring #pragma omp atomic1 I'm sure you know, but just in case, your example should be handled with a reduction When you use omp parallel, the default is for all variables to be shared. This is not what you want in your case. For example, each thread will have a different value difx . Instead, your loop should be: #pragma omp parallel for default(none),\ private(difx, dify, difz, mod2x, mod2y, mod2z, temp_sqrt, temp_div, i, j),\ shared(rocks, moon, ql, qr), reduction(+:S2) for(j=0; j
