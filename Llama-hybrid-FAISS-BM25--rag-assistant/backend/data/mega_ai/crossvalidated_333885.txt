[site]: crossvalidated
[post_id]: 333885
[parent_id]: 
[tags]: 
Constrained classification - how to classify a set of related items

I need to classify a set of elements into a few categories. Example: Items: "Mike", "Smith", "34", "Male", "Consultant", "Music", "Books" Categories: Name, Surname, Age, Gender, Profession, Interests Categories are fixed in number and some are mandatory (Name, Surname). Some may contain more than one value (Name, Interests), some are optional (Gender, Profession, Interests). Number of items is variable, with min/max bounds. I also have strong ordering constraints: Name cannot come after Surname. Values are coming from an OCR extraction of a form so each item is represented by a few "OCR" features like x,y coordinates, size of the text box and by a few engineered "text" features like text length, number of numerical characters, number of uppercase characters, number of "symbol" characters, etc. Samples may look like: "Mike": 200,121,65,4,0,1,0 "34": 340,153,21,2,2,0,0 (BTW, any suggestion on alternative/better features is welcome.) Usually the x,y coordinates are able to correctly classify the majority of the samples, but sometimes the text is misaligned so there are ambiguous cases. For example the address may be too long and span over multiple lines. So it's hard to tell if the second line is still the address or already the nationality (and following items may span multiple lines too complicating things). I tried a simple constraint solver minimizing the y distance from the reference locations. It works but it's not great as it ignores the other features (x,y are normalized based on the location of the upper and lower elements). I tried a random forest classifier, it works decently, but it's ignoring the constraints. So I'm looking for an hybrid approach. I've considered: do a first pass with a classifier getting the individual probabilities for each category. Then use the constraint solver to maximize the sum of these probabilities under the constraints. Multiple/parallel classification. I feed all the items at once (concatenating all the features) to some kind of classifier (a custom neural network maybe) that will return a corresponding set of categories. Does this approach have a name? In this way the classifier should learn the constraints(?). Given a variable length input and output this looks like a lot of work to implement and I may not have enough data to train it well. What is the exact name for this kind of problem? What are the standard approaches? What would you suggest?
