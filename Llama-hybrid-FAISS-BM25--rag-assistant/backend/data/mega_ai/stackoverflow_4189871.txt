[site]: stackoverflow
[post_id]: 4189871
[parent_id]: 4189820
[tags]: 
In XSLT 1.0, whenever nodes are copied into the body of an , the contents of this variable is an RTF (Result-Tree_fragment) and needs to be converted to a regular tree before further processing with XPath. An RTF can be converted to a regular tree only using an extension function, ususally named xxx:node-set() , where the xxx prefix is bound to a vendor-specific namespace. To get the number of elements that are at the top level of this tree, you need: count(xxx:node-set($elements)/*) Here are some namespaces, to which xxx: is often bound : "http://exslt.org/common/" "urn:schemas-microsoft-com:xslt" In XSLT 2.0 the RTF "type" no longer exists and you can just have : count($elements/*) if the type of $elements isn't specified (the default is document-node() ) or count($elements) if the type of $elements is specified as element()*
