[site]: crossvalidated
[post_id]: 237259
[parent_id]: 
[tags]: 
How do I model of Y| X, M when data has only X and Y not M, an upper bound on Y?

Suppose I have a set of Bernoulli random variables $y_j$, corresponding to molecules in an excited or unexcited state. I have a random variable $Y$ which is the concentration of the molecules in a fixed volume that are in that excited state. $Y$ has an upper bound of $M$, the maximum concentration, such that $M - Y$ is the number of molecules in an unexcited state. I have a formula for the proportion $\frac{Y}{M}$ $$\frac{Y}{M} = \frac{wX}{1+wX} = f(wX)$$ where X is a positive valued predictor and w is a parameter. I am trying to build a model where I can estimate the parameter $w$. I have a sample of Y and X value pairs. However, M is unknown. So I am trying to figure out how to model Y not knowing M. Right now I just take $M = max(Y_1...Y_n)$, and estimate $Y|M$ using MCMC, assuming $$\frac{Y}{M}|M,w \sim Binomial (f(wX))$$ or $$Y|M,w,\alpha \sim Gamma \left(\alpha, \frac{\alpha}{M*f(wX)}\right)$$ (I like the latter because the data has a bit more variation than is appropriate for the Binomial, though I think it fails to enforce the constraint that $Y \leq M$.) Either way I don't really know of a smart way of estimating M given a sample $Y_1 ... Y_n$. I am thinking of reviewing the literature on estimating the Binomial parameter $N$, I found some references and listed them below. Another approach I thought of was to do something with order statistics, though that my gut is already screaming "dead end". Has anyone here seen this before or do you have thoughts on this? DasGupta and Rubin's Review and Proposed Approach Raferty's Hierarchical Bayes Approach Feldman and Fox
