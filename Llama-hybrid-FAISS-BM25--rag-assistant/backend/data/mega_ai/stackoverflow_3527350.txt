[site]: stackoverflow
[post_id]: 3527350
[parent_id]: 3527316
[tags]: 
I would be surprised if this search was slow. Let's say, you have n=10000 emails, m=1000 characters each. Any decent substring-detection algorithm will give you O(n*m) speed. For provided values of n and m, it's under a second on modern PC. Talking about storage, the clients I know put all emails in one big file, each client using their own format. This lets you to read all messages from disk reasonably fast. If you're interested, this is a classical substring-search algorithm (there're many more): http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm edit I'm not claiming any email app uses simple substring search, just that using it would be fast enough already.
