[site]: crossvalidated
[post_id]: 412728
[parent_id]: 412708
[tags]: 
Using a propensity score in the manner that the authors used it is an incorrect application of the propensity score (this is a very common mistake that researchers do when applying propensity scores and you'll find it all over the medical literature, unfortunately). Instead, the generated propensity scores should have been used as either weights or used to create strata consisting of patients with similar propensity scores within which separate analyses could be carried out (or other similar matching strategies). It's hard to say without knowing more about what variable $Z$ is, but there are a few different reasons why one might not include $Z$ in the propensity score model. When generating propensity scores, one is trying to determine a probability of being assigned to the treatment condition, given covariates that might be correlated with the decision to assign treatment (confounders). It's possible that variable $Z$ was not a variable that could have affected the treatment assignment (or possibly it was affected by the treatment and not vice versa), and not a covariate that is correlated with treatment assignment, so it would not make sense to include it in a logistic regression model to determine the probability of treatment assignment. There are several limitations of using logistic regression models to determine propensity scores (as opposed to other methods of propensity score generation). Two of them are: It may not be possible to capture complex relationships between the covariates and how they relate to the propensity of being assigned to the treatment group. For example, there may be complex interactions (e.g. $X_1^4 \times X_5^2$ ) that are not captured during the modeling process with a large number of covariates. In other words, it may be difficult and time consuming (another possible limitation) to determine the appropriate functional form of the propensity score model. Propensity score generation via logistic regression model can also be quite time consuming compared to automted machine learning methods such as Generalized Boosted Methods (GBM) ( Ridgeway, 1999 ). This itself could be considered a drawback. Generating propensity scores from logistic regression often calls for including any covariate that could potentially influence the treatment assignment. This often includes a very large number of correlated covariates that, when combined with few subjects, could make the logistic regression results, typically generated via reweighted least squares, numerically unstable ( Ridgeway, McCaffrey, Morral, et al., 2017 ). That all being said, it is generally less important what method you use to generate propensity scores than it is determining which covariates are to be used in the propensity score generation ( Steiner and Cook, 2013 ). In addition, what one should really be paying attention to are the covariance balance score-cards. The authors should have provided covariate balance diagnostics. If the authors were able to achieve good balance, then this is quite a good indication that the the propensity scores were well-modeled and achieved the desired result (essentially making the treatment groups comparable). Finally, if you are interested in a good review of pros and cons of different of the various techniques for the application of propensity scores (e.g. pros and cons of greedy-matching vs. optimal for example) see the article "Methodological Considerations in Implementing Propensity Score Matching" by Haiyan Bai that appears in Chapter 4 of Propensity Score Analysis: Fundamentals and Developments edited by Wei Pan and Haiyan Bai . In addition, the article by Garrido, Kelley, Paris, et al. provides a good overview of the pros and cons of different techniques that make use of propensity scores.
