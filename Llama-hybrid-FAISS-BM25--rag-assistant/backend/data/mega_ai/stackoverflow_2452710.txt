[site]: stackoverflow
[post_id]: 2452710
[parent_id]: 2450069
[tags]: 
Yes i have seen this thread and i already have implemented this. Firstly have in mind that i have used this line in Global.asax.cs to get the RIA services properly behave (hosted in an ASP.NET MVC view) routes.IgnoreRoute("{*allsvc}", new { allsvc = @".*\.svc(/.*)?" }); Here is some code: public class HostBasedComponentSelector : IHandlerSelector { private readonly Type[] selectableTypes; public HostBasedComponentSelector(params Type[] selectableTypes) { this.selectableTypes = selectableTypes; } public bool HasOpinionAbout(string key, Type service) { foreach (var type in selectableTypes) { if (service == type) return true; } return false; } public IHandler SelectHandler(string key, Type service, IHandler[] handlers) { //only for debug StreamWriter sw = new StreamWriter(@"c:\temp\Debug.log",true); sw.WriteLine(DateTime.Now + " " + service.Name + " " + GetHostname() ); sw.WriteLine("Available handlers"); foreach(IHandler h in handlers ) { sw.WriteLine ("Handler "+h.ComponentModel.Name); } var id = string.Format("{0}:{1}", service.Name, GetHostname()); var selectedHandler = handlers.Where(h => h.ComponentModel.Name == id).FirstOrDefault() ?? GetDefaultHandler(service, handlers); sw.WriteLine("Selected handler " + selectedHandler.ComponentModel.Name); sw.WriteLine("----------- END ----------"); sw.Flush(); sw.Close(); return selectedHandler; } private IHandler GetDefaultHandler(Type service, IHandler[] handlers) { if (handlers.Length == 0) { throw new ApplicationException("No components registered for service {0} With service.Name" + service.Name); } return handlers[0]; } protected string GetHostname() { return HttpContext.Current.Request.ServerVariables["SERVER_NAME"]; } } Here is the complete web.config. Notice registering the OrganizationDomainServiceFactory (it is the implementation of the article you mentioned) metadata=res://*/WebShop.csdl|res://*/WebShop.ssdl|res://*/WebShop.msl;provider=System.Data.SqlClient;provider connection string="Data Source=.\SQLEXPRESS;Initial Catalog=iWebShop;User ID=sa;Password=xxx;MultipleActiveResultSets=True" metadata=res://*/WebShop.csdl|res://*/WebShop.ssdl|res://*/WebShop.msl;provider=System.Data.SqlClient;provider connection string="Data Source=.\SQLEXPRESS;Initial Catalog=iWebShop2;User ID=sa;Password=xxx;MultipleActiveResultSets=True" TestRIA1.Abstract.IConnectionStringProvider, TestRIA1 Hope this is enough. In case you would like to have the complete project i can send you a copy (this is a pre-production test project). Thank you very much for the time you spend!
