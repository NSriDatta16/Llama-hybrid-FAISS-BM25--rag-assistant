[site]: stackoverflow
[post_id]: 4596193
[parent_id]: 4596159
[tags]: 
It seems like you have your answer. To detect the various models, just parse the user agent field. Note that a lot of times just the simple fact that the format changed is indicative of a different model. This is called "finger printing".
