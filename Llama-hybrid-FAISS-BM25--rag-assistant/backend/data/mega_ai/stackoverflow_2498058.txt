[site]: stackoverflow
[post_id]: 2498058
[parent_id]: 2498035
[tags]: 
You'll need to put your current query in subquery as below : SELECT * FROM ( SELECT DISTINCT APP_ID, NAME, STORAGE_GB, HISTORY_CREATED, TO_CHAR(HISTORY_DATE, 'DD.MM.YYYY') AS HISTORY_DATE FROM HISTORY WHERE STORAGE_GB IS NOT NULL AND APP_ID NOT IN (SELECT APP_ID FROM HISTORY WHERE TO_CHAR(HISTORY_DATE, 'DD.MM.YYYY') ='06.02.2009') ORDER BY STORAGE_GB DESC ) WHERE ROWNUM Oracle applies rownum to the result after it has been returned. You need to filter the result after it has been returned, so a subquery is required. You can also use RANK() function to get Top-N results. For performance try using NOT EXISTS in place of NOT IN . See this for more.
