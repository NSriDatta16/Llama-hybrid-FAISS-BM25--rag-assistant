[site]: stackoverflow
[post_id]: 1793520
[parent_id]: 
[tags]: 
PHP losing data for two variables

I have two scripts that I'm working on. The first receives $agentID via GET (as well as some other data via other GET variables), then looks up $firstName and $lastName in a database by $agentID. Once done, it displays $firstName, $lastName and $agentID on the screen, as text in a form (not in a form input). After the form is submitted, $agentID and the form data are to be written to the database as part of a new record, then $agentID, $firstName, $lastName, and the form data are stored in SESSION variables so the data can be displayed on a confirmation page. The trouble I'm having is that $agentID, $firstName, $lastName are not written to the database, to SESSION variables, and it won't even put the values in an email! Both scripts start a session as the first thing. I've checked the first script over and over to make sure the variables aren't being over-written, unset, or anything. Here's some code and I hope someone can see what I apparently am not. This is from the first script: session_start(); $mySQLdb = EstablishConnection("table"); $agentID = $_GET['agent']; $agentData = SurveyAgent($agentID); $agentDataArray = explode(".", $agentData); $agentFirstName = $agentDataArray[0]; $agentLastName = $agentDataArray[1]; $agentFullName = $agentFirstName." ".$agentLastName; The call to SurveyAgent establishes its own connection to the database, using the same code as the first line in the previous block. SurveyAgent() is in an included file. Here's the important bits from SurveyAgent(): $mySQLselect = "SELECT lname, fname FROM table WHERE id_no='$userID';"; $sponsorData = $mySQLrow[1].".".$mySQLrow[0]; return $sponsorData; I had originally put the data returned from the database into an array and returned the array, but when things weren't working, I changed it to just concatenating the two pieces with a period between to use explode (as the code currently does). Finally, the first script wraps up this way (after the write to the database): $_SESSION['agentID'] = $agentID; $_SESSION['agentName'] = $agentFullName; $body = $agentFullName.", ".$agentID; mail("email@address", "test", $body, "From: email@address"); header("Location: http://www.domain.com/path/to/script.php"); The second script starts like this: session_start(); $agentID = $_SESSION['agentID']; $agentName = $_SESSION['agentName']; The second script receives several other variables via SESSION from the first script. $agentID and $agentName are the only two variables I am having trouble with. I have tried changing the variables' names, including the SESSION keys' names. If I hard-code the value of $agentID, instead of receiving it via GET, everything works fine. It makes no sense to me why the first script is displaying the data received via GET and the database query, but won't pass them anywhere. Any help is appreciated. If I need to post more code, I will do that. Thanks!
