[site]: stackoverflow
[post_id]: 4198025
[parent_id]: 
[tags]: 
Need a way to alert user they are exiting Flex App by hitting back-button and give them an option to stay in IE

I've been trying is to create a false entry into the browser (i.e. browserManager.setFragment("bb=1")) Then add a BrowserChangeEvent.BROWSER_URL_CHANGE event to the browser manager to catch it before it fully leaves the app. My popup would then allow the user to exit out of the app by using ExternalInterface.call("history.go",-1); if they hit okay. My problem right now is this works perfect in all browsers, except IE (8 specifically). Any idea what I can do to get this to work in IE? Here's my implementation: init():{ browserManager = BrowserManager.getInstance(); var historyLen:String = ExternalInterface.call("history.length.toString"); if(historyLen != "1") browserManager.setFragment("bb=1"); browserManager.addEventListener( BrowserChangeEvent.BROWSER_URL_CHANGE, urlChange ); } private function urlChange(e:BrowserChangeEvent = null):void { var o:Object = URLUtil.stringToObject(browserManager.fragment); if(o.hasOwnProperty('bb') && o.bb == 1){ bbInit = true; } if(bbInit && !o.hasOwnProperty('bb')) Alert.show("Are you sure you want to exit the app?","Exit", "", Alert.OK|Alert.CANCEL,this,bbClose); } private function bbClose(e:CloseEvent):void { if (e.detail == Alert.OK) { ExternalInterface.call("history.go",-1); } else { browserManager.setFragment("bb=1"); } } Btw, the alert doesn't popup in IE, so I'm sure it's either a problem with the false history addition or with the urlChange function.
