[site]: stackoverflow
[post_id]: 4436452
[parent_id]: 4436441
[tags]: 
It looks to me like you only set $x and $y once . That means they won't change when you recursively call foo() . I'd start by trying something like this: I'd check that code though. I know PHP about as well as I know Aramaic :-) My analysis is based more on general language knowledge, so the syntax may be bogus. Of course, you may want to think about avoiding recursion altogether in this case. There's really no need for it. Recursion is fine when it makes your code more elegant but I don't believe that's the case here. I'd give something like this a shot:
