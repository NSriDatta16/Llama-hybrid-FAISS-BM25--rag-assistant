[site]: stackoverflow
[post_id]: 89835
[parent_id]: 89820
[tags]: 
You need to duplicate your logic. SQL Server isn't very smart at columns that you've named but aren't part of the dataset in your FROM statement. So use select customerName, customerId, ( select count(*) from Purchases p where p.customerId = c.customerId ) as numberTransactions from customerData c order by (select count(*) from purchases p where p.customerID = c.customerid) Also, use aliases, they make your code easier to read and maintain. ;)
