[site]: crossvalidated
[post_id]: 406558
[parent_id]: 406502
[tags]: 
There is a conventional concept that is a close match to your question: a nonparametric prediction interval. These are amazingly easy to compute and can work well with sufficiently large datasets. A "prediction interval" is a statistical problem where you intend to use an initial set of data to establish limits between which additional data will lie. We say these limits "cover" the additional data when all the additional values are included within the limits. The unconditional probability of coverage--that is, the one you would compute before seeing any of the data--is intended to be at least a given percentage, such as 95% or 99% (as in this question). (I will use 99% throughout, understanding it can be replaced by any desired percentage less than 100% in obvious ways.) A prediction interval is "nonparametric" when you make no (or very limited) assumptions about the underlying data distribution. The standard application is where that distribution could be literally anything and the data are independent. The simplest case is the one described in the question: using independent and identically distributed random values $X_1, X_2, \ldots, X_n,$ to erect a 99% prediction interval for a single independent future value $X_0$ drawn from the same unknown distribution. Provided $n$ is large enough, there are many solutions that are easy to obtain: they all rely on the fact that the $X_i$ are exchangeable: that is, any one of them could play the role of $X_0.$ The interval in these solutions is given by a pair of order statistics $(X_{(l)}, X_{(u)}]$ for the original data. This notation, using parenthesized subscripts, is conventional: when we sort the $X_i$ , $X_{(1)}$ is the smallest, $X_{(2)}$ the next smallest, and so on. Including the universal endpoints $\pm\infty$ (for notational convenience), $$-\infty = X_{(0)} \lt X_{(1)} \le X_{(2)} \le \cdots \le X_{(n)} \lt X_{(n+1)}=\infty.$$ Thus, there are at most $l-1$ original data values less than $X_{(l)}$ (whatever $l \in \{0,1,2,\ldots, n,n+1\}$ may be) and there are at least $n-u+1$ original data values greater than or equal to $X_{(u)}.$ The exchangeability of all the data, including $X_0,$ implies $X_0$ is equally likely to be the smallest of all $n+1$ values, the second smallest, ..., or the very largest. That covers $n+1$ equally likely possibilities, of which at least $u-l$ are in the interval $(X_{(l)},X_{(u)}].$ Thus, the chance that $X_0$ is covered by the interval $(X_{(l)}, X_{(u)}]$ is at least $(u-l)/(n+1).$ (The coverage value is exact for continuous distributions and might be higher for non-continuous distributions where ties are possible.) This shows that $$\Pr(X_0 \in (X_{(l)}, X_{(u)}]) \ge \frac{u-l}{n+1}.\tag{1}$$ To find a 99% prediction interval for $X_0,$ then, all we need do is choose $l$ and $u$ to make the right hand side at least 99%. Usually we want to make the prediction interval as precise as possible--that is, as narrow as possible--so we take $l$ large and $u$ small, within these constraints. Usually, these order indexes are chosen symmetrically in the sense that $l-1$ and $n-u$ are approximately equal. The choice ought to be made before examining the data. Examples Suppose you have $n=299$ data values. Equation $(1)$ states $$ \frac{u-l}{300} \ge 0.99,$$ giving the solutions $$(l,u) \in \{(0, 297), (1, 298), (2, 299), (3, 300)\}.$$ I use the notation " $(0,297)$ " to indicate an interval with no lower limit (that is, $X_{(0)} = -\infty$ ) and an upper limit of $X_{(297)}$ : it is a nonparametric 99% upper prediction limit. Similarly, " $(3,300)$ " represents the nonparametric 99% lower prediction limit given by $X_{(3)}.$ It is equivalent to pretending $X_{(300)} = X_{(n+1)}=+\infty.$ The other two solutions are genuine (finite) intervals. You may choose either one (in advance). Perhaps you would like to keep the upper limit as low as possible, subject to all the preceding requirements: you would accordingly use $(1,298)$ as your procedure. In this procedure, the prediction interval goes from the smallest data value $X_{(1)}$ up to and including the second highest data value $X_{(298)}.$ Otherwise you might use $(2,299).$ (You could also flip a coin to make the choice: this is called a randomized procedure. ) Suppose you have $n=90$ values. Now there are no solutions to $(1)$ (or, continuing the conventions of the previous example, the only solution is $l=0$ and $u=91$ corresponding to the interval $(-\infty, \infty]$ of all real numbers): it is not possible to construct a meaningful nonparametric 99% prediction interval (for a single additional observation) with fewer than $99$ data points. References Hahn and Meeker, Statistical Intervals (1991).
