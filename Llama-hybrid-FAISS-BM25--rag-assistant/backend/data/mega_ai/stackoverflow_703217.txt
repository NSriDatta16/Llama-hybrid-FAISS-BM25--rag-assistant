[site]: stackoverflow
[post_id]: 703217
[parent_id]: 
[tags]: 
Divide amount by characters present in string, found via regex

Suggestions for an updated title are welcome, as I'm having trouble easily quantifying what I'm trying to do. This is a web-based form with PHP doing the calculations, though this question probably has an algorithmic or language agnostic answer. Essentially, there is an Amount field and a Charge Code field. The Charge code entered represents a short-hand for several 'agents' to whom the Amount is divided by. Most cases are single letters, however there are a couple cases where this varies, and gives a bit of trouble. Basically, A = AgentType1, J = AgentType2, L = AgentType3, and as paperwork and user requirements would have it, "A2" is also a valid replacement for "J". So an amount of 50 and a Charge Code of "AJ" would result in the Amount being divided by 2 (two agents) and dispersed accordingly. The same for a string like "AA2". I have currently set up process (that works) that goes like this: Divide = 0; RegEx check for AgentType1 in Charge Code: Divide++; Set This-AgentType-Gets-Return; RegEx check for AgentType2 in Charge Code: Devide++; Set This-AgentType-Gets-Return; ... etc ... Then I divide the Amount by the "Divide" amount, and the result gets divvied up to each AgentType present in the Charge Code. I know there must be an easier/simpler way to implement this, but it's not coming to me at the moment. Is there a way to quickly derive the number of AgentTypes involved in the Charge Code, and which they are?
