[site]: stackoverflow
[post_id]: 5388389
[parent_id]: 4402636
[tags]: 
Magento Enterprise Edition Upgrade Procedure for 1.9 to 1.9.1 Generally all Magento upgrades work by running the updated code with the old database. The differences will be detected and incorporated automatically on the next page request. Magento keeps track of every module's version number for this reason. This is not advised with this upgrade if you have custom code. Disclaimer – if you have a lot of customization, the upgrade will break the system; it is best to do this on a new (temporary) site, compare, bug fix, then test, then cross browser test. Your general approach: Close production server Backup all DBs and Magento installation Turn off all your custom extensions and themes Delete from HDD: core Magento modules, their layouts, all standard themes and cache. Get 1.9.1 EE, copy it into a fresh DB installation, then place custom code over the top. File compare between OTB 1.9.0 and 1.9.1. Pay special attention to a list of core controllers which have been overridden and compare the difference between these controller in version 1.9.0. and 1.9.1. Here is a list of known problematical issues which will cause rework in our custom code: 1) Google Analytics (does not work in 1.9.0 and to fix it, many changes are required to our custom code) 2) Flat Category 3) Searching by Attribute – (xml fix) 4) iFrame problem in CMS pages 5) Missing admin custom tabs (compare before and after) 6) Home page enterprise_home has to be renamed! (this is an example of a hidden pitfall undocumented and represents a warning to you to factor in time for such problems) 7) Check Mage/Community for new modules which override modules which we need. 8) Anything which extends the customer entity should be rigorously tested. 9) JavaScript – be careful - the actual js templates may be the same, but the blocks and modules which call them may have subtle changes! 10) Custom Product Imports – do a test product import on 1.9.1 using dataflow method and see what db fields are needed then add them into the procededural code for your custom code. Check release notes documentation and update for your theme, whether it supports EE 1.9. Turn it on if it supports, otherwise you'll need another theme. Check release notes documentation and updates for all your custom extensions - whether they support 1.9.1 Turn them on - one by one. You will have problems upgrading all core DB data if it's made automatically, check which fields are missing/changed and add them. Cross Browser testing - problems with your custom theme, and you'll need to check your custom extensions and upgrade their template files, skin css and DB data to fit 1.9.1. Testing is the biggest task, walk through the application, notice errors and warnings, fix them.
