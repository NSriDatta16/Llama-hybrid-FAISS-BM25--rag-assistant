[site]: stackoverflow
[post_id]: 336803
[parent_id]: 336696
[tags]: 
It might be worth trying a deadlock detecting bit of code - like this . The stopQuery lock does not seem to have acquired the lock previously in the stack trace, but then that lock does not seem to have acquired anywhere else either - weird... "Worker-2" prio=10 tid=0x00002aad1da66400 nid=0x5165 waiting for monitor entry [0x0000000041b43000..0x0000000041b43b90] java.lang.Thread.State: BLOCKED (on object monitor) at org.eclipse.jdt.internal.core.index.DiskIndex.stopQuery(DiskIndex.java) - waiting to lock (a org.eclipse.jdt.internal.core.index.DiskIndex) at org.eclipse.jdt.internal.core.index.Index.stopQuery(Index.java:192) There is a wait on a held lock in this bit, but thats released the lock until it gets a notify/timeout: "Text Viewer Hover Presenter" daemon prio=10 tid=0x00002aad20166400 nid=0x51f4 in Object.wait() [0x000000004254c000..0x000000004254dd90] java.lang.Thread.State: WAITING (on object monitor) at java.lang.Object.wait(Native Method) - waiting on (a java.lang.Object) at java.lang.Object.wait(Object.java:485) at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:450) - locked (a java.lang.Object) at org.eclipse.jdt.ui.SharedASTProvider.getAST(SharedASTProvider.java:129) at org.eclipse.jdt.internal.ui.text.java.hover.NLSStringHover.getHoverInfo(NLSStringHover.java:87) at org.eclipse.jdt.internal.ui.text.java.hover.AbstractJavaEditorTextHover.getHoverInfo2(AbstractJavaEditorTextHover.java:86) at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:129) at org.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo2(JavaEditorTextHoverProxy.java:82) at org.eclipse.jface.text.TextViewerHoverManager$4.run(TextViewerHoverManager.java:166)
