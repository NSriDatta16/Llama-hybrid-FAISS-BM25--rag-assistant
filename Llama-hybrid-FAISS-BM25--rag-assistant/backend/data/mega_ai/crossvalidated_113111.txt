[site]: crossvalidated
[post_id]: 113111
[parent_id]: 
[tags]: 
deeper lags in dynamic panel regressions using xtabond2 in STATA

I know this kind of question may be asked a number of times in this community or in other web sites. I am kind of knowing what to do. But just to make sure I did not misunderstand anythings, I pose my question. Currently I am using XTABOND2 to run difference and system GMM to model annual change of TFPt = TFPt-1 + some explanatory or predetermined variables + time dummies. The code is like that for difference GMM: xtabond2 dtfp ltfp x time2-time12, gmm(ltfp) iv(x time2-time12) nol robust for system GMM: xtabond2 dtfp ltfp x time2-time12, gmm(ltfp) iv(x time2-time12) robust dtfp = annual change of TFP at time t ltfp = TFP level at time t - 1 x = just some explanatory variables time = time dummies The number of panel is 123,800 and time is from 2000 to 2011. It is a extreme large unbalanced panel with average observation per group is around 4. My questions are here Arellano-Bond test for AR(2) for both difference and system GMM are statistically significant, p-values are 0. That means lag 2 serial correlation exist and the current instrumental variable is not sufficient. I tried to use a deeper lag, simply change gmm(ltfp) to gmm(ltfp, lag(2 .)). When I did that, AR(2) is statistically significant but AR(3) and AR(4) are not, p-values between 0.6 and 0.7. From these results, can I say gmm(ltfp, lag(2 .)) is sufficient instruments? Some people do suggest add lag dependent variable to this equation, so xtabond2 dtfp l.dtfp ltfp x time2-time12, gmm(ltfp) gmm(ldtfp) iv(x time2-time12) nol robust. I just wonder is it the right thing to do? If so, how do I know how many lags of dependent variables are sufficiently enough? still using arellano-bond correlation tests in AR2 AR3? In XTABOND2, there is an option to do a difference transformation or orthogonal transformation. From David's how to use xtabond2, he seems to suggest using orthogonal transformation. One obvious benefit for that is to save observations at the first time period (I know there are few more benefits). From my observations, they return quite different coefficients - the coefficients of ltfp in difference and orthogonal transformation in difference-GMM are -0.63 and - 0.19. Are there anyway to know which transformation is doing a better job? XTABOND2 offers difference-in-hansen tests for both GMM and IV instrments. Just to check I get it correctly. If both Hansen test excluding group and difference in GMM instruments for levels have very small p-values, it suggests system-GMM is invalid. If both tests in iv have small p-values, it suggests some of variables in IV are strictly exogenous and they should be treated endogenous or predetermined? There is my questions. Thanks in advance for your helps. Cheers, Fish
