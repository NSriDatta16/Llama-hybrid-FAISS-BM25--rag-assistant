[site]: stackoverflow
[post_id]: 5449070
[parent_id]: 5445755
[tags]: 
Well what you call threshold is the Bias in machine learning nomenclature. This should be left as an input for the user because it is used during training. Also, I wonder why you are not using the builtin matlab functions. i.e newp or newff. e.g. ff=newp(X,Y) Then you can set the properties of the object ff to do your job for selecting gradient descent and so on.
