[site]: stackoverflow
[post_id]: 3861576
[parent_id]: 3853035
[tags]: 
do one thing first, add indexes in projects and schedule table. This will improve performance a lot. Then try this query SELECT * FROM agents LEFT JOIN ( SELECT agents.agentid, schedule.scheduleid,schedule.projectid, projects.locationid FROM agents LEFT JOIN SCHEDULE USING (agentid) LEFT JOIN projects USING (projectid) WHERE (projects.locationid = 51) GROUP BY agentid ORDER BY agentid ) AS t ON agents.agentid = t.agentid WHERE t.agentid IS NULL
