[site]: stackoverflow
[post_id]: 1470378
[parent_id]: 1470349
[tags]: 
The easiest is to get the drive bitmap with I/O controls. There is a nice open source defragmenter that can give you a good example on how to do it: JkDefrag (NOTE: the MyDefrag is not open source). Jeffey Wall's WebLog also contains a bunch of links that might interest you. Another interesting article about the FSCTL_GET_VOLUME_BITMAP I/O control is provided by microsoft.
