[site]: stackoverflow
[post_id]: 5684898
[parent_id]: 5684557
[tags]: 
Why are you checking event.layerX for FF but event.offsetX for WebKit? jQuery normalizes all of the event properties so you shouldn't need to check different properties for different browsers. On top of that, if you are going to try to sniff the user agent, and you're already using jQuery, use jQuery to do it: if($.browser.mozilla) { playbutton = event.layerX Edit There's a lot of room for improvement in this code. Here's a shot at fixing it up. $(function() { $('.loop').live('mousedown', function() { this.checked = !this.checked; }); $('.audioplayerHTML5').live('click', function(event) { var audio, playbutton, video = $('.videoplayer').get(0), $syncMusic = $('#syncMusic'), $last_played = $('#last_played'), $playAudioBeginning = $('#playAudioBeginning'), $playFromBeginning = $('#playFromBeginning'), $sliderVideo = $('#sliderVideo'); if ($.browser.mozilla) { playbutton = event.layerX Assorted cleanup The .live('mousedown', ...) can be written so much more simply Cache jQuery objects, it's more efficient Be consistent with string delimiters; don't mix-and-match single and double quotes Multiple missing var keywords ( => declaring global variables, which is b-a-d bad ) No need to check video != undefined , just check the truthiness of video Seriously, stop checking if a boolean value is equal to true or false , just check its truthiness Remove unused variables (namely stop and event ) Use return statements (judiciously) to reduce excessive if...else nesting and redundant checks Unresolved questions Is .loop checkboxes? If so, ditch the .live('mousedown', ...) handler. It is entirely superfluous. With all those UA checks, what is supposed to happen in IE? Let's talk This method is too damn big. Break it down into a series of smaller, more manageable functions. For example, you might turn this chunk of code: if (!this.paused) { if ($syncMusic.is(':checked') && video) { video.pause(); } this.pause(); //check for play button pressing on initial } into a separate function call that looks like this: if (!this.paused) { pause(this, $syncMusic.is(':checked') ? video : null); } where pause is the following function: function pause(vidA, vidB) { if (vidB) { vidB.pause(); } vidA.pause(); }
