[site]: stackoverflow
[post_id]: 4188568
[parent_id]: 
[tags]: 
Magento Custom module - how to add custom select box with parent categories

I wrote a module to have my own menu bar, rather than just using categories as a menu bar. So, here I want to show already added menus while adding new menu in the Tab/Form.php in my custom menu module. How can I show all of the existing menu names as a dropdown/options list on the form. Here is the code that I used to have menu form. $form = new Varien_Data_Form(); $this->setForm($form); $fieldset = $form->addFieldset('menu_form', array('legend'=>Mage::helper('menu')->__('Menu information'))); $note = "Name of this Menu"; $fieldset->addField('title', 'text', array( 'label' => Mage::helper('menu')->__('Menu Name'), 'class' => 'required-entry', 'required' => true, 'note' => $note, 'name' => 'title', )); $note = "Menu level"; $fieldset->addField('level', 'select', array( 'label' => Mage::helper('menu')->__('Menu level'), 'name' => 'level', 'note' => $note, 'values' => array( array( 'value' => 1, 'label' => Mage::helper('menu')->__('Level 1'), ), array( 'value' => 2, 'label' => Mage::helper('menu')->__('Level 2'), ), ), )); $model = Mage::registry('menu'); $fieldset->addField('parent', 'text', array( 'name' => 'conditions', 'label' => Mage::helper('menu')->__('Parent Menu'), 'title' => Mage::helper('menu')->__('Parent Menu'), 'required' => false, 'note' => $note, ))->setRule($model)->setRenderer(Mage::getBlockSingleton('rule/conditions')); $fieldset->addField('target', 'select', array( 'label' => Mage::helper('menu')->__('Open in new window'), 'name' => 'target', 'values' => array( array( 'value' => "_blank", 'label' => Mage::helper('menu')->__('Yes'), ), array( 'value' => "_self", 'label' => Mage::helper('menu')->__('No'), ), ), )); $fieldset->addField('status', 'select', array( 'label' => Mage::helper('menu')->__('Status'), 'name' => 'status', 'values' => array( array( 'value' => 1, 'label' => Mage::helper('menu')->__('Enabled'), ), array( 'value' => 2, 'label' => Mage::helper('menu')->__('Disabled'), ), ), )); $note = "Menu Links to Which page. BaseURL( ".str_ireplace("index.php/","",Mage::getBaseUrl())." ) Will be Added Dynamically, Please add Your new page Refrence alone"; $fieldset->addField('menulink', 'text', array( 'label' => Mage::helper('menu')->__('URL'), 'required' => true, 'class' => 'required-entry', 'note' => $note, 'name' => 'menulink', )); $fieldset->addField('position', 'select', array( 'label' => Mage::helper('menu')->__('Position'), 'name' => 'position', 'values' => array( array( 'value' => 1, 'label' => Mage::helper('menu')->__('Top 1'), ), array( 'value' => 2, 'label' => Mage::helper('menu')->__('Top 2'), ), ), )); if ( Mage::getSingleton('adminhtml/session')->getMenuData() ) { $form->setValues(Mage::getSingleton('adminhtml/session')->getMenuData()); Mage::getSingleton('adminhtml/session')->setMenuData(null); } elseif ( Mage::registry('menu_data') ) { $form->setValues(Mage::registry('menu_data')->getData()); } return parent::_prepareForm(); In this I want to show all the added menus under the parent menu option. What should I write in my Model class so that I can have a drop down list to show them all, and after adding it should be added to database. Please help me, am struggling here.
