[site]: crossvalidated
[post_id]: 612803
[parent_id]: 530462
[tags]: 
If the $R_j$ 's are known a-priori and $f(x)$ is genuinely equal to $\sum_j b_j I(x \in R_j)$ then this approach will basically work, under minor conditions (e.g., the number of observations in each $R_j$ tends to $\infty$ , the error variance is finite and constant, and so forth). There are a couple of issues with this approach in practice: In practice, the $R_j$ 's are learned from the data, and so even if the model is correctly specified you need to take into account the fact that the $R_j$ 's are estimated. It's far from trivial how to combine estimation of the $R_j$ 's with the uncertainty quantification for $f(x)$ (even estimating the $R_j$ 's in the first place is not easy, with CART being a particular estimator that need not be consistent). One can lower their expectations a bit, and only require $f(x) \approx \sum_j b_j I(x \in R_j)$ . Again, if the $R_j$ 's are known, then the approach outlined is valid as a confidence interval for the modified parameter $\widetilde f(x) = E\{f(X) \mid X \in R(x)\}$ where $R(x)$ is the rectangle $R_j$ that $x$ belongs to. So you get a valid confidence interval for something , it's just that this something is not $f(x)$ . Even if the $R_j$ 's are estimated, it still makes sense to take about inference for $\widetilde f(x)$ . That is, we can ask about intervals for $\widetilde f(x)$ for the particular $R_j$ 's we've estimated. A simple (albeit inefficient) way to do something like this is to data-split, using a training set to estimate the tree and a validation set to compute the confidence interval. But, again, a big issue that that you don't get an interval for $f(x)$ . I don't have citations on hand unfortunately (sorry) but I think most of the situation I laid out above is well-known to academics who work with decision trees. The much harder problem of making confidence intervals for random forests has received substantial interest in recent years, however, see e.g., this work from Wager et al. . That might give some references to works that handle the much simplerproblem you are interested in.
