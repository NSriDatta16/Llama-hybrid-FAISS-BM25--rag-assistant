[site]: stackoverflow
[post_id]: 1591458
[parent_id]: 1591390
[tags]: 
I'm absolutely certain there's a more elegant solution, but this ought to get you going: string = "/root/children[2]/header[1]/something/some[4]/table/tr[1]/links/a/b" count = string.scan(/\[\d+\]/).size index = 0 string.gsub(/\[\d+\]/) do |capture| index += 1 index == count ? capture : "" end
