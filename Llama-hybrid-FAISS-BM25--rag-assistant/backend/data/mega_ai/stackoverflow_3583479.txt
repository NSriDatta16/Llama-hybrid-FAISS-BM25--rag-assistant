[site]: stackoverflow
[post_id]: 3583479
[parent_id]: 3583456
[tags]: 
strpos never returns true . You will need to test for $browser != false , otherwise your function will never recognize an iPhone. However, your code is unnecessarily complicated, and returning an integer is not really useful here. I would recommend a simplified rewrite: // Make it return `true` or `false` instead of `1`, also make it universal function isAgent($string) { return (strpos($_SERVER['HTTP_USER_AGENT'],$string) !== false); } /* Image resize function */ function imageResize($width, $height) { if(isAgent("iPhone")){ $width = round($width / 2); $height = round($height / 2); }else{ $width = round($width); $height = round($height); } // Consider using CSS echo "style=\"width: {$width}px; height: {$height}px;\""; }
