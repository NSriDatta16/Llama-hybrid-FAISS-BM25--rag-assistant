[site]: stackoverflow
[post_id]: 4112878
[parent_id]: 4112847
[tags]: 
Your code can be better written as ( Working Demo ) var div = document.getElementById("thediv"); div.onmousedown = attachEvent; // if mouse released, stop watching mouseover document.onmouseup = function () { div.onmouseover = null; } function attachEvent() { this.onmousemove = getPos; this.onmouseout = unattachEvent; this.onmouseup = unattachEvent; return false; // prevent Firefox "drag behavior" } function unattachEvent() { this.onmousemove = null; this.onmouseup = null; this.onmouseout = null; // wait for the mouse to come back this.onmouseover = attachEvent; } function getPos(e) { e = e || window.event; var docEl = document.documentElement; var scrollLeft = docEl.scrollLeft || document.body.scrollLeft; var scrollTop = docEl.scrollTop || document.body.scrollTop; document.getElementById('X').value = e.pageX || (e.clientX + scrollLeft); document.getElementById('Y').value = e.pageY || (e.clientY + scrollTop); }â€‹
