[site]: stackoverflow
[post_id]: 2499775
[parent_id]: 2499694
[tags]: 
I'd suggest using PHP's DOMDocument class and related classes (if only because I've been using this since forever. Don't really know if simplexml is better or not). You would do the following: $doc = new DOMDocument(); $doc->load($xml); $rootNode = $doc->documentElement; $entitiesNode = $rootNode->getElementsByTagName('entities')->item(0); $entityNodes = $entitiesNode->getElementsByTagName('entity'); for($i = 0; $i length; $i++) { $entityNode = $entityNodes->item($i); $subEntitiesNode = $entityNode->getElementsByTagName('entities'); if($subEntitiesNode->length) { $subEntitiesNode->removeChild($subEntitiesNode->item(0)); } } Note that i just wrote that from the top of my hat, so please don't sue if it doesn't work, but it should be reasonably close. Apart from that, in order to find the nodes to be deleted in a more elegant way, have a look at the PHPs DOMXPath object .
