[site]: stackoverflow
[post_id]: 4180089
[parent_id]: 4075517
[tags]: 
This may have been a duplicate question, but I don't agree with the answer to the original one. I've described why in length on that question. In summary, creating a custom run loop for your tests is complicated and fragile. Your tests will run more consistently and more quickly if you remove the dependency on the external service that is returning the asynchronous responses and mimic the responses in your tests. This way your tests won't fail if the external service goes down, and your tests will run much more quickly. There are libraries available that reopen classes like NSURLConnection and make this easy to do. It's also relatively simple to do for a single class (like NSURLConnection), thanks to the dynamic properties of Objective C. Here is an example .
