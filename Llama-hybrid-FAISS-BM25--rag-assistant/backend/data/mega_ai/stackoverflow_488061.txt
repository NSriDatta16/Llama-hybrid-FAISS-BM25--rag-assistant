[site]: stackoverflow
[post_id]: 488061
[parent_id]: 
[tags]: 
Passing multiple parameters to controller in ASP.NET MVC; also, generating on-the-fly queries in LINQ-to-SQL

I'm working on a basic Issue Management System in order to learn ASP.NET MVC. I've gotten it up and running to a fairly decent level but I've run into a problem. I have a controller named Issue with a view called Open. /Issue/Open lists all of the open issues currently logged on the system. I've defined a route like so: routes.MapRoute( "OpenSort", // Route name "Issue/Open/{sort}", // URL with parameters new { controller = "Issue", action = "Open", sort = "TimeLogged" } // Parameter defaults ); This is working fine so far, using the following code in IssueController.cs: public ActionResult Open(string sort) { var Issues = from i in db.Issues where i.Status == "Open" orderby i.TimeLogged ascending select i; switch (sort) { case "ID": Issues = from i in db.Issues where i.Status == "Open" orderby i.ID ascending select i; break; case "TimeLogged": goto default; case "Technician": Issues = from i in db.Issues where i.Status == "Open" orderby i.Technician ascending select i; break; case "Customer": Issues = from i in db.Issues where i.Status == "Open" orderby i.Customer ascending select i; break; case "Category": Issues = from i in db.Issues where i.Status == "Open" orderby i.Category ascending select i; break; case "Priority": Issues = from i in db.Issues where i.Status == "Open" orderby i.Priority ascending select i; break; case "Status": Issues = from i in db.Issues where i.Status == "Open" orderby i.Status ascending select i; break; default: break; } ViewData["Title"] = "Open Issues"; ViewData["SortID"] = sort.ToString(); return View(Issues.ToList()); } This is working fine (although, I wonder if there is a better way to handle my definition of the query than a switch?) but now I want to be able to do two things on the Open Issues view: Sort by any of the headings - OK Filter on certain headings (Technician, Customer, Category, Priority, Status) - ?? I can't figure out how to pass two parameters to the Controller so I can organise my queries. I've also just realised that unless I figure out how to generate my queries on the fly I am going to need (number of sort options) * (number of filter options) in my switch. Argh, can anyone point me in the right direction? Cheers!
