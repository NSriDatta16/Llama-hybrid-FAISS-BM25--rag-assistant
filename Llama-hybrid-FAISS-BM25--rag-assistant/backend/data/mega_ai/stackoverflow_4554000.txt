[site]: stackoverflow
[post_id]: 4554000
[parent_id]: 4553551
[tags]: 
It's a shame it looks like you're not using Rails 3 which has a new ActionMailer::Base.default method which you could use to set this in application.rb. Edit: I didn't notice you said it was rails 3 in the title. In that case, add this to your config block in config/application.rb: config.action_mailer.default "X-SMTPAPI" => '{"category": "Test Category"}' For Rails 2.x, you've got two options; use a plugin such as action_mailer_callbacks to define a before_filter style call in an initializer to set the headers, or monkey-path actionmailer to get it to do what you want. Neither are particularly elegant solutions, I'm afraid. Here's a good example of someone wanting to do the same thing, and how you could monkey-patch AM, but with the from address rather than headers.
