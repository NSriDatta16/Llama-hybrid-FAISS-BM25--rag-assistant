[site]: stackoverflow
[post_id]: 4517813
[parent_id]: 
[tags]: 
help with this code

= "FROM_UNIXTIME('.$addeddate.')"' : ''; $query .= strlen($minprice) ? ' AND price between "'.$minprice.'"' : ''; $query .= strlen($maxprice) ? ' AND "'.$maxprice.'"' : ''; $query .= strlen($minarea) ? ' AND landarea between "'.$minarea.'"' : ''; $query .= strlen($maxarea) ? ' AND "'.$maxarea.'"' : ''; $query .= strlen($proptype) ? ' AND propertytype = "'.$proptype.'"' : ''; $getSearchRowsQuery = explode('properties',$query); $getSearchRowsQuery = 'SELECT COUNT(id) As numrows FROM properties' . $getSearchRowsQuery[1]; break; case 'rentals': break; case 'agents': break; case 'developments': break; default: } } $classObject = new class_functions(); $rowsPerPage = 2; // by default we show first page $pageNum = 1; // if $_GET['page'] defined, use it as page number if(isset($_GET['page'])) { $pageNum = $_GET['page']; } // counting the offset $offset = ($pageNum - 1) * $rowsPerPage; if(!isset($_REQUEST['searchcat'])) { if(!isset($_REQUEST['page'])) { $query = ''; session_destroy($_SESSION['searchquery']); session_destroy($_SESSION['searchcount']); } else $query = $_SESSION['searchquery']; } else { session_destroy($_SESSION['searchquery']); session_destroy($_SESSION['searchcount']); } if(isset($_SESSION['searchquery'])) $query = $_SESSION['searchquery']; $tmpquery = $query . ' LIMIT ' . $offset . ', ' .$rowsPerPage; echo $tmpquery; $listings[] = $classObject->getSearchListings($tmpquery,$offset,$rowsPerPage); for($i=0;$i '; else echo ' '; ?> " alt=" " /> get_search_rows($getSearchRowsQuery); else $numrows = $_SESSION['searchcount']; if($numrows==0) { echo 'No records found.'; } else { // how many pages we have when using paging? $maxPage = ceil($numrows/$rowsPerPage); // print the link to access each page $self = $_SERVER['PHP_SELF']; $nav = ''; for($page = 1; $page $page "; $_SESSION['searchquery'] = $query; $_SESSION['searchcount'] = $numrows; } } if ($pageNum > 1) { $page = $pageNum - 1; $prev = " [Prev] "; $first = " [First Page] "; } else { $prev = '&nbsp;'; // we're on page one, don't print previous link $first = '&nbsp;'; // nor the first page link } if ($pageNum [Next] "; $last = " [Last Page] "; } else { $next = '&nbsp;'; // we're on the last page, don't print next link $last = '&nbsp;'; // nor the last page link } } ?> My question is that how can i repeat the query on next pages using sessions. i.e i want to store the query if the pages exceeds results from 1 page. basically listing. I cant figure out the logic for storing the query and check for condition that the page is loaded first time or it is continuing search result. sorry for improper formatting.
