[site]: stackoverflow
[post_id]: 549877
[parent_id]: 549865
[tags]: 
I'd listen to @strager as your code, from my limited PHP exerience, doesn't seem to show anything that would cause the error. Although I can't help but offer some simple refactorings unrelated to your question but it would just make me feel better: getPassword(); // replaced getPassword in the query with this variable, else there is no need to set it here. $query = "select username, password from users where username = '".$user->getUsername()."' and password = '".$pass."'"; $results = $db->query($query); if(empty($results)) { throw new Exception('There was a problem logging you in', EX_LOGIN_ERROR); } $row = $results->fetch_assoc(); $_SESSION['user'] = $row['username']; // Why bother surrounding with try...catch just to throw the same exception } static function logout() { // what is $old_user used for? I can't see it set as a global variable anywhere $old_user = $_SESSION['user']; unset($_SESSION['user']); session_destroy(); } } ?>
