[site]: stackoverflow
[post_id]: 5072625
[parent_id]: 5072313
[tags]: 
See Download and Upload images from SQL Server via ASP.Net MVC for a full example containing routing that maps an URL to a file in the database, efficient download using streams and also efficient upload using streams. The routing part is relatively straight forward with MVC: routes.MapRoute( "Media", "Media/{filename}", new { controller = "Media", action = "GetFile" }, new { filename = @"[^/?*:;{}\\]+" }); but the other bits and pieces, specially the upload that uses correct streaming semantics, may be a bit more complex that one usually expects. Most samples simply ignore the issues and create an in-memory copy of the entire file before uploading it to the database. The follow up FILESTREAM MVC: Download and Upload images from SQL Server extends the article to cover FILESTREAM storage.
