[site]: stackoverflow
[post_id]: 4062682
[parent_id]: 
[tags]: 
how to create an allocator for std::map using a pool of objects

This is a followup from stl allocator, copy constructor of other type, rebind I am using std::map and want a custom allocator that can reuse the storage for the internal nodes. The items being stored are pointers, so I'm not talking about reusing them, just the internal allocations for the map. The main requirements is that different instances of the map cannot share an object pool, it must be unique per instance. I don't need a complete solution, I'd just like an idea of how to cope with the required copy constructor that takes allocators of a different type. I don't know how to manage the internal memory in that case.
