[site]: crossvalidated
[post_id]: 485097
[parent_id]: 485070
[tags]: 
If you believe that the only difference between the two groups in terms of the distribution of outcomes is the event that occurred to the sub-group, then you can compare the means directly and the difference can be thought of as the causal effect of the event happening with respect to the outcome. If this is true, you can think of your event happening as a natural randomized experiment. To formalize, let $Y$ be the outcome and $E$ is the event. In causal inference, we denote two other quantities $Y^{(1)}$ and $Y^{(0)}$ , where $Y^{(1)}$ is the potential outcome when the event occurs, and $Y^{(0)}$ is the potential outcome of the event not occuring. What I mean by potential outcome is what would have happened for each person if the event happened to them and what would have happened if the event had not happened. In practice, best case scenario for each user you can only observe one outcome of the other. The trick now is to make a good guess at what would have happened if you observed the other potential outcome, at least on average. In classical experimental medicine, this is usually done by randomization (or a variation of it). If we truly randomize who has the event and who doesn't (in medicine it's gets a treatment or doesn't usually), the only difference in the observed distribution of $Y^{(1)}$ and the observed distribution of $Y^{(0)}$ is the effect of the event occurring, then the difference between the two is the effect of the event you want. In such a case you could just compare the sample means of the two groups and get an estimate of the average effect of what the event happening is. Now, in non-experimental settings it is often not credible that the two groups are random in this way. It is not enough to check that the observed characteristics between the two groups are the similar, since they may differ systematically on unobserved characteristics which impact the outcome distribution and probability of the event occurring (As a technical aside, making our groups balanced or being the same is probably not the right way to think about removing bias or the role that randomization plays in mitigating bias, see https://statsepi.substack.com/p/out-of-balance ). In such a case the difference in means will be partly because of the effect of the Event and partly due to systematic group differences. This is a nice youtube video to talk about this selection bias problem: https://www.youtube.com/watch?v=RKGw2Lp6Y8I If this is the case, your problem becomes harder. There are many approaches that can sometimes help you estimate the quantity of interest anyway which include: Covariate adjustment in outcome Inverse Probability Treatment Weighting Instrumental Variable Approaches Various so-called double robust methods -G-computation methods They each have different assumptions that must be satisfied. A good reference is the free textbook by Robins and Hernan available: https://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/ and the full formal treatment of them is beyond the scope of this response. Most of these methods will come down to what you know about the underlying process as in how are the two groups non-random and what do you know about things that cause the outcome of interest. An example of one of these methods would be inverse probability treatment weighting. The idea here is that you suppose that each person has an underlying probability of the event occuring for them and a probability that it wouldn't happen and that hopefully this probability is a function of observable characteristics, call these $X$ and the probability $P(E|X)$ (for each person $P(E_i|X_i)$ ). The broad idea is that we want to exploit information about the selection process to reweight the outcome mean to debias the systematic group difference. So for example if the probability of a person having the event was small, say $P(E_i|X_i) = .05$ , but the event did happen. If our assumptions are met, then this person must be more like the group of people that didn't receive the treatment. So this person, gives us a lot of information about what would happen if someone from the not event group happened to have the event occur for them, so we should exploit this fact. Conversely someone with $P(E_i|X_i) = .99$ who does receive the event gives us no real information about the group effect part and we should weight this information less. In addition to the textbook, this blog may be useful: http://www.rebeccabarter.com/blog/2017-07-05-ip-weighting/ . So in short, yes there are ways, but will depend heavily on what you know about the process and what you can assume.
