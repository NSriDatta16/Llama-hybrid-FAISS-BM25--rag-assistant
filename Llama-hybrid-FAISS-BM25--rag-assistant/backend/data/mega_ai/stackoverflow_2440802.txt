[site]: stackoverflow
[post_id]: 2440802
[parent_id]: 2440781
[tags]: 
telnetlib at least in recent Python releases uses socket.create_connection (see telnetlib's sources here ) but that should also be caught by your monkeypatch (sources here -- you'll see it uses a bare identifier socket but that's exactly in the module you're monkeypatching). Of course monkeypatching is always extremely fragile (the tiniest optimization in some future release, hoisting the global lookup of socket in create_connection , and you're toast...;-) so maybe you'll want to monkeypath create_connection directly as a modestly-stronger approach.
