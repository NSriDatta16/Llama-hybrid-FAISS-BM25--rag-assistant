[site]: crossvalidated
[post_id]: 557746
[parent_id]: 
[tags]: 
Should inverse probability weighting be used in two-way fixed-effects panel regression?

Let's assume a (balanced) panel data set with two measurement points $t_0$ and $t_1$ , where $t_0$ may be considered as the baseline. Some of the ID's are treated at $t_1$ , i.e. $D=1$ , the assignment is non-random and uneven, though. The data include many covariates at the baseline, indicated by $x_1$ and $x_2$ , and two outcomes $y_1$ and $y_2$ , where $y_1$ is only measured at $t_0$ , whereas $y_2$ is measured at both time points $t_0$ and $t_1$ . Here a schematic representation: id time D y1 y2 x1 x2 ps 1 1 0 0 NA 0.81 0.23 0.61 0.39 2 2 0 0 NA 0.78 0.97 0.37 0.18 3 3 0 0 NA 0.29 0.91 0.36 0.58 4 1 1 0 0.64 0.52 NA NA 0.39 5 2 1 0 0.71 0.52 NA NA 0.18 6 3 1 1 0.95 0.87 NA NA 0.58 For outcome $y_1$ , to estimate the average treatment effect of the treated $ATT_1$ I used a propensity score ( $PS$ ) matching approach to account for selection on observables; the $PS$ was calculated by logistic regression of treatment $D$ on appropriate covariates $X$ from the baseline, achieving a good balance. The $PS$ was added to the data set for each ID. For outcome $y_2$ , since it's measured twice, to estimate $ATT_2$ I use ID and time fixed effects panel regression, to account for selection on un observables and in order to benefit from the panel data structure. Now, since I already have the $PS$ 's at hand, I wonder if I could benefit from weighting the fixed effects regression by the inverse of them, i.e. by using inverse probability weighting (IPW). I came across a very similar approach, Kosuke & In Song (2019) are proposing in a method that uses propensity score weighted fixed effects, albeit just for unit fixed effects. So my question is whether we should use IPW in two-way fixed effects panel regression, to account for selection on both observables and unobservables, or whether this is more of a bad idea and would yield incorrect results?
