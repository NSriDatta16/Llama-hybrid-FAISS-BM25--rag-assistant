[site]: stackoverflow
[post_id]: 4418461
[parent_id]: 
[tags]: 
How to maintain order of paragraphs in a Django document revision system?

I'm having trouble figuring out how to best implement a document (paragraph-) revision system in Django. I want to save a revision history of a document, paragraph-by-paragraph. In other words, there will be a class Document , which has a ManyToManyField to Paragraph . To maintain the order of the paragraphs, a third class ParagraphContainer can be created. My question is, what is a good way to implement this in Django so that the order of paragraphs is maintained when someone adds a new paragraph in-between existing paragraphs? One obvious way would be to have a position attribute in the ParagraphContainer class, but then this field will have to be updated in all paragraphs following the inserted (or deleted) paragraph. A linked list is another option, but I'm scared that might be very slow for retrieval of the whole document. Any advice?
