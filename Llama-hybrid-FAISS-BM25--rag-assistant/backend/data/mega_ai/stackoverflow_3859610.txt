[site]: stackoverflow
[post_id]: 3859610
[parent_id]: 
[tags]: 
Custom icon not displayed in upper left corner or on task bar

I have created a basic application with with windows api. It just displays a small window. I am starting from main function, getting the instance, created my windows class, etc. Everything works out fine. The problem I have however is that my custom icon will not display in the top left corner of the window or on the task bar, it just shows the default little picture of a window. It does however show up as the icon for my the actual click-able exe file. I used resedit to make my resources, and created all 4 icon sizes so it should have one available of the proper size. I got the handle with HICON hMyIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_ICON1)); I then used WNDCLASSEX and gave the handle to both hIcon and hIconsm. If there is anything that could cause it to not show up in the corner or task bar, please help. #include #include #include "resource.h" //globals MSG msg; HWND hwndwnd; HICON hMyIcon; //Windows Procedure LRESULT CALLBACK WndProc( HWND hwnd, UINT message, WPARAM wparam, LPARAM lparam ) { switch ( message ) { case WM_CLOSE: exit( 0 ); break; case WM_CREATE: SendMessage(hwndwnd,WM_SETICON,ICON_SMALL,(LPARAM)hMyIcon); break; } return DefWindowProc( hwnd, message, wparam, lparam ); } int main(int ArgumentNum, char *arg[]) { //get instance char title[500]; GetConsoleTitleA( title, 500 ); HWND hwndConsole = FindWindowA( NULL, title ); HINSTANCE hInstance = (HINSTANCE)GetWindowLongPtr(hwndConsole, GWLP_HINSTANCE); //get icon handle hMyIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_ICON1)); if (hMyIcon == NULL) { std::cout This is my source code. What im starting to wonder is if my problem has anything to do with my resources. When i used resedit i mad an icon of every possible size. Hope this Helps, and thanks for the patience.
