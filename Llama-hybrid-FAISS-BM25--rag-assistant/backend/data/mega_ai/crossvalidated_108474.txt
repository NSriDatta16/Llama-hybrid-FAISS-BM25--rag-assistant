[site]: crossvalidated
[post_id]: 108474
[parent_id]: 
[tags]: 
Analysis for cross-subjects correlation

Suppose that an investigator has collected some longitudinal data from each of the $n$ subjects, and that a correlation coefficient is computed on the data between any pair of subjects, leading to totally $n(n-1)/2$ correlation coefficients. After converting those correlation coefficients into $z$-values through Fisher's transformation, we can denote the $z$-values in the following matrix, $$ Z=\begin{bmatrix} * \ z_{12} \ z_{13} \ ... \ z_{1n}\\ z_{12} \ * \ z_{23} \ ... \ z_{2n} \\ z_{13} \ z_{23} \ * \ ... \ z_{3n} \\ ... \\ z_{1n} \ z_{2n} \ z_{3n} \ ... \ * \end{bmatrix}$$ The statistical goal here is to test the null hypothesis about the cross-subjects correlation at the population level. In the literature I have seen the following approach: use those $n(n-1)/2$ $z$-values (upper or lower triangle in the above matrix $Z$), and run a one-sample $t$-test. This seems troubling to me because those $n(n-1)/2$ $z$-values are not fully independent from each other (some of them are from the same subjects). In other words, the test would be inflated because the associated degrees of freedom are assigned with $n(n-1)/2-1$ even though there are only $n$ subjects. Another approach is to obtain the average $z$-value on each row in $Z$. That is, $i$th subject is represented with an average $z$-value $Z_i$ ($i=1,2,...,n$): $$ \begin{bmatrix} * \ z_{12} \ z_{13} \ ... \ z_{1n}\\ z_{12} \ * \ z_{23} \ ... \ z_{2n} \\ z_{13} \ z_{23} \ * \ ... \ z_{3n} \\ ... \\ z_{1n} \ z_{2n} \ z_{3n} \ ... \ * \end{bmatrix} \begin{matrix} Z_1 \\ Z_2 \\ Z_3 \\ ... \\ Z_n \end{matrix} $$ Then we can run a one-sample $t$-test on $Z_1, Z_2, ...Z_n$. The problem with this approach is that $Z_1, Z_2, ...Z_n$ are not independent with each other. Yet another alternative is to obtain the average $z$-value on each row in $Z$, but only in the lower or upper triangle to avoid the dependence issue. That is, the $i$th subject is represented with an average $z$-value $Y_i$ ($i=2,3...,n$) as below: $$ \begin{bmatrix} * \ - \ - \ ... \ -\\ z_{12} \ * \ - \ ... \ - \\ z_{13} \ z_{23} \ * \ ... \ - \\... \\ z_{1n} \ z_{2n} \ z_{3n} \ ... \ * \end{bmatrix} \begin{matrix} - \\ Y_2 \\ Y_3 \\ ... \\ Y_n \end{matrix} $$ Then a one-sample $t$-test can be performed on $Y_2, Y_3, ...Y_n$. My intuition is that $Y_2, Y_3, ...Y_n$ are independent with each other, but the problem with this approach is that I'm not so sure whether it is a legitimate test for the original hypothesis about the cross-subjects correlations at the population level. Any suggestion or comment? Thanks!
