[site]: stackoverflow
[post_id]: 4672759
[parent_id]: 
[tags]: 
Several different login forms for Spring Security

I'm using spring-security web authentication with spring-mvc with a custom authentication and all is well so far: My problem is: /login loads a view with a fully-featured page, but now I have to provide authentication for iframe/popup format (e.g. for an authenticated bookmarklet), so loading a different view (or with different parameters). I see two solutions that are not overcomplicated: In my /login action, I have a way (unkown to me so far) to retrieve the original request and check it against a set of URLs that use the simpler view, then choose the matching view. => How do I retrieve this original request? I make another login action/form, say /login/minimal , which also POSTs to the spring security URL /j_spring_security_check , but I need to implement the request storage/retrieval mechanism, so that the original request is performed after successful login. => I see this has something to do with SecurityContextPersistenceFilter , yet I don't know how to implement it or call it.
