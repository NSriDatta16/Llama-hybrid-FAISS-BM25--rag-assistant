[site]: crossvalidated
[post_id]: 282564
[parent_id]: 282332
[tags]: 
You are actually in a somewhat rare instrumental variable situation, and might consider taking advantage of it instead of using propensity scores. With an instrumental variable, you need 4 conditions to identify the causal effect of seeing the notification on your outcome. I'm going to denote Z being sent the notification, A seeing the notification, and Y performing the action within 7 days. Relevance: Z is associated with A (it is; Z is a direct cause of A) Exclusion: Z has no effect on Y except through A (the only way the push can affect the outcome is if users see the notification) Exchangeability: There are no common causes of Z and Y (true; Z is randomly assigned) Monotonicity: There are no "defiers", i.e., people who always take the opposite treatment they are assigned (there can't be definers because people who don't receive the notification can't choose to see it). Under these assumptions, you can identify the "complier average treatment effect" (CATE), where "compliance" is seeing the notification when it is pushed and not seeing it when it is not pushed. So, the CATE which is the causal effect of receiving and seeing the notification relative to not receiving and not seeing it. This can be identified as $\frac{E[Y|Z = 1]−E[Y|Z = 0]}{E[A|Z = 1]−E[A|Z = 0]}$ but since $E[A|Z = 0] =0$ you can compute it simply as $\frac{E[Y|Z = 1]−E[Y|Z = 0]}{E[A|Z = 1]}$ Skip propensity scores when you have randomization!
