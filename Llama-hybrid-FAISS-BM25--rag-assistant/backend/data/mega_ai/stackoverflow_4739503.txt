[site]: stackoverflow
[post_id]: 4739503
[parent_id]: 
[tags]: 
Is there a way to spoof the return address on a message using NServiceBus?

I'm building a web site that sends commands to other endpoints in order to effect changes in the domain. In the event that a command fails for a business reason, I'd like to be able to use Bus.Reply() and send a command failure message to an endpoint at the ReturnAddress specified in the TransportMessage . In attempting to accomplish this, I've set up the MsmqTransportConfig in my web.config to have the appropriate InputQueue value; the Bus.Reply() call then works correctly. However, when the reply is received in the specified queue, the web site proceeds to consume it, which is not what I want to happen; I have another endpoint listening to the same queue to consume these events. Is there a way to have NServiceBus use the ReturnAddress header on the sent message, or a way to instruct a process not to pay attention to the iput queue specified in MsmqTransportConfig , or a way to set the ReturnAddress value programatically on the TransportMessage ?
