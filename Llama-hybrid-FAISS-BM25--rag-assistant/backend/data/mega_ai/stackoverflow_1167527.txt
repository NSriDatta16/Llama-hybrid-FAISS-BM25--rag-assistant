[site]: stackoverflow
[post_id]: 1167527
[parent_id]: 1162246
[tags]: 
There are some details on document.write in scripts here . I realize that this particular script is outside of your control, but it might shed some light on why you see the difference in the behavior. I tried the badge link you have on IE and it didn't generate proper fragment until I decoded the &amp; to &. There are some differences on how content is processed between HTML and XHTML. Check to see if your page is being delivered as XHTML to FF and as HTML to IE. Though, this affects only the content and should not have any effect on scripts using src attribute. For IE, you might want to try the defer attribute. Though, it's IE-specific, and I don't know if other browsers will ignore it or barf on it. Add a to cover the case where the user has JS disabled. I don't think that's your problem, but it's a good thing to add.
