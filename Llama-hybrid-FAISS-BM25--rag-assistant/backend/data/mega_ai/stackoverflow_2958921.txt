[site]: stackoverflow
[post_id]: 2958921
[parent_id]: 
[tags]: 
Entity Framework 4: How to find the primary key?

I am trying to create a generic method using EF4 to find the primary key of an object. example public string GetPrimaryKey () { ... } To give more info I am working off of the Tekpub StarterKit and below is the class I am trying to get up and running using System; using System.Collections.Generic; using System.Linq; using System.Web; using System.Data.Objects; using System.Data.Objects.ELinq; using System.Data.Linq; using Web.Infrastructure.Storage.EF4; namespace Web.Infrastructure.Storage { public class EFSession:ISession { PuzzleEntities _db;//This is an ObjectContext public EFSession() { _db = new PuzzleEntities(); } public void CommitChanges() { _db.SaveChanges(); } /// /// Gets the table provided by the type T and returns for querying /// private ObjectSet GetObjectSet () where T:class { return _db.CreateObjectSet (); } private T GetByPrimaryKey () where T: class { ..... } public void Delete (System.Linq.Expressions.Expression > expression) where T: class{ foreach (T item in All ().Where(expression)) { GetObjectSet ().DeleteObject(item); } } public void Delete (T item) where T : class { GetObjectSet ().DeleteObject(item); } public void DeleteAll () where T : class { foreach(T item in All ()) { GetObjectSet ().DeleteObject(item); } } public void Dispose() { _db.Dispose(); } public T Single (System.Linq.Expressions.Expression > expression) where T:class { return GetObjectSet ().SingleOrDefault(expression); } public IQueryable All () where T : class { return GetObjectSet ().AsQueryable(); } public void Add (T item) where T : class { GetObjectSet ().AddObject(item); } public void Add (IEnumerable items) where T : class { foreach (T item in items) { GetObjectSet ().AddObject(item); } } public void Update (T item) where T : class { //nothing needed here } } }
