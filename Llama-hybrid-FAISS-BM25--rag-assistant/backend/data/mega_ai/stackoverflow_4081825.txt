[site]: stackoverflow
[post_id]: 4081825
[parent_id]: 4081372
[tags]: 
You could try exploding your database search result set into an array using explode and then use array_search() on each search result. Set the $distance variable in the example below to how many words you'd like to appear on either side of the first match of the $keyword . In the example, I've included lorum ipsum text as an example database result paragraph and set the $keyword to 'scelerisque'. You'd obviously replace these in your code. //example paragraph text $lorum = 'Nunc nec magna at nibh imperdiet dignissim quis eu velit. vel mattis odio rutrum nec. Etiam sit amet tortor nibh, molestie vestibulum tortor. Integer condimentum magna dictum purus vehicula et scelerisque mauris viverra. Nullam in lorem erat. Ut dolor libero, tristique et pellentesque sed, mattis eget dui. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. .'; //turn paragraph into array $ipsum = explode(' ',$lorum); //set keyword $keyword = 'scelerisque'; //set excerpt distance $distance = 10; //look for keyword in paragraph array, return array key of first match $match_key = array_search($keyword,$ipsum); if(!empty($match_key)){ foreach($ipsum as $key=>$value){ //if paragraph array key inside excerpt distance if($key > $match_key-$distance and $key '.$value.' '; } else{ $word = $value; } //create excerpt array to hold words within distance $excerpt[] = $word; } } //turn excerpt array into a string $excerpt = implode(' ',$excerpt); } //print the string echo $excerpt; $excerpt returns: "vestibulum tortor. Integer condimentum magna dictum purus vehicula et scelerisque mauris viverra. Nullam in lorem erat. Ut dolor libero,"
