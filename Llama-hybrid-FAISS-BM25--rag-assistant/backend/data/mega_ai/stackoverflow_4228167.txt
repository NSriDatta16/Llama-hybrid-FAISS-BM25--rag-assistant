[site]: stackoverflow
[post_id]: 4228167
[parent_id]: 4228153
[tags]: 
Try this regular expression instead: /(\d+)\/\d+(?:$|[?#])/ This matches not just the end of the string but also the delimiters for the query ( ? ) and the fragment ( # ). And if your url happens to be the documentâ€™s location (e.g. location.href ), better use location.pathname instead.
