[site]: stackoverflow
[post_id]: 4212138
[parent_id]: 
[tags]: 
Cannot push values into an array from withing do ... while loop

I've searched and searched and can't find anyone with a similar problem. I have a do ... while loop with code to push values from each record into four different arrays. All seems fine except that the arrays are empty (giving me the Warning: division by zero). I am able to echo the four values for each record as well as the unix timestamp for each order date within the loop, so the values are correct for each record but the arrays are empty. I tried commenting out the conditional statement around the block of array[] code in the loop, but no difference. Also tried array_push instead just to see; again, no difference. I am a newbie, and for the life of me can't see why the arrays aren't getting populated. This is the code outside the loop: // set timezone and $one_year and $year_limit variables (used in the do-while loop) ini_set('date.timezone', 'America/Los_Angeles'); $one_year = 60 * 60 * 24 * 365; $year_limit = strtotime("-1 year"); // create the empty arrays for each rating $total_vals = array(); $food_vals = array(); $service_vals = array(); $atmo_vals = array(); // get the average for each rating $total_avg = round((array_sum($total_vals)) / (count($total_vals))); $food_avg = round((array_sum($food_vals)) / (count($food_vals))); $service_avg = round((array_sum($service_vals)) / (count($service_vals))); $atmo_avg = round((array_sum($atmo_vals)) / (count($atmo_vals))); This is the loop: Any help is greatly appreciated!
