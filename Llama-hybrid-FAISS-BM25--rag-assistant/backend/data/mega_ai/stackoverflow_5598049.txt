[site]: stackoverflow
[post_id]: 5598049
[parent_id]: 
[tags]: 
Google Analytics ecommerce only tracking Paypal

I'm having an issue with Google Analytics ecommerce tracking. I've found numerous posts about this, but none of the fixes seem to apply. We're on Magento 1.5.0.1, so all the GA code should be built in. We also installed the Fooman GA+ module, but that didn't help this issue. The tracking code IS showing up on the success page when viewing the page source, but it doesn't look right...no items listed. If I view the list of transactions in GA, it seems that they are all the Paypal transactions but credit card or money order transactions aren't coming through. We use Website Payments Pro for our Credit Card transactions, so ultimately it's all going through Paypal anyhow. I did some digging around in the code and it seems that the "_getOrdersTrackingCode" function in Ga.php is where the problem lies. I added some logging... $orderIds = $this->getOrderIds(); Mage::Log($orderIds); ...and found that the majority of the time, $orderIds is empty. Sometimes it isn't and that is when the tracking code works. What's going on here? Anyone know?
