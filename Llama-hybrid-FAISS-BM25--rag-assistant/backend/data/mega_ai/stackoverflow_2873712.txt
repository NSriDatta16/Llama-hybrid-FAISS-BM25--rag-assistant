[site]: stackoverflow
[post_id]: 2873712
[parent_id]: 2872164
[tags]: 
You can apparently just add extra steps to targets in your Makefile.am, this is what I ended up with (inspired by #http://www.enlightenment.org/svn/e/trunk/ewl/Makefile.am): #http://www.enlightenment.org/svn/e/trunk/ewl/Makefile.am if ENABLE_COV cov-reset: @rm -fr coverage @find . -name "*.gcda" -exec rm {} \; @lcov --directory . --zerocounters cov-report: @mkdir -p coverage @lcov --compat-libtool --directory . --capture --output-file coverage/app.info @genhtml -o coverage/ coverage/app.info cov: @make cov-report clean-local: @make cov-reset check: @make cov endif The '@make cov' under check will add the 'cov' target to the default 'make check' target.
