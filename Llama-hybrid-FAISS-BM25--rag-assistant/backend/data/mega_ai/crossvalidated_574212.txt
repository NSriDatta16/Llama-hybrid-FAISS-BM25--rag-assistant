[site]: crossvalidated
[post_id]: 574212
[parent_id]: 
[tags]: 
What is the correct bayesian formulation for the zero-truncated Poisson lognormal model?

In ecology we use compound distributions to describe species-abundance data. One example is the Poisson Lognormal (PLN) distribution which is a Poisson distribution with rate parameter $\lambda$ that follows a lognormal PDF $f(\lambda;\mu,\sigma)$ . The total probability of an observation (count) $x$ is then given by: $$ p(x;\mu,\sigma) = \int_{\lambda = 0}^{+\infty}{\frac{\lambda^x e^{-\lambda}}{x!} f(\lambda;\mu,\sigma) d\lambda} $$ We can't observe zeroes so, we work with a truncated distribution to then construct a likelihood function and use the MLE frequentist estimator to obtain point estimates of $\mu$ and $\sigma$ . The truncated PLN distribution is: $$ p_{T}(x;\mu,\sigma) = \frac{p(x;\mu,\sigma)}{p(x>0;\mu,\sigma)} = \frac{p(x;\mu,\sigma)}{1-p(0;\mu,\sigma)} $$ The conditioning is done based on the total probability (the total probability of $x>0$ ) not on the conditional probability of $x>0$ (conditioned on a known value of $\lambda$ ). How can I formulate this model in Bayesian? I would like to use Stan to sample from the posterior $p(\mu,\sigma|\mathbf{x})$ without defining a new distribution.
