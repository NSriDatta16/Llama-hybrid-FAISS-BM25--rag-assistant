[site]: stackoverflow
[post_id]: 5601887
[parent_id]: 5601831
[tags]: 
friend is fine, and encouraged. See C++ FAQ Lite's rationale for more info: Do friends violate encapsulation? This line is indeed horrendous, as it invokes undefined behavior : FontDataSurogate* suro = (FontDataSurogate*)fnt.data_.get();
