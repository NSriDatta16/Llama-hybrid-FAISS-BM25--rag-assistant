[site]: stackoverflow
[post_id]: 5122055
[parent_id]: 
[tags]: 
Trouble in getting to content within brackets

monsters.yaml - name: Ogre position: [0, 5, 0] powers: - name: Club damage: 10 - name: Fist damage: 8 - name: Dragon position: [1, 0, 10] powers: - name: Fire Breath damage: 25 - name: Claws damage: 15 - name: Wizard position: [5, -3, 0] powers: - name: Acid Rain damage: 50 - name: Staff damage: 3 main.cpp #include "yaml-cpp/yaml.h" #include #include #include #include // our data types struct Vec3 { float x, y, z; }; struct Power { std::string name; int damage; }; struct Monster { std::string name; Vec3 position; std::vector powers; }; // now the extraction operators for these types void operator >> (const YAML::Node& node, Vec3& v) { node[0] >> v.x; node[1] >> v.y; node[2] >> v.z; } void operator >> (const YAML::Node& node, Power& power) { node["name"] >> power.name; node["damage"] >> power.damage; } void operator >> (const YAML::Node& node, Monster& monster) { node["name"] >> monster.name; node["position"] >> monster.position; const YAML::Node& powers = node["powers"]; for(unsigned i=0;i > power; monster.powers.push_back(power); } } int main() { std::ifstream fin("monsters.yaml"); YAML::Parser parser(fin); YAML::Node doc; parser.GetNextDocument(doc); for(unsigned i=0;i > v; std::cout I thought that, if I modify code analogously, the content of Vec3 will be couted, but it doesn't. What am I doing wrong?
