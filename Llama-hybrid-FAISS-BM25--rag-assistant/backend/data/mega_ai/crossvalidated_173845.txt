[site]: crossvalidated
[post_id]: 173845
[parent_id]: 171193
[tags]: 
You have alot of questions here, I will attempt to answer some of them to the best of my understanding. In my opinion the best way to understand what quantile regression is doing is to consider what regular linear regression does and compare it to quantile regression on the median (special case). Regular linear regression asks how does X affect Y on average (mean), while median quantile regression asks how does X affect median of Y. This is initially how quantile regression was developed, and it was later extended to any quantile of interest. So lets say im interested in the 10th percentile and the 90th percentile, quantile regression allows to me ask, how does the variable X affect the position (or estimate or value) of the 10th percentile of Y and the 90th percentile of Y. So quantile regression is not weighting your samples, it is simply estimating the effect of X on Y, but rather than the effect operating on the mean of Y (as in regular linear regression) it is estimating the effect of X on the quantile (eg 10th or 90th) of Y. The main problem with subgroup analysis is the dramatic reduction in power, you are basically reducing sample size by considering smaller and smaller groups. If you have extremely large sample sizes and/or large effect sizes, then subgroup analysis is not so bad, but if not you will not have to the power to detect effects in the subgroups.
