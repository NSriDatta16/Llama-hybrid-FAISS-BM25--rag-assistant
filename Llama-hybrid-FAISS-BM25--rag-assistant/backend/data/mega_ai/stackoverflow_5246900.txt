[site]: stackoverflow
[post_id]: 5246900
[parent_id]: 
[tags]: 
Enabling VLAs (variable length arrays) in MS Visual C++?

How can I enable the use of VLAs, variable length arrays as defined in C99, in MS Visual C++ or that is not possible at all? Yes I know that the C++ standard is based on C89 and that VLAs are not available in C89 standard and thus aren't available in C++, but MSVC++ is supposed to be a C compiler also, a behavior that can be switched on using the /TC compiler parameter ( Compile as C Code (/TC) ). But doing so does not seem to enable VLAs and the compiling process fails with the same errors when building as C++ ( Compile as C++ Code (/TP) ). Maybe MSVC++ C compiler is C89 compliant only or I am missing something (some special construct or pragma/define)? Code sample: #include int main(int argc, char **argv) { char pc[argc+5]; /* do something useful with pc */ return EXIT_SUCCESS; } Compile errors: error C2057: expected constant expression error C2466: cannot allocate an array of constant size 0 error C2133: 'pc' : unknown size
