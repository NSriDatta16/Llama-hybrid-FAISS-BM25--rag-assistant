[site]: stackoverflow
[post_id]: 937972
[parent_id]: 
[tags]: 
Best way to store comments flags in a sql db?

Best way to store comments flags in a sql db? The comments are posted on a page (mediaId), each comment can have children, comments can be hidden by the person who owns the page or by a moderator. Anyone can flag a comment, but only one category and once. Once a comment has X amount of flags it comes to the moderator attention. If the moderator finds it fine he should not be able to clear the flags but do something so it takes amount X amount to come to his attention. enum FlagComment { none, offensive, spam, other, }; command.CommandText = "CREATE TABLE if not media_comment( " + "id INTEGER PRIMARY KEY, " + "mediaId INTEGER, " + "parentId INTEGER, " + "author INTEGER, " + "date DATE, " + "text TEXT, " + "hidden INTEGER);"; command.ExecuteNonQuery(); command.CommandText = "CREATE TABLE if not media_comment( " + "commentId INTEGER, " + "userId INTEGER, " + "flagType INTEGER); "; command.ExecuteNonQuery(); command.CommandText = "CREATE TABLE if not media_comment_mod_clear( " + "commentId INTEGER, " + "modId INTEGER, " + "action INTEGER, " + //action is delete or ignore "flagAmount INTEGER); "; //amount of ppl who flagged before mod took action command.ExecuteNonQuery();
