[site]: stackoverflow
[post_id]: 5105260
[parent_id]: 5103873
[tags]: 
At its simplest, you need to call CreateRectRgn multiple times, passing a single-pixel rectangle for each magenta pixel. You'd then combine these regions together using CombineRgn . Obvious optimisations include: using a DIB section, rather than GetPixel to scan the original image. looking for single-row runs of the same pixel, so that you're not combining 1 x 1 regions. looking for multi-row blocks of the same pixel, so that you're not combining 1 x n regions. That said: why do you need an HRGN? Could you get away with just transforming the original bitmap into a mask bitmap?
