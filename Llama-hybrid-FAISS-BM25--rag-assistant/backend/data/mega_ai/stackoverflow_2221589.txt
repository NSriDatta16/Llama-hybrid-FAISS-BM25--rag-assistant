[site]: stackoverflow
[post_id]: 2221589
[parent_id]: 2221564
[tags]: 
Take a look a scriptaculous' approach: var js = /scriptaculous\.js(\?.*)?$/; $$('head script[src]').findAll(function(s) { return s.src.match(js); }).each(function(s) { var path = s.src.replace(js, ''), includes = s.src.match(/\?.*load=([a-z,]*)/); (includes ? includes[1] : 'builder,effects,dragdrop,controls,slider,sound').split(',').each( function(include) { Scriptaculous.require(path+include+'.js') }); }); I think it runs through all script elements and finds the reference to itself, and then parses that URL.
