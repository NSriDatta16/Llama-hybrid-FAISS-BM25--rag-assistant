[site]: crossvalidated
[post_id]: 344782
[parent_id]: 344488
[tags]: 
Let's start by computing $\sum_{z}E[y|x', z]p(z|x)$. If $z$ is continuous, you just change the summation to integration, and $p(z|x)$ now refers to the density, $$ \begin{align} \int_z E[y|x', z]p(z|x)dz &= \int_z(\beta_0 + \beta_1x' + \beta_2z)p(z|x)dz\\ &=\beta_0 + \beta_1x' + \beta_2\int_zzp(z|x)dz\\ &=\beta_0 + \beta_1x' + \beta_2E(z|x)\\ &=\beta_0 + \beta_1x' + \beta_2(\gamma_0 + \gamma_1x) \end{align} $$ Thus, we have that, $$\int_{z}(E[y|x', z]- E[y|x, z])p(z|x)dz = [\beta_0 + \beta_1x' + \beta_2(\gamma_0 + \gamma_1x)] - [\beta_0 + \beta_1x + \beta_2(\gamma_0 + \gamma_1x)]$$ Now, if you posit a logistic regression for $y$, then you have to solve the following integral, $$ \begin{align} \int_z E[y|x', z]p(z|x)dz &= \int_z p(y=1|x', z)p(z|x)dz\\ &=\int_z \text{logit}^{-1}(\beta_0 + \beta_1x' + \beta_2z)p(z|x)dz\\ &=\int_z \frac{1}{1+e^{-\beta_0 - \beta_1x' - \beta_2z}}p(z|x)dz \end{align} $$ Which you can see is not as straightforward as the linear case. In fact, as per this answer , most likely there isn't a closed form solution and you will need to use simulation or other types of approximation. Regarding your other questions, yes Eq3 is equal to Eq7, you just wrote the potential outcomes differently. Eq4 and Eq8 are both indirect effects, just having a different reference for how we are holding the X not via mediation fixed (one is fixing at $x$ and the other fixing at $x'$). As to your Eq9, remember that $E[Y_{x'}] = E[Y_{x', Z_{x'}}]$ by composition, so that equation is effectively equal to zero.
