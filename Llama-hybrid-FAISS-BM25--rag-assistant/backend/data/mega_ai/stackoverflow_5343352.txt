[site]: stackoverflow
[post_id]: 5343352
[parent_id]: 5343249
[tags]: 
Depends on how your users are organized. I guess they all have a unique ID. If you know it you can store files like 0xx/007.png , 8xx/824.png and 547xx/54723.png . This cuts the number of items in the main folder by factor 100 and every folder contains 100 items at max. If you have only selected chars in your usernames allowed you can directly use it but I would not generally recommend that. It could get dangerous if you don't know what you're doing. Filenames like ma/master_of_desaster.png , ki/king_cool.png and so/some_other_infantile_name.png Using hashes is a great idea. If it's not about security (seems it's not) you can reduce CPU overhead by using a short checksum algorithm instead of a complex but secure hash algorithm. Just think of CRC32. Filenames like [CRC32sum]/[USER_ID].png
