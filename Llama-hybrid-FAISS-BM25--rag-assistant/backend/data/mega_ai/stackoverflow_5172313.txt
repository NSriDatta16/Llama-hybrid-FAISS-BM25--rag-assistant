[site]: stackoverflow
[post_id]: 5172313
[parent_id]: 
[tags]: 
JQuery Link to several different pages from one JS file

I want to modify my current script so that when you click on the an image a new (lightbox) pop-up appears and within it a specific animation plays. Currently I have this feature working, however the animation needs to be seperated into different parts and and have it's own link to the animation. Once you click on the triangle on the left hand side, I want to load a different page with a different animation but no sure how. See Code blow (Sorry for the large chunk of code) // ------------------------------------------------------------------------------------------------------------------------------ // getobjbyId() function getobjbyId(id){var ns4 = (document.layers)?true:false; var ns6 = (document.getElementById)?true:false; var ie4 = (document.all)?true:false;if (ns4){return document.layers[id];}else if(ie4){return document.all[id];}else{return document.getElementById(id);}} // pushin() function pushin(the_array, the_data){var len_array=the_array.length;the_array[len_array]=the_data;return the_array.length;} // JavaScript function to display flash movie format video on web page function open_window_centered(the_url, the_width, the_height, the_scrollbar){ if(window.screen){ var w = parseInt(the_width) + 20; var h = parseInt(the_height) + 20; var x0 = (screen.availWidth - 10 - w)/2; var y0 = (screen.availHeight - 30 - h)/2; var str_scrollbar=""; if(the_scrollbar) str_scrollbar=", scrollbars=1"; window.open(escape(the_url),'', 'width='+w+', height='+h+', innerWidth='+w+', innerHeight='+h+', screenX='+x0+', screenY='+y0+', left='+x0+', top='+y0+str_scrollbar); } return false; } // ------------------------------------------------------------------------------------------------------------------------------ function display_video(the_video_name, the_width, the_height, the_caption){ if (window.screen){ var w = parseInt(the_width) + 20; var h = parseInt(the_height) + 20; var x0 = (screen.availWidth - 10 - w)/2; var y0 = (screen.availHeight - 30 - h)/2; window.open('../_include/_play_video/play_video.html?'+escape(the_video_name)+'&'+the_width+'&'+the_height+'&'+escape(the_caption),'', 'width='+w+', height='+h+', innerWidth='+w+', innerHeight='+h+', screenX='+x0+', screenY='+y0+', left='+x0+', top='+y0); } } MM_preloadImages("../_images/background_top_dropdown_menu_left.gif", "../_images/background_top_dropdown_menu_right.gif"); // top dropdown menu $(function(){ var _top_menu_items = $("ul#top_menu>li"); _top_menu_items.hover( function(){ $(this).children("a").addClass("over"); $(this).children("ul").addClass("over"); }, function(){ $(this).children("a").removeClass("over"); $(this).children("ul").removeClass("over"); } ); }); // email protector $(function(){ var $emails = $(".email"); var real_address; $emails.each(function(){ real_address = $(this).text().replace(/\[\-at\-\]/, '@').replace(/\[\-dot\-\]/g, '.'); $(this).html(" " + real_address +" "); }); }); // lightbox script // 2010-09-08 $(window).load(function(){ if($(".link_how_we_work").length>0){ $("body").append( get_html_lightbox() ); var _lightbox = $("#lightbox"), _shadow = $("#lightbox #lightbox_shadow"), _stage = $("#lightbox #lightbox_stage"); var _interval_DEFAULT = 3000, _duration_DEFAULT = 300; var _total, _frames = null, _index = -1, _go = true, _direction = 1, _timer = null, _interval = _interval_DEFAULT, _duration = _duration_DEFAULT; $.get("../_include/how_we_work.html", function(data){ _stage.prepend($(" ").append(data).find("ul#images_how_we_work")); _stage.append($(" ").append(data).find("div#nav_how_we_work")); _frames = $("ul#images_how_we_work li"); _total = _frames.length; $(".link_how_we_work").click(function(){_show();return false;}); $("#lightbox #lightbox_button_close").click(function(){_hide();return false;}); $("#nav_how_we_work #button_how_we_work_prev").click(function(){ if(!$(this).hasClass("disabled")) _prev(); return false; }); $("#nav_how_we_work #button_how_we_work_next").click(function(){ if(!$(this).hasClass("disabled")) _next(); return false; }); }); } function _start(){ _index = -1; for(var i=0;i 0){ _index = _index_0 + 1; if(_index==_total) _index = 0; }else{ if(_index_0>0) _index = _index_0 - 1; } if( _index !== -1 ) _interval = parseInt(_frames.eq(_index).attr("id").split(":")[1]); if(isNaN(_interval)) _interval = _interval_DEFAULT; } function _play(){ var _index_0 = _index; _move(); if(_index == -1) return false; if( _index>_index_0 ) _frames.eq(_index) .css({'display':'block', 'opacity':0}) .animate( {opacity:1}, _duration, "linear", function(){ if(_index_0 !== -1) _frames.eq(_index_0).css({'display':'none', 'opacity':0}); } ); if( _index 1 && _go){ if(_timer) window.clearTimeout(_timer); _timer = setTimeout(_play, _interval); } if( _index == 0 ){ $("#nav_how_we_work #button_how_we_work_prev").addClass("disabled"); }else{ $("#nav_how_we_work #button_how_we_work_prev").removeClass("disabled"); } if( _index == _total-1 ){ $("#nav_how_we_work #button_how_we_work_next").addClass("disabled"); }else{ $("#nav_how_we_work #button_how_we_work_next").removeClass("disabled"); } } function _pause(){ _go= false; if(_timer){ window.clearTimeout(_timer); _timer = null; } } function _prev(){ _direction = -1; _pause(); _play(); } function _next(){ _direction = 1; _pause(); _play(); } function _show(){ _resize(); _lightbox.css({'visibility':'visible'}); _shadow.animate( {opacity:0.5}, 200, "linear", function(){ _stage.css({'visibility':'visible'}); _start(); } ); } function _hide(){ _end(); _lightbox.css({'visibility':'hidden'}); _stage.css({'visibility':'hidden'}); _shadow.css({opacity:0}); } $(window).resize(function() { if( _lightbox.css('visibility') == 'visible' ){_resize();} }); function _resize(){ var _page_sizes = get_page_size(), _page_scrolls = get_page_scroll(), _top = ( (_page_sizes[3] - _stage.height())/3>20?(_page_sizes[3] - _stage.height())/3:20 ) + _page_scrolls[1]; _lightbox.css({width:_page_sizes[0], height:_page_sizes[1]}); _shadow.css({width:_page_sizes[0], height:_page_sizes[1]}); _stage.css({top:_top}); } }); function get_html_lightbox(){ var s=""; s += " "; s += " "; s += " "; s += " Close "; s += " "; s += " "; return s; } /** * getPageSize() by quirksmode.com * * @return Array Return an array with page width, height and window width, height */ function get_page_size() { var xScroll, yScroll; if (window.innerHeight && window.scrollMaxY) { xScroll = window.innerWidth + window.scrollMaxX; yScroll = window.innerHeight + window.scrollMaxY; } else if (document.body.scrollHeight > document.body.offsetHeight){ // all but Explorer Mac xScroll = document.body.scrollWidth; yScroll = document.body.scrollHeight; } else { // Explorer Mac...would also work in Explorer 6 Strict, Mozilla and Safari xScroll = document.body.offsetWidth; yScroll = document.body.offsetHeight; } var windowWidth, windowHeight; if (self.innerHeight) { // all except Explorer if(document.documentElement.clientWidth){ windowWidth = document.documentElement.clientWidth; } else { windowWidth = self.innerWidth; } windowHeight = self.innerHeight; } else if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode windowWidth = document.documentElement.clientWidth; windowHeight = document.documentElement.clientHeight; } else if (document.body) { // other Explorers windowWidth = document.body.clientWidth; windowHeight = document.body.clientHeight; } // for small pages with total height less then height of the viewport if(yScroll 0&&parent.frames.length) { d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);} if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i '; for (var i in params) str += ' '; str += ' '; document.write(str); } function AC_FL_RunContent(){ var ret = AC_GetArgs ( arguments, ".swf", "movie", "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" , "application/x-shockwave-flash" ); AC_Generateobj(ret.objAttrs, ret.params, ret.embedAttrs); } function AC_SW_RunContent(){ var ret = AC_GetArgs ( arguments, ".dcr", "src", "clsid:166B1BCA-3F9C-11CF-8075-444553540000" , null ); AC_Generateobj(ret.objAttrs, ret.params, ret.embedAttrs); } function AC_GetArgs(args, ext, srcParamName, classid, mimeType){ var ret = new Object(); ret.embedAttrs = new Object(); ret.params = new Object(); ret.objAttrs = new Object(); for (var i=0; i 0){ var desc = plugins["Shockwave Flash"] ? plugins["Shockwave Flash"].description : ""; desc = plugins["Shockwave Flash 2.0"] ? plugins["Shockwave Flash 2.0"].description : desc; if (desc == "") flashVer = -1; else{ var descArr = desc.split(" "); var tempArrMajor = descArr[2].split("."); var verMajor = tempArrMajor[0]; var tempArrMinor = (descArr[3] != "") ? descArr[3].split("r") : descArr[4].split("r"); var verMinor = (tempArrMinor[1] > 0) ? tempArrMinor[1] : 0; flashVer = parseFloat(verMajor + "." + verMinor); } } // WebTV has Flash Player 4 or lower -- too low for video else if (userAgent.toLowerCase().indexOf("webtv") != -1) flashVer = 4.0; var verArr = reqVerStr.split(","); var reqVer = parseFloat(verArr[0] + "." + verArr[2]); if (flashVer
