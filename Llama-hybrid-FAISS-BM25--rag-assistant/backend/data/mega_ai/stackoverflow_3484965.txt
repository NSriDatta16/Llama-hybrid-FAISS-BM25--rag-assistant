[site]: stackoverflow
[post_id]: 3484965
[parent_id]: 3199258
[tags]: 
This does what you want. Tested on a website I found with the type of select control you have above: >>> import twill.commands >>> import BeautifulSoup >>> import re >>> >>> a=twill.commands >>> a.config("readonly_controls_writeable", 1) >>> b = a.get_browser() >>> b.set_agent_string("Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.14) Gecko/20080404 Firefox/2.0.0.14") >>> b.clear_cookies() >>> url="http://www.thesitewizard.com/archive/navigation.shtml" >>> b.go(url) ==> at http://www.thesitewizard.com/archive/navigation.shtml >>> form=b.get_form("1") >>> b.showforms() Form #1 ## ## __Name__________________ __Type___ __ID________ __Value__________________ 1 newurl select dummymenu [''] of ['', '#', '#', '', '#'] Form #2 ## ## __Name__________________ __Type___ __ID________ __Value__________________ 1 cmd hidden (None) _s-xclick 2 1 submit image (None) 3 encrypted hidden (None) -----BEGIN PKCS7-----MIIHwQYJKoZIhvc ... Form #3 ## ## __Name__________________ __Type___ __ID________ __Value__________________ 1 None textarea pagelinkcode >> valOpts=[] >>> for c in form.controls: ... if c.name=="newurl": ... if 'items' in c.__dict__: ... print "control %s has items field length %s" % (c, len(c.items)) ... if len(c.items)>0: ... for itm in range(len(c.items)): ... valOpts.append(c.items[itm].attrs['value']) ... control has items field length 5 >>> print valOpts ['', '#', '#', '', '#'] >>>
