[site]: stackoverflow
[post_id]: 5326422
[parent_id]: 
[tags]: 
Android custom video capture file path not working

I'm working in an application that should launch the camera application by using intents; the camera is launched in picture or video mode and so far it works and save the resulting file in sdcard. Now the problem is that, while specifiying a new custom filename works for the picture intent, it seems not to be working for the camcorder intent; in fact, EXTRA_OUTPUT or simply "output" seems to get ignored in the video intent. I'm using the following codes: For the pictures (all works wonder, including saving the pic with a custom filename) // makes new unique filenames like Picture_03161185528.jpg fileName = makeFileName("Picture")+".jpg"; path = (new StringBuilder()). append(Environment.getExternalStorageDirectory()). append("/"+fileName).toString(); File file = new File(path); Uri outputFileUri = Uri.fromFile(file); Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE); intent.putExtra("output", outputFileUri); mainActivity.startActivityForResult(intent, CAMERA_RESULT); For the video (it takes the video BUT always use the default name like VIDEO001, VIDEO002, etc, not the custom filename I need) // makes new unique filenames like Video_03161185528.3gp fileName = makeFileName("Video")+".3gp"; // even tried this hardwired filename...but nothing fileName = "video.3gp"; path = (new StringBuilder()). append(Environment.getExternalStorageDirectory()). append("/"+fileName).toString(); File file = new File(path); Uri outputFileUri = Uri.fromFile(file); Intent intent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE); // seems to be ignored, the file always get saved under default filename intent.putExtra("output", outputFileUri); // same as previous line...seems to be ignored intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri); mainActivity.startActivityForResult(intent, VIDEO_RESULT); In any case, the picture intent saves the pictures with my custom file names, but the video intent plainly ignores it and always save the files using the default file names. My question is: a) is there any way I can make this work using custom filenames? b) or alternatively is there any way to know the next available default file name forehand? c) or there is any other way to know which file was made and then rename it? Cheers and thank you! Aram
