[site]: stackoverflow
[post_id]: 3083138
[parent_id]: 3082371
[tags]: 
There are several issues using autoincrement columns in mysql (not least the fact that it does not scale to equivalent nodes). While you can maintain a sequence generator just about anywhere (memcache, files, database) PHP does not implmenet sophisticated file locking semantics - in addition to affecting performance you can quickly get into deal-lock situations. It doesn't scale to large volumes. If you've got PL/SQL available, then I'd recommend implementing a sequence generator there - alternatively you might consider implementing a generator in PHP and sqlite. I would strongly recommend that you implement your generator to create numbers of format: $use_number = ++$sequence_number . str_pad($node_id, '0', $max_nodes, STR_PAD_LEFT); Where node_id is a number uniquely referencing the storage substrate where the current sequence number is stored. And $max_nodes is somewhat more than the the max number of digits found in $node_id (e.g. 3 would allow up to 999 nodes). Alternatively treat it as a string with punctuation between the 2 parts (and/or store the 2 parts in different database columns). C.
