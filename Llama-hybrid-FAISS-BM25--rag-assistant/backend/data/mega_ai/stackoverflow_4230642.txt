[site]: stackoverflow
[post_id]: 4230642
[parent_id]: 4229543
[tags]: 
You are correct in that to do this properly you need to have a public way of injection your own mock of the repository. Moq will not help you here. You should try to change the MyController code to enable this kind of dependecny injection. If you cannot chagne the code, you could always change things using private reflection. But doing this fragile because a change in the controllers implementation can break your tests. Of course, then you need to figure out how to mock the repository. If it was not designed for mocking then something like Moles could work
