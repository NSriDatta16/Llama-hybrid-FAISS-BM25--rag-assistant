[site]: stackoverflow
[post_id]: 356763
[parent_id]: 
[tags]: 
How can I reformat messages in an mbox file with bash or Perl?

I have a huge mbox file, with maybe 500 emails in it. It looks like the following: From x@blah.com Fri Aug 12 09:34:09 2005 Message-ID: Date: Fri, 12 Aug 2005 09:34:09 +0900 From: me User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716) X-Accept-Language: en-us, en MIME-Version: 1.0 To: someone Subject: Re: (no subject) References: In-Reply-To: Content-Type: text/plain; charset=ISO-8859-1; format=flowed Content-Transfer-Encoding: 8bit Status: RO X-Status: X-Keywords: X-UID: 371 X-Evolution-Source: imap://x+blah.com@blah.com/ X-Evolution: 00000002-0010 Hey the actual content of the email someone wrote: > lines of quotedtext I would like to know how I can remove all of the quoted text, strip most of the headers except the To, From and Date lines, and still have it somewhat continuous. My goal is to be able to print these emails as a book sort of format, and at the moment every program wants to print one email per page, or all of the headers and quoted text. Any suggestions for where to start on whipping up a small program using shell tools?
