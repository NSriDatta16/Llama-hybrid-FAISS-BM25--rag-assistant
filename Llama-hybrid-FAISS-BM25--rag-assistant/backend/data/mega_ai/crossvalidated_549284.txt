[site]: crossvalidated
[post_id]: 549284
[parent_id]: 
[tags]: 
Combining variables and PCs to find clusters

I am working on a 100 variables dataset, and I am following a recipe for calculating clusters: Select only variables that have less correlation, or are below a 10 value in VIF Then for the unselected variables apply PCA, extract some of them (until a certain cumulative proportion of variance), so I don't lose those variables Then bind the two datasets and apply kmeans. Ok, I wasn't sure if this recipe makes sense, so I tried with the classic iris dataset. This is my code and the steps taken: library(dplyr) mydf cor(mydf) Sepal.Length Sepal.Width Petal.Length Petal.Width Sepal.Length 1.0000000 -0.1175698 0.8717538 0.8179411 Sepal.Width -0.1175698 1.0000000 -0.4284401 -0.3661259 Petal.Length 0.8717538 -0.4284401 1.0000000 0.9628654 Petal.Width 0.8179411 -0.3661259 0.9628654 1.0000000 Ok, so I should discard Sepal.Length and Petal.Length with a correlation threshold of 50%. I could apply a stepwise VIF just to make sure: ==================================== Stepwise Variance Inflation factor: ==================================== Step: 1 var vif Sepal.Length 7.07272201393954 Sepal.Width 2.10087167612425 Petal.Length 31.2614977749216 Petal.Width 16.0901754199085 removed: Petal.Length 31.2615 ==================================== Final selected vars and VIF: ==================================== var vif Sepal.Length 3.41573308144537 Sepal.Width 1.30551501806886 Petal.Width 3.88996082517842 Well. It seems that Petal.Length was a good candidate to eliminate. That's my first doubt, and I will choose to take the cor criteria and only have Sepal.Width and Petal.Width Now I apply PCA to the unselected variables Sepal.Length and Petal.Length. I will choose at least 90% of cumulative variance: not_selected summary(princomp) Importance of components: PC1 PC2 Standard deviation 1.9136 0.37426 Proportion of Variance 0.9632 0.03684 Cumulative Proportion 0.9632 1.00000 It seems that with PC1 I am ok. Now I bind the first dataset and the PC1 variable, and then I try to use the silhouette coefficient to detect the number of clusters: library(factoextra) pcas When I see the suggested clusters (2) it doesn't agree with what we know (3). This is the plot: My question is, does this recipe make sense? Should I combine variables with PCs? As my dataset has 100 variables, this recipe seems weak just for the iris dataset. Was it a mistake to combine different scales?
