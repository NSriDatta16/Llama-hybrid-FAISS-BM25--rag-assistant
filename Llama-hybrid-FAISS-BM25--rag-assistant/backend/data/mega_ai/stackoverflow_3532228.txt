[site]: stackoverflow
[post_id]: 3532228
[parent_id]: 
[tags]: 
T-SQL Dynamic xquery

I am trying to figure out how I can load my table variable with data from XML using dynamic xquery? I am getting a result set of nodes from the query and defining the value type of those nodes. It seems that it is the value definition of the nodes that it is blowing up on. Here is an example of the script that works, but is not dynamic. Script: DECLARE @XML XML = ' '; DECLARE @Orgs TABLE (ID INT); Insert Into @Orgs(ID) Select OrgNameIdNodes.ID.value('@value','int') from @xml.nodes('//*[@id="organization"]//item[@selected="true"]') as OrgNameIdNodes(ID); Select * from @orgs What I would like to be able to do is pass in parameters for both value and the @xml.nodes sections so I would have something like: Insert Into @Orgs(ID) Select OrgNameIdNodes.ID.value(@Value) from @xml.nodes(@Nodes) as OrgNameIdNodes(ID); Is this possible?
