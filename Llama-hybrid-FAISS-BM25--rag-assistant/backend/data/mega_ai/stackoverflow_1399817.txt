[site]: stackoverflow
[post_id]: 1399817
[parent_id]: 
[tags]: 
HTML Entity problems using Nokogiri::XML.fragment

it seems that all entities are killed using tags = " test umlauts &ouml; " Nokogiri::XML.fragment(tags) Result: test umlauts The above method calls Nokogiri::XML::DocumentFragment.parse(tags) and that methods calls Nokogiri::XML::DocumentFragment.new(XML::Document.new, tags) . In relation to the nokogiri documentation this code will be executed: def initialize document, tags=nil if tags parser = if self.kind_of?(Nokogiri::HTML::DocumentFragment) HTML::SAX::Parser.new(FragmentHandler.new(self, tags)) else XML::SAX::Parser.new(FragmentHandler.new(self, tags)) end parser.parse(tags) end end I think we are dealing with the XML::SAX::Parser and the corresponding FragmentHandler. Digging around the code gives no hint; which parameters do I have to set to get the correct result?
