[site]: stackoverflow
[post_id]: 2053783
[parent_id]: 2053731
[tags]: 
The reason double-checked locking is broken (to the best of my knowledge) is the possibility that instance is not null but also not fully constructed due to read/write reordering. Thread-local storage wouldn't solve anything. It might get you around from having to declare isInitialized as volatile, but that still doesn't fix your problem.
