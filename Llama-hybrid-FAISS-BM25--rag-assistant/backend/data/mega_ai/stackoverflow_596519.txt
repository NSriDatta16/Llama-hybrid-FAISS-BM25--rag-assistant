[site]: stackoverflow
[post_id]: 596519
[parent_id]: 596491
[tags]: 
What I would do is: Set up separate virtual hosts for domain.com and www.domain.com Never publish links to domain.com, only to www.domain.com When a user agent requests http://domain.com/ , redirect with a 301 response to http://www.domain.com/ Only issue cookies from www.domain.com Don't try to make the whole site available from domain.com, just the main page (which is redirected) You don't need to involve rails in this solution at all.
