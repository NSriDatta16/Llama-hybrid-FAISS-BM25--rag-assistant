[site]: crossvalidated
[post_id]: 625371
[parent_id]: 
[tags]: 
Aggregating predictions on micro data

I am a machine-learning noob, so please bear with me. I am trying to predict the aggregate number of businesses that will exit (i.e. shut down permanently) in the next quarter (or year). However, my data is at the business level. I have data on things like revenue, payroll etc. of these individual businesses. I am using these variables as features to predict whether each individual business is going to exit or not. I am using Random Forest. Once I have predictions for each individual business, I am aggregating the predictions at the U.S. state level or industry level. Example: I have data on 5 businesses in Michigan (1 through 5) and 4 in Wisconsin (6 through 9). My model predicts that Business 2 in Michigan will exit next quarter and Businesses 8 and 9 in Wisconsin will exit next quarter also. So when I aggregate, I predict 1 exit in Michigan and 2 in Wisconsin. The problem is that business exits are rare events and hence the data is highly imbalanced. I end up with a lot of false negatives. The model is failing to detect exits in the test set because they are so rare in the training set. Thus, precision is high but recall is very low. As a result, I have balanced the training set. The problem with balancing is that I can play with the balance ratio so that I can trade off precision for recall. Why is it a problem? I can choose a specific balance ratio for the training set such that my precision and recall are almost exactly the same. This maximizes the F1-score. I want to do that because then the false positives and false negatives cancel out at the micro level (i.e. at the level of individual businesses) and the aggregate predictions are much better than the micro predictions. But this feels shady to me. My micro-data precision and recall may both be in the low 10s and 20s but because they are close to each other (say 15% and 15%), then my aggregate precision and recall are much higher. I have searched the ML literature to see if someone else came across this issue but I cannot find anything. Does anyone know if this is legit or am I fooling myself?
