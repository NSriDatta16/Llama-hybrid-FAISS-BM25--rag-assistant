[site]: crossvalidated
[post_id]: 56685
[parent_id]: 56323
[tags]: 
The appropriate weak instrument test for testing for weak instruments in panel data or more generally data that is non-i.i.d is the Kleibergen-Paap Wald rk F statistic. From the STATA documentation of the ivreg2 command: When the i.i.d. assumption is dropped and ivreg2 is invoked with the robust, bw or cluster options, the Cragg-Donald-based weak instruments test is no longer valid. ivreg2 instead reports a correspondingly-robust Kleibergen-Paap Wald rk F statistic. The degrees of freedom adjustment for the rk statistic is (N-L)/L1, as with the Cragg-Donald F statistic, except in the cluster-robust case, when the adjustment is N/(N-1) * (N_clust-1)/N_clust, following the standard Stata small-sample adjustment for cluster-robust. In the case of two-way clustering, N_clust is the minimum of N_clust1 and N_clust2. The critical values reported by ivreg2 for the Kleibergen-Paap statistic are the Stock-Yogo critical values for the Cragg-Donald i.i.d. case. The critical values reported with 2-step GMM are the Stock-Yogo IV critical values, and the critical values reported with CUE are the LIML critical values.
