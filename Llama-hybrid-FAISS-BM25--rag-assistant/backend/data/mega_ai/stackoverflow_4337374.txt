[site]: stackoverflow
[post_id]: 4337374
[parent_id]: 
[tags]: 
Magento - How can I add rating information to a review

I'm manually creating reviews in Magento and I'm trying to find out how I add the rating information in? I can add the reviews no problem but I'm struggling with the rating values (star values). I have an array that looks like this: array("Price"=>80, "Value"=>60, "Quality"=>60); How can I add that to the star system and the Summary Rating? Thanks. Ok, so this is what I have so far: This adds a review: $review->setEntityPkValue(23);//product id $review->setStatusId(1); $review->setTitle("title"); $review->setDetail("detail"); $review->setEntityId($review->getEntityIdByCode(Mage_Review_Model_Review::ENTITY_PRODUCT_CODE)); $review->setStoreId(Mage::app()->getStore()->getId()); $review->setStatusId(1); //approved $review->setNickname("Me"); $review->setReviewId($review->getId()); $review->setStores(array(Mage::app()->getStore()->getId())); $review->save(); $review->aggregate(); This adds a rating for a review // this is some test code to add the rating review $rating[0]['Price'] = 80; $rating[0]['Value'] = 100; $rating[0]['Quality'] = 80; $product_id = 23; $review_id = 631; foreach ($rating as $ratingId => $optionId) { // This is the bit where it all seems to go wrong!: Mage::getModel('rating/rating') ->setRatingId(1) ->setReviewId($review_id) ->addOptionVote($val, $product_id); } Thanks!
