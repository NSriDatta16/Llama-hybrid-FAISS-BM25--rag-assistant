[site]: stackoverflow
[post_id]: 4840336
[parent_id]: 687261
[tags]: 
Heres some code in c to convert rgb to grayscale. The real weighting used for rgb to grayscale conversion is 0.3R+0.6G+0.11B. these weights arent absolutely critical so you can play with them. I have made them 0.25R+ 0.5G+0.25B. It produces a slightly darker image. NOTE: The following code assumes xRGB 32bit pixel format unsigned int *pntrBWImage=(unsigned int*)..data pointer..; //assumes 4*width*height bytes with 32 bits i.e. 4 bytes per pixel unsigned int fourBytes; unsigned char r,g,b; for (int index=0;index >16); g=(fourBytes>>8); b=fourBytes; I_Out[index] = (r >>2)+ (g>>1) + (b>>2); //This runs in 0.00065s on my pc and produces slightly darker results //I_Out[index]=((unsigned int)(r+g+b))/3; //This runs in 0.0011s on my pc and produces a pure average }
