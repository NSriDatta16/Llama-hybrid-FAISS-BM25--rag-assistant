[site]: stackoverflow
[post_id]: 5523361
[parent_id]: 3001195
[tags]: 
Andy you're awesome!! Your code helped me to make my script workable and to login into google account. I found your error after couple of hours.It was about html escaping. As I found,Mechanize automatically escapes uri it recieves as a parameter for 'get' method. So my solution is: EMAIL = ".." PASSWD = ".." agent = Mechanize.new{ |a| a.log = Logger.new("mech.log")} agent.user_agent_alias = 'Linux Mozilla' agent.open_timeout = 3 agent.read_timeout = 4 agent.keep_alive = true agent.redirect_ok = true LOGIN_URL = "https://www.google.com/accounts/Login?hl=en" login_page = agent.get(LOGIN_URL) login_form = login_page.forms.first login_form.Email = EMAIL login_form.Passwd = PASSWD login_response_page = agent.submit(login_form) redirect = login_response_page.meta[0].uri.to_s puts redirect.split('&')[0..-2].join('&') + "&continue=https://www.google.com/" followed_page = agent.get(redirect.split('&')[0..-2].join('&') + "&continue=https://www.google.com/adplanner") pp followed_page This works just fine for me. I have replaced continue parameter from the meta tag (which is already escaped) by new one.
