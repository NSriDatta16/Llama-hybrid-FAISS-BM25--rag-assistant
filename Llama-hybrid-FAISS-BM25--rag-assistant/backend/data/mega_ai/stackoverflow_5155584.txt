[site]: stackoverflow
[post_id]: 5155584
[parent_id]: 
[tags]: 
PHP function return. Cheats allowed

OK. I have a very long and pretty complicated function. It looks almost like this one: Blablabla (...) The HUGE problem here is that I'm UNABLE to echo anything. My function HAVE to return it's contents instead of echoing or direct outputting (it has to be that way, it's a Wordpress shortcode and when I echo - the contents are getting displayed at the top of the page - ALWAYS, not in the place where I want them): '; $output .=' Blablabla '; $output .=' '; (...) return $output; } ?> I hope it's easy till now. Now, the real problems are: I have tons of direct input code like: ?> Smth smth Adding $output everywhere kills the nice paragraphs/whitespace and code is getting VERY HARD to read and understand (and all HTML elements are parts of variable now, so even my php editor is not treating them well and coloring them as PHP elements). And another thing, I have tons of lines like this one: /includes/php/timthumb.php?src= &h= &w= " title=" " class="link"> (yes, this is a single line) And I have absolutely no idea how to add such lines to $output. $output .= ' /includes/php/timthumb.php?src= &h= &w= " title=" " class="link"> '; Doesn't work of course (even with \'s before ' and "). I believe there MUST be an easier way to attach all the code to return, but how? I've tried with ob_start(); before code and return ob_get_clean(); after, but it outputs shortcode name instead of contents.
