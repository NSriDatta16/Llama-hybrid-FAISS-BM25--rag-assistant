[site]: stackoverflow
[post_id]: 2741842
[parent_id]: 2740520
[tags]: 
Simplicity is a sort of elegance in its own right, so I agree with Jon: take a Monte Carlo approach and continue sampling until you get a valid value. If you wanted to guarantee that you'd never place the red or green squares inside the white box, you could use the following simple algorithm: Determine the height h S and width w S of the square you're placing. Divide the gray area into 8 rectangular regions R = { R 1 , R 2 , ... R 8 }, defined by the white box. (Imagine a tic-tac-toe grid with the white box at the center; this defines the surrounding eight regions.) Let P( S is placed in R i ) = A( R i ) / A( R ), where A( R i ) is the area in which the center of S can be placed: that is, a region which is of area ( h R i - h S ) Â· ( w R i - w S ). Select a region according to the above probabilities. Then select a point in that region from a uniform distribution of the available x- and y-coordinates. Done!
