[site]: crossvalidated
[post_id]: 369809
[parent_id]: 369780
[tags]: 
As I read the Agresti-Caffo paper (recommended by @guy), it seems to me that they do have a specific recommendation at the end of Section 1: For Sample 1: Let $\check n_1 = n_1 + 4,$ and $\check p_1 = (X_1 + 2)/\check n_1.$ For Sample 2: Let $\check n_2 = n_2 + 4,$ and $\check p_2 = (X_2 + 2)/\check n_2.$ To get a 95% CI for the difference $p_1 - p_2$ in population proportions, use their equation (2) with $\check n_1$ in place of $n_1,$ $\check n_2$ in place of $n_2,$ $\check p_1$ in place of $\hat p_1,$ $\check p_2$ in place of $\hat p_2,$ and $Z_{\alpha/2} = 1.96.$ That is, $$\check p_1 - \check p_2 \pm 1.96\sqrt{\frac{\check p_1(1-\check p_1)}{\check n_1} + \frac{\check p_2(1-\check p_2)}{\check n_2}}.$$ Notes: You are correct that the form of the CI you write in your question runs into difficulties because (a) it relies on a normal approximation and (b) it relies on using estimates $\hat p_1$ and $\hat p_2$ for unknown $p_1$ and $p_2,$ respectively, to find the standard error. Without correction, these approximations do not work well with one another--especially when $p_1$ or $p_2$ is small. The Agresti-style CI may not have precisely the claimed "95%" coverage probability, but it is a great improvement on the Wald interval (mainly intended for use when $n$ is very large and $p_1$ and $p_2$ are both reasonably near 1/2). Because (corrected) normal approximations are used in the style of interval Agresti and Caffo recommend, the t distribution is not involved, and you do not need to deal with 'degrees of freedom'.
