[site]: stackoverflow
[post_id]: 4315431
[parent_id]: 335621
[tags]: 
Regarding how to organise all those test stubbing / mocks in a larger application... We build and maintain a larger Enterprise App, which is configured with Spring. The real App runs as EAR on a JBoss Appserver. We defined our Spring context(s) with a beanRefFactory.xml BasicServices.xml DataAccessBeans.xml LoginBeans.xml BussinessServices.xml .... For running the unit tests, we just use a different beanRefFactory.xml, which exchanges the BasicServices to use a test version. Within that test version, we can define beans with the same names as in the production version, but with a mock/stub or whatever implementation (e.g. database uses a local Apache DPCP pooled datasource, while the production version uses the data source from the Appserver).
