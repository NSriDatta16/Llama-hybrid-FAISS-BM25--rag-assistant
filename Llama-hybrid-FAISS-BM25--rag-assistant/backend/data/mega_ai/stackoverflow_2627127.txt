[site]: stackoverflow
[post_id]: 2627127
[parent_id]: 2626995
[tags]: 
This is the only correct way to parse an url with a regex: It's in C++ but you'll find trivial to convert to python by removing additional \. And with an enum for the captures. Also see RFC3986 as original source for the regexp. static const char* const url_regex[] = { /* RE_URL */ "^(([^:/?#]+):)?(//([^/?#]*)|///)?([^?#]*)(\\?[^#]*)?(#.*)?", }; enum { URL = 0, SCHEME_CLN = 1, SCHEME = 2, DSLASH_AUTH = 3, AUTHORITY = 4, PATH = 5, QUERY = 6, FRAGMENT = 7 };
