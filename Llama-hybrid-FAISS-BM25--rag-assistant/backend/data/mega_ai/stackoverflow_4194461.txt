[site]: stackoverflow
[post_id]: 4194461
[parent_id]: 4192626
[tags]: 
The following Vim-script function can be used to do that. function! FeedVisualCmd(cmdpat) let [qr, qt] = [getreg('"'), getregtype('"')] silent norm! gvy let cmd = printf(a:cmdpat, shellescape(@")) call setreg('"', qr, qt) echo system(cmd) if v:shell_error echohl ErrorMsg | echom 'Failed to run ' . cmd | echohl NONE endif endfunction It copies currently selected text to the unnamed register (see :help "" ), runs given template of the command through the printf function, and then executes resulting command echoing its output. If the only part of the command that changes is pattern, it is convenient to define a mapping, vnoremap g : call FeedVisualCmd('"C:\Programme\WinGrep\grep32.exe" %s *.sql D:\MyProject\build')
