[site]: stackoverflow
[post_id]: 3397322
[parent_id]: 3397157
[tags]: 
Image.frombuffer(mode, size, data) => image (New in PIL 1.1.4). Creates an image memory from pixel data in a string or buffer object, using the standard "raw" decoder. For some modes, the image memory will share memory with the original buffer (this means that changes to the original buffer object are reflected in the image). Not all modes can share memory; supported modes include "L", "RGBX", "RGBA", and "CMYK". For other modes, this function behaves like a corresponding call to the fromstring function. I'm not sure what "L" stands for, but "RGBA" stands for Red-Green-Blue-Alpha, so I presume RGBX is equivalent to RGB (edit: upon testing this isn't the case)? CMYK is Cyan-Magenta-Yellow-Kelvin, which is another type of colorspace. Of course I assume that if you know about PIL you also know about colorspaces. If not, Wikipedia has a great article. As for what it really means (if that's not enough): pixel values will be encoded differently for each colorspace. In regular RGB you have 3 bytes per pixel - 0-254, 0-254, 0-254. For Alpha you add another byte to each pixel. If you decode an RGB image as RGBA, you'll end out reading the R pixel to the right of the first pixel as your alpha, which means you'll get the G pixel as your R value. This will be magnified depending on how large your image, but it will really make your colors go wonky. Similarly, trying to read a CMYK encoded image as RGB (or RGBA) will make your image look very much not like it's supposed to. For instance, try this with an image: i = Image.open('image.png') imgSize = i.size rawData = i.tostring() img = Image.fromstring('L', imgSize, rawData) img.save('lmode.png') img = Image.fromstring('RGB', imgSize, rawData) img.save('rgbmode.png') img = Image.fromstring('RGBX', imgSize, rawData) img.save('rgbxmode.jfif') img = Image.fromstring('RGBA', imgSize, rawData) img.save('rgbamode.png') img = Image.fromstring('CMYK', imgSize, rawData) img.save('rgbamode.tiff') And you'll see what the different modes do - try it with a variety of input images: png with alpha, png without alpha, bmp, gif, and jpeg. It's kinda a fun experiment, actually.
