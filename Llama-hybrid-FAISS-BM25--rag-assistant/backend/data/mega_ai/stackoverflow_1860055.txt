[site]: stackoverflow
[post_id]: 1860055
[parent_id]: 1846605
[tags]: 
Your idea of extracting the long code fragments inside of the "if" blocks is on the right track; however, I would start much smaller than that. Look for smaller bits of repeated code - I'd say 3-10 lines - that do something very understandable, and extract that to a method (which should be very easy to name). If possible, do the extracted using automated refactoring tools (to avoid errors) and add unit tests for the extracted method. Now, repeat this a couple of times, and you should see patterns and structures begin to emerge. You'll likely end up with a structure similar to that of a previous answer: if (condition) { func1(); func2(); func3(); } else if (another condition) { func4(); } else { func5(); func6(); func3(); }
