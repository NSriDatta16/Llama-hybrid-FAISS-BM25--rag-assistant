[site]: stackoverflow
[post_id]: 1796781
[parent_id]: 1685654
[tags]: 
It would appear ljmp requires constants to work, while this generates more code and is obviously not particularly safe, this appears to work as when I enter a value that is not the current cs value, the application crashes. It uses an immediate value instead: #define set_cs( cs ) asm volatile ( "ljmp %0, $fake_label \n\t fake_label: \n\t" :: "i"(cs) ) It's not as elegant as I assume you wanted it to be, and depends entirely on what you're trying to do. I can't imagine this ever being useful or even working if you're compiling this to run under linux/windows.
