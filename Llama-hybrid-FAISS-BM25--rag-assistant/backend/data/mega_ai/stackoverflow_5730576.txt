[site]: stackoverflow
[post_id]: 5730576
[parent_id]: 
[tags]: 
Identifying unique subtrees in XSL

I have some XML that looks like this: I have some XSL that I'm using to generate Java code from this XML. Previously I've been making a key, then generating a Java class for each group. .... All was well. Now, I've discovered that some messages have groups using the same name as groups present elsewhere, but missing one of the fields. To continue the example XML from above: A group named "foo" is present, but it's missing the field with name "action". What I'd like to do is to generate a Java class for each unique subtree. Is this possible? I can't work out what the xsl:key for that would look like. The closest idea I've had is which works for the case in the example above, but is hardly elegant. If there were instead two groups named "foo" with the same number (but different types) of fields, it would fail, so it's not actually a solution. To be clear, the ideal key (or whatever alternative) would end up calling the template only once for the "peter" and "wendy" cases above, once for the "nana" case and again once for this case: ...because the fields within the group are different to those in the other cases. My key above doesn't cover this case. Is there a way to do so?
