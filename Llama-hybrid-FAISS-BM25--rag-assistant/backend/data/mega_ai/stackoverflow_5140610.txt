[site]: stackoverflow
[post_id]: 5140610
[parent_id]: 5140379
[tags]: 
Personally I'd use a trigger to keep an average rating as it will be much more efficient as your database grows in size - then you can simply do: select rating from video where video_id = 1; Full script as follows: drop table if exists video; create table video ( video_id int unsigned not null auto_increment primary key, title varchar(255) not null, num_votes int unsigned not null default 0, total_score int unsigned not null default 0, rating decimal(8,2) not null default 0 ) engine = innodb; drop table if exists video_vote; create table video_vote ( video_id int unsigned not null, user_id int unsigned not null, score tinyint unsigned not null default 0, -- 0 to 5 primary key (video_id, user_id) ) engine=innodb; delimiter # create trigger video_vote_after_ins_trig after insert on video_vote for each row begin update video set num_votes = num_votes + 1, total_score = total_score + new.score, rating = total_score / num_votes where video_id = new.video_id; end# delimiter ; insert into video (title) values ('video 1'),('video 2'), ('video 3'); insert into video_vote (video_id, user_id, score) values (1,1,5),(1,2,4),(1,3,3),(1,4,2),(1,5,1), (2,1,2),(2,2,1),(2,3,4), (3,1,4),(3,5,2); select rating from video where video_id = 1;
