[site]: stackoverflow
[post_id]: 3717940
[parent_id]: 
[tags]: 
Simplify looping through an array which could be flat or multidimensional

Often, I will have an array holding a set of values each of which I need to process. Sometimes, the array will only hold a single set, in which case each value needs to be put through the process. Other times, the array will hold many sets, in which case each value will be an array and each value of those arrays will need to be processed. Here is an example: foreach($array as $key => $value) { if(is_array($value)) { foreach($value as $subkey => $subvalue) { //Process $subvalue here } } else { //Process $value here } } The problem is that the code for processing $value/$subvalue is identical except that it operates on a different variable. One way to simplify this would be to put that code into a function but it still seems inelegant to have to call it twice. Furthermore, that would leave quite a lot of code (the foreach loops and array test) outside of that function. For example, say the process is validation, I don't want to have to write two foreach loops and an array test whenever I want to call my validation function. Is there a simpler way of doing this?
