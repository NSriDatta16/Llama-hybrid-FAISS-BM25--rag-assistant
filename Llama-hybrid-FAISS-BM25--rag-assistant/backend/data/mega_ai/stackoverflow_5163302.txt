[site]: stackoverflow
[post_id]: 5163302
[parent_id]: 
[tags]: 
Common Lisp Error: Expected-type: REAL datum: NIL

I'm working on actually writing something on my own in Common Lisp for once, implementing the Shunting-yard Algorithm. I thought it went okay, even if it came out rather ugly and if I doubt its Lispy-ness, but upon testing out the function in the REPL, I get the error in the title. The code is as follows, with the test case being (shunting-yard '(3 + 5)) . (defparameter *output-queue* nil) (defparameter *operator-stack* nil) (defun determine-precedence (operator) (case operator (('+ '-) 2) (('* '/) 3) ('^ 4))) (defun shunting-yard (stmt) (loop until (null stmt) do (let ((token (car stmt))) (cond ((or (numberp token) (eq token '\()) (setf *output-queue* (cons token *output-queue*))) ((mapcar #'(lambda (x) (eq token x)) '(+ - * / ^)) (let* ((token-precedence (determine-precedence token)) (stack-topmost (car *operator-stack*)) (stack-precedence (determine-precedence stack-topmost))) (when ( Is the error in the code itself (my guess) or is it in my test case? Thanks so much in advance, this was REALLY fun to write and I can't wait to work on something else, but only after I get this working.
