[site]: stackoverflow
[post_id]: 3343097
[parent_id]: 3342931
[tags]: 
Your code fails when trying to send the longest message. Therefore I assume that the message target is not reading fast enough. I think your concept of trying 5 times is flawed, because you swallow your message if it didn't got sent - and you don't even handle this serious error case. Personally I recommend to either wait forever to send your message, or build a sane sized local buffer which you work of - and if this buffer is full, then you wait forever. I also recommend that you don't eat all exceptions without caring for them. You silently hide serious errors. As a side note: People often think that std::string has bugs, or that the OS has bugs, or even that the compiler has bugs. Let me assure you that these people are so often wrong in their accusation that even the most defensive pessimist would say that they are always wrong. And those who are right can prove it in trivial programs. Please excuse my arrogance.
