[site]: stackoverflow
[post_id]: 4595559
[parent_id]: 245584
[tags]: 
Mixins to read and write simple structures from a Stream object: template TStructReader() { private alias typeof(*this) T; static T opCall(Stream stream) { assert(stream.readable); T ret; stream.readExact(&ret, T.sizeof); return ret; } } template TStructWriter() { private alias typeof(*this) T; void write(Stream stream) { assert(stream.writeable); stream.writeExact(this, T.sizeof); } } Use it like this: align (1) struct MyStruct { ... definitions here ... mixin TStructReader; mixin TStructWriter; } auto ms = MyStruct(stream); ms.write(stream);
