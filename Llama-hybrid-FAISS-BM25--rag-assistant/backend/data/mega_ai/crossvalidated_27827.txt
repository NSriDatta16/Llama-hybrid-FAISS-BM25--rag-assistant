[site]: crossvalidated
[post_id]: 27827
[parent_id]: 
[tags]: 
Cleaning data of inconsistent format in R?

I often deal with messy survey data which requires a lot of cleaning up before any statistics can be done. I used to do this "manually" in Excel, sometimes using Excel formulas, and sometimes checking entries one-by-one. I started doing more and more of these tasks by writing scripts to do them in R, which has been very beneficial (benefits include having a record of what was done, less chance of mistakes, and being able to reuse code if the data set is updated). But there are still some types of data that I have trouble handling efficiently. For example: > d d subject hours.per.day 1 1 1 2 2 2 hours 3 3 2 hr 4 4 2hr 5 5 3 hrs 6 6 1-2 7 7 15 min 8 8 30 mins 9 9 a few hours 10 10 1 hr 30 min 11 11 1 hr/week hours.per.day is meant to be the average number of hours per day spent on a certain activity, but what we have is exactly what the subject wrote. Suppose I make some decisions on what to do with ambiguous responses, and I want the tidied variable hours.per.day2 as follows. subject hours.per.day hours.per.day2 1 1 1 1.0000000 2 2 2 hours 2.0000000 3 3 2 hr 2.0000000 4 4 2hr 2.0000000 5 5 3 hrs 3.0000000 6 6 1-2 1.5000000 7 7 15 min 0.2500000 8 8 30 mins 0.5000000 9 9 a few hours 3.0000000 10 10 1 hr 30 min 1.5000000 11 11 1 hr/week 0.1428571 Assuming that the number of cases is quite large (say 1000) and knowing that the subjects were free to write anything they liked, what is the best way to approach this?
