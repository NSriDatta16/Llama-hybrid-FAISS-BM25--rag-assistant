[site]: crossvalidated
[post_id]: 373522
[parent_id]: 373500
[tags]: 
When you have dependencies in your observation, dividing the data into a testing and a training set is not trivial, as you have pointed out. The main issue is that if you remove some of the observations that are of the same company, then you will have a test set and a training set that are depenend of each other. The alternative is to separate the observations into two sets in such a way that each company only appears in one of the two sets, but then you risk missing important information if there's a large difference between companies. Roberts et al. (2017) discusses the topic and can be worth looking up: References Roberts, D. R., Bahn, V. , Ciuti, S. , Boyce, M. S., Elith, J. , Guillera‐Arroita, G. , Hauenstein, S. , Lahoz‐Monfort, J. J., Schröder, B. , Thuiller, W. , Warton, D. I., Wintle, B. A., Hartig, F. and Dormann, C. F. (2017), Cross‐validation strategies for data with temporal, spatial, hierarchical, or phylogenetic structure . Ecography , 40: 913-929. doi:10.1111/ecog.02881
