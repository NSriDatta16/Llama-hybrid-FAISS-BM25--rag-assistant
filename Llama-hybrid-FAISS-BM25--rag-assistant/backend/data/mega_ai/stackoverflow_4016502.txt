[site]: stackoverflow
[post_id]: 4016502
[parent_id]: 4013657
[tags]: 
I think this is the cause of the error: use.setAttribute('xlink:href','g1') The proper syntax is: use.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", "#g1") Basically you're missing a hashmark for the link, and you should use the namespace-aware setAttributeNS. Regarding setAttribute, you should be aware that using prefixes there is not recommended. From DOM 3 Core (the last paragraph in that section): DOM Level 1 methods are namespace ignorant. Therefore, while it is safe to use these methods when not dealing with namespaces, using them and the new ones at the same time should be avoided.
