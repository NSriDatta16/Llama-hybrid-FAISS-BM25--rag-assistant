[site]: crossvalidated
[post_id]: 197683
[parent_id]: 197677
[tags]: 
Let me start by pointing out that there's rich literature about recommendation systems . Does your system have the limitation of using a single seed product? If so, you can interpolate between the two modes you described: using a categorical recommendation as a back-off in the case that you don't have stronger evidence based on co-purchases. You can model this effectively using Bayes' rule for accumulating evidence $D$: $$P(R|D,S) \propto P(D|R,S)P(R|S)$$ where, as you wrote, $P(R|S) = \sum_{C}P(R|C)P(C|S)$. This way, for products where you have no data, you fall back to your prior. On the other hand, if you do have lots of co-purchase data for a given product, you'll be able to give more tailored recommendations. If you're not limited to just the current product, you can do much more (think Netflix challenge ). It's possible to incorporate general features about both the user (e.g. purchase history, age, gender, country, etc.) and the product (e.g. category). Here are some keywords that might be useful for you: embeddings, factorized models, collaborative filtering.
