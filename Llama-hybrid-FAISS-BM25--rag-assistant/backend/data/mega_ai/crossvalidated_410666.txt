[site]: crossvalidated
[post_id]: 410666
[parent_id]: 410663
[tags]: 
The amount of time a chain $X_t$ spends in some set or region $A$ up until time $k$ can be written as $$ \sum_{i=1}^k 1(X_i \in A). $$ Making the transitions at time $k$ depend on this would imply the process is no longer a Markov chain. However, if you create a variable $$ \tilde{X}_k = \sum_{i=k-l+1}^k 1(X_i \in A) $$ then this is Markov of order $l$ , and this will be a Markov chain. You will have to manually derive the transitions of this chain, but in general, it can only go up one, down one, or stay the same. And, as @whuber points out, you may have the the transition matrix of the hidden chain depend on time deterministically . It is often assumed for convenience that the chain is homogeneous, but this is not necessary. Third, you might be interested in left-to-right hidden Markov models . Instead of the hidden state representing which regime you're in, it will represent the amount of time heretofore spent in state, say, $1$ . That means that this state can only increase, or stay the same, making the transition matrix upper-triangular (and very large).
