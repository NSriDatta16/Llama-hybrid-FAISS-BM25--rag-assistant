[site]: stackoverflow
[post_id]: 5049217
[parent_id]: 
[tags]: 
CGEventTap blocks application input

I'm trying to use CGCreateEventTap to monitor global mouse clicks, however when I do this it seems to block interaction with my own app. Mouse clicks in other running apps work fine, but my own app (that is the DemoAppDelegate app) does not respond completely. I can drag the main window for the app, but the red/yellow/green window buttons are greyed out. And the DemoApp's menu is unclickable as well. This seems really strange to me, and I've been unable to figure it out. Examples of using event taps are few and far between, so any advice is greatly appreciated. #import "DemoAppDelegate.h" CGEventRef myCGEventCallback(CGEventTapProxy proxy, CGEventType type, CGEventRef event, void *refcon) { CGPoint location = CGEventGetLocation(event); NSLog(@"location: (%f, %f) - %@\n", location.x, location.y, (NSString*)refcon); return event; } @implementation DemoAppDelegate @synthesize window; - (void)applicationDidFinishLaunching:(NSNotification *)aNotification { CFMachPortRef eventTap; CGEventMask eventMask; CFRunLoopSourceRef runLoopSource; eventMask = 1
