[site]: crossvalidated
[post_id]: 236138
[parent_id]: 
[tags]: 
Generating variance estimates for Estimated Regression Models (EDV) (vwls)

I am trying to explain the expectation of university graduation among adolescents of a number of countries. My dependent variable is dichotomous, since they formulate their expectation in terms of ‘yes’ or ‘no’. My key independent variables are gender and social origin. In particular, I am interested in the interaction between both, since I expect adolescents’ gender to have a different effect on educational expectation across social origin (father’s education). Since the number of units at the aggregate level (country) is relatively low (28), I am applying a two-step approach to my data, instead of standard multilevel modelling. As I first step, I run an OLS regression for each one of the countries considered, including my key independent variables and controls. According to Lewis and Linzer, “the first-stage estimates that become the dependent variable in the second stage need not be regression coefficients –indeed, they may be as simple as aggregate public opinion poll marginal” (Lewis and Linzer, 2005: 347). Following this assertion, I generate the AME (average marginal effect) of gender for the highest and lowest category of father’s education, after running the abovementioned OLS regression for each one of the countries considered. These AMEs is what I intend to use as dependent variable in the second stage of the analysis. For this second stage, I know that I have to proceed with an estimated dependent variable (EDV) model. But I do not have a single marginal effect per country, but two: the marginal effect of gender for the highest and lowest category of father’s education. Shall I simply compute the difference between these marginal effects for each country, and take this difference as the value of the dependent variable for each country in the second stage of the analysis? If so, how should I deal with the standard deviations of these marginal effects? In other words, how should I build the weights that should intervene in the estimated dependent variable that constitute the second stage? I believe the Stata command for fitting estimated dependent variable models is vwls, which stands for variance-weighted least-squares regression. For running this command, you are requested to provide the variance of the outcome variable http://www.stata.com/manuals13/rvwls.pdf I just wonder how I could generate the variance of my outcome variable, if such outcome variable is the difference in the AMEs of gender between the two categories of father’s education that I have mentioned Lewis, J. and Linzer, D.A. (2005) 'Estimating Regression Models in Which the Dependent Variable Is Based on Estimates', Political Analysis, 13: 345-364
