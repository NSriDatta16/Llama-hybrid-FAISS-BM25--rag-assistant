[site]: stackoverflow
[post_id]: 4174486
[parent_id]: 
[tags]: 
IIS7 ASP.NET MVC 2 Asset Caching Module Not Working

I have this HttpModule that I am using to remove unwanted headers and cache assets for about 30 days but it does not seem to work. Code and http response below: Response: Cache-Control private Content-Type text/html; charset=utf-8 Content-Encoding gzip Vary Accept-Encoding Server Microsoft-IIS/7.5 X-AspNetMvc-Version 2.0 X-AspNet-Version 4.0.30319 X-Powered-By ASP.NET Date Sat, 13 Nov 2010 20:13:57 GMT Content-Length 1892 Code: public class AssetCacheModule : IHttpModule { private static readonly List _headersToRemove = new List { "X-AspNet-Version", "X-AspNetMvc-Version", "Etag", "Server", }; private static readonly List _longCacheExtensions = new List {".js", ".css", ".png", ".jpg", ".gif",}; public void Init(HttpApplication context) { context.EndRequest += ContextEndRequest; } private static void ContextEndRequest(object sender, EventArgs e) { var context = HttpContext.Current; _headersToRemove.ForEach(h => context.Response.Headers.Remove(h)); var extension = Path.GetExtension(context.Request.Url.AbsolutePath); if (_longCacheExtensions.Contains(extension)) { TimeSpan cacheDuration = TimeSpan.FromSeconds(44000); context.Response.Cache.SetCacheability(HttpCacheability.Public); context.Response.Cache.SetExpires(DateTime.Now.Add(cacheDuration)); context.Response.Cache.SetMaxAge(cacheDuration); context.Response.Cache.AppendCacheExtension("must-revalidate, proxy-revalidate"); } } public void Dispose() { } } web.config: What am I missing???
