[site]: stackoverflow
[post_id]: 605726
[parent_id]: 
[tags]: 
How to unit test a refresh functionality with stub objects

I'm working on a unit test which executes some business logic that will eventually result in a refresh (so execute the same query again) of the data. Using Dependency Injection (with Castle-Windsor) the unit tests use stub objects, so a static list of entities is returned from the method that gets the data. So how can I test whether this method is called again? I abused a date-time field in one of the entities to test the second get (DateTime after refresh != before refresh), but I don't think this is really a good solution. Can someone offer me an elegant solution for this?
