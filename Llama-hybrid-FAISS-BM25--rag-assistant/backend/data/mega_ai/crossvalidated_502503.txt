[site]: crossvalidated
[post_id]: 502503
[parent_id]: 502496
[tags]: 
The second formula is the general one, where $x_i$ ’s are the raw data, e.g. every for every $i$ -th person you record their age and there’s $n$ people in your sample. You can use the first formula for aggregated data, where $x_i$ ’s are the district age categories and $k_i$ ’s are their counts. For example, you observed $n_i=137$ people of $x_i=26$ years old in your sample. In this case, there’s $n$ distinct age categories and the total number of observed samples is $\sum_{i=1}^k n_i$ . Other case for first formula is when $n$ is the number of samples and $k_i$ are sample weights , where you want to have some samples have more impact on the result than others. Notice that variance is an average squared deviation from the mean, so in case of both formulas you need to divide by the total sample size, i.e. by $n$ in second case, or by $\sum_{i=1}^k n_i$ in second case. For the sample variance, you would divide by $n-1$ .
