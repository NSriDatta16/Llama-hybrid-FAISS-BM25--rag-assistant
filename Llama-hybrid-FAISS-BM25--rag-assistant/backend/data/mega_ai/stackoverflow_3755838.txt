[site]: stackoverflow
[post_id]: 3755838
[parent_id]: 3755621
[tags]: 
My split-the-difference recommendation: On the server, use an XML-based processing pipeline. But right before you emit the HTTP response body, convert to the HTML5 serialization. That means and no nor xmlns directives. Serve your pages with Content-Type: text/html; charset=utf-8 . (Change the value of the charset parameter if you must, but PUT ONE IN, or you risk UTF-7 trickery .) Don't try to condition any of this on the user-agent. You get the benefits of XML strictness on the server -- you'll notice if you're generating invalid markup, and it makes it much harder to get quoting wrong -- but you don't have to deal with figuring out which clients will actually honor XML mime types. Note that you can directly embed SVG and MathML in HTML5 even when you're using the HTML5 serialization (the and elements are magic).
