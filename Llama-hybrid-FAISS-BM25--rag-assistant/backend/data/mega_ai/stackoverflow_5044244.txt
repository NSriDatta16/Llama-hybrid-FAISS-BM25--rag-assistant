[site]: stackoverflow
[post_id]: 5044244
[parent_id]: 
[tags]: 
Weird issue after upgrading to Nhibernate 3

Hi I have a query mapped to take a date field. After upgrading to NHibernate 3 I get the following error: could not execute query [ select a.agency_num, cd.comp_name, sd.sib_number, sd.sib_type_label, ad.add_line1, ad.add_line2, ad.add_line3, ad.add_line4, ad.post_code, ad.country_label from agency a, company_details cd, sib_dets sd, address ad where a.contact_ser = cd.contact_ser and a.contact_ser = sd.contact_ser and a.contact_ser = ad.contact_ser and a.current_ser = 10 and a.start_date = ?) and cd.current_ser = 10 and cd.start_date = ?) and sd.current_ser = 10 and sd.start_date = ?) and ad.current_ser = 10 and ad.start_date = ?) ] Name:dateValid - Value:18/02/2011 00:00:00 [SQL: select a.agency_num, cd.comp_name, sd.sib_number, sd.sib_type_label, ad.add_line1, ad.add_line2, ad.add_line3, ad.add_line4, ad.post_code, ad.country_label from agency a, company_details cd, sib_dets sd, address ad where a.contact_ser = cd.contact_ser and a.contact_ser = sd.contact_ser and a.contact_ser = ad.contact_ser and a.current_ser = 10 and a.start_date = ?) and cd.current_ser = 10 and cd.start_date = ?) and sd.current_ser = 10 and sd.start_date = ?) and ad.current_ser = 10 and ad.start_date = ?)] and the inner exception is: {"The IfxParameter with ParameterName 'p0' is already contained by this IfxParameterCollection."} Anyone know why this is? It works fine under the previous version on NHibernate Here is my NHibernate code: using (ISession session = NHibernateHelper.OpenSession(FACTORY_NAME)) { IQuery query = session.GetNamedQuery("GetAllAgents"); query.SetDateTime("dateValid", dateValid.Date); agents = query.List (); } and here is my mapping file: = :dateValid) and cd.current_ser = 10 and cd.start_date = :dateValid) and sd.current_ser = 10 and sd.start_date = :dateValid) and ad.current_ser = 10 and ad.start_date = :dateValid)]]>
