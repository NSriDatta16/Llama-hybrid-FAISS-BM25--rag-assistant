[site]: stackoverflow
[post_id]: 4224119
[parent_id]: 4222983
[tags]: 
Sorry for the closevote. Didnt pay proper attention about you wanting the keys. Solution below: $iterator = new RecursiveIteratorIterator( new RecursiveArrayIterator($arr), RecursiveIteratorIterator::SELF_FIRST); $keys = array(); and then either $keys = array(); foreach($iterator as $key => $val) { $keys[] = $key; } or with the iterator instance directly $keys = array(); for($iterator->rewind(); $iterator->valid(); $iterator->next()) { $keys[] = $iterator->key(); } or more complicated than necessary iterator_apply($iterator, function(Iterator $iterator) use (&$keys) { $keys[] = $iterator->key(); return TRUE; }, array($iterator)); gives Array ( [0] => 1 [1] => 2 [2] => 16 [3] => 18 [4] => 17 [5] => 14 [6] => 15 )
