[site]: stackoverflow
[post_id]: 3124697
[parent_id]: 
[tags]: 
Tomcat FORM authentication - login form not coming up as https

This is driving me nuts. I'm using Tomcat 6, declaritive authentication, form based. No framework involved. Everything works ok - some pages authenticated, some not, some use https, some http. Everything as I want it. EXCEPT... I want the login page to always use https. The login page comes up nicely as https if: a) I go to it directly in the browser. b) I click on a page in the application that is configured for https (and requires authentication). BUT the login page comes up as http if: a) I click on a page in the application that is configured for http (and requires authentication). I've a feeling I'm up against some sort of accepted default here and that an answer might be "why would you want an https login to get to a non-https page?". Its like this: a) I want passwords to be encrypted. b) I want users to login to show which role (group) they belong to in order to enable/disable parts of the web site. c) I dont want a drop in performance due to https except where absolutely necessary. I guess if the login page is forced to be https (like I want it to be) then there has to be a mechanism to put it back to http. If anyone has some pointers/ideas around this whole area I'd be very very greatful. web.xml fragments: Security Constraint A0S1 A0S1 /login/* CONFIDENTIAL FORM /login/form_login.jsp /login/error.jsp
