[site]: crossvalidated
[post_id]: 226109
[parent_id]: 
[tags]: 
How does `predict.randomForest` estimate class probabilities?

How does randomForest package estimate class probabilities when I use predict(model, data, type = "prob") ? I was using ranger for training random forests using the probability = T argument to predict probabilities. ranger says in documentation that it: Grow a probability forest as in Malley et al. (2012). I simulated some data and tried both packages and obtained very different results (see code below) So I know that it uses a different technique (then ranger) to estimate probabilities. But which one? simulate_data % pnorm(mean = 5) ) %>% as.factor() ) dplyr::bind_cols(X, Y) } treino % pnorm(mean = 5) data.frame(prob_real, pred_ranger, pred_randomForest) %>% tidyr::gather(pacote, prob, -prob_real) %>% ggplot(aes(x = prob, y = prob_real)) + geom_point(size = 0.1) + facet_wrap(~pacote)
