[site]: stackoverflow
[post_id]: 3674009
[parent_id]: 3666969
[tags]: 
It definitely doesn't beat diff in terms of elegance but another way: sum(x[-1] != head(x, n=-1)) On my system, this seems to be a teeny bit faster: > x system.time(replicate(100, sum(x[-1] != head(x, n=-1)))) user system elapsed 8.421 3.688 12.150 > system.time(replicate(100, sum(diff(x) != 0))) user system elapsed 9.431 4.525 14.248 It seems like there ought to be a nice analytic solution for the distribution of the number of unequal adjacent elements in the sequence.
