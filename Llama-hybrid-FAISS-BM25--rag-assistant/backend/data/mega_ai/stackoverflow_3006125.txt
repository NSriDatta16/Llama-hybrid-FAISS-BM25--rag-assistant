[site]: stackoverflow
[post_id]: 3006125
[parent_id]: 3005296
[tags]: 
OpenJPA 2.0 can dynamically install runtime enhancer when running on JDK 1.6 (not JRE), see docs . Technically, they attach a java agent dynamically using Attach API , wihtout need for -javaagent option. So, the Item class is actually enhanced and entity manager knows that it's persisting a detached instance despite the null id and closing of entity manager.
