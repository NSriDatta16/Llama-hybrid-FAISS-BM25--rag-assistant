[site]: crossvalidated
[post_id]: 474083
[parent_id]: 
[tags]: 
How to approach a multilabel classification problem where the proportions of the predicted labels matter?

My original task was to classify various cell types (the classes) based on gene expression patterns and this problem simply involves predicting one label from multiple classes. This was done easily since I could assign a one-hot encoded vector and train neural network. Now the new problem is within a sample there could be a mixture of various cells (hence a multi-label problem). The new challenge is to not only detect multiple labels but the proportions of each label. For example, if there are a total of 3 cell_types and a sample contained 2 cell_type_1 , 1 cell_type_2 , and 1 cell_type_3 then the output of the classifier should be [0.50, 0.25, 0.25] as opposed to [1, 1, 1] . From the brief research I have done there are various methods to do the binary style classification but not a whole lot for the proportions one. I have read about different accuracy function like exact match ratio and hamming loss that seem promising for this type of problem. Also learned that the activation function for the last layer should be a sigmoid as opposed to softmax because a softmax assigns a probability and this property deteoriotes its ability to recognize multiple labels. I wonder if in my case this would play to my advantage since proportions matter? I want to first get a sense of whether this problem is even possible (I am used to doing categorical), the kinds of loss/accuracy function recommended for this problem, various architecture (if this has been done well before), and any other recommendation/resources. Also I am using Keras in R if that may aid in providing more context.
