[site]: crossvalidated
[post_id]: 60370
[parent_id]: 59300
[tags]: 
This isn't a direct answer to your question, but what you have described sounds very much like a hidden Markov model and particle filtering . I'm not sure if you are familiar with filtering theory, but here is a particle filtering tutorial that I have found helpful in the past. If you don't have access to that paper, the title is 'A Tutorial on Particle Filters for Online Nonlinear/Non-Gaussian Bayesian Tracking'; you may be able to find it elsewhere. Notice that equation (1) of the paper describes the process exactly as you have in your equation (1). Also, section V deals with importance sampling algorithms for this problem.
