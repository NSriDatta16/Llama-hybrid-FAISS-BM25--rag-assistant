[site]: crossvalidated
[post_id]: 395418
[parent_id]: 
[tags]: 
Logistic regression - handling very few observations for a level of a categorical variable

Context I'm not sure what to do in the scenario where one of the levels for a variable has so few levels that there's a good chance splitting the data into $70\%$ training $30\%$ testing will result in the level being completely contained in either test or train. For example with the following data: > table(testset$x1) BL BM BR ML MM MR TL TR 90 5 76 19 8 10 2 2 > table(trainset$x1) BL BM BR ML MM MR TL TR 217 10 182 37 20 27 1 0 Here BL=bottom-left, MM=middle-middle, TR=top-right . Given that there are so few observations for TL,TM,TR (actually zero for TM ) it's quite likely that they could all be contained in either test / training. If this happens then prediction for that is problematic. Reordering the variable The levels could be merged from BL BM BR ML MM MR TL TR -> B M T -> B NB Where B,NB represent bottom, not-bottom respectively. This would greatly reduce the probability of either test / training containing the entirity of the level, but it feels as though it's a pretty extreme distortion. Perhaps to the degree that it's no longer usable. Model Currently the model is constructed as m Which throws an error after trying to use it for prediction (as the entirity of one level is contained within one set for the given random seed). Constructing the model as : m Stops this error from occuring, where x1 is modelled as a random effect. I'm not sure if this makes sense though, because I actually wanted to use this for prediction, rather than just controlling for its variation. But perhaps I'm a bit confused about what a random effect really means here. R Code Here is a link to a pastebin of this code which may / may not be easier to copy into an editor. df
