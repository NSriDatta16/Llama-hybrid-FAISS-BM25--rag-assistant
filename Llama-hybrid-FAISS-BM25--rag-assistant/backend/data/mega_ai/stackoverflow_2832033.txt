[site]: stackoverflow
[post_id]: 2832033
[parent_id]: 2832023
[tags]: 
I very very strongly doubt that your performance problem is coming from the STL containers. Try to eliminate (comment out) the call to foo(pFile) or any other method which touches the filesystem. Although running foo(pFile) once may appear fast, running it on 1000 different files (especially on Windows filesystems, in my experience) could turn out to be much slower (e.g. because of filesystem cache behaviour.) EDIT Your initial post was claiming that BOTH debug and release builds were affected. Now you are withdrawing that claim. Be aware that in DEBUG builds: the STL implementation performs extra checks and assertions heap operations (memory allocation etc.) perform extra checks and assertions; moreover, under debug builds the low-fragmentation heap is disabled (up to a 10x overall slowdown in memory allocation) no code optimizations are performed, which may result in further STL performance degradation (STL relying many a time heavily on inlining, loop unwinding etc.) With 1000 iterations you are probably not affected by the above (not at the outer loop level at least) unless you use STL/the heap heavily INSIDE foo().
