[site]: stackoverflow
[post_id]: 1439787
[parent_id]: 
[tags]: 
NHibernate - need help with ICriteria query

I am having trouble getting my query by criteria to work. I want to filter the UserPublications collection by userId but it is not filtering. The ClientPublications collection has filtered correctly though. Any advice? Thanks in advance. public IList GetAvailableClientReports(int userId) { ICriteria criteria = NHibernateSession.CreateCriteria(typeof(ClientReport)) .CreateCriteria("ClientPublications") .Add(Expression.Eq("IsDownloaded", true)) .SetResultTransformer(CriteriaUtil.DistinctRootEntity) .AddOrder(Order.Asc("Name")) .CreateCriteria("UserPublications") .CreateAlias("ClientUser", "user") .Add(Expression.Eq("user.UserId", userId)); return GetByCriteria(criteria); }
