[site]: stackoverflow
[post_id]: 5622646
[parent_id]: 
[tags]: 
using wininet in C++

I Have a server that if I sent it "https://MyDomain/Dir1/Dir2/login.html?u=1234&t=5678" will respond with an xml document. Does anyone know how I can do this in wininet? Here is what I have done so far: std::string GetLoginData(void) { HINTERNET hInternet, hConnection, hRequest; std::string retVal; hInternet = InternetOpen(L"My Application", INTERNET_OPEN_TYPE_DIRECT, NULL, NULL, 0); if(NULL != hInternet) { hConnection = InternetConnect(hInternet, L"MyDomain", INTERNET_DEFAULT_HTTPS_PORT, L"", L"", INTERNET_SERVICE_HTTP, 0, NULL); if(NULL != hConnection) { const wchar_t* lplpszAcceptTypes[] = {L"text/xml", L"application/xml", L"application/xhtml+xml", NULL}; hRequest = HttpOpenRequest(hConnection, L"GET", L"Dir1/Dir2/Login.html", NULL, NULL, lplpszAcceptTypes, INTERNET_FLAG_DONT_CACHE | INTERNET_FLAG_IGNORE_CERT_CN_INVALID | INTERNET_FLAG_IGNORE_CERT_DATE_INVALID | INTERNET_FLAG_IGNORE_REDIRECT_TO_HTTP | INTERNET_FLAG_IGNORE_REDIRECT_TO_HTTPS | INTERNET_FLAG_KEEP_CONNECTION | INTERNET_FLAG_NO_AUTH | INTERNET_FLAG_NO_UI | INTERNET_FLAG_PRAGMA_NOCACHE, 0); if(NULL != hRequest) { const char Params[] = {"u=1234&t=5678"}; BOOL rc = HttpSendRequest(hRequest, NULL, 0, (void*)Params, strlen(Params)); if(rc) // here rc = 0 and GetLastError() returns 12152 { DWORD availDataLen; char Buff[4096]; DWORD readCount = ERROR_INTERNET_CONNECTION_RESET; InternetQueryDataAvailable(hInternet, &availDataLen, 0, 0); while(0 but as you can see in the code HttpSendRequest() fails and GetLastError() returns 12152 Thank you in advance Sam
