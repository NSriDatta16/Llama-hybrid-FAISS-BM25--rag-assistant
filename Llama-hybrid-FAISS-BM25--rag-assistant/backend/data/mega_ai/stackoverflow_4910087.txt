[site]: stackoverflow
[post_id]: 4910087
[parent_id]: 4907075
[tags]: 
I do not think there is a method of setting an environment variable that works for both of these servers. There are methods to set an environment variable for each of these servers though. To set a system property that can be detected by your web application at run-time: Tomcat : Set the value of the environment variable CATALINA_OPTS and start the server. export CATALINA_OPTS=-DmyPropertyName=myPropertyValue GlassFish 3 : There are a couple methods that you can use. Direct use of a GlassFish system property. Start the server. Use the asadmin command 'create-system-properties' to define a System property. Restart the server. asadmin create-system-property myPropertyName=myPropertyValue. Direct use of a JVM Option: Start the server. Use the asadmin command 'create-jvm-option' to create a new JVM option that defines the System property that will be used when the server is started. Restart the server so that it uses the property. asadmin create-jvm-options -DmyPropertyName=myPropertyValue To change the value of a system property that can be detected by your web application at run-time: Tomcat : Change the value of the CATALINA_OPTS environment variable and restart your server. export CATALINA_OPTS=-DmyPropertyName=myNEWPropertyValue GlassFish 3 : The method to change the property value depends on the method you used to set the property value. Direct use of a GlassFish system property. Recreate the GlassFish system property with the 'create-system-properties' command and restart the server. asadmin create-system-property myPropertyName=myNEWPropertyValue Direct use of a JVM option: Delete the old jvm option and create a new one in its place. Restart the server. asadmin delete-jvm-options -DmyPropertyName=myPropertyValue asadmin create-jvm-options -DmyPropertyName=myNEWPropertyValue See http://java.net/jira/browse/GLASSFISH-11253 To unset the value of a system property that can be detected by your web application at run-time: Tomcat : Reset the value of the environment variable CATALINA_OPTS, without including the JVM Option definition. Restart the server. export CATALINA_OPTS= GlassFish 3 : Using a GlassFish system property. Use the 'delete-system-properties' command and restart the server. asadmin delete-system-property myPropertyName Using a JVM Option to define the property. Use the delete-jvm-options command and restart the server. asadmin delete-jvm-options -DmyPropertyName=myPropertyValue To access a system property from inside your web application Use System.getProperty(String) or [System.getProperty(String,String)][2] After saying all this, I want to discourage you from using this info to pursue your stated development strategy. There are other methods to differentiate a development and production environment that do not involve code changes. [2]: http://download.oracle.com/javase/6/docs/api/java/lang/System.html#getProperty(java.lang.String , java.lang.String)
