[site]: stackoverflow
[post_id]: 1477660
[parent_id]: 1477629
[tags]: 
SELECT deptName, cnt FROM ( SELECT departmentID, COUNT(*) AS cnt FROM employee GROUP BY departmentID HAVING COUNT(*) >= ( SELECT AVG(cnt) FROM ( SELECT COUNT(*) AS cnt FROM employee GROUP BY departmentID ) ) ) e JOIN departments d ON d.departmentID = e.departmentID In Oracle , you can use analytic functions which are more elegant: SELECT DeptName, cnt FROM ( SELECT q.*, AVG(cnt) OVER() AS acnt FROM ( SELECT departmentID, COUNT(*) AS cnt FROM employee GROUP BY departmentID ) q ) e JOIN departments d ON d.departmentID = e.departmentID WHERE cnt >= acnt
