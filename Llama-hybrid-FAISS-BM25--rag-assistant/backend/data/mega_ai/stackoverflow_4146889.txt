[site]: stackoverflow
[post_id]: 4146889
[parent_id]: 3888557
[tags]: 
One thing I did was inside a try {} catch Store original image (or your largest size) using META info like user_id, post_id, size = original, height = xxx, width = yyy Loop through all your sizes and store using the same META info as the main one, size = $size, width = xxx, height = yyy, parent_id = your original file's ID if some exception happens (gd fails, mongo fails, etc...) then you remove the files so you don't waste storage.
