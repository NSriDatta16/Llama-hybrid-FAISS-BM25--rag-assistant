[site]: stackoverflow
[post_id]: 2269965
[parent_id]: 2269924
[tags]: 
You want exponential smoothing , otherwise known as an exponential weighted moving average. Take an EWMA of the time since the last message arrived, and then divide that time into a second. You can run several of these with different weights to cover effectively longer time intervals. Effectively, you're using an infinitely long window then, so you don't have to worry about expiring data; the reducing weights do it for you.
