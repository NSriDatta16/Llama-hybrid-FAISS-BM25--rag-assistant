[site]: stackoverflow
[post_id]: 4656204
[parent_id]: 4655848
[tags]: 
Nowhere nearly as slick as Gavin's solution, but here goes. My function returns the actual sequence of the longest streak. inst.split 0, 1, 0) df.rle If you want to know the longest streak per instrument, just do lapply(inst, length) $JPM [1] 4 $KFT [1] 3 FOR NEGATIVE VALUES Notice that there's a long losing streak for KFT. I've left values for JPM (JP Morgan?) alone. > inst Instrument TradeResult.Currency. 1 JPM -3 2 JPM 264 3 JPM 284 4 JPM 69 5 JPM 283 6 JPM -219 7 JPM -91 8 JPM 165 9 JPM -35 10 JPM -294 11 KFT -8 12 KFT -48 13 KFT -125 14 KFT -150 15 KFT -206 16 KFT -107 17 KFT -107 18 KFT 56 19 KFT -26 20 KFT 189 And this is the result of running the split data.frame through the above function. $JPM [1] 264 284 69 283 $KFT [1] -8 -48 -125 -150 -206 -107 -107
