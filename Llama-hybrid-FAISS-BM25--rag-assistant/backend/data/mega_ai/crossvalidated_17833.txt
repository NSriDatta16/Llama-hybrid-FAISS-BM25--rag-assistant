[site]: crossvalidated
[post_id]: 17833
[parent_id]: 12597
[tags]: 
Let's call the first series $X_t$ and the second series $Y_t$ and denote the length of each series with $T$. You are asking if using all of the information from $X_t$ to calculate its mean in the computation of the correlation will make the estimate of the correlation more efficient. But you have to be precise about the exact way you want to calculate that correlation. Remember that: $Cor(X_t, Y_t) = \frac{Cov(X_t, Y_t)}{\sqrt{Var(X_t) Var(Y_t)}}$, where $Cov(X_t, Y_t) = \frac{\sum (X_t - \bar{X}_t)(Y_t - \bar{Y}_t)}{T - 1}$, $Var(X_t) = \frac{\sum (X_t - \bar{X}_t)^2}{T-1}$, and $Var(Y_t) = \frac{\sum (Y_t - \bar{Y}_t)^2}{T-1}$. Now suppose half of the $Y_t$ values are missing. Then $Cov(X_t, Y_t)$ is calculated based on $T/2$ observations (even when $\bar{X}_t$ is calculated from all $T$ observations), so one would also divide by $T/2 - 1$ and not $T-1$. For $Var(X_t)$, one could use all $T$ observations (not only for calculating $\bar{X}_t$, but also for calculating the entire term, so one would still divide by $T-1$ here). And for $Var(Y_t)$, one only has $T/2$ observations, so one would divide by $T/2 - 1$. I suppose this is what you mean. And you are not sure whether this estimator is more efficient than just doing pairwise deletion. If in doubt, you can always examine a question like this with a simulation study. Below is a simple example using R to simulate two time series, $X_t$ and $Y_t$, that are stationary and that are uncorrelated. I first calculate the observed correlation based on the full data. Then I induce random missingness on 50% of the $Y_t$ values. Then I calculate the correlation only based on the pairs of data points where $Y_t$ is not missing (i.e., pairwise deletion). And then I calculate the correlation as described above. I repeat this process many times and then calculate the mean correlation for each method (the three means should ideally be zero, indicating no bias in the estimators) and the standard deviation (indicating the efficiency of the estimators; smaller is obviously better). iters If I run this, I get: > round(apply(ri, 2, mean), 2) [1] 0 0 0 > round(apply(ri, 2, sd), 2) [1] 0.14 0.20 0.20 indicating no bias in the three estimators. The method that uses pairwise deletion is as efficient as the method that uses all of the information from $X_t$. So, apparently, you do not gain any efficiency in calculating the correlation by doing that. Suppose there is actually a trend in time in both series. This will in fact induce a correlation between the two series. You can simulate this by replacing the respective lines with: xt Rerunning the simulation yields: > round(apply(ri, 2, mean), 2) [1] 0.83 0.83 0.83 > round(apply(ri, 2, sd), 2) [1] 0.03 0.05 0.10 so all three estimators give you the same answer (on average). But pairwise deletion is actually now more efficient than using all available information from $X_t$. Edit: You can also induce a correlation between $X_t$ and $Y_t$ without a trend, for example, by replacing the respective lines with: xt Rerunning the simulation yields: > round(apply(ri, 2, mean), 2) [1] 0.7 0.7 0.7 > round(apply(ri, 2, sd), 2) [1] 0.07 0.11 0.15 and again, pairwise deletion is more efficient. So, I would say: No, don't do this.
