[site]: stackoverflow
[post_id]: 4484234
[parent_id]: 
[tags]: 
parsing a document with HTML::TableExtract [Perl] to fetch only some labels and values [row by row]

good evening dear community, first of all - i am very very happy that i have found this great place. I like this forum very very much, since it has a great and supportive community! I learn alot form you folks here! Each question has got some great reviewers and - each thread is a rich value and learning asset. Well i am farily new to Perl - and fairly new to this board here: i am currently workin out a little parser: i want to parse a table click here to see the target url- with the very simple table (some rows only) This page has a table: well a table with vaules and lables. We need to provide something that uniquely identifies the table in question. This can be the content of its headers or the HTML attributes. In this case, there is only one table in the document, so we don't even need to do that. But, what about to provide anything to the constructor, I would provide the class of the table. We do not want the columns of the table. The first column of this table consists of labels and the second column consists of values. To get the labels and values at the same time, we should process the table row-by-row. Well - can this be done like so: #!/usr/bin/perl use strict; use warnings; use HTML::TableExtract; use YAML; my $te = HTML::TableExtract->new( attribs => { class => 'bp_ergebnis_tab_info' }, ); $te->parse_file('t.html'); # here the file with the captured site is stored foreach my $table ( $te->tables ) { foreach my $row ($table->rows) { print " ", join(',', @$row), "\n"; } } See the results: martin@suse-linux:~/perl> perl parser_perl_nrw2.pl Use of uninitialized value $row in join or string at parser_perl_nrw2.pl line 17. Schuldaten, Schule hat Schulbetrieb Schulnummer,143960 Amtliche Bezeichnung,�Franziskusschule Kath. Hauptschule Ahaus - Sekundarstufe I - Strasse,Hof zum Ahaus 6 Plz und Ort,48683 Ahaus Telefon,02561 4291990 Fax,02561 42919920 E-Mail-Adresse,143960@schule.nrw.de Internet,http://www.franziskusschule.de ,Schule in �ffentlicher Tr�gerschaft WELL i want to get the data that are shown above - but if you see below - there are some more lines of text and code, ... talking like so. (/i want to´get rid of these following lines!!!) Use of uninitialized value $row in join or string at parser_perl_nrw2.pl line 17. ,Schülergesamtzahl,648 Use of uninitialized value $row in join or string at parser_perl_nrw2.pl line 17. ,Ganztagsunterricht,Ja (erweiterter Ganztagsbetrieb) Sonstiges,Teilnahme am Projekt 'Betrieb und Schule (BUS)' Use of uninitialized value $row in join or string at parser_perl_nrw2.pl line 17. Unterrichtsangebote, Use of uninitialized value $row in join or string at parser_perl_nrw2.pl line 17. Schule erteilt Unterricht in Fremdsprache(n)..., ,Englisch Question: how do i get rid of the unsanitized data! All is nice - but i want to get rid of the unsanitized data... that is very very ugly - and since i want to store the data into a database - i do not need the unsanitized data...! As allways: any and all help will be greatly appreciated - many thanks in advance! regards zero
