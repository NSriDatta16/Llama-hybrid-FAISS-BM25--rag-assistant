[site]: stackoverflow
[post_id]: 3942536
[parent_id]: 3942381
[tags]: 
You're not repeating unnecessarily, but I was confused because search_whois doesn't take a domain. I'd reorganize so search_whois is self-contained function search_whois($domain) { $ch = curl_init("http://co.za/cgi-bin/whois.sh?Domain=$domain"); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HEADER, 0); $output = curl_exec($ch); if (strpos($output, AVAIL) >= 0) { echo "Domain is available.\n" return true; } if (strpos($output, TAKEN) >= 0) echo "Domain is taken.\n"; else if (strpos($output, DATAMINE) >= 0) echo "Blocked for datamining, try again later.\n" return false; }
