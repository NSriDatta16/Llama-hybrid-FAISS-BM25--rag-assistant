[site]: stackoverflow
[post_id]: 3623826
[parent_id]: 3623664
[tags]: 
Another possibility is to partition the users-products table. MySQL 5.1 added table partitioning support: http://dev.mysql.com/doc/refman/5.1/en/partitioning.html Every time they want to update their list I have to retrieve the products they've selected, delete the products they have deselected, and then insert any new products. I'd like to point out that I think what will eventually happen is that the actual data will be scattered all over the storage space because you don't delete everything and then re-add it. The optimizer will probably see it more efficient to do a full scan than random seek all over the place with indexes. I don't know this for sure though.
