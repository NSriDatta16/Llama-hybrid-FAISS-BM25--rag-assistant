[site]: stackoverflow
[post_id]: 5250988
[parent_id]: 5250904
[tags]: 
Er, you were right until the last paragraph. Your total complexity is O(n logn) , logn to look up the type and n to list all the values in that type. If you're talking about listing everything, it's definitely not O(n^2 logn) , since getting all the values in your tree is linear. It would be O(n^2) . Doing the same thing with a flat list would be O(n logn) , so you're definitely losing performance (not to mention memory) by using a tree for this.
