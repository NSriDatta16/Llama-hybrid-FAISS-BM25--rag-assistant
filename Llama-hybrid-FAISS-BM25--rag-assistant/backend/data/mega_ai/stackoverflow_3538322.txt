[site]: stackoverflow
[post_id]: 3538322
[parent_id]: 
[tags]: 
Many-to-many data structure in Python

I have a data set of books and authors, with a many-to-many relationship. There are about 10^6 books and 10^5 authors, with an average of 10 authors per book. I need to perform a series of operations on the data set, such as counting the number of books by each author or deleting all books by a certain author from the set. What would be a good data structure that will allow fast handling? I'm hoping for some ready made module that can provide methods along the lines of: obj.books.add(book1) # linking obj.books[n].author = author1 obj.authors[m].author = book1 # deleting obj.remove(author1) # should automatically remove all links to the books by author1, but not the linked books I should clarify that I prefer not to use a database for this, but to do it all in memory. Thanks
