[site]: stackoverflow
[post_id]: 3902358
[parent_id]: 3902302
[tags]: 
That solution is not thread safe and when processing two requests (A and B), the later one will change the earlier one's current user mid request (which would be almost impossible to debug and extremely confusing to the user). Store the user (or the user id) in the current thread's storage. class User
