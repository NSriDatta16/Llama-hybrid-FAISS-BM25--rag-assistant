[site]: crossvalidated
[post_id]: 534994
[parent_id]: 
[tags]: 
Effect of non-independence of data on ANOVA and Kruskal-Wallis H-test

I have some data consisting of the number of people visiting a shop each day for the past few years. I would like to investigate whether there is a "day-of-week effect"; that is to say, I want to test the null hypothesis that the mean number of visitors for each day is the same, i.e. $H_0: \mu_1 = \mu_2 = \mu_3 = \mu_4 = \mu_5 = \mu_6 = \mu_7$ . I've done ANOVA on this data, and then tried the Kruskal-Wallis H-test because the number of visitors is not necessarily normally distributed. Neither of them found an effect at the $p=0.05$ significance level, but I am concerned that the use of these tests was not appropriate because the data is clearly not independent (if the number of visitors one day is very high, it is more likely that there will be more visitors than average the next day as well). My questions therefore are: Was the use of either of these tests appropriate? If not, why not? If independence makes the use of the tests inappropriate, is that because it makes us more likely to make a Type I error, or more likely to make a Type II error, or can either of these be true depending on the data? What would be an appropriate statistical test to use in this case? Many thanks!
