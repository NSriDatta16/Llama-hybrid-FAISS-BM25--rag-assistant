[site]: stackoverflow
[post_id]: 3593257
[parent_id]: 
[tags]: 
Premature end of script headers: php5 Symfony produces internal server error 500

I am running into an issue that is leaving me in a dead end so in turn, I turn to you! Recently a Symfony app has been going down rendering an internal apache error -500. After deleting the Symfony cache the site comes back up. Upon some further investigating I have found the error of "Premature end of script headers: php5". The site has not produced any errors like this in over 1year and we have not made any changes to this site and this has been happening regularly(once a week). The following is from the log files. [Sat Aug 28 06:20:30 2010] [error] [client 206.131.184.1] Premature end of script headers: php5 This email was also sent recently from MT, possibly related that I feel may directly relate to the issue. It has come to our attention that your service ----.com, has been generating an unusually large number of file system locks on the cluster which hosts your account. Websites or scripts which utilize NFS file locking incorrectly can often generate this error, which inordinately affects the performance of the cluster for other customers. This is a violation of our AUP which can be found at ' http://mediatemple.net/company/legal/aup_general.php '. We tracked the file locking issue to the following file which is being locked repeatedly: /domains/----.com/symfony/cache/frontend/prod/config/routing/symfony.routing.configuration.cache /domains/----.com/symfony/cache/frontend/prod/config/routing/symfony.routing.data.cache We recommend you immediately disable file locking for your scripts if the option is available (often located in the configuration section of the script); or use a different script which does not utilize file locking. Any future locking abuse by this script may result in the suspension of traffic to this domain to prevent the locking from affecting other customers. If you have any questions regarding this file locking issue, or are not sure where to begin with disabling file locking, please respond to this ticket for further assistance.
