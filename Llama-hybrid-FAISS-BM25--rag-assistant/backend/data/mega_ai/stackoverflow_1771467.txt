[site]: stackoverflow
[post_id]: 1771467
[parent_id]: 1771421
[tags]: 
I would take the 2nd option if it's important to retain the HTML structure of the original news item. A simple way to implement this would be to run your fragment through Tidy to close off any unclosed tags. In particular, see the tidy::cleanRepair method.
