[site]: stackoverflow
[post_id]: 2260150
[parent_id]: 
[tags]: 
Storing persistent session data in Rails without affecting normal session expiration

I'd like to store some persistent data for each browser (user settings), and don't want to require a login to use the site. What's the bset way to achieve this? I've considered two approaches: Store the info in the session cookie. The problem with this approach is that I would need to set the expiration time on the session cookie, which has the side effect of causing a user's login session to not expire when the browser closes. Store the info in the DB and store a retrieval key in a cookie on the client-side. I'm concerned about performance issues, as this would require additional queries and possibly some deserialization to retrieve the data. It looks like Rails switched its default from ActiveRecordStore a while back due to performance reasons: https://web.archive.org/web/20120102024844/https://www.ryandaigle.com/articles/2007/2/21/what-s-new-in-edge-rails-cookie-based-sessions What's the recommended way to achieve this?
