[site]: stackoverflow
[post_id]: 1001250
[parent_id]: 837639
[tags]: 
A possible approach is to constrain which files are compiled with the coverage flags (-fprofile-arcs -ftest-coverage). If you don't want to engineer your make file system to be selective about which files are built with test instrumentation, the following trick might work for you: Build your application without instrumentation. Remove the .o files for source that you want to instrument Turn on instrumentation and rebuild. Only the deleted object files will be rebuilt with instrumentation. Run lcov This should result in only the targeted areas emitting gcov artifacts, which are blindly consumed by the lcov scripts.
