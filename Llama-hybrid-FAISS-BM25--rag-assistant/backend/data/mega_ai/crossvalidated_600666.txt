[site]: crossvalidated
[post_id]: 600666
[parent_id]: 600632
[tags]: 
What you have is an $M/M/2/3$ queue with $1$ waiting capacity (the last $3$ refers to the maximum number of people in the system.) The queue occupancy probabilities are found in the general case $(M/M/c/K)$ using the following formulae, which give the probability $p_n$ of $n \, (0 \leq n \leq K)$ people in the system: $$\begin{align} p_n &=& &{\lambda^n \over n!\mu^n}p_0 && 1 \leq n $p_0$ can be derived from the condition that the probabilities must sum to 1. The probability that the system is full at any time is: $$p_c = {r^K \over c^{K-c}c!}p_0 $$ where $r = \lambda / \mu$ . Since Poisson Arrivals See Time Averages (PASTA) , the fraction of arrivals that will see $K$ people in the queue when they arrive and will leave as a consequence is equal to the probability that there are $K$ people in the queue in the steady state. In your case $r = 2$ and $K = 3$ , giving: $$p_0 + \left(2 + {2^2\over 2} + {2^3 \over 2\cdot 2}\right)p_0 = 1 $$ resulting in $p_0 = 1/7$ and, after some minor calculation, $p_3 = 2/7$ . We can demonstrate the $M/M/c/K$ queue result with a little simulation. Here we make use of the fact that since all the interarrival times are distributed Exponentially, time is irrelevant; we have a continuous time Markov chain, and the transition probabilities are independent of time due to the memoryless property of the Exponential distribution. lambda 2/7 [1] 0.2857143
