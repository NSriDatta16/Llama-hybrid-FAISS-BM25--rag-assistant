[site]: stackoverflow
[post_id]: 4708241
[parent_id]: 
[tags]: 
Convertor on ImageSource - convert image to grayscale

I have multibinding on Image control. I bind two properties one is type of bool(IsLogged) and one is typeof Uri (ProfilePhoto). XAML: I create converter, which convert BitmapImage to gray scale if property IsLogged is false. It look like this: public class AvatarConverter : IMultiValueConverter { public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture) { var image = values[0] as BitmapImage; string s = values[1].ToString(); bool isLogged = System.Convert.ToBoolean(s); if (!isLogged) { try { if (image != null) { var grayBitmapSource = new FormatConvertedBitmap(); grayBitmapSource.BeginInit(); grayBitmapSource.Source = image; grayBitmapSource.DestinationFormat = PixelFormats.Gray32Float; grayBitmapSource.EndInit(); return grayBitmapSource; } return null; } catch (Exception ex) { throw ex; } } return image; } public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture) { throw new NotImplementedException(); } } It works good if only I bind on image source property type fo BitmapImage, but I need bind property type of Uri. I have a fear of the creation variable BitmapImage in converter and as source use Uri. An return this variable as Source of image. I think this is not ideal way. Maybe I am wrong. What is your opinion Some elegant solution?
