[site]: stackoverflow
[post_id]: 4338816
[parent_id]: 4338538
[tags]: 
Facelets is a XML based view technology which uses XHTML+XML to generate HTML output. XML has five special characters which has special treatment by the XML parser: the start of a tag. > the end of a tag. " the start and end of an attribute value. ' the alternative start and end of an attribute value. & the start of an entity (which ends with ; ). In case of , the XML parser is implicitly looking for the tag name and the end tag > . However, in your particular case, you were using as a JavaScript operator, not as an XML entity. This totally explains the XML parsing error you got: The content of elements must consist of well-formed character data or markup. In essence, you're writing JavaScript code in the wrong place, a XML document instead of a JS file, so you should be escaping all XML special characters accordingly. The must be escaped as &lt; . So, essentially, the for (var i = 0; i must become for (var i = 0; i &lt; length; i++) { to make it XML-valid. However, this makes the JavaScript code harder to read and maintain. As stated in Mozilla Developer Network's excellent document Writing JavaScript for XHTML , you should be placing the JavaScript code in a character data (CDATA) block. Thus, in JSF terms, that would be: The XML parser will interpret the block's contents as "plain vanilla" character data and not as XML and hence interpret the XML special characters "as-is". But, much better is to just put the JS code in its own JS file which you include by , or in JSF terms, the . This way you don't need to worry about XML-special characters in your JS code. Additional advantage is that this gives the browser the opportunity to cache the JS file so that average response size is smaller. See also: The entity name must immediately follow the '&' in the entity reference Is it possible to use JSF+Facelets with HTML 4/5? How to reference CSS / JS / image resource in Facelets template? Writing JavaScript for XHTML
