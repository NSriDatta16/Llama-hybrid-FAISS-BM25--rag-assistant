[site]: crossvalidated
[post_id]: 619829
[parent_id]: 
[tags]: 
For a time-series cross-sectional (TSCS) data, how does one account for 'future' treatment history while calculating ATE/ATC/ATT?

I refer to this seminal paper ( Matching Methods for Causal Inference with Time-Series Cross-Sectional Data ) by Kosuke, In Song and Erik. Context In the paper, the authors propose the use of a two-layer adjustment to the typical DiD estimator - (1) treatment history matching and (2) refinement methods such as PS weights / matching, Mahalanobis distance - to adjust for bias and balance covariates. The crazy thing about this proposed methodology is that one is able to have a TSCS dataset where treatment is staggered and reversed, but still be able to find the causal quantity of interest (ATT, ATC, ATE) not only contemporaneously but also for a $T+F$ period, where $F$ is the number of time periods after the baseline period $T$ occurs. The authors have since also released a code implementation of this on an R package PanelMatch . Question My question for those that are familiar with the paper is however this: Say for example I am trying to understand how a sales rebate impact product sales quantity bought by a customer. In this case, $D=1$ when sales rebate is given for the month, and $D=0$ otherwise. I am interested in knowing both the contemporaneous effects and the effects in the subsequent months. Given that treatment is allowed to be reversed, and that we allow for the calculation of causal quantity of interest for $F$ period (where if $F=0$ then contemporaneous), how do the authors account for variation in treatment statuses in the 'future' in both matched control and treated units when calculating a quantity of interest? Two examples of the variations below: Control unit (i.e. $D=0$ when $t=T$ ) switches to $D=1$ at $T+f$ , where $f ? Wouldn't this affect the construction of the counterfactual 'control'? If treated units have different treatment status after $t=T$ , where one treated unit may have the following sequence for $t=[T,T+3]$ of (1, 1, 0, 0) vs another which may have (1, 0, 0, 0)? (i.e., $F = 3$ ) wouldn't it affect the calculation of the average ATT across treated population? The authors alluded to this under Page 10 of the paper in the following quote, but appear to chalk it up to an exception as far as I can tell: When researchers are interested in a non-contemporaneous treatment effect (i.e. $F>0$ ), the ATT defined in Equation (8) does not specify the future treatment sequence. As a result, the matched control units may include those units who receive the treatment after time $t$ but before the outcome is measured at time $t+F$ . Similarly, some treated units may return to the control conditions between time $t$ and time $t+F$ . In addition, I am also keen to understand that if there is a solution to this, whether this may have already been addressed in PanelMatch . This will be incredibly helpful to know. Thank you all!
