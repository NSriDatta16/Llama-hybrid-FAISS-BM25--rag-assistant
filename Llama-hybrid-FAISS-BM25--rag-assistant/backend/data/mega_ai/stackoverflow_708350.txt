[site]: stackoverflow
[post_id]: 708350
[parent_id]: 
[tags]: 
Ruby regular expression help using match to extract pieces of HTML doc

I have an HTML document of this format: Bill Gussio Contact Phone Home Work Screen Name: bhjiggy Email 1: wmgussio@erols.com Mobile: 2404173223 NY New York 78642 MD Owings Mills 21093 Eddie Osefo Contact Phone Home Work Screen Name: eddieOS Email 1: osefo@wam.umd.edu So it alternates - chunk of contact info and then a "contact separator". I want to grab the contact info so my first obstacle is to grab the chunks in between the contact separator. I have already figured out the regular expression using rubular. It is: / ((.|\s)*?) / You can check on rubular to verify that this isolates chunks. However my big issue is that I am having trouble with the Ruby code. I use the built in match function and make prints, but do not get the results I expect. Here is the code: page = agent.get uri.to_s chunks = page.body.match(/ ((.|\s)*?) /).captures chunks.each do |chunk| puts "new chunk: " + chunk.inspect end Note that page.body is just the body of the HTML document grabbed by Mechanize. The HTML document is much larger but has this format. So, the unexpected output is below: new chunk: "Bill Gussio \r\n\t \r\n\t\t Contact \r\n\t\t Phone \r\n\t\t Home \r\n\t\t Work \r\n\t \r\n\t \r\n\t\t Screen Name: bhjiggy Email 1: wmgussio@erols.com \r\n\t\t Mobile: 2404173223 \r\n\t\t NY New York 78642 \r\n\t\t MD Owings Mills 21093 \r\n\t \r\n\t\r\n\t " new chunk: ">" There are 2 surprises here for me: There are not 2 matches that contain the chunks of contact info, even though on rubular I have verified that these chunks should be extracted. All of the \r\n\t (line feeds, tabs, etc.) are showing up in the matches. Can anyone see the issue here? Alternatively, if anyone knows of a good free AOL contacts importer, that would be great. I have been using blackbook but it keeps failing for me on AOL and I am attempting to fix it. Unfortunately, AOL has no contacts API yet.
