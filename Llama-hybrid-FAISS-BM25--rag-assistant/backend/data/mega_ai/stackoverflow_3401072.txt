[site]: stackoverflow
[post_id]: 3401072
[parent_id]: 
[tags]: 
Should I be using AdornerLayer to avoid clipping my adorner off-screen?

I'm writing some WPF code involving Adorners. I'm using Josh Smith's UIElementAdorner.cs (found in the project on his Infragistics Blog ). I'm adorning with a blurb of information text. I need to place my adorner smartly, so that it does not clip off the screen. What's the best way to find out if I'm going to clip? I'm using the following code to create and place my adorner. I have a funny feeling that basing whether or not I'll clip on the AdornerLayer isn't the best option. var infoBubble = new InfoBubble {InformationText = @"I like cheese."}; var adornedElementRect = new Rect(Target.DesiredSize); var layer = AdornerLayer.GetAdornerLayer(Target); var adorner = new UiElementAdorner (Target) { Child = infoBubble }; adorner.Measure(new Size(layer.ActualWidth, layer.ActualHeight)); var adornerRect = new Rect(adorner.DesiredSize); var top = -1*(adornerRect.Height); var left = adornedElementRect.Width/2; // Using layer to judge where to place the adorner var upperLeftPoint = Target.TranslatePoint(new Point(left, top), layer); var lowerRightPoint = Target.TranslatePoint(new Point(left + adornerRect.Width, top + adornerRect.Height), layer); if (upperLeftPoint.Y layer.ActualWidth) left -= (lowerRightPoint.X - layer.ActualWidth); // shift left Keep in mind that this code is contained in a TargetedTriggerAction that designers (aka users of Blend) are expected to use when they want information blurbs above certain UI elements. Thus, this code will know very little about the element to be adorned or its environment.
