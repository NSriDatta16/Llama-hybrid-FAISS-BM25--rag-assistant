[site]: stackoverflow
[post_id]: 5423569
[parent_id]: 
[tags]: 
Binding a collection of data objects in a model to a group of controls in a view (WPF)

another WPF question from me here. I currently have a situation in which I need to bind an ObservableCollection of data objects in a model to a group of UserControls in a view. The number of data objects changes often, and I need to create these UserControls on the fly as the collection changes. The current code looks something like this: private void viewModel_PropertyChanged( object sender, PropertyChangedEventArgs e ) { if( e.PropertyName.Equals( "SomeCollection" ) ) { UpdateUI(); } } private void UpdateUI() { foreach( MyUserControl elem in _uiElements ) { elem.MouseLeftButtonDown -= elem_MouseLeftButtonDown; // more event handler unhooking _MyCanvas.Children.Remove( elem ); } _uiElements.Clear(); foreach( DataObj dataObj in ViewModel.DataObjects ) { MyUserControl newElem = new MyUserControl(); _uiElements.Add( newElem ); fpv.MouseLeftButtonDown += fpv_MouseLeftButtonDown; // more event handler hookups newElem.DataObject = dataObj; _MyCanvas.Children.Add( newElem ); Point dest = dataObj.ScreenPoint; Canvas.SetLeft( newElem, dest.X ); Canvas.SetTop( newElem, dest.Y ); } } So, as you can see, I respond (in code) to a property changed and dynamically create a group of new UserControls. This code is called when a corresponding data object is "Moved" (it contains a Point property), added, created, or the entire collection is set. The problem is that this can take (worst case with 100+ elements) one second or more, which is unacceptable. The controls themselves are simply; only a grid and a shape (Ellipse). TLDR; So, I suppose I'm asking if anyone out there has come across a similar situation. Dynamically creating controls in response to a change in a collection and adding/removing them from the UI, similar to how the ItemsSource property works in a ComboBox, ListBox, DataGrid, whatever. The catch is that these controls need to allow for mouse dragging and area laid out in arbitrary locations in a Canvas. Any help is appreciated, thanks in advance.
