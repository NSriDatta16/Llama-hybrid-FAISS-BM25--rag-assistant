[site]: stackoverflow
[post_id]: 3887840
[parent_id]: 3887702
[tags]: 
Dang - should have known the head first gang would port it. Anyway here's one solution: // HeadFirst.cpp : Defines the entry point for the console application. // #include "stdafx.h" class QuackBehavior { public: virtual void quack() = NULL; }; class Quack : public QuackBehavior { public: void quack() { printf("Quack"); } }; class Squeak : public QuackBehavior { public: void quack() { printf("Squeak"); } }; class Duck { public: QuackBehavior *pQuack; void performQuack() { if (pQuack!=NULL) pQuack->quack(); } void setQuackBehavior(QuackBehavior *qb) { pQuack = qb; } }; class MallardDuck : public Duck { public: MallardDuck() { pQuack = new Quack(); } }; int _tmain(int argc, _TCHAR* argv[]) { Duck *mallard = new MallardDuck(); mallard->setQuackBehavior(new Squeak()); mallard->performQuack(); return 0; }
