[site]: crossvalidated
[post_id]: 630968
[parent_id]: 630930
[tags]: 
I think there are multiple issues here. I don’t particularly see the point of the if else statement. You implemented a Gamma GLM so you can just do the emmeans posthoc comparison on the Gamma GLM object. It doesn’t seem there is any need to do a separate ANOVA for emmeans. emmeans and post hoc comparisons aren’t exclusive to an ANOVA, so just run it on GLM object. Additionally, ANOVA/Linear Model assume normality of residuals/errors and you are doing a test for normality of the response/outcome. This also seems incoherent since in your original test it is a Gamma GLM so you seem to be assuming there that this is a Gamma distributed outcome, but then you subsequently do a test to see if what you previously tested as Gamma distributed is normally distributed which begs the question which is it then? If it’s Gamma distributed and you’re doing a Gamma GLM, no need to check if normally distributed. Finally, it’s questionable whether a normality test is ever even useful. I wouldn’t recommend it. Rather than expanding on this point myself, may be better to read other literature and posts on topic: Is normality testing 'essentially useless'? Finally, Bonferroni may be appropriate in some specific use cases but on average and in general when trying to implement multiple comparisons control, Bonferroni will be overly conservative and very low in power. Benjamini-Hochberg FDR procedure more powerful Bonferonni versus FDR TL;DR: Why Bonferroni? What is your error control goal? Why a normality test if you’re doing Gamma GLM Normality test not useful as assumption is for normality of residuals Normality test is not useful in general anyways Why is there a need for an ANOVA here anyways?
