[site]: crossvalidated
[post_id]: 475835
[parent_id]: 475821
[tags]: 
This is not a full answer, but it may be helpful. We can model your problem as an absorbing Markov Chain . The possible states are $n$ -tuples of numbers between $0$ and $k$ , $$\mathcal{S} := \{0,\dots,k\}^n, $$ each state marking how often each number between $1$ and $n$ has already come up. (Of course, $n=6$ .) The transient states are those where all entries are strictly smaller than $k$ , $$\mathcal{S}_t := \{0,\dots,k-1\}^n\subset\mathcal{S}, $$ and the absorbing states are those with at least one entry equal to $k$ , $$\mathcal{S_a} := \{s\in\mathcal{S}\,|\,\exists i\colon s_i=k\}=\mathcal{S}\setminus\mathcal{S}_t. $$ We start in the state $(\underbrace{0,\dots,0}_{n \text{ times}})$ . In principle, it's easy to set up the transition matrix $P$ , but it's painful . There are $(k+1)^n$ states, which already for $n=6$ and $k=2$ is $3^6=729$ . There are various orderings possible on $\mathcal{S}$ , but none that appear to make the transition matrix $P$ very easy to work with abstractly. However, it should not be too hard to set $P$ up for a concrete (small) choice of $n$ and $k$ . (I'll admit that I didn't manage to make my calculations match simulations. It's rather late here.) However, once we do have $P$ , we can use a standard result on the expected number of steps to reach an absorbing state . Namely, we can reorder the states with the absorbing ones at the end and express $P$ in block diagonal form, $$ P = \begin{pmatrix} Q & R \\ 0 & I_{|\mathcal{S}_a|} \end{pmatrix}, $$ where $Q$ corresponds to transition probabilities between transient states only, $R$ to transition probabilities from transient to absorbing states, and $I_{|\mathcal{S}_a|}$ is an identity matrix (of size equal to the number of absorbing states $|\mathcal{S}_a|$ ). Now, let $N:=(I_{|\mathcal{S}_t|}-Q)^{-1}$ , and multiply $N$ by a vector of ones, $N1$ . The $i$ -th entry of this vector gives the expected number of steps until we reach an absorbing state when starting from the $i$ -th state. So we can just read off the entry in this vector that corresponds to our starting state. So, no formula, and unfortunately, I didn't get my little program to give me results that matched a quick simulation. However, you may be able to write your own program, or looking at the Markov chain literature may be helpful. (Note that $\mathcal{S}$ is a kind of $n$ -dimensional discrete cube, which may also be helpful in searching.)
