[site]: stackoverflow
[post_id]: 3509643
[parent_id]: 
[tags]: 
ORA-06502: PL/SQL: numeric or value error: character string buffer too small error

I have an oracle function which is given below. when I run this in sql-developer it gives an error ORA-06502: PL/SQL: numeric or value error: character string buffer too small error. However the DBMS_OUTPUT.PUT_LINE(FINAL_RESULT) line in the function is printing the expected output in the output window. Can anyone help me in this?? create or replace FUNCTION AVERAGE_WORKFORCE(PERIOD in varchar2, YR in varchar2) RETURN CLOB AS FINAL_RESULT CLOB:=null; STRING_QUERY_TEXT CLOB:=null; OUTPUT_RESULT CLOB:=null; BEGIN FINAL_RESULT:=' SENIOR DIRECTOR DIRECTOR EXECUTIVE MANAGER CASHIER EMPLOYEE '; STRING_QUERY_TEXT:='SELECT XMLElement("tuple",XMLElement("DESC",''Average number of registered employees''), XMLElement("PERMANENT_EMP",GET_COUNT_AVERAGE_WORKFORCE('''||PERIOD||''','''||YR||''',''SENIOR DIRECTOR'')), XMLElement("PERMANENT_EMP",GET_COUNT_AVERAGE_WORKFORCE('''||PERIOD||''','''||YR||''',''DIRECTOR'')), XMLElement("PERMANENT_EMP",GET_COUNT_AVERAGE_WORKFORCE('''||PERIOD||''','''||YR||''',''MANAGER'')), XMLElement("PERMANENT_EMP",GET_COUNT_AVERAGE_WORKFORCE('''||PERIOD||''','''||YR||''',''EXECUTIVE'')), XMLElement("PERMANENT_EMP",GET_COUNT_AVERAGE_WORKFORCE('''||PERIOD||''','''||YR||''',''CASHIER'')), XMLElement("PERMANENT_EMP",GET_COUNT_AVERAGE_WORKFORCE('''||PERIOD||''','''||YR||''',''EMPLOYEE''))) FROM DUAL'; EXECUTE_QUERY_RETURN_RESULT(STRING_QUERY_TEXT,OUTPUT_RESULT); FINAL_RESULT:=FINAL_RESULT||''||OUTPUT_RESULT; FINAL_RESULT:=FINAL_RESULT||''||' '; DBMS_OUTPUT.PUT_LINE(FINAL_RESULT); RETURN FINAL_RESULT; END AVERAGE_WORKFORCE;
