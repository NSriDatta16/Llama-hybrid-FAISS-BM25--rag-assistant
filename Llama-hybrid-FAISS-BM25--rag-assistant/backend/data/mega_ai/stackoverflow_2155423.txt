[site]: stackoverflow
[post_id]: 2155423
[parent_id]: 2155276
[tags]: 
I've a jsp page which loads many images. I'd like to cache the images for faster loading. This is a Good Thing TM . I'll explain my idea, please correct it if it's wrong. I'm calling the picture loading servlet for each image and return as a BLOB. My idea is to add a modified date with the image and the other values like Last-Modified, expires, Cache-control and max age. And thereby make the browser understand if the image changes. For that you actually need the ETag , Last-Modified and optionally also Expires header. With the ETag header both the server and client can identify the unique file. You can if necessary use under each the database key for this. With the Last-Modified header header both the server and client knows if they both have the same version of the file. With the Expires header you can instruct the client when to re-request the file the firstnext time (thus, when the date as specified in Expires has been expired). The Cache-Control header is not so relevant here as you just want to allow caching and the average client already does that by default. For more information and a servlet example, you may find this article useful and maybe also this article for the case you'd be interested in tuning performance of a JSP/Servlet webapplication. But how can i append a modified date to a BLOB? Or is there some better ideas to make them cachable? Just add one more column to the database table in question which represents the insertion date. In most DB's you can just use now() function for this or even create it as an auto-trigger so that it get set automatically on every insert/update.
