[site]: stackoverflow
[post_id]: 2396606
[parent_id]: 2396456
[tags]: 
When embedding pattern matches inside other pattern matches you need to encase the embedded match with either ( ... ) or begin ... end (syntactic sugar for parentheses): let ch_in = try Some (open_in input_file) with _ -> None in match ch_in with | Some x -> (try proc_lines x with End_of_file -> close_in x) | None -> () ;;
