[site]: stackoverflow
[post_id]: 4470348
[parent_id]: 
[tags]: 
Makefile - Copy header files from multiple folders into one include folder with dependecies

I have multiple files in various folders that I need to copy to one include folder: Before make ../security/security_features.h ../this/this_features.h [etc] ../that/that_features.h After make ./include/security_features.h ./include/this_features.h [etc] ./include/that_features.h The files in the ./include folder all need to be dependent on the files in the various folders. Makefiles are a bit of a mystery to me, I have tried to read the manuals and understand how to make dependencies: ./include/security_features.h: ../security/security_features.h @cp -av $ But I'll have to do this for all my files - is there another more elegant way? Ideally I'd just like to write a Makefile variable of the various files in the scattered folders and the makefile know to copy all the files in that variable to the include folder. Any Makefile gurus out there? Thanks, Matt UPDATE: I have managed to do the list of files as such: INCLUDES_SRC := ../security/security_features.h ../this/this_features.h INCLUDES_DST := $(addprefix ./include/,$(notdir $(INCLUDES_SRC))) And can make one dependent on the other: $(INCLUDES_DST): $(INCLUDES_SRC) @cp -av $ However this just copying the first prerequisite ( ../security/security_features.h ) both times to the two targets ( ./include/security_features.h , ./include/this_features.h ): '../security/security_features.h' -> './include/security_features.h' '../security/security_features.h' -> './include/this_features.h' So I now have a make variable list of src and destination locations for files - anyone know how to copy all the files in turn? Thanks Matt
