[site]: stackoverflow
[post_id]: 3239353
[parent_id]: 2697944
[tags]: 
Another idea is to embed something like the ANSI escape codes but they are quite extensive, with color just a smallish subset of them. So I'd recommend embedding color codes in the output strings, using a section of the Unicode Private Use Area (PUA) in the Basic Multilingual Plane (BMP) and a basic parser/renderer. BTW the console color settings are global to the process, so if multiple threads are generating colored output each block needs to be surrounded by a critical section to avoid "color confusion". Since its a bit long to put inline I've uploaded the sample source to my site.
