[site]: stackoverflow
[post_id]: 1365424
[parent_id]: 1365309
[tags]: 
In the past I have created test fixtures in the same namespace and assembly as the class under test to test internal methods. I'm not saying whether internal methods should be tested or not. Pragmatically, you might test them then refactor later. I have also created partial classes to test private methods and used a compiler directive around the entire part (which was in its own file). Again, not saying this is best, but sometimes you need to move forward. At build time we could run the unit tests in Debug or Release mode, and we could strip the test code from either build if desired, so there was no harm in putting the test code with the code under test; if anything, it's similar in argument to code-and-data-together = object or object-and-doc-comments = documented-object. In other words: code-and-data-and-test-and-doc-comments-together = cohesive-unit. An extra time during the build was negligible.
