[site]: crossvalidated
[post_id]: 285932
[parent_id]: 
[tags]: 
Updating a belief using a particle filter

I am using a particle filter to update a belief (the context is the POMCP algorithm found in Silver & Veness, "Monte-Carlo Planning in Large POMDPs"). A belief is represented as a probability mass function over states $x$ in a state-space $\mathcal{X}$. Let us denote the belief by $p(x)$. Assume that we do not know $p(x)$ precisely, but we have approximated it by a set of $K$ particles. Call this approximate belief $p_a(x)$. Let us have access to inputs $u$ from some space of inputs $\mathcal{U}$. The inputs cause the current state to probabilistically transition to a new state $x'$ and generate a resulting observation $o$ from a space of observations $\mathcal{O}$. Assume that we have a generative model $\mathcal{G}$ -- the generative model takes as input a state $x\in\mathcal{X}$ and an input $u\in\mathcal{U}$ and generates a sample consisting of a next state $x'$ and observation $o$. Let the current (approximate) belief be $p_a(x)$ and assume that we have applied an input $u_r\in\mathcal{U}$ and received an observation $o_r$. We wish to form an approximate updated belief, called it $p'_a(x)$. The procedure for updating the belief, for a given input $u$, is as follows: Sample $x$ from $p_a(x)$ Use $x$ and the given input $u_r$ to generate a sample: $(x',o)\sim\mathcal{G}(x,u_r)$ If the sample observation $o$ is equal to the observation $o_r$, then accept the new state particle $x'$ by adding it to the updated belief approximation $p'_a(x)$. Repeat until $K$ particles have been added. This procedure usually works well. We run into issues; however, when the received observation $o_r$ is very rare, making it unlikely that a particle will pass the $o == o_r$ test and causing the procedure to run a very long time (possibly never successfully adding $K$ particles). Question: Is there a way to approximate the above procedure? Specifically, given an $\epsilon$, can we accept a particle if the received observation is "close enough" to the sample observation (defined by some metric, $d(o,o_r) I'm unsure if such an approach has been proposed in the past (I'm not even sure how to define an appropriate $d()$).
