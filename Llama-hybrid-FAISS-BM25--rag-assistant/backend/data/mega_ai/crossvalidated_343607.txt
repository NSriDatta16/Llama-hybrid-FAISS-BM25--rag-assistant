[site]: crossvalidated
[post_id]: 343607
[parent_id]: 343579
[tags]: 
There is no general solution to the anomaly problem, but you can address specific cases. For example. Are the "previous 20" all trusted cases (i.e. not anomalies)? If they are short pieces of time series all of equal length, you could do a functional PCA, hopefully work with one or two principal components, and then assess if your new curve departs significantly from the others on the basis of the first and/or second PC scores. Are you primarily distinguishing smooth functions from jagged ones? I recently used double exponential smoothing in a case like this. With smooth data, exponential smoothing will optimize with a beta value close to 1 and an alpha close to 0 (it basically tries to grab first differences of the data as it attempts to estimate the derivative of the function). When you apply those parameter values to a jagged portion of the series, your forecast values will depart markedly from your actual values -- so the sequence of anomalies you get will be an indication that you have departed smooth territory.
