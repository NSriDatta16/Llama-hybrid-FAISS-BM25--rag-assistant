[site]: stackoverflow
[post_id]: 4039190
[parent_id]: 2603276
[tags]: 
Transparency is a problem. The only window that support per-pixel transparency are WS_EX_LAYERED windows. These windows were designed for uses like drag-drop icons, and that leads to problems in every other usage. Using D2D with WS_EX_LAYERED windows requires that you use a DXGI render target. To EndDraw, you get a DC out of the render target then pass that into the layered window and tell the layered window to update itself. (Try this with a HWNDRenderTarget - it will probably crash the device driver). I suspect your window appears transparent because it's not drawing at all. Another gotcha you may run into... if the window is sufficiently transparent, mouse clicks will go through it to the underlying window.
