[site]: stackoverflow
[post_id]: 5523467
[parent_id]: 
[tags]: 
Entity Framework 4 - Username and Email columns unique problem

I have a User entity in my entity model: Username and Email should be unique but for now EF4 doesn't support this. So I wrote this code to ensure uniqueness : public void CreateNewUser(string i_UserName, string i_Email) { using (ModelContainer context = new ModelContainer()) { User usr; usr = context.UserSet.Where(u => u.Username == i_UserName).SingleOrDefault(); if (usr != null) throw new Exception("Username not unique"); usr = context.UserSet.Where(u => u.Email == i_Email).SingleOrDefault(); if (usr != null) throw new Exception("Email not unique"); context.UserSet.AddObject(new User() { Username = i_UserName, Email = i_Email }); context.SaveChanges(); } } If this is right approach, do I have way to automatically preform this code whenever context.UserSet.AddObject() is called? Or a more elegant way does exist?
