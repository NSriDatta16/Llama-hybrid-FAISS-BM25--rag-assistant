[site]: stackoverflow
[post_id]: 1931953
[parent_id]: 
[tags]: 
Submit Not Triggering Appropriate Accept Headers Using form_remote_tag

The form_remote_tag seems to generate the correct html, but format.html is rendered instead of format.js. The two most common answers to format.html being rendered instead of format.js are renaming the file * .rjs to * .js.rjs and making sure the the javascript files are actually loaded. Both of these have been done. Let me know if there's any other information I can provide. [edit] create.js.rjs has been added below. [/edit] Rails 2.3.2 view/projects/show.html.erb { :controller => :milestones, :action => :create } #:update => 'milestone-list', #:url => { :controller => "milestones", :action => :ajax_create}, #:position => 'bottom' %> 'milestones/form' %> " /> milestones_controller.rb def create @milestone = Milestone.new(params[:milestone]) respond_to do |format| if @milestone.save flash[:notice] = 'Milestone was successfully created.' format.js {render :layout => false } format.html { render :show }#redirect_to(@milestone) } format.xml { render :xml => @milestone, :status => :created, :location => @milestone } else format.html { render :action => "new" } format.xml { render :xml => @milestone.errors, :status => :unprocessable_entity } end end end headers (domain names and ips have been changed. The server is mongrel with apache setup as proxy) * ACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 * HOST: 127.0.0.1:8004 * X_FORWARDED_HOST: slate.project.mydevserver.com * VIA: 1.1 project.mydevserver.com * USER_AGENT: Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10.5; en-US; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6 * ACCEPT_LANGUAGE: en-us,en;q=0.5 * REFERER: http://slate.project.mydevserver.com/projects/2 * VERSION: HTTP/1.1 * X_FORWARDED_SERVER: project.mydevserver.com * X_FORWARDED_FOR: 1.2.3.4 * ACCEPT_CHARSET: ISO-8859-1,utf-8;q=0.7,*;q=0.7 * CONNECTION: Keep-Alive * ACCEPT_ENCODING: gzip,deflate generated html Title: Description: Days: create.js.rjs page.insert_html :bottom, 'milestone_list', "Hi"
