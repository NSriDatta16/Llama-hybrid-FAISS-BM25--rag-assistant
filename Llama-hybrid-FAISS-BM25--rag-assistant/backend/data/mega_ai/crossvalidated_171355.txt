[site]: crossvalidated
[post_id]: 171355
[parent_id]: 
[tags]: 
How to use PCA for prediction?

I have some doubts regarding PCA. I have 318 observations with 10 variables, and one response, which is the dataset I want to use for training and building the model. I did the PCA and found that the first 5 PCs account for 96% of the variance, so I plan to use these 5 for the model. In Matlab help the regression is done as follows: betaPCR = regress(y-mean(y), PCAScores(:,1:5)); But the coefficients are then transformed to the original uncentered variables: betaPCR = PCALoadings(:,1:5)*betaPCR; betaPCR = [mean(y) - mean(X)*betaPCR; betaPCR]; yfitPCR = [ones(n,1) X]*betaPCR; My question is: How can I find the model and how can I apply it to new, test dataset (100 observations with 10 variables and one response)? Should I use the transformed coefficients, and would the predicted y be centered? How can I use the calculated betaPCR on new data?
