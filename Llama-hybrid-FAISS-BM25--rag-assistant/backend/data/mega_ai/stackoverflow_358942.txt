[site]: stackoverflow
[post_id]: 358942
[parent_id]: 
[tags]: 
Unicode programming problems, php outputting raw code

I have a mysql database set as utf-8, and csv data set as utf-8, delimited by semicolons and enclosed by double quotes. The data Is seemingly imported fine, when doing a direct dump from the database. However when attempting to display one of the fields containing html by echoing out in PHP, part of the html code is displayed instead of the link text. Firefox sees the page as utf-8, so that is not the problem. this is a direct dump of the record of which contains the html field i am trying to output. It appears that the html is not finishing correctly perhaps. ARTICLE_NO ARTICLE_NAME SUBTITLE CURRENT_BID START_PRICE BID_COUNT QUANT_TOTAL QUANT_SOLD ACCESSSTARTS ACCESSENDS ACCESSORIGIN_END USERNAME BEST_BIDDER_ID FINISHED WATCH BUYITNOW_PRICE PIC_URL PRIVATE_AUCTION AUCTION_TYPE ACCESSINSERT_DATE ACCESSUPDATE_DATE CATEGORY CATPATH ARTICLE_DESC COUNTRYCODE LOCATION CONDITIONS REVISED PAYPAL_ACCEPT PRE_TERMINATED SHIPPING_TO FEE_INSERTION FEE_FINAL FEE_LISTING PIC_XXL PIC_DIASHOW PIC_COUNT ITEM_SITE_ID STARTS ENDS ORIGIN_END 220288560247 Ed Hardy Herren Shirt Rock & Roll Weiss XXL Neu & OVP 0.00 49.00 0 1 0 1.10.2008 16:22:09 6.10.2008 16:22:09 6.10.2008 16:22:09 fashionticker1 0 1 0 59.00 http://storage.supremeauction.com/flash/ebay2/10/49/76/10497654/13895964e.jpg 0 1 6.10.2008 16:21:47 6.10.2008 16:28:31 32315 0 \n \n \n\t\n \n \n \n \n \n \n \n\t#textfield {\n\t\ttop: 4px;\n\t\tright: 44px;\n\t\theight: 275px;\n\t\twidth: 365px;\n\t\toverflow:auto;\n\t}\n \n \n\n \n \n \n \n\t\n \n \n \n\t \n\t\t Ed Hardy Herren Shirt Rock & Roll Weiss XXL Neu & OVP \n\t\t \n\t\t \n\t\t \n\t\t\t \n\t\t\t\t \n\t\t\t \n\t\t \n\t\t Zur Auktion steht ein Exklusives ED HARDY Herren T-Shirt in weiÃŸer Farbe, orginalverpackt und mit Etikett in der GrÃ¶ÃŸe XXL. Das Shirt hat auf der Brust den Schriftzug &quot;Rock &amp; Roll Lives&quot; in Orange und Gelb besetzt mit Strass Steinen. Auf dem RÃ¼cken ist wie auf dem Foto zu erkennen eine hochwertiger Aufdruck mit dem Schriftzug &quot;Beast of Burden&quot; in Gelb gedruckt. Ich wÃ¼nsche Ihnen viel SpaÃŸ beim steigern und bitte beachten Sie auch meine anderen Angebote in Ebay!! 100% Orginal Top QualitÃ¤t zu Top Preisen Hochwertigste Materialien Aufwendige Stickerein Top Verarbeitung ExklusivitÃ¤t Pur Der Versand erfolgt mit der Deutschen Post. Preise fÃ¼r EU LÃ¤nder auf Anfrage Falls mehrere Produkte gekauft werden fallen nur einmal Versandkosten an!!!! Bitte per Mail vorher mitteilen Allgemeinen GeschÃ¤fts- und Lieferbedingungen (AGB) Diese AGBs gelten fÃ¼r alle Internet- Bestellungen und Auktionen: Anwendungsbereich: FÃ¼r VertrÃ¤ge gelten ausschlieÃŸlich diese GeschÃ¤ftsbedingungen. Abweichenden Regelungen wird widersprochen. Andere als die hierin enthaltenen Regelungen werden nur mit unserer ausdrÃ¼cklichen schriftlichen Anerkennung wirksam. Die gelieferte Ware bleibt bis zur vollstÃ¤ndigen Bezahlung Eigentum des VerkÃ¤ufers. Auktionsende: Nach Ende der Auktion erhÃ¤lt der HÃ¶chst bietende von uns eine email mit der KaufbestÃ¤tigung und den AGB. Bitte beachten Sie hierzu dringend, dass Ihre bei eBay hinterlegte email-Adresse aktuell ist, damit Sie sÃ¤mtliche Informationen zur Kaufabwicklung erhalten. Zahlungsbedingungen: Die Zahlung muss innerhalb von 7 Werktagen eingegangen sein. Ansonsten, stelle wir die Ware wieder ein und wir mÃ¼ssen dann leider eine Meldung bei eBay abgeben. Kann die Zahlung nicht rechtzeitig erfolgen, bitten wir um eine kurze Mail. Lieferungs- und Versandbedingungen: Lieferung der bestellten Ware nur nach vorheriger Bezahlung per Ãœberweisung, PayPal oder Nachname. Lieferung und Versand, nach Eingang des kompletten Betrages innerhalb des nÃ¤chsten Werktages. Versandkosten siehe Artikelbeschreibung. Bitte die gewÃ¼nschte Versandart angeben. Bei Mehrfach auktionen Sammellieferung mÃ¶glich. Impressum Robert Wehowski Lange str. 72 76530 Baden-Baden fashionticker@gmx.de Mit der Abgabe Ihres Gebotes geben Sie sich mit den GeschÃ¤ftsbedingungen einverstanden. Widerrufsbelehrung Widerrufsrecht Sie kÃ¶nnen Ihre VertragserklÃ¤rung innerhalb von einem Monat ohne Angabe von GrÃ¼nden in Textform (z. B. Brief, Fax, E-Mail) oder - wenn Ihnen die Sache vor Fristablauf Ã¼berlassen wird - durch RÃ¼cksendung der Sache widerrufen. Die Frist beginnt nach Erhalt dieser Belehrung in Textform, jedoch nicht vor Eingang der Ware beim EmpfÃ¤nger (bei der wiederkehrenden Lieferung gleichartiger Waren nicht vor Eingang der ersten Teillieferung) und auch nicht vor ErfÃ¼llung unserer Informationspflichten gemÃ¤ÃŸ Â§ 312c Abs. 2 BGB in Verbindung mit Â§ 1 Abs. 1, 2 und 4 BGB-InfoV sowie unserer Pflichten gemÃ¤ÃŸ Â§ 312e Abs. 1 Satz 1 BGB in Verbindung mit Â§ 3 BGB-InfoV. Zur Wahrung der Widerrufsfrist genÃ¼gt die rechtzeitige Absendung des Widerrufs oder der Sache. Der Widerruf ist zu richten an: Robert Wehowski Lange str. 72 76530 Baden-Baden email: fashionticker@gmx.de Widerrufsfolgen Im Falle eines wirksamen Widerrufs sind die beiderseits empfangenen Leistungen zurÃ¼ckzugewÃ¤hren und ggf. gezogene Nutzungen (z. B. Zinsen) herauszugeben. KÃ¶nnen Sie uns die empfangene Leistung ganz oder teilweise nicht oder nur in verschlechtertem Zustand zurÃ¼ckgewÃ¤hren, mÃ¼ssen Sie uns insoweit ggf. Wertersatz leisten. Bei der Ãœberlassung von Sachen gilt dies nicht, wenn die Verschlechterung der Sache ausschlieÃŸlich auf deren PrÃ¼fung - wie sie Ihnen etwa im LadengeschÃ¤ft mÃ¶glich gewesen wÃ¤re - zurÃ¼ckzufÃ¼hren ist. FÃ¼r eine durch die bestimmungsgemÃ¤ÃŸe Ingebrauchnahme der Sache entstandene Verschlechterung mÃ¼ssen Sie keinen Wertersatz leisten. PaketversandfÃ¤hige Sachen sind auf unsere Gefahr zurÃ¼ckzusenden. Sie haben die Kosten der RÃ¼cksendung zu tragen, wenn die gelieferte Ware der bestellten entspricht und wenn der Preis der zurÃ¼ckzusendenden Sache einen Betrag von 40 Euro nicht Ã¼bersteigt oder wenn Sie bei einem hÃ¶heren Preis der Sache zum Zeitpunkt des Widerrufs noch nicht die Gegenleistung oder eine vertraglich vereinbarte Teilzahlung erbracht haben. Anderenfalls ist die RÃ¼cksendung fÃ¼r Sie kostenfrei. Die Frist beginnt fÃ¼r Sie mit der Absendung Ihrer WiderrufserklÃ¤rung oder der Sache, fÃ¼r uns mit deren Empfang. Ende der Widerrufsbelehrung Diese Auktion wurde erstellt mit: Supreme Auction - die Software, Tool f&uuml;r die einfache Erstellung von professionellen Design Auktionen / Widgets. \n\t\t www.supreme-auction.de \n \t \n\t \n\t\t \n\t\tdocument.writeln(' ');\n\t\t \n\t\t \n\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t\t \n\t\t \n\t\t \t\t\n\t \n\t \n \n \n\n \n Supreme Auction: Kostenlose Startzeit, Bilder und Designs. Klick hier! \n \n \n \n \n \n \n\n \n \n supremeauctiononlinesoftware.flash.auction_de \n\n \n \n \n \n \n \n \n\n \n\t \n\t\t \n\t\tdocument.writeln(\n\t\t\t' '+\n\t\t\t' '+\n\t\t\t' '+\n\t\t\t' ');\n\t\t \n\t\t \n\t\t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \n\t\t \n\t\t supremeauctiononlinesoftware.automatic.gallery Supreme Auction: Kostenlose eBay Tools! Klick hier! \n\t \t\n \n \n \n \n \n\n \n\t \n\t\t \n\t\t\t\n\t\tdocument.writeln(\n\t\t\t' '+\n\t\t\t' '+\n\t\t\t' '+\n\t\t\t' ');\n\t\t \n\t\t\n\t\t \n\t\t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \t\t \n\t\t\t \n\t\t \n\t\t supremeauctiononlinesoftware.automatic.gallery Supreme Auction: Kostenlose eBay Tools! Klick hier! \n\t \t\n \n 77 Baden-Baden 1 0 1 0 -10006 1.00 0.00 1.00 0 0 1 77 NULL NULL NULL Where it should say Click here to continue it just shows: 1.00 ');\n\t\t \n\t\t The other html records display fine This is the code I am using to do so: Category ".$row['CATEGORY']." $result = mysql_query($sql); while ($row = mysql_fetch_array($result)) { echo " Article Number ".$row['ARTICLE_NO']." Article Name ".$row['ARTICLE_NAME']." Subtitle ".$row['SUBTITLE']." Username ".$row['USERNAME']." Total Selling ".$row['QUANT_TOTAL']." Total Sold ".$row['QUANT_SOLD']." Highest Bidder ".$row['BEST_BIDDER_ID']." Current Bid ".$row['CURRENT_BID']." Start Price ".$row['START_PRICE']." Buyitnow Price ".$row['BUYITNOW_PRICE']." Bid Count ".$row['BID_COUNT']." Start Date ".$row['ACCESSSTARTS']." End Date ".$row['ACCESSENDS']." Original End ".$row['ACCESSORIGIN_END']." Auction Type ".$row['AUCTION_TYPE']." Private Auction ".$row['PRIVATE_AUCTION']." Paypal Accepted ".$row['PAYPAL_ACCEPT']." Auction Watched ".$row['WATCH']." Finished ".$row['FINISHED']." Location ".$row['LOCATION']." Conditions ".$row['CONDITIONS']." Auction Revised ".$row['REVISED']." Cancelled ".$row['PRE_TERMINATED']." Shipping to ".$row['SHIPPING_TO']." Fee Insertion ".$row['FEE_INSERTION']." Fee Final ".$row['FEE_FINAL']." Fee Listing ".$row['FEE_LISTING']." Click for full description "; $lastImg = $row['PIC_URL']; echo " Picture Picture "; } } mysql_close($con); ?>
