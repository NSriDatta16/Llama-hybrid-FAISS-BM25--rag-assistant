[site]: stackoverflow
[post_id]: 3601972
[parent_id]: 
[tags]: 
Java Swing popup window losing focus and not repainting

I have a simple Java Swing GUI Form with a browse button. The browse button creates a new JFileChooser when it's clicked. However, if you click browse immediately after the window opens, the file chooser window seems to loose focus, showing the parent window behind it, but it refuses to repaint itself. I have to drag it off screen and back on again to get it to return to normal. I've tried to reduce my code to the simplest version that still has the problem. (It just makes a very large browse button. public class FormTest extends JFrame { private final int width = 490; private final int height = 400; private JPanel outerPanel; private static FormTest myTest; public static void main(String[] args) { try { UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName()); } catch( Exception e ) { e.printStackTrace(); } myTest = new FormTest(); myTest.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE); myTest.setResizable(false); myTest.addWindowListener(new WindowAdapter() { public void windowClosing(WindowEvent e) { closeWindow(); } }); myTest.setVisible(true); } public FormTest() { super("Convert Ratings"); this.setSize(width, height); initComponents(); } private void initComponents() { outerPanel = new JPanel(); outerPanel.setBorder(BorderFactory.createEmptyBorder(0, 0, 2, 0)); outerPanel.setLayout(new BoxLayout(outerPanel, BoxLayout.Y_AXIS)); outerPanel.add(Box.createRigidArea(new Dimension(0, 5))); JButton myButton = new JButton("browse"); myButton.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { JFileChooser fileChooser = new JFileChooser(); fileChooser.showOpenDialog(myTest); } }); outerPanel.add(myButton); this.add(outerPanel); } private static void closeWindow() { int result = JOptionPane.showConfirmDialog(myTest, "Are you sure you want to close the application?", "Question", JOptionPane.YES_NO_OPTION); if( result == JOptionPane.YES_OPTION ) { System.exit(0); } } } In this example, the browse button must be clicked immediately after the window opens and the bug will show itself after about 10 seconds. Any help or suggestions would be much appreciated. Thanks, B.J.
