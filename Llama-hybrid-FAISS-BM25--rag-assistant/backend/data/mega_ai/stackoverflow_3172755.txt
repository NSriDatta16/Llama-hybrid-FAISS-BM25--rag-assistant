[site]: stackoverflow
[post_id]: 3172755
[parent_id]: 3172699
[tags]: 
Use the correct tools to observe your memory usage, e.g. (on Windows) use Process Explorer and observe Private Bytes. Don't look at Virtual Address Space since that shows the highest memory address in use. Fragmentation is the cause of a big difference between both values. Also realize that there are a lot of layers in between your application and the operating system: the std::vector does not necessarily free all memory immediately (see tip of hkaiser) the C Run Time does not always return all memory to the operating system the Operating System's Heap routines may not be able to free all memory because it can only free full pages (of 4 KB). If 1 byte of a 4KB page is stil used, the page cannot be freed.
