[site]: stackoverflow
[post_id]: 5074974
[parent_id]: 
[tags]: 
How can I stop a JavaScript function from affecting a child element?

I have looked around for a solution to this problem, but it's so wonky that I doubt many people have considered it. A web application that I've recently inherited as a web administrator runs on Drupal (version 6). Unfortunately, I am unable to edit the Drupal install or create a custom theme until May due to other obligations that must be tended to first. First off, I realize and whole-heartedly agree that there are more efficient (and elegant) ways of solving this problem, but for the time being, this is what the client wants and is comfortable with implementing. Anyways, the old administrator was using Drupal to develop the site's navigation. The code that Drupal spits out on the HTML page is: Housing Housing Roster My Floor Photo Viewer Building Maintenance Reports Build Floor Report Submit Incident Report Submit Lockout Office Check In Package Check Out Building Package Check Out Campus Package Check Equipment Out Staff Pre Programs Post Program Programming Database Staff Downloads My account Log out The biggest concern I have with this output is that there is a ul element with the class attribute of "menu" nested inside of another ul element with the class attribute of "menu." The goal of the JavaScript function that I am writing is to Allow for jQuery to expand and collapse the child ul element whenever the respective li element with a class of "expanded" is clicked Change the href attribute of ONLY the li elements with a class of "expanded" to "javascript:void(null)" so that they don't redirect the user to any page Here is the JavaScript function that I've got going so far: $(function() { //Hide the nested lists $('ul.menu li.expanded ul.menu').hide(); //Change the destination of the header links $('ul.menu li.expanded a').attr("href", "javascript:void(null)"); //Toggle the display of the nested lists $('ul.menu li.expanded a').click(function() { $(this).next().slideToggle('normal'); }); }); This works just fine, except it changes the href attribute of the nested li elements to "javascript:void(null)" as well. Is there a way that I can alter my JavaScript function to make sure that it applies the new href attribute ONLY to the li elements with a class of "expanded" and not to the li elements with a class of "leaf?" At this point, I'm really only interested in an alteration of my JavaScript function. Like I said, I know and agree that there are better methods (such as altering the html output of the Drupal theme to begin with), but if I can get a quick fix in as a temporary solution while I rebuild the entire application, that would be awesome! Please let me know if you have any suggestions!!! THANKS!!!
