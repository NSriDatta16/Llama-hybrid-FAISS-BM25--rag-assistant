[site]: stackoverflow
[post_id]: 2601516
[parent_id]: 2601162
[tags]: 
Here's some code I did to convert a tab delimited data into CSV, and it comes in fine on my mac. Note that I have it set up to make me click to download, rather than pushing it to the browser. It's not a great solution (I'm pretty sure the code is crap) but it works for what I need it for. $input = $_POST['input']; //Remove commas. $replacedinput1 = str_replace(",", "-", $input); //remove tabs, replace with commas $replacedinput2 = str_replace(" ", ",", $replacedinput1); //create an array $explodedinput = explode(" ", $replacedinput2); //open the CSV file to write to; delete other text in it $opencsvfile = fopen("/var/www/main/tools/replace_tab.csv","w+"); //for each line in the array, write it to the file foreach($explodedinput as $line) { fputcsv ($opencsvfile, split(',', $line)); }; //close the file fclose($opencsvfile); //have the user download the file. /* header('Pragma: public'); header('Expires: Fri, 01 Jan 2010 00:00:00 GMT'); header('Cache-Control: must-revalidate, post-check=0, pre-check=0'); header('Content-Type: application/csv'); header('Content-Disposition: filename=replace_tab.csv'); */ //Or not, since I can't get it to work. echo " Download CSV File, then open in Numbers or Excel (Note, you may need to right click, save as.) .";
