[site]: stackoverflow
[post_id]: 3997316
[parent_id]: 
[tags]: 
Why urllib2 doesn't work for me?

I have installed 3 different python script on my ubuntu 10.04 32 bit machine with python 2.6.5. All of these use the urllib2 and I always get this error: urllib2.URLError: Why ? Examples: >>> import urllib2 >>> response = urllib2.urlopen("http://www.google.com") Traceback (most recent call last): File " ", line 1, in File "/usr/lib/python2.6/urllib2.py", line 126, in urlopen return _opener.open(url, data, timeout) File "/usr/lib/python2.6/urllib2.py", line 391, in open response = self._open(req, data) File "/usr/lib/python2.6/urllib2.py", line 409, in _open '_open', req) File "/usr/lib/python2.6/urllib2.py", line 369, in _call_chain result = func(*args) File "/usr/lib/python2.6/urllib2.py", line 1161, in http_open return self.do_open(httplib.HTTPConnection, req) File "/usr/lib/python2.6/urllib2.py", line 1136, in do_open raise URLError(err) urllib2.URLError: >>> response = urllib2.urlopen("http://search.twitter.com/search.atom?q=hello&rpp=10&page=1") Traceback (most recent call last): File " ", line 1, in File "/usr/lib/python2.6/urllib2.py", line 126, in urlopen return _opener.open(url, data, timeout) File "/usr/lib/python2.6/urllib2.py", line 391, in open response = self._open(req, data) File "/usr/lib/python2.6/urllib2.py", line 409, in _open '_open', req) File "/usr/lib/python2.6/urllib2.py", line 369, in _call_chain result = func(*args) File "/usr/lib/python2.6/urllib2.py", line 1161, in http_open return self.do_open(httplib.HTTPConnection, req) File "/usr/lib/python2.6/urllib2.py", line 1136, in do_open raise URLError(err) urllib2.URLError: UPDATE: $ ping google.com PING google.com (72.14.234.104) 56(84) bytes of data. 64 bytes from google.com (72.14.234.104): icmp_seq=1 ttl=54 time=25.3 ms 64 bytes from google.com (72.14.234.104): icmp_seq=2 ttl=54 time=24.6 ms 64 bytes from google.com (72.14.234.104): icmp_seq=3 ttl=54 time=25.1 ms 64 bytes from google.com (72.14.234.104): icmp_seq=4 ttl=54 time=25.0 ms 64 bytes from google.com (72.14.234.104): icmp_seq=5 ttl=54 time=23.9 ms ^C --- google.com ping statistics --- 5 packets transmitted, 5 received, 0% packet loss, time 4003ms rtt min/avg/max/mdev = 23.959/24.832/25.365/0.535 ms $ w3m http://www.google.com w3m: Can't load http://www.google.com. $ telnet google.com 80 Trying 1.0.0.0... telnet: Unable to connect to remote host: Connection timed out UPDATE 2: I am at home and I am using a router and an Access point :-. However I have just noticed that Firefox doesn't work for me. But chrome, synaptic and other browsers like Midori and Epiphany, etc does work. UPDATE 3: >>> useragent = 'Mozilla/5.0 (X11; U; Linux x86_64; en-US) AppleWebKit/534.3 (KHTML, like Gecko) Ubuntu/10.04 Chromium/6.0.472.62 Chrome/6.0.472.62 Safari/534.3)' >>> request = urllib2.Request('http://www.google.com/') >>> request.add_header('User-agent', useragent ) >>> urllib2.urlopen(request) Traceback (most recent call last): File " ", line 1, in File "/usr/lib/python2.6/urllib2.py", line 126, in urlopen return _opener.open(url, data, timeout) File "/usr/lib/python2.6/urllib2.py", line 391, in open response = self._open(req, data) File "/usr/lib/python2.6/urllib2.py", line 409, in _open '_open', req) File "/usr/lib/python2.6/urllib2.py", line 369, in _call_chain result = func(*args) File "/usr/lib/python2.6/urllib2.py", line 1161, in http_open return self.do_open(httplib.HTTPConnection, req) File "/usr/lib/python2.6/urllib2.py", line 1136, in do_open raise URLError(err) urllib2.URLError: UPDATE 4: >>> socket.setdefaulttimeout(50) >>> urllib2.urlopen('http://www.google.com') Traceback (most recent call last): File " ", line 1, in File "/usr/lib/python2.6/urllib2.py", line 126, in urlopen return _opener.open(url, data, timeout) File "/usr/lib/python2.6/urllib2.py", line 391, in open response = self._open(req, data) File "/usr/lib/python2.6/urllib2.py", line 409, in _open '_open', req) File "/usr/lib/python2.6/urllib2.py", line 369, in _call_chain result = func(*args) File "/usr/lib/python2.6/urllib2.py", line 1161, in http_open return self.do_open(httplib.HTTPConnection, req) File "/usr/lib/python2.6/urllib2.py", line 1136, in do_open raise URLError(err) urllib2.URLError: UPDATE 5: Wireshark results ( packet sniffer ): Firefox: http://bit.ly/chtynm Chrome: http://bit.ly/9ZjILK Midori: http://bit.ly/cKilC4 midori is another browser that works for me. Only Firefox doesn't work.
