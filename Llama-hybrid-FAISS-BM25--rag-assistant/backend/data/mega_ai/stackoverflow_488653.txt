[site]: stackoverflow
[post_id]: 488653
[parent_id]: 488635
[tags]: 
I'm not quite sure why you'd bother doing this, except as a learning exercise, but you're basically going to be persisting the information somewhere, if only for a relatively short time, and you need reasonable transactional semantics. Probably the simplest option would be to opt for a database; MySQL would be fine, and if you really don't need to store the data for a particularly long time, then you might as well use an in-memory table - use the MEMORY (or HEAP ) storage engine for this. Using a database in this manner means you don't have to worry too much about conflicting concurrent writes, etc.
