[site]: crossvalidated
[post_id]: 486156
[parent_id]: 
[tags]: 
Average treatment effect from matrix of individual posterior distributions

I'm trying to estimate the average treatment effect of an intervention using the potential outcomes framework in a classification problem. The analysis uses machine learning to learn $\hat{y} = f(Y, X, Z)$ with Y being a categorical outcome, X being a dichotomic treatment variable and Z being other covariates. By using a BART model, I get for each observation the posteriors $p_{0_{ij}} = P(\hat{y} = 1_{do:X = 0}|Z)$ and $p_{1_{ij}} = P(\hat{y} = 1_{do:X = 1}|Z)$ , forming two matrices ( $p_0$ and $p_1$ ) with $i$ rows for each observation and $j$ column for each posterior sample. My goal is to compute the posterior of the relative risk between the groups $X = 1$ vs $X = 0$ . I'd like to know if the following approach is correct: take the log of the ratio of $p_1$ over $p_0$ to get the $ i\times j$ log-RR matrix; take the column average to get a $j$ -long vector representing the posterior distribution of log-RR; exponentiate again to get the posterior distribution of RR. I noticed that the width of this posterior is quite wide, so I was wondering if I am missing something or it is something to be expected.
