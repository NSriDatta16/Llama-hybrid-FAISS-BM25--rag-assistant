[site]: stackoverflow
[post_id]: 5019573
[parent_id]: 
[tags]: 
Azure Logging with WebGet web service

I had an existing WCF web service that contains three WebGet handlers in one .cs file. These handlers make appropriate calls to other .cs files to handle the action. Now, I created an Azure project based on this web service by creating the Azure project and adding the existing solution. Now, I would like to use Trace.WriteLine for logging. I set up the .cscfg, .csdef, and Web.config files to allow for logging to Azure storage. However, I don't know where to set up the following info: //Get the default configuration DiagnosticMonitorConfiguration dmc = DiagnosticMonitor.GetDefaultInitialConfiguration(); //Set the schedule to transfer logs every 10 mins to the storage dmc.Logs.ScheduledTransferPeriod = TimeSpan.FromMinutes(10); //Start Diagnostics Monitor with the storage account configuration DiagnosticMonitor.Start("DiagnosticsConnectionString",dmc); I tried placing it in a separate internal static class that contains a logger method, but I get a RoleEnvironmentException:error when I run the web service. Since I do not have an OnStart() method in my web service class with the three WebGets, where do I put it to make sure that I have the diagnostic monitor started correctly, so that I can use Trace.WriteLine?
