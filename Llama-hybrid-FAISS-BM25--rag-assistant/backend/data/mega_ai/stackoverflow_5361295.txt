[site]: stackoverflow
[post_id]: 5361295
[parent_id]: 
[tags]: 
Dynamic Memory storage issue after realloc - C

For an assignment at school, we have to use structs to make matrices that can store a infinite amount of points for an infinite amount of matrices. (theoretical infinite) For the assignment I decided to use calloc and realloc. How the sizes for the matrix go is: It doubles in size every time its limit is hit for its points (so it starts at 1, then goes to 2, then 4 and so on). It also doubles in size every time a matrix is added as well. This is where my issue lies. After the initial matrix is added, and it goes to add the second matrix name and points, it gives me the following: B??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? B is the portion of it that I want (as I use strcmp later on), but the ? marks are not supposed to be there. (obviously) I am not sure why it is exactly doing this. Since the code is modular it isn't very easy to get portions of it to show exactly how it is going about this. Note: I can access the points of the matrix via its method of: MyMatrix[1].points[0].x_cord; (this is just an example) Sample code that produces problem: STRUCTS: struct matrice { char M_name[256]; int num_points[128]; int set_points[128]; int hasValues[1]; struct matrice_points * points; } * MyMatrix; struct matrice_points { int set[1]; double cord_x; double cord_y; }; Setup Matrix Function: void setupMatrix(){ MyMatrix = calloc(1, sizeof(*MyMatrix)); numMatrix = 1; } Grow Matrix Function: void growMatrix(){ MyMatrix = realloc(MyMatrix, numMatrix * 2 * sizeof(*MyMatrix)); numMatrix = numMatrix * 2; } Add Matrix Function which outputs this problem after growing the matrix once. void addMatrix(char Name, int Location){ int exists = 0; int existsLocation = 0; for (int i = 0; i
