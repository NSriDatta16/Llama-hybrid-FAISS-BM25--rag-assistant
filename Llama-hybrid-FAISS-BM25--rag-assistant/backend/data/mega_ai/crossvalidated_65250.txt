[site]: crossvalidated
[post_id]: 65250
[parent_id]: 40410
[tags]: 
The standard way to do this is usually through transforms. One starts with the transform of the outer variable, for a given outcome of the inner, and then averages over the resulting expression. Then one needs to go back. See for example page 77 in A. Gut "An intermediate course in probability". This is a standard undergraduate problem.
