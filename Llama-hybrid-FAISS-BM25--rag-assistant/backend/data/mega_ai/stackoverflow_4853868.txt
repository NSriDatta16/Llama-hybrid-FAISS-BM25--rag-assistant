[site]: stackoverflow
[post_id]: 4853868
[parent_id]: 4853241
[tags]: 
Extending by 1 every time is going to be somewhat inefficient. Usually, you'd extend by a chunk (either fixed size or a percentage of the current size), and then keep track of the physical size ( closesize ) separately from the array index (call it closeindex ): if (closeindex == closesize) { double *tmp = realloc(close, sizeof *tmp * (closesize + EXTENT)); if (tmp) { close = tmp; closesize += EXTENT; } else { // panic } } close[closeindex++] = ...; You can figure out a way to make this read a little more elegantly, I'm sure.
