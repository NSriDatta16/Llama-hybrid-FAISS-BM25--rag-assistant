[site]: crossvalidated
[post_id]: 623562
[parent_id]: 
[tags]: 
Constrained regression with multiple sum=0 constraints

this is my first post on this website so please advice me if I can add any relevant information. I'm running into a problem of how properly set up a model by using the Sum to zero constraint in Python. As a general overview: I need to estimate the so called "Barra Cross Sectional Model". I have 1-day returns of stocks, their exposures: Style factors: set of continuous variable, not an issue Country Factors: set of dummy variables Industry Factors: set of dummy variables Global Market Factor: value of 1 for all the stocks, let's say the intercept. Given the usual identification problem in presence of multiple dummy variable, I'd like to tackle it by imposing the sum to zero constraint on the Country and Industry variables. I'm trying to do it in Python by leveraging on the Patsy - Sum function. Not considering the continuous variables, which don't create issues in this context, I'd have the following formula: returns ~ C(industry, Sum) + C(country, Sum) Assuming I have only 3 industries (energy, financial, industrial) and 3 countries (France, Italy, US), I would get the estimated coefficients for: Intercept Energy Financial France Italy If I understood it correctly, the constrasts matrix let you estimate the effect by comparing it to the last value of each variable, so to get the dropped/hidden value for each group, I need to compute it as -(sum of the estimated labels). For industries, industrial it'd be -sum(Energy + Financial), and the same for countries. Do you think specifying the problem in this way, but most important my interpretation, is correct or I'm missing something? Thanks a lot in advance to all
