[site]: stackoverflow
[post_id]: 2648324
[parent_id]: 2306873
[tags]: 
Extracting the answer from the forum thread : The issue is fixed in TeamCity 5.1, but there's a hack to make it work in 5.0 Basically, you need to override the mechanism that sets the path to MSBuild.exe based on version of .NET framework specified in build runner part of the build configuration. To do that, create environment variable "MSBuild" and set it to %system.DotNetFramework4.0_x86_Path% (which is a variable automatically generated by the build runner when it detects that it has .NET 4.0 installed) The variable can either be created on the agent, in the buildAgent.properties file, in this case it should be named "env.MSBuild", and since it is defined globally, it will affect all projects built on this build agent. Or, it can be created inside the build configuration itself (then the name would be simply "MSBuild") -- in this case it will only apply to this build configuration.
