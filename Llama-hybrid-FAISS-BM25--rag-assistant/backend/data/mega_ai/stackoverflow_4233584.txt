[site]: stackoverflow
[post_id]: 4233584
[parent_id]: 
[tags]: 
Make difference between Select and Drag in WPF

I have some custom controls in my Canvas. That controls can be moved by drag and drop, or selected by click. Now, I implemented the Drag and Drop something like this: protected override void OnMouseLeftButtonDown(MouseButtonEventArgs e) { base.OnPreviewMouseLeftButtonDown(e); this.isDragInProgress = false; // Cache the mouse cursor location. this.origCursorLocation = e.GetPosition(this); // Walk up the visual tree from the element that was clicked, // looking for an element that is a direct child of the Canvas. var source = e.Source; var element = this.FindCanvasChild(source as DependencyObject); if (element == null || !(element is MyControl)) return; this.ElementBeingDragged = element; // Get the element's offsets from the four sides of the Canvas. this.draggedLeft = Canvas.GetLeft(this.ElementBeingDragged); this.darggedTop = Canvas.GetTop(this.ElementBeingDragged); // Set the Handled flag so that a control being dragged // does not react to the mouse input. e.Handled = true; this.isDragInProgress = true; } Now, my problem is that I can't select MyControl clicking on it... (there is no MouseClick event on the custom Control, nor MouseDown works now..) If I'll comment e.Handled = true; the control will change it selection when dragging, if don't comment it, the control will not change it selection at all.... (
