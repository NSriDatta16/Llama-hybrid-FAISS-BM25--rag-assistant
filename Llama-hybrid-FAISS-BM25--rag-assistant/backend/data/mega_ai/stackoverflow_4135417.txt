[site]: stackoverflow
[post_id]: 4135417
[parent_id]: 
[tags]: 
PHP cache control - possible to avoid ANY connection to the same url from browser?

Is it possible to avoid any connections from the browser at all if first response headers were set properly? /* Caching control */ $age = 3600*24*30; // 30 days header('Expires: ' . gmdate('D, d M Y H:i:s ', time() + $age) . 'GMT'); I have tried to setup this, but the request is reaching the server anyway. I have found this: The Expires header has the advantage that it's easy to implement; in most cases, however, unless you're a highly organized person, you won't know exactly when a given page on your site will be updated. Since the browser will only contact the server after the page has expired, there's no way to tell browsers that the page they've cached is out of date. In addition, you also lose some knowledge of the traffic visiting your web site, since the browser will not make contact with the server when it requests a page that's been cached. The question is, why does Expires header I mentioned above is not working? ** Request Headers ** GET /ru/templates/bannerpartial HTTP/1.1 Host: 192.168.1.3 User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.2.12) Gecko/20101026 AlexaToolbar/alxf-1.54 Firefox/3.6.12 FirePHP/0.4 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: ru-ru,ru;q=0.8,en-us;q=0.5,en;q=0.3 Accept-Encoding: gzip,deflate Accept-Charset: windows-1251,utf-8;q=0.7,*;q=0.7 Keep-Alive: 115 Connection: keep-alive Cookie: bla-bla-bla Cache-Control: max-age=0 ** Response headers ** HTTP/1.1 200 OK Date: Tue, 09 Nov 2010 16:48:26 GMT Server: Apache/2.2.14 (Unix) DAV/2 mod_ssl/2.2.14 OpenSSL/0.9.8l PHP/5.3.1 mod_apreq2-20090110/2.7.1 mod_perl/2.0.4 Perl/v5.10.1 X-Powered-By: PHP/5.3.1 Set-Cookie: ZDEDebuggerPresent=php,phtml,php3; path=/ Expires: Thu, 09 Dec 2010 16:48:26 GMT Cache-Control: must-revalidate Content-Encoding: gzip Vary: Accept-Encoding Content-Length: 118 Keep-Alive: timeout=5, max=100 Connection: Keep-Alive Content-Type: text/html
