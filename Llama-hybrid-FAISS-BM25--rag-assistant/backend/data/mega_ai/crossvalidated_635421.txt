[site]: crossvalidated
[post_id]: 635421
[parent_id]: 635418
[tags]: 
In your example of test scores, these variables might be similar enough to consider as the same. The specific course work will change, naturally. But you could map categorically (math, science, etc.) Using A,B,…F as categorical outcomes or percentages should work. I would avoid percentiles as you noted because this would introduce dependence. DiD models can allow for imbalance in the pre-treatment variable, but there’s an assumption that both group means are changing at the same linear rate. (No change is fine, too.) In example, suppose that control group test scores were already shifting, from C average to B average. And in treatment group, the average score was D. DiD parallel trends assumption would believe that over the same interval, treatment group means would increase to C average in the absence of any treatment (counter factual.) so the effect, if present, would be realized by an even bigger movement in the treatment group mean (B average or A average, for example.) You could also consider using grade point average as opposed to test scores from a specific course. Since this metric takes all coursework into account, it should be robust against situations like “these students took chemistry for the first time, which was categorically different from any previous coursework, unlike algebra 2 which was categorically similar to algebra 1”
