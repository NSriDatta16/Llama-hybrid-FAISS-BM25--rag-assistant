[site]: stackoverflow
[post_id]: 2906818
[parent_id]: 2906538
[tags]: 
Your code is so complex that there are no obvious faults. However, your next step should be to check the return value from lua_pcall . If it is nonzero, there will be an error message on the top of the stack which you can print via fprintf(stderr, "Pcall failed: %s\n", lua_tostring(state, -1)); If you don't get a useful error message, my next step would be to dump the Lua stack. How many elements are on it? What is the (Lua) type of each element? What is the value. Functions lua_top , and luaL_typename will be useful. To print the value you will have to switch on the results of lua_type . Good luck.
