[site]: crossvalidated
[post_id]: 585972
[parent_id]: 
[tags]: 
Does it make sense for a hierarchical regression model to use the same top-level factor in more than one hierarchy?

I’m creating a hierarchical model to predict student course grades in a given term based on a combination of student, course, and instructor characteristics. I'd also like to make inferences about relative importance of student academic background, instructor, and course on course grades. In my data, which is observational, each row represents the course grade for a given student in a given course. I'm thinking that there are three random-intercept hierarchies, one for students, one for courses, and one for instructors. However, all three of these hierarchies have college and department as the top two factors in the hierarchy (because students are nested within the department and college of their major, and courses and instructors are both nested within departments and colleges). Bear in mind, however, that "college" and "department" are different data columns in each hierarchy (but for instructor and course they have the same values in each observation). This is because for students, "college" and "department" represent the college and department of the student's major, whereas for instructors and courses, "college" and "department" represent the college and department that offers the course and employs the instructor. My question is whether having essentially the same factors in each hierarchy is in some way statistically invalid or at least ill-advised and, if so, what other options are there for accounting for these dependencies in a coherent way? (I'd also be interested in any other advice you might have about the design and fitting of this model.) These hierarchies seem to make sense based on subject knowledge because: Within each course, average grades vary quite a bit by instructor, both unconditionally and after adjusting for students’ incoming grade-point average and other characteristics, and different disciplines, on average, tend to have varying approaches to teaching and grading, Average course grades vary quite a bit by course, department, and college, A student’s choice of major likely carries information about the student's beyond the information in their academic/demographic background. Also, being in a given major and department likely affects student success in ways that might not be captured by the fixed-effect variables (for example, department "culture"). I assume I'd at least need a random intercept for each student, since most students take 3 to 6 courses, but it also seems to make sense to nest this inside major and department. Additional information that might be useful: The three random-intercept hierarchies: Students nested in concentrations, nested in majors, nested in departments, nested in colleges (there are multiple observations per student, because most students take multiple courses in a given semester), Courses nested in subjects, nested in departments, nested in colleges (each course is taken by multiple students and many courses are taught by multiple instructors). Instructors, nested in departments, nested in colleges (each instructor teaches multiple students and possibly multiple courses) I haven't included the course section in any hierarchy (many courses have multiple sections), but each section could be nested within the given instructor who happens to teach that section of a given course. This would probably carry additional information that could help predict grades. I’m fitting an ordinal bayesian model using the R brms package, which uses stan under the hood. The model formula with the full hierarchies looks something like this ( brms uses a formula syntax similar to that of the lme4 package), though the actual formula has more fixed effects: course.grade ~ student.variables + instructor.variables + instruction.mode + (1|college.of.major/department.of.major/major/concentration/student.id) + (1|college.of.course/department.of.course/subject/course) + (1|college.of.instructor/department.of.instructor/instructor) student.variables represent various student characteristics (for example, grade-point average at start of term, demographic factors, etc.) instructor.variables represent various instructor characteristics (for example, number of previous semesters they’ve taught the course, instructor rank (lecturer, assistant professor, full professor, etc.)). instruction.mode is whether the particular course section is delivered in person, online-synchronous, online-asynchronous, or online-hybrid. I’d like to extend the current formulation to include random slopes, and multiple semesters (making the model longitudinal) but the model is already very complex and I’m trying to build up my understanding before adding even more complexity.
