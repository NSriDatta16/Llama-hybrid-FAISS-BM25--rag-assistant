[site]: stackoverflow
[post_id]: 3866522
[parent_id]: 3866263
[tags]: 
I've used django-facebook-oauth in the past, but if you really want to roll your own solution then I'd suggest just looking through their source. From just glancing through it, the only thing I can see you doing differently is the &type=user_agent&display=popup in the URL. The app I linked you to doesn't appear to do that as far as I can tell.
