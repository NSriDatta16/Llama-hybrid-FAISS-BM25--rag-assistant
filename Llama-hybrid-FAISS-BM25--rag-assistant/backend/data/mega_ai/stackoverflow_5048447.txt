[site]: stackoverflow
[post_id]: 5048447
[parent_id]: 5048306
[tags]: 
Don't construct partitions. Describe what the partitions are (in constant space), and recursively select on this. Each subarray that quickselect recurses into can be described by its bounds (min and max element values, not their indexes). Iterating over a subarray so described requires O( n ) comparisons, which are made at every recursion level, up to the same depth as in quicksort: O(log n ) in the average case. Quicksort also makes O( n ) comparisons at every recursion level, while ordinary permuting quickselect makes O( n ) comparisons in total in the average case (because it always recurses into only one partition). Here's a sample implementation for distinct elements with an ordinary quickselect implementation for comparison.
