[site]: crossvalidated
[post_id]: 144743
[parent_id]: 144697
[tags]: 
From your input, you should use the "Cumulative Proportion" field as a guide how many principal components to keep. You define the percentage of variance and then you select the column (which is also the number of that principal component) which cumulatively accounts the variance you would like to keep. For 85% and more variance on your example, you would need to keep 7 principal components. Concerning the added plot, it might be more tricky to read it. In order to proceed as described in the previous paragraph, when you are given some percentage to keep, you would first integrate and then read off the value of needed components. Actually you have this information already, this is the very same "Cumulative Proportion" field. Just plot it and you will see. Finally about the (non)inclusion of class variable into the dataset to be analyzed with PCA. Your intent is to analyze the dataset given some measurements and not the class label. The class label is some additional information (typically posterior). You don't want it to be analyzed together with the dataset. It will be hard to interpret the maximum variance directions if the dataset included also the class variable.
