[site]: crossvalidated
[post_id]: 405063
[parent_id]: 405019
[tags]: 
I recommend taking a look at Lopez & Gutman (2017), who clearly describe the issues at hand and the methods used to solve them. Based on your description, it sounds like you want the average treatment effect in the control group (ATC) for several treatments. For each treatment level, this answers the question, "For those who received the control, what would their improvement have been had they received treatment A?" We can, in a straightforward way, ask this about all of our treatment groups. Note this differs from the usual estimand in matching, which is the average treatment effect in the treated (ATT), which answers the question "For those who received treatment, what would their decline had been had they received the control?" This question establishes that for those who received treatment, treatment was effective. The question the ATC answers is about what would happen if we were to give the treatment to those who normally wouldn't take it. A third question you could ask is "For everyone, what would be the effect of treatment A vs. control?" This as an average treatment effect in the population (ATE) question, and is usually the question we want to answer in a randomized trial. It's very important to know which question you want to answer because each requires a different method. I'll carry on assuming you want the ATC for each treatment. To get the ATC using matching, you can just perform standard matching between the control and each treatment group. This requires that you keep the control group intact (i.e., no adjustment for common support or caliper). One treatment group at a time, you find the treated individuals that are similar to the control group. After doing this for each treatment group, you can use regression in the aggregate matched sample to estimate the effects of each treatment vs. control on the outcome. To make this straightforward, simply make the control group the reference category of the treatment factor in the regression. Here's how you might do this in MatchIt : library(MatchIt) treatments $treat) #Levels of treatment variable control match.weights $treat %in% c(i, control),] #Subset just the control and 1 treatment d$ treat_i $treat != i) #Create new binary treatment variable m weights), "match.weights"] $weights[names(m$ weights)] #Assign matching weights } #Check balance using cobalt library(cobalt) bal.tab(treat ~ cov1 + cov2 + cov3, data = data, weights = "match.weights", method = "matching", focal = control, which.treat = .all) #Estimate treatment effects summary(glm(outcome ~ relevel(treat, control), data = data[data$match.weights > 0,], weights = match.weights)) It's a lot easier to do this using weighting instead of matching. The same assumptions and interpretations of the estimands apply. Using WeightIt , you can simply run library(WeightIt) w.out To get the ATE, you need to use weighting. In the code above, simple replace estimand = "ATT" with estimand = "ATE" and remove focal = "control" . Take a look at the WeightIt documentation for more options. In particular, you can set method = "gbm" , which will give you the same results as using twang . Note that I'm the author of both cobalt and WeightIt . Lopez, M. J., & Gutman, R. (2017). Estimation of Causal Effects with Multiple Treatments: A Review and New Ideas. Statistical Science, 32(3), 432â€“454. https://doi.org/10.1214/17-STS612
