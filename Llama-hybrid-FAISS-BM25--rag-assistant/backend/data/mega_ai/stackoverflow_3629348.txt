[site]: stackoverflow
[post_id]: 3629348
[parent_id]: 
[tags]: 
Averaging large amounts of data in SQL Server

It is desired to perform averaging calculations on a large set of data. Data is captured from the devices rather often and we want to get the last day's average, the last week's average, the last month's average and the last year's average. Unfortunately, taking the average of the last year's data takes several minutes to complete. I only have a basic knowledge of SQL and am hoping that there is some good information here to speed things up. The table has a timestamp, an ID that identifies which device the data belongs to and a floating point data value. The query I've been using follows this general example: select avg(value) from table where id in(1,2,3,4) timestamp > last_year Edit: I should clarify also that they are requesting that these averages be calculated on a rolling basis. As in "year to date" averages. I do realize that just simply due to the sheer volume of results, we may have to compromise.
