[site]: stackoverflow
[post_id]: 1281160
[parent_id]: 1280907
[tags]: 
I worked on a project awhile back that did something similar to what you're describing; our solution was to have a common HTML and send out a device-specific css file based on the User-Agent header. That way, you always leave a fallback (the raw HTML) and you're not constantly scratching your head worrying about implementations of XSLT or what the transformed XHTML looks like. EDIT: Just caught your comment on a good iPhone app not being just css and js. I would argue that a good CSS stylesheet would give you what you need; IE setting your menus as an absolutely positioned div either with top:0 or bottom:0, etc. The bonus with mobile development is that your window size isn't going to change, so it's not that hard to get pixel-perfect layout.
