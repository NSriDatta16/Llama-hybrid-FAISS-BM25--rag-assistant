[site]: stackoverflow
[post_id]: 5164761
[parent_id]: 
[tags]: 
Bluetooth server application using java WTK 2.5.2 crashes on launch

For the last few days, I've been developing an Android application which goal is to use the touch screen to move the cursor on my computer. I've first implemented the communication between the mobile phone and my computer using WiFi. Everything is ok but I'd like to be able to use bluetooth. On the phone side, everything is simple and easy. What I am not able to achieve is the bluetooth server. I've downloaded and (painfully) installed the Java Wireless Toolkit 2.5.2 and the JavaSE jdk. For now my code is very simple and looks like this : import java.io.IOException; import javax.bluetooth.*; import javax.microedition.io.*; public class BluetoothServer extends Thread { //private static LocalDevice localDevice; static LocalDevice localDevice; DiscoveryAgent agent; //start server private StreamConnection startServer() throws IOException{ System.loadLibrary("zayit"); //Create a UUID for SPP UUID uuid = new UUID(0x1101); //Create the servicve url String connectionString = "btspp://localhost:" + uuid +";name=SampleSPPServer"; //open server url StreamConnectionNotifier streamConnNotifier = (StreamConnectionNotifier)Connector.open( connectionString ); //Wait for client connection System.out.println("\nServer Started. Waiting for clients to connect..."); StreamConnection connection = streamConnNotifier.acceptAndOpen(); return connection; } } I've added external jars to get the import for javax.bluetooth and javax.microedition. The project builds normally but When I launch it, it crashes with following error : # A fatal error has been detected by the Java Runtime Environment: # # SIGSEGV (0xb) at pc=0xb27d6400, pid=25778, tid=2999303024 # # JRE version: 6.0_24-b07 # Java VM: Java HotSpot(TM) Server VM (19.1-b02 mixed mode linux-x86 ) # Problematic frame: # C [libzayit.so+0x23e400] kvm_resetOperandStack+0x8 # # An error report file with more information is saved as: # /home/ixm/workspace/RemoteControlServer/hs_err_pid25778.log # # If you would like to submit a bug report, please visit: # http://java.sun.com/webapps/bugreport/crash.jsp # The crash happened outside the Java Virtual Machine in native code. # See problematic frame for where to report the bug. Without the System.loadLibrary(), I got following error: Exception in thread "Thread-1" java.lang.UnsatisfiedLinkError: javax.microedition.io.Connector.isNetworkMonitorActive()Z at javax.microedition.io.Connector.isNetworkMonitorActive(Native Method) at javax.microedition.io.Connector. (Connector.java:153) at BluetoothServer.startServer(BluetoothServer.java:20) at BluetoothServer.run(BluetoothServer.java:43) I have no clue what I should do or try. I did not find anything helpful on the internet. Can someone help me? Maybe the real question, is: "Is it possible to develop a Java application (for a computer) that use bluetooth?" Thank you very much! Best regards, ixM
