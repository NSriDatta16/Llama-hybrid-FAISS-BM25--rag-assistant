[site]: stackoverflow
[post_id]: 2777488
[parent_id]: 1853025
[tags]: 
Here's a modified version that handles counts correctly: function! ParagraphMove(delta, visual, count) normal m' normal | if a:visual normal gv endif if a:count == 0 let limit = 1 else let limit = a:count endif let i = 0 while i 0 " first whitespace-only line following a non-whitespace character let pos1 = search("\\S", "W") let pos2 = search("^\\s*$", "W") if pos1 == 0 || pos2 == 0 let pos = search("\\%$", "W") endif elseif a:delta } : call ParagraphMove( 1, 0, v:count) onoremap } : call ParagraphMove( 1, 0, v:count) " vnoremap } : call ParagraphMove( 1, 1) nnoremap { : call ParagraphMove(-1, 0, v:count) onoremap { : call ParagraphMove(-1, 0, v:count) " vnoremap { : call ParagraphMove(-1, 1)
