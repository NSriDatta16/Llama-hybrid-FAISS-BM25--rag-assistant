[site]: stackoverflow
[post_id]: 5556702
[parent_id]: 5553845
[tags]: 
Add the option --leak-check=full and valgrind will show a detailed summary of blocks by call-stack. You may need to add also --show-reachable=yes if the blocks are still reachable. From there, you can use some simply math to know the average size of each type of block. ==15210== 46,622 bytes in 1,626 blocks are still reachable in loss record 2 of 3 ==15210== at 0x4022724: malloc (in /usr/lib/valgrind/x86-linux/vgpreload_memcheck.so) ==15210== by 0x80562A1: (within /bin/ls) ==15210== by 0x80563D1: (within /bin/ls) ==15210== by 0x8053B84: (within /bin/ls) ==15210== by 0x804F686: (within /bin/ls) ==15210== by 0x804FAEB: (within /bin/ls) ==15210== by 0x406F02B: (below main) (in /lib/libc-2.6.1.so) ==15210== That above are blocks of average size: $ echo $((46622/1626)) 28
