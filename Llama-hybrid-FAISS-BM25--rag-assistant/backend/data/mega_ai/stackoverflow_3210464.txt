[site]: stackoverflow
[post_id]: 3210464
[parent_id]: 3210432
[tags]: 
You're writing the file every time you iterate through the loop. You need to move some stuff to be outside of your loop: Element root = doc.createElement("BSE"); System.out.println(doc.appendChild(root)); while(rs.next()) { Element child = doc.createElement("Market_Watch"); root.appendChild(child); Element child1 = doc.createElement("Stock_Code"); child.appendChild(child1); Text text1 = doc.createTextNode(rs.getString("Stock_Code")); child1.appendChild(text1); Element child2 = doc.createElement("Stock_Name"); child.appendChild(child2); Text text2 = doc.createTextNode(rs.getString("Stock_Name")); child2.appendChild(text2); Element child3 = doc.createElement("Open_Rate"); child.appendChild(child3); Text text3 = doc.createTextNode(rs.getString("Open_Rate")); child3.appendChild(text3); } TransformerFactory factory = TransformerFactory.newInstance(); Transformer transformer = factory.newTransformer(); transformer.setOutputProperty(OutputKeys.INDENT, "yes"); StringWriter sw = new StringWriter(); StreamResult result = new StreamResult(sw); DOMSource source = new DOMSource(doc); transformer.transform(source, result); String xmlString = sw.toString(); File file = new File("c:/newxm94.xml"); BufferedWriter bw = new BufferedWriter (new OutputStreamWriter(new FileOutputStream(file))); bw.write(xmlString); bw.flush(); bw.close();
