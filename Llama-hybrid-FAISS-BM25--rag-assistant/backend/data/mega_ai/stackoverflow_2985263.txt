[site]: stackoverflow
[post_id]: 2985263
[parent_id]: 2985224
[tags]: 
Open the file, and stat/fstat it. The struct field st_blocks should contain the information you want. If you're dealing with a directory, use opendir, readdir, closedir (posix)... Just pointers to start your work. EDIT Add unistd.h and sys/stat.h. Then remember that stat return 0 on success, so if (stat(dirp->d_name, &buf) == 0) and I've changed "." to the name of the "element", which is what you wanted, I suppose. Another change is to use st_blocks and not st_blksize, which says how big is each block (e.g. 1024 or 4096 or...), and -s returns the size in number of blocks, not the size of a block. The fragment of code is of course incomplete: if you pass an argument, dp is not initialized and even dp == NULL can fail, you shoud have nullified it before: DIR *dp = NULL; struct dirent *dirp = NULL;
