[site]: stackoverflow
[post_id]: 4581954
[parent_id]: 
[tags]: 
iPhone adding to NSMutableArray from another location but not retaining the data

I've received help from here before and I because of that help i got it working, partially. What I have done is created an NSMutableArray in a view controller implementation file called BookmarksViewController.m. The array is properly set up and populates a UITableView also contained in the same implementation file. My original problem was passing objects into that array from a separate view controller by performing an IBAction on a command button. When I pass the string (addObject) to the array I also push the BookmarksViewController onto the navigation stack. When the View Controller loads onto the navigation stack the string that was passed can clearly be seen. However, whenever I move too far back through the navigation stack by pressing the back button I return to where I just added the object and it is completely gone. Im also using a Tab Bar which has a button to the BookmarksViewController.m and if you press that the new string is nowhere to be seen. What I'm thinking is that for some reason the new string isn't being retained once its off the navigation pile, but I cant understand how it can seemingly add to the array from one perspective and not the other. Here is the concerning code: BookmarksViewController.h #import #import "DissertationAppDelegate.h" @interface BookmarksViewController : UITableViewController { NSMutableArray *bookmarksArray; DissertationAppDelegate *dissertationAppDelegate; } @property (nonatomic, retain) NSMutableArray *bookmarksArray; @property (nonatomic, retain) DissertationAppDelegate *dissertationAppDelegate; @end BookmarksViewController.m #import "BookmarksViewController.h" @implementation BookmarksViewController @synthesize bookmarksArray; #pragma mark - #pragma mark View lifecycle - (void)viewDidLoad { bookmarksArray = [[NSMutableArray alloc]init]; [super viewDidLoad]; } - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section { return [bookmarksArray count]; } - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath { static NSString *CellIdentifier = @"Cell"; UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier]; if (cell == nil) { cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease]; } // Configure the cell... cell.textLabel.text = [bookmarksArray objectAtIndex:indexPath.row]; return cell; } - (void)dealloc { [bookmarksArray release]; [super dealloc]; } Ch01GettingStarted.h #import #import "BookmarksViewController.h" @interface Ch01GettingStarted : UIViewController { IBOutlet UIScrollView *ScrollView; IBOutlet BookmarksViewController *bookmarksViewController; } -(IBAction) pushChap01Bookmark:(id)sender; @property (nonatomic, retain) BookmarksViewController *bookmarksViewController; @end Ch01GettingStarted.m #import "Ch01GettingStarted.h" #import "BookmarksViewController.h" #import "DissertationAppDelegate.h" @implementation Ch01GettingStarted @synthesize bookmarksViewController; -(IBAction) pushChap01Bookmark:(id)sender{ [self.navigationController pushViewController:bookmarksViewController animated:YES]; bookmarksViewController.title = @"Bookmarks"; [bookmarksViewController.bookmarksArray addObject:@"NewString"]; NSLog(@"ADD ENTRY"); [bookmarksViewController.tableView reloadData]; NSLog(@"RELOAD TABLE"); } - (void)dealloc { [bookmarksViewController release]; [ScrollView release]; [super dealloc]; } So what it seems to be doing is adding an object "NewString" to bookmarksArray in the BookmarksViewController. But if possible I want it to stay there all the time. Thank You. Carl
