[site]: stackoverflow
[post_id]: 1691394
[parent_id]: 
[tags]: 
Multiple UIView instance doesn't work

I have subclass UIView class in a Bounce class with Accelerometer. This Bounce class show an image and move it on the screen. When the iPhone device is moved, this image Bounce on the screen. When I create multiple instance, only last instance work properlty: // in the MainViewController.m Bounce *heart[100]; for(int i = 0; i This is the Bounce Class: // // Bounce.h // iMakeLove // // Created by Giovambattista Fazioli on 06/11/09. // Copyright 2009 Saidmade srl. All rights reserved. // #import @interface Bounce : UIView { CGPoint position; CGSize size; CGPoint velocity; NSTimer *objTimer; NSString *pngName; CGFloat bounce; CGFloat gravity; CGPoint acceleratedGravity; CGPoint lastTouch; CGPoint currentTouch; BOOL dragging; UIAccelerometer *accelerometer; } @property CGPoint position; @property CGSize size; @property CGPoint velocity; @property(nonatomic,retain)NSString *pngName; @property(nonatomic,retain)NSTimer *objTimer; @property CGFloat bounce; @property CGFloat gravity; @property CGPoint acceleratedGravity; @property CGPoint lastTouch; @property CGPoint currentTouch; @property BOOL dragging; - (id)initWithPNG:(NSString*)imageName position:(CGPoint)p size:(CGSize)s; - (void)update; - (void)onTimer; - (void)startPrevent; @end Implementation: // // Bounce.m // iMakeLove // // Created by Giovambattista Fazioli on 06/11/09. // Copyright 2009 Saidmade srl. All rights reserved. // #import "Bounce.h" @implementation Bounce @synthesize position, size; @synthesize objTimer; @synthesize velocity; @synthesize pngName; @synthesize bounce; @synthesize gravity, acceleratedGravity; @synthesize lastTouch, currentTouch; @synthesize dragging; - (id)initWithPNG:(NSString*)imageName position:(CGPoint)p size:(CGSize)s { if (self = [super initWithFrame:CGRectMake(p.x, p.y, s.width, s.height)]) { [self setPngName:imageName]; [self setPosition:p]; [self setSize:s]; [self setBackgroundColor:[UIColor clearColor]]; // Set default gravity and bounce [self setBounce:-0.9f]; [self setGravity:0.5f]; [self setAcceleratedGravity:CGPointMake(0.0, gravity)]; [self setDragging:NO]; UIImageView *prezzie = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, s.width, s.height)]; prezzie.image = [UIImage imageNamed:imageName]; [self addSubview:prezzie]; [prezzie release]; self.accelerometer = [UIAccelerometer sharedAccelerometer]; self.accelerometer.delegate = self; } return self; } - (void)startPrevent { if (objTimer == nil) { objTimer = [NSTimer scheduledTimerWithTimeInterval:1.0 / 30.0 target:self selector:@selector(onTimer) userInfo:nil repeats:YES]; } } - (void)update { [self setNeedsDisplay]; if(dragging) return; velocity.x += acceleratedGravity.x; velocity.y += acceleratedGravity.y; position.x += velocity.x; position.y += velocity.y; if(position.x + size.width >= 320.0) { position.x = 320.0 - size.width; velocity.x *= bounce; } else if(position.x = 480.0) { position.y = 480.0 - size.height; velocity.y *= bounce; } else if(position.y Can you help me?
