[site]: stackoverflow
[post_id]: 1766830
[parent_id]: 
[tags]: 
IE6 gzip bug and IIS7 URL Rewrite Module

We're running into the nasty sporadic IE6 bug where gzip compression enabled on js and css files makes things go bad (see Can i gzip-compress all my html content(pages) for example). Therefore, what seems to be the best way to deal with this would be to use the URL Rewrite Module in IIS7/7.5 to check for requests from http://sebduggan.com/posts/ie6-gzip-bug-solved-using-isapi-rewrite . I want to use the IIS7 Url Rewrite Module Only the IIS7 Url Rewrite Module 2.0 RC supports rewriting headers But the following results in a 500 error for the affected resources: What to put in the Server Variable for Accept-Encoding? I've verified that this is the problem line (as everything else has been isolated and operates as required). I've tried everything I can think of and I'm beginning to think that there just isn't support for setting the Accept-Encoding header. I've tried: Specifically, it results in a "HTTP/1.1 500 URL Rewrite Module Error."
