[site]: stackoverflow
[post_id]: 1852293
[parent_id]: 
[tags]: 
How to find missing data rows using SQL?

My problem : I got a MySQL database that stores a great amount of meteorological data in chronological order (New data are inserted every 10 min). Unfortunately there have been several blackouts and hence certain rows are missing. I recently managed to obtain certain backup-files from the weather station and now I want to use these to fill in the missing data. The DB ist structures like this (example): date* the data 2/10/2009 10:00 ... 2/10/2009 10:10 ... ( Missing data!) 2/10/2009 10:40 ... 2/10/2009 10:50 ... 2/10/2009 11:00 ... ... *= datatime -type, primary key My idea : Since backup and database are located on different computers and traffic is quite slow, I thought of creating a MySQL-query that, when run, will return a list of all missing dates in a specified range of time. I could then extract these dates from the backup and insert them to the database. The question : How to write such a query? I don't have the permission to create any auxilary table. Is it possible to formulate a "virtual table" of all required dates in the specified interval and then use it in a JOIN ? Or are there entirely different propositions for solving my problem? Edit : Yes, the timestamps are consistently in the form shown above (always 10 minutes), except that some are just missing. Okay, what about the temporary tables? Is there an elegant way of populating them with the time-range automatically? What if two scripts try to run simultaneously, does this cause problems with the table?
