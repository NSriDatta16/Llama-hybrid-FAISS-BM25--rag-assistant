[site]: stackoverflow
[post_id]: 2302236
[parent_id]: 
[tags]: 
Using window.parent in a script already

So i have this: /* ---------------------------- */ /* XMLHTTPRequest Enable */ /* ---------------------------- */ function createObject() { var request_type; var browser = navigator.appName; if(browser == "Microsoft Internet Explorer"){ request_type = new ActiveXObject("Microsoft.XMLHTTP"); }else{ request_type = new XMLHttpRequest(); } return request_type; } var http = createObject(); /* -------------------------- */ /* INSERT */ /* -------------------------- */ var nocache = 0; function insert() { document.getElementById('insert_response').innerHTML = "Please Wait. " var fID= encodeURI(document.getElementById('fID').value); var kommentar= encodeURI(document.getElementById('kommentar').value); nocache = Math.random(); // Pass variables like URL variable http.open('get', 'insert.php?fID='+fID+'&kommentar=' +kommentar+'&nocache = '+nocache); http.onreadystatechange = insertReply; http.send(null); } function insertReply() { if(http.readyState == 4){ var response = http.responseText; document.getElementById('insert_response').innerHTML = ''+response; } } This do i have in index.php. And there you can write a comment, and press submit. When you press submit, it runs this script:: passing variable to insert.php, and show response in insert_response. In insert.php it inserts the comment to the database. if (window.parent) { window.parent.someFunction('hello world'); } That is my insert.php^ and as you see i want to send message "hello world" to window.parent. But it wont work for some reason, its like it dont want to innerhtml this script out to the insert_response div. Now window.parent, what i thought, is my index.php where i have this: function someFunction(msg) { alert(msg); } Thanks! Insert.php, dispactched to the client side: session_begin(); $auth->acl($user->data); $user->setup(); $pusername = $user->data['username']; if($user->data['is_registered']){ ?> time() ) { echo "Vent venligst 2 minutter, før du skriver en ny kommentar i samme klip!"; }else{ $dato = date("Y-m-d H:i:s"); $pointsystem = mysql_query("SELECT gpk, gpk10 FROM member_pointsystem"); $row = mysql_fetch_array($pointsystem); $k10 = mysql_real_escape_string($row["gpk10"]); $earning = mysql_real_escape_string($row["gpk"]); if (mysql_num_rows($k10check) == 10) { mysql_query("UPDATE member_profile SET points = points+$k10") or die(mysql_error()); echo " Du har fået +".$k10." Points, for at have kommenteret 10 gange i video-sektionen! "; } mysql_query("UPDATE member_profile SET points = points+$earning") or die(mysql_error()); mysql_query("INSERT INTO member_filmcomments (fID, navn, kommentar, dato) VALUES ('$fID', '$pusername' ,'$kommentar', '$dato')") or die(mysql_error()); ?> if (window.parent) { window.parent.someFunction('hello world'); }
