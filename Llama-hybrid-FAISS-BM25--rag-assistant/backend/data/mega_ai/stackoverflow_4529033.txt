[site]: stackoverflow
[post_id]: 4529033
[parent_id]: 4528998
[tags]: 
Your output code is inherently bad since it relies on the order the results are returned in from the database. This may work now, but is an incredibly fragile way of doing things. You should refer to your fields (columns) by name, not by the order they're returned in. You're also needlessly complicating your output code with that inner loop and if…else construct. Try something along these lines: (substitute 'col1' etc by the actual columns names) … " /> … I'm not quite sure about your actual question, but approaching your problem like this may answer it already.
