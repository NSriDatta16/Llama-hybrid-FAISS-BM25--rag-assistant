[site]: stackoverflow
[post_id]: 592146
[parent_id]: 139076
[tags]: 
Regarding comment that "you must first build a DOM tree": No, you need not and should not do that. Instead, create a StreamSource (new StreamSource(new StringReader(str)), and feed that to the identity transformer mentioned. That'll use SAX parser, and result will be much faster. Building an intermediate tree is pure overhead for this case. Otherwise the top-ranked answer is good.
