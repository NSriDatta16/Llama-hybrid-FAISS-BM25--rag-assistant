[site]: stackoverflow
[post_id]: 4216914
[parent_id]: 
[tags]: 
Data Backup into Google Servers using Android Backup Service in Android

Im trying to do the backing up of my application's data into the Google Servers.. For doing this I've implemented a BackupAgent in my code and I included this in the Android Manifest file and "Meta-data" ( Got after registered my Application's package with the Android Backup Service ) When I run the application to do the backup this is not performing the backup.. Im using Nexus one device (connected to WIFI also) . Could any one please let me know why it is not calling my BackupAgent's onBackup() method? Am I missing some thing, to include in the Android manifest file or some where in the program? The below is my manifest file.. and the source file is public class SimpleDatabackup extends Activity { private SharedPreferences myPrefs ; // Shared Preferences BackupManager mBackupManager; /** Called when the activity is first created. */ @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main); myPrefs = this.getSharedPreferences("shared_prefs", MODE_WORLD_READABLE); SharedPreferences.Editor edit = myPrefs.edit(); edit.putString("firstname", "uday") ; edit.putString("lastname", "kiran") ; edit.commit() ; mBackupManager.dataChanged(); } } My Backup Agent is some thing like this: I have not implemented the functionality inside is onBackup() and onRestore(). Once if it is called i will implement what ever i want.. public class MyBackupAgent extends BackupAgent { @Override public void onCreate() { System.out.println("In MyBackuAgent's onCreate() method"); } @Override public void onBackup(ParcelFileDescriptor arg0, BackupDataOutput arg1, ParcelFileDescriptor arg2) throws IOException { System.out.println("In MyBackuAgent's onBackup()"); // TODO Auto-generated method stub } @Override public void onRestore(BackupDataInput data, int appVersionCode, ParcelFileDescriptor newState) throws IOException { } }
