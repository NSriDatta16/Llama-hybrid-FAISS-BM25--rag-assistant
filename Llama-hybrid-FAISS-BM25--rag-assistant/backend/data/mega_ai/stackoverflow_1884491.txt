[site]: stackoverflow
[post_id]: 1884491
[parent_id]: 
[tags]: 
Crashing while trying to move UITableView rows

I've got some rather complicated rules for moving rows around in a UITableView . There are an undefined number of sections and rows per section, and based on various rules, rows can be moved within or between sections by the user to specific other locations. All of the data updating and everything is working. But occasionally, after moving a row, the app will wig out and suddenly there will be an empty space where a row should be displayed. I'm using: - (NSIndexPath *)tableView:(UITableView *)tableView targetIndexPathForMoveFromRowAtIndexPath:(NSIndexPath *)sourceIndexPath to specify where the user is allowed to drag the rows based on where the cell is. 98% of the time it works. But in some cases, when the user is only allowed to drag between sections (can't reorder rows within the section) this error appears, then the app crashes after scrolling over the area with no row. The exception thrown is pretty useless: Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[NSCFArray objectAtIndex:]: index (6) beyond bounds (6) None of my code is on the stack. The last UITableView-specific method is -[UITableView(UITableViewInternal) _visibleCellForGlobalRow:] Has anybody seen this issue occur before? Any ideas?
