[site]: stackoverflow
[post_id]: 4528937
[parent_id]: 4528848
[tags]: 
The std::string implementation that uses copy on write needs to synchronize between threads that copying but mutexes are not needed for that. Non-blocking synchronization is sufficient on most platforms since most platforms can organize atomic access to reference count. It is simple to look at how your std::basic_string<> is implemented, it is not so large piece of code. Most implementations i have seen use short string optimization and not copy on write.
