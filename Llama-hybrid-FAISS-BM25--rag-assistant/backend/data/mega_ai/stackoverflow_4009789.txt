[site]: stackoverflow
[post_id]: 4009789
[parent_id]: 
[tags]: 
Wrong average after third input

Hey Guys, I am writing a performance monitor program that keeps track of different things, one of them being the Memory Available. I have been able to use this same code to find out the min,max, and average for the other Performance Counters, but this one keeps giving me the wrong Average. The first average is correct, then I get really low numbers. So lets say the first two times i got 1500MB and 1400MB free Average would be 1450MB, then third time is 1600MB, then my output for Average would be something in the 700-800MB. If you can please point me to the right direction, that would be appreciated! Thanks :) //Move to and get the latest value in the performance counter for Memory Available Bytes m.CurrentMemoryAvailableBytes = perfMemoryBytes.NextValue(); //Increase the count that will be used to divide the sum to get average iCount++; m.TotalMemoryAvailableBytes += m.CurrentMemoryAvailableBytes; //Check if the current value is greater then the max for memory available bytes if (m.CurrentMemoryAvailableBytes > m.MaxMemoryAvailableBytes) m.MaxMemoryAvailableBytes = m.CurrentMemoryAvailableBytes; //Initialize Min so its not stuck at 0 if (iCount == 1) { m.MinMemoryAvailableBytes = m.CurrentMemoryAvailableBytes; } else { //Check if the current value is less then the min for memory available bytes if (m.CurrentMemoryAvailableBytes Here is an output example: Sunday, 24/10/2010 02:49:10 PM Type Last Average Min Max Memory 1319MB 1319MB 1319MB 1319MB Sunday, 24/10/2010 02:49:40 PM Type Last Average Min Max Memory 1326MB 442MB 0MB 1326MB
