[site]: stackoverflow
[post_id]: 3835087
[parent_id]: 3834812
[tags]: 
Whenever you declare a variable in XSLT 1.0 without @select, but with some content template, the variable type will be of Result Tree Fragment. The variable holds the root node of this tree fragment. So, with this: You are declaring $source as the root of a RTF containing the copy of the nodes (self and descendants) in $currentPage node set. You can't use / step operator with RTF. That's why you are ussing node-set extension function. But , when you say: node-set($source)/ancestor-or-self::* This will be evaluate to an empty node set, because a root node hasn't ancestors an it's not an element. EDIT : If you have two node sets, and you want to declare a variable with the content of one of the two node sets depending on some condition, you could use: 0] |$currentPage[0 >= $source]" />
