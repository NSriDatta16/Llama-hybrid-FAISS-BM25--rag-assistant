In electronics, an LED circuit or LED driver is an electrical circuit used to power a light-emitting diode (LED). The circuit must provide sufficient current to light the LED at the required brightness, but must limit the current to prevent damaging the LED. The voltage drop across an LED is approximately constant over a wide range of operating current; therefore, a small increase in applied voltage greatly increases the current.  Very simple circuits are used for low-power indicator LEDs. More complex, current source circuits are required when driving high-power LEDs for illumination to achieve correct current regulation.

Basic circuit
The simplest circuit to drive an LED is through a series resistor. It is commonly used for indicators and digital displays in many consumer appliances. However, this circuit is not energy-efficient, because energy is dissipated in the resistor as heat.

An LED has a voltage drop specified at the intended operating current. Ohm's law and Kirchhoff's circuit laws are used to calculate the appropriate resistor value, by subtracting the LED voltage drop from the supply voltage and dividing by the desired operating current. With a sufficiently high supply voltage, multiple LEDs in series can be powered with one resistor.

If the supply voltage is close or equal to the LED forward voltage, then no reasonable value for the resistor can be calculated, so some other method of current limiting is used.

Power source considerations
The voltage versus current characteristics of an LED is similar to any diode. Current is approximately an exponential function of voltage according to the Shockley diode equation, and a small voltage change may result in a large change in current. If the voltage is below or equal to the threshold no current flows and the result is an unlit LED. If the voltage is too high, the current will exceed the maximum rating, overheating and potentially destroying the LED. 

LED drivers are designed to handle fluctuation load, providing enough current to achieve the required brightness while not allowing damaging levels of current to flow. Drivers may be constant current (CC) or constant voltage (CV).  In CC drivers, the voltage changes while the current stays the same.  CC drivers are used when the electrical load of the LED circuit is either unknown or fluctuates, for example, a lighting circuit where a variable number of LED lamp fixtures may be installed.

As an LED heats up, its voltage drop decreases (band gap decrease). This can encourage the current to increase.

MOSFET drivers

An active constant current source is commonly used for high power LEDs, stabilizing light output over a wide range of input voltages which might increase the useful life of batteries. Active constant current is typically regulated using a depletion-mode MOSFET (metal–oxide–semiconductor field-effect transistor), which is the simplest current limiter. Low drop-out (LDO) constant current regulators also allow the total LED voltage to be a higher fraction of the power supply voltage.

Switched-mode power supplies or buck converters are used in LED flashlights and household LED lamps. Power MOSFETs are typically used for switching LED drivers, which is an efficient solution to drive high-brightness LEDs. Power integrated circuit (IC) chips are widely used to drive the MOSFETs directly, without the need for additional circuitry.

Series resistor
Series resistors are a simple way to stabilize the LED current, but energy is wasted in the resistor.

Miniature indicator LEDs are normally driven from low voltage DC via a current-limiting resistor. Currents of 2 mA, 10 mA and 20 mA are common. Sub-mA indicators may be made by driving ultrabright LEDs at very low current. Efficiency tends to reduce at low currents, but indicators running on 100 μA are still practical.

In coin cell powered keyring-type LED lights, the resistance of the cell itself is usually the only current limiting device.

LEDs with built-in series resistors are available. These may save printed circuit board space, and are especially useful when building prototypes or populating a PCB in a way other than its designers intended. However, the resistor value is set at the time of manufacture, removing one of the key methods of setting the LED's intensity.

The value for the series resistance may be obtained from Ohm's law, considering that the supply voltage is offset by the voltage drop across the diode, which varies little over the range of useful currents:

 or  

where:

 is resistance in ohms, typically rounded up to the next higher resistor value.

 is the power supply voltage in volts, e.g. 9-volt battery.

 is the LED forward voltage drop across the LED in volts, shown as  on LED datasheets. Typically, the forward voltage of an LED is between 1.8 and 3.3 volts. It varies by the color of the LED. A red LED typically drops around 1.7 to 2.0 volts, but since both voltage drop and light frequency increase with band gap, a blue LED may drop around 3 to 3.3 volts.  has a list of colors with their voltage drop ranges.

 is the voltage drop across the switch in volts: (A) for no switch, use 0 volts, (B) for mechanical switch, use 0 volts, (C) for BJT transistor, use  collector-emitter saturation voltage from the transistor datasheet.

 is the desired current of the LED in amps.  The maximum continuous-on current is shown on LED datasheets, for example 20 mA (0.020A) is common for many small LEDs.  Many circuits operate LEDs at less than the specified maximum current to save power, or to reduce brightness, or to use a common resistor value.

Using the algebraic formula (above) and assuming  is 0 (to simplify examples), the resistance is calculated as follows:

Example1 with  of 9V,  = 1.8V,  = 5mA:

 = (9V - 1.8V) / 5mA = (9 - 1.8) / 0.005 = 1440 ohms, then round up to a 1.5K ohm resistor (per common resistor values).

Example2 with  of 5V,  = 1.8V,  = 1K ohm:

 = (5V - 1.8V) / 1K ohm = (5 - 1.8) / 1000 = 0.0032, which is 3.2mA

LED arrays

Strings of multiple LEDs are normally connected in series. In one configuration, the source voltage must be greater than or equal to the sum of the individual LED voltages; typically the LED voltages add up to around two-thirds of the supply voltage. A single current-limiting resistor may be used for each string.

Parallel operation is also possible but can be more problematic. Parallel LEDs must have closely matched forward voltages (Vf) in order to have similar branch currents and, therefore, similar light output. Variations in the manufacturing process can make it difficult to obtain satisfactory operation when connecting some types of LEDs in parallel.

LED display

LEDs are often arranged in ways such that each LED (or each string of LEDs) can be individually turned on and off.

Direct drive is the simplest-to-understand approach—it uses many independent single-LED (or single-string) circuits.
For example, a person could design a digital clock such that when the clock displays "12:34" on a seven-segment display,
the clock would turn on the appropriate segments directly and leave them on until something else needs to be displayed.

However, multiplexed display techniques are more often used than direct drive, because they have lower net hardware costs.
For example, most people who design digital clocks design them such that when the clock displays "12:34" on a seven-segment display, at any one instant the clock turns on the appropriate segments of one of the digits—all the other digits are dark. The clock scans through the digits rapidly enough that it gives the illusion that it is "constantly" displaying "12:34" for an entire minute. However, each "on" segment is actually being rapidly pulsed on and off many times a second.

An extension of this technique is Charlieplexing where the ability of some microcontrollers to tri-state their output pins means larger numbers of LEDs can be driven, without using latches. For N pins, it is possible to drive n2-n LEDs.

The use of integrated circuit technology to drive LEDs dates back to the late 1960s. In 1969, Hewlett-Packard introduced the HP Model 5082-7000 Numeric Indicator, an early LED display and the first LED device to use integrated circuit technology. Its development was led by Howard C. Borden and Gerald P. Pighini at HP Associates and HP Labs, who had engaged in research and development (R&D) on practical LEDs between 1962 and 1968. It was the first intelligent LED display, making it a revolution in digital display technology, replacing the Nixie tube and becoming the basis for later LED displays.

Polarity
Unlike incandescent light bulbs, which illuminate regardless of the electrical polarity, LEDs will only light with the correct electrical polarity. When the voltage across the p-n junction is in the correct direction, a significant current flows and the device is said to be forward-biased. If the voltage is of the wrong polarity, the device is said to be reverse biased, very little current flows, and no light is emitted. LEDs can be operated with alternating current, but they will only light on the half of the AC cycle where the LED is forward-biased.  This causes the LED to turn on and off at the frequency of the AC supply.

Most LEDs have relatively low reverse breakdown voltage ratings compared to standard diodes, so it may be easier than expected to enter this mode and cause damage to the LED due to overcurrent. However, the cut-in voltage is always less than the breakdown voltage, so no special reverse protections are necessary when driving an LED directly from an AC supply when properly current-limited for forward-biased operation.

The manufacturer will normally advise how to determine the polarity of the LED in the product datasheet.  However, there is no standardization of polarity markings for surface mount devices.

Pulsed operation
Many systems pulse LEDs on and off, by applying power periodically or intermittently. So long as the flicker rate is greater than the human flicker fusion threshold, and the LED is stationary relative to the eye, the LED will appear to be continuously lit. Varying the on/off ratio of the pulses is known as pulse-width modulation (PWM). In some cases, PWM-based drivers are more efficient than constant current or constant voltage drivers.

Most LED data sheets specify a maximum DC current that is safe for continuous operation. Often they specify some higher maximum pulsed current that is safe for brief pulses, as long as the LED controller keeps the pulse short enough and then turns off the power to the LED long enough for the LED to cool off.

LED as a light sensor

In addition to emission, an LED can be used as a photodiode in light detection. This capability may be used in a variety of applications including ambient light detection and bidirectional communications.

As a photodiode, an LED is sensitive to wavelengths equal to or shorter than the predominant wavelength it emits. For example, a green LED is sensitive to blue light and some green light, but not to yellow or red light.

This implementation of LEDs may be added to designs with only minor modifications in circuitry. An LED can be multiplexed in such a circuit, such that it can be used for both light emission and sensing at different times.

See also

 Joule thief - powering an LED using 1.5V battery and voltage booster circuit
 Planck–Einstein relation - relation between band gap and photon frequency
 Shockley diode equation - relation between forward voltage and current

References

Analog circuits
Light-emitting diodes
American inventions