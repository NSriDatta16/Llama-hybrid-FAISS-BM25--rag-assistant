The Time Independent Escape Sequence, or TIES, is a modem protocol standard invented to avoid a patent held by Hayes Microcomputer Products. TIES is an escape sequence that switches the modem from "data mode" to "command mode", allowing instructions to be sent to the modem to control it while still connected to the remote modem.

Smartmodem
When inventing the first Smartmodem, Dale Heatherington was faced with the problem of distinguishing commands from data given that there were only two serial pins available for use in the RS-232C port. He eventually settled on having two modes of operation, switching between them with an escape sequence, +++. Of course, files being sent over the modem could contain the string +++. For instance, this page includes the sequence several times. If the modem simply looked for the string to arrive in the data stream also carrying this text, it would switch to command mode at inappropriate times and stop data transfer with the remote modem. There needed to be some way to distinguish a deliberate command from random data.

Heatherington's solution to this problem was to introduce a delay on either side of the escape sequence, meaning that only a <pause> +++ <pause> would trigger the switch. A file containing the string being sent would not contain the pauses, so the modem would treat it as data to be sent, and stay in data mode. A user typing in the string deliberately would naturally pause after sending it to wait for the modem's response, inserting the pause without even being aware of it.

Bizcomp patent
Hayes had initially filed for a patent on the electronic design of the Smartmodem in June 1981. Unknown to them at the time, in March 1980 Michael Eaton had filed a patent which included an escape sequence similar to the one introduced by Heatherington. Eaton's company, Business Computers Corp., or Bizcomp for short, introduced modems using this system in 1980, before the Smartmodem.

When the patent, 4,387,440, was granted on 7 June 1983, Bizcomp immediately started sending out license demands to any company using a similar technique, including Hayes. They charged between $500,000 and $2 million up-front, and an additional 3% per-device, sliding down to zero if the company paid the entire $2 million.

In September 1983, Hayes purchased a license from BizComp for $2 million, which included both a circuit design as well as a description of an escape sequence to trigger it. Although the concept was generally similar to their own, the Bizcomp patent differed in two key ways; one was that the escape sequence was not pre-defined and was set by the user during the startup, and the other was that it lacked the delay that was key to the way Hetherington's design worked.

Among the many other companies approached by Bizcomp was U.S. Robotics (USR). In 1984, USR sued Bizcomp in an effort to break the patent on the basis of obviousness and prior-art, and violation of the Sherman Antitrust Act in their efforts to monopolize the modem market.

Hayes '302
Hayes then updated their original patent application and re-filed it that October, this time including a lengthy abstract that focused entirely on the guard time and escape sequence, something that was mentioned only in passing in the original filing. They received patent #4,549,302 in October 1985, Modem With Improved Escape Sequence With  Guard Time Mechanism, commonly known as the "Hayes '302" or the "Heatherington '302". It was this version that contained the description of the guard time.

In October 1986, Hayes began sending notices for license fees of 2% per modem to any vendor using the guard time concept. This included any modem already manufactured, and Hayes sent bills for millions of dollars to a number of major manufacturers. Lawsuits immediately started flying.

Within a month, USR petitioned the courts to add Hayes to their ongoing lawsuit against Bizcomp, claiming that the only licensee for the Bizcomp patent was Hayes, and that they only did so to "bankroll Bizcomp's efforts to enforce the patent". This, according to USR, made them co-conspirators in their monopolization efforts. USR's lawsuit was then joined by Prometheus Products, who Bizcomp had also previously sued, joining the cases.

This was quickly responded to by Hayes, suing both for infringement. Microcom, Multi-Tech, and Ven-Tel then sued Hayes, and Hayes, in turn, sued Everex and Omnitel for patent infringement. Microcom and US Robotics settled out of court and agreed to license the patent, with USR paying both the royalty and Hayes' legal costs. Everex, Ven-Tel, and Omnitel stuck it out in court where the Hayes patent was upheld.

TIES
For makers of low-cost modems, the license fee represented a significant cost. A number of such manufacturers banded together to come up with a new system that avoided the patent, introducing TIES in 1991.

TIES was written and freely given to the market in 1992 by Floyd Kling, then Engineering Manager of Ven-Tel Inc. Since the patent was based on the guard time concept, the new system had to be based solely on the string itself. Unfortunately, practically any string selected would eventually appear in a file, most obviously in a file describing the system.

TIES selected the string +++AT[some valid command]<cr> as its escape sequence, the shortest valid command being simply +++AT<cr>. This relied on any file describing such a system to be unlikely to place the command on a line followed immediately by a carriage return. Nevertheless, this was going to occur at some point, and more annoying, could happen at random in a binary file, like a .zip. This would occur, on average, about once per gigabyte, which was at that time an extremely large size – most hard drives of the era were about 40 MB. Hayes estimated that a user transmitting files for one hour a day would encounter about six files per year that randomly contained this sequence and drop the modem into command mode. For the average user, this would be mysterious.

Hayes responded by taking out print ads with the headline "Tick, Tick, Tick. Boom! You're Dead.", claiming that the TIES system would make modems unreliable. In 1992, Multi-Tech sued, claiming unfair trade practices. Sierra Semiconductor, which manufactured modem chipsets that supported TIES, had already won two preliminary injunctions in Minnesota and California. In May 1994, Hayes, admitting no wrongdoing but agreed to stop such advertising.

Hayes had also licensed the '302 patent to two chipset manufacturers, Rockwell and Silicon Integrated Systems (SiS). In 1991 Rockwell introduced a new low-cost chipset supporting the new v.32bis 14,400 bit/s standard, one of the first to do so. It was an immediate bestseller, and other chipset companies immediately scrambled to catch up, all of them licensing '302 as well. Some even offered versions with both TIES and Hayes escape sequences, which could be determined via AT commands that returned the internal configuration of the modem, typically ATI4.

TIES was seen mostly in "off-brand" 1200 and 2400 bit/s modems, which were never a large market compared to the high-speed models that followed, it quickly disappeared in the early 1990s when almost all manufacturers switched to Rockwell chipsets, or one of its many clones. The one major exception was Telebit, who used TIES in all of their models released after 1991, namely the T1600, T2500 and WorldBlazer. It is particularly interesting that Telebit would not license the '302 patent, considering that they sold into an upscale market and generally cost over $1000.

Apparently, for some time a number of Hayes employees would post to the Usenet with strings like "+++ATH" in the text. This would cause a TIES modem to hang up. It was also used on IRC to disconnect people using dial-up Internet access by sending ICMP ECHO REQUEST containing the string +++ATH0 and thus the modem hanging up when the victims' computer sent back the ICMP payload in the reply.

The Hayes patent #4,549,302 expired on October 11, 2003. TIES however is still used today in many modems especially ones by Conexant.

References

Modems
Hayes Microcomputer Products