m permutation can take. Reduction to a finite class Lemma: Basing on the previous lemma, max x ∈ X 2 m ( Pr [ σ ( x ) ∈ R ] ) ≤ 4 Π H ( 2 m ) e − ε 2 m / 8 {\displaystyle \max _{x\in X^{2m}}(\Pr[\sigma (x)\in R])\leq 4\Pi _{H}(2m)e^{-\varepsilon ^{2}m/8}} . Proof: Let us define x = ( x 1 , x 2 , … , x 2 m ) {\displaystyle x=(x_{1},x_{2},\ldots ,x_{2m})} and t = | H | x | {\displaystyle t=|H|_{x}|} which is at most Π H ( 2 m ) {\displaystyle \Pi _{H}(2m)} . This means there are functions h 1 , h 2 , … , h t ∈ H {\displaystyle h_{1},h_{2},\ldots ,h_{t}\in H} such that for any h ∈ H , ∃ i {\displaystyle h\in H,\exists i} between 1 {\displaystyle 1} and t {\displaystyle t} with h i ( x k ) = h ( x k ) {\displaystyle h_{i}(x_{k})=h(x_{k})} for 1 ≤ k ≤ 2 m . {\displaystyle 1\leq k\leq 2m.} We see that σ ( x ) ∈ R {\displaystyle \sigma (x)\in R} iff for some h {\displaystyle h} in H {\displaystyle H} satisfies, | 1 m | { 1 ≤ i ≤ m : h ( x σ i ) = 1 } | − 1 m | { m + 1 ≤ i ≤ 2 m : h ( x σ i ) = 1 } | | ≥ ε 2 {\displaystyle |{\frac {1}{m}}|\{1\leq i\leq m:h(x_{\sigma _{i}})=1\}|-{\frac {1}{m}}|\{m+1\leq i\leq 2m:h(x_{\sigma _{i}})=1\}||\geq {\frac {\varepsilon }{2}}} . Hence if we define w i j = 1 {\displaystyle w_{i}^{j}=1} if h j ( x i ) = 1 {\displaystyle h_{j}(x_{i})=1} and w i j = 0 {\displaystyle w_{i}^{j}=0} otherwise. For 1 ≤ i ≤ m {\displaystyle 1\leq i\leq m} and 1 ≤ j ≤ t {\displaystyle 1\leq j\leq t} , we have that σ ( x ) ∈ R {\displaystyle \sigma (x)\in R} iff for some j {\displaystyle j} in 1 , … , t {\displaystyle {1,\ldots ,t}} satisfies | 1 m ( ∑ i w σ ( i ) j − ∑ i w σ ( m + i ) j ) | ≥ ε 2 {\displaystyle |{\frac {1}{m}}\left(\sum _{i}w_{\sigma (i)}^{j}-\sum _{i}w_{\sigma (m+i)}^{j}\right)|\geq {\frac {\varepsilon }{2}}} . By union bound we get Pr [ σ ( x ) ∈ R ] ≤ t ⋅ max ( Pr [ | 1 m ( ∑ i w σ i j − ∑ i w σ m + i j ) | ≥ ε 2 ] ) {\displaystyle \Pr[\sigma (x)\in R]\leq t\cdot \max \left(\Pr[|{\frac {1}{m}}\left(\sum _{i}w_{\sigma _{i}}^{j}-\sum _{i}w_{\sigma _{m+i}}^{j}\right)|\geq {\frac {\varepsilon }{2}}]\right)} ≤ Π H ( 2 m ) ⋅ max ( Pr [ | 1 m ( ∑ i w σ i j − ∑ i w σ m + i j ) | ≥ ε 2 ] ) . {\displaystyle \leq \Pi _{H}(2m)\cdot \max \left(\Pr \left[\left|{\frac {1}{m}}\left(\sum _{i}w_{\sigma _{i}}^{j}-\sum _{i}w_{\sigma _{m+i}}^{j}\right)\right|\geq {\frac {\varepsilon }{2}}\right]\right).} Since, the distribution over the permutations σ {\displaystyle \sigma } is uniform for each i {\displaystyle i} , so w σ i j − w σ m + i j {\displaystyle w_{\sigma _{i}}^{j}-w_{\sigma _{m+i}}^{j}} equals ± | w i j − w m + i j | {\displaystyle \pm |w_{i}^{j}-w_{m+i}^{j}|} , with equal probability. Thus, Pr [ | 1 m ( ∑ i ( w σ i j − w σ m + i j ) ) | ≥ ε 2 ] = Pr [ | 1 m ( ∑ i | w i j − w m + i j | β i ) | ≥ ε 2 ] , {\displaystyle \Pr \left[\left|{\frac {1}{m}}\left(\sum _{i}\left(w_{\sigma _{i}}^{j}-w_{\sigma _{m+i}}^{j}\right)\right)\right|\geq {\frac {\varepsilon }{2}}\right]=\Pr \left[\left|{\frac {1}{m}}\left(\sum _{i}|w_{i}^{j}-w_{m+i}^{j}|\beta _{i}\right)\right|\geq {\frac {\varepsilon }{2}}\right],} where the probability on the right is over β i {\displaystyle \beta _{i}} and both the possibilities are equally likely. By Hoeffding's inequality, this is at most 2 e − m ε 2 / 8 {\displaystyle 2e^{-m\varepsilon ^{2}/8}} . Finally, combining all the three parts of the proof we get the Uniform Convergence Theorem. == References ==